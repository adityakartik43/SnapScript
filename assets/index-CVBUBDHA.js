var x6=Object.defineProperty;var pS=c=>{throw TypeError(c)};var E6=(c,t,e)=>t in c?x6(c,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[t]=e;var Wt=(c,t,e)=>E6(c,typeof t!="symbol"?t+"":t,e),$b=(c,t,e)=>t.has(c)||pS("Cannot "+e);var d=(c,t,e)=>($b(c,t,"read from private field"),e?e.call(c):t.get(c)),I=(c,t,e)=>t.has(c)?pS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(c):t.set(c,e),R=(c,t,e,i)=>($b(c,t,"write to private field"),i?i.call(c,e):t.set(c,e),e),F=(c,t,e)=>($b(c,t,"access private method"),e);var pa=(c,t,e,i)=>({set _(a){R(c,t,a,e)},get _(){return d(c,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=e(a);fetch(a.href,r)}})();var x8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function N6(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var Qb={exports:{}},a0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function L6(){if(gS)return a0;gS=1;var c=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,r){var o=null;if(r!==void 0&&(o=""+r),a.key!==void 0&&(o=""+a.key),"key"in a){r={};for(var u in a)u!=="key"&&(r[u]=a[u])}else r=a;return a=r.ref,{$$typeof:c,type:i,key:o,ref:a!==void 0?a:null,props:r}}return a0.Fragment=t,a0.jsx=e,a0.jsxs=e,a0}var mS;function C6(){return mS||(mS=1,Qb.exports=L6()),Qb.exports}var Ae=C6(),Zb={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vS;function T6(){if(vS)return Ge;vS=1;var c=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),A=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,E={};function T(V,ft,O){this.props=V,this.context=ft,this.refs=E,this.updater=O||y}T.prototype.isReactComponent={},T.prototype.setState=function(V,ft){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ft,"setState")},T.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function L(){}L.prototype=T.prototype;function M(V,ft,O){this.props=V,this.context=ft,this.refs=E,this.updater=O||y}var j=M.prototype=new L;j.constructor=M,N(j,T.prototype),j.isPureReactComponent=!0;var $=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},at=Object.prototype.hasOwnProperty;function tt(V,ft,O,H,Q,rt){return O=rt.ref,{$$typeof:c,type:V,key:ft,ref:O!==void 0?O:null,props:rt}}function Z(V,ft){return tt(V.type,ft,void 0,void 0,void 0,V.props)}function ut(V){return typeof V=="object"&&V!==null&&V.$$typeof===c}function At(V){var ft={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(O){return ft[O]})}var z=/\/+/g;function X(V,ft){return typeof V=="object"&&V!==null&&V.key!=null?At(""+V.key):ft.toString(36)}function ot(){}function nt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ot,ot):(V.status="pending",V.then(function(ft){V.status==="pending"&&(V.status="fulfilled",V.value=ft)},function(ft){V.status==="pending"&&(V.status="rejected",V.reason=ft)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Et(V,ft,O,H,Q){var rt=typeof V;(rt==="undefined"||rt==="boolean")&&(V=null);var st=!1;if(V===null)st=!0;else switch(rt){case"bigint":case"string":case"number":st=!0;break;case"object":switch(V.$$typeof){case c:case t:st=!0;break;case m:return st=V._init,Et(st(V._payload),ft,O,H,Q)}}if(st)return Q=Q(V),st=H===""?"."+X(V,0):H,$(Q)?(O="",st!=null&&(O=st.replace(z,"$&/")+"/"),Et(Q,ft,O,"",function(Ct){return Ct})):Q!=null&&(ut(Q)&&(Q=Z(Q,O+(Q.key==null||V&&V.key===Q.key?"":(""+Q.key).replace(z,"$&/")+"/")+st)),ft.push(Q)),1;st=0;var mt=H===""?".":H+":";if($(V))for(var St=0;St<V.length;St++)H=V[St],rt=mt+X(H,St),st+=Et(H,ft,O,rt,Q);else if(St=w(V),typeof St=="function")for(V=St.call(V),St=0;!(H=V.next()).done;)H=H.value,rt=mt+X(H,St++),st+=Et(H,ft,O,rt,Q);else if(rt==="object"){if(typeof V.then=="function")return Et(nt(V),ft,O,H,Q);throw ft=String(V),Error("Objects are not valid as a React child (found: "+(ft==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ft)+"). If you meant to render a collection of children, use an array instead.")}return st}function U(V,ft,O){if(V==null)return V;var H=[],Q=0;return Et(V,H,"","",function(rt){return ft.call(O,rt,Q++)}),H}function J(V){if(V._status===-1){var ft=V._result;ft=ft(),ft.then(function(O){(V._status===0||V._status===-1)&&(V._status=1,V._result=O)},function(O){(V._status===0||V._status===-1)&&(V._status=2,V._result=O)}),V._status===-1&&(V._status=0,V._result=ft)}if(V._status===1)return V._result.default;throw V._result}var ht=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ft=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ft))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function yt(){}return Ge.Children={map:U,forEach:function(V,ft,O){U(V,function(){ft.apply(this,arguments)},O)},count:function(V){var ft=0;return U(V,function(){ft++}),ft},toArray:function(V){return U(V,function(ft){return ft})||[]},only:function(V){if(!ut(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ge.Component=T,Ge.Fragment=e,Ge.Profiler=a,Ge.PureComponent=M,Ge.StrictMode=i,Ge.Suspense=h,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(V){return K.H.useMemoCache(V)}},Ge.cache=function(V){return function(){return V.apply(null,arguments)}},Ge.cloneElement=function(V,ft,O){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var H=N({},V.props),Q=V.key,rt=void 0;if(ft!=null)for(st in ft.ref!==void 0&&(rt=void 0),ft.key!==void 0&&(Q=""+ft.key),ft)!at.call(ft,st)||st==="key"||st==="__self"||st==="__source"||st==="ref"&&ft.ref===void 0||(H[st]=ft[st]);var st=arguments.length-2;if(st===1)H.children=O;else if(1<st){for(var mt=Array(st),St=0;St<st;St++)mt[St]=arguments[St+2];H.children=mt}return tt(V.type,Q,void 0,void 0,rt,H)},Ge.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:r,_context:V},V},Ge.createElement=function(V,ft,O){var H,Q={},rt=null;if(ft!=null)for(H in ft.key!==void 0&&(rt=""+ft.key),ft)at.call(ft,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(Q[H]=ft[H]);var st=arguments.length-2;if(st===1)Q.children=O;else if(1<st){for(var mt=Array(st),St=0;St<st;St++)mt[St]=arguments[St+2];Q.children=mt}if(V&&V.defaultProps)for(H in st=V.defaultProps,st)Q[H]===void 0&&(Q[H]=st[H]);return tt(V,rt,void 0,void 0,null,Q)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(V){return{$$typeof:u,render:V}},Ge.isValidElement=ut,Ge.lazy=function(V){return{$$typeof:m,_payload:{_status:-1,_result:V},_init:J}},Ge.memo=function(V,ft){return{$$typeof:p,type:V,compare:ft===void 0?null:ft}},Ge.startTransition=function(V){var ft=K.T,O={};K.T=O;try{var H=V(),Q=K.S;Q!==null&&Q(O,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(yt,ht)}catch(rt){ht(rt)}finally{K.T=ft}},Ge.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Ge.use=function(V){return K.H.use(V)},Ge.useActionState=function(V,ft,O){return K.H.useActionState(V,ft,O)},Ge.useCallback=function(V,ft){return K.H.useCallback(V,ft)},Ge.useContext=function(V){return K.H.useContext(V)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(V,ft){return K.H.useDeferredValue(V,ft)},Ge.useEffect=function(V,ft,O){var H=K.H;if(typeof O=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(V,ft)},Ge.useId=function(){return K.H.useId()},Ge.useImperativeHandle=function(V,ft,O){return K.H.useImperativeHandle(V,ft,O)},Ge.useInsertionEffect=function(V,ft){return K.H.useInsertionEffect(V,ft)},Ge.useLayoutEffect=function(V,ft){return K.H.useLayoutEffect(V,ft)},Ge.useMemo=function(V,ft){return K.H.useMemo(V,ft)},Ge.useOptimistic=function(V,ft){return K.H.useOptimistic(V,ft)},Ge.useReducer=function(V,ft,O){return K.H.useReducer(V,ft,O)},Ge.useRef=function(V){return K.H.useRef(V)},Ge.useState=function(V){return K.H.useState(V)},Ge.useSyncExternalStore=function(V,ft,O){return K.H.useSyncExternalStore(V,ft,O)},Ge.useTransition=function(){return K.H.useTransition()},Ge.version="19.1.0",Ge}var bS;function $A(){return bS||(bS=1,Zb.exports=T6()),Zb.exports}var Dn=$A();const Gd=N6(Dn);var Jb={exports:{}},r0={},ty={exports:{}},ey={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function R6(){return yS||(yS=1,function(c){function t(U,J){var ht=U.length;U.push(J);t:for(;0<ht;){var yt=ht-1>>>1,V=U[yt];if(0<a(V,J))U[yt]=J,U[ht]=V,ht=yt;else break t}}function e(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var J=U[0],ht=U.pop();if(ht!==J){U[0]=ht;t:for(var yt=0,V=U.length,ft=V>>>1;yt<ft;){var O=2*(yt+1)-1,H=U[O],Q=O+1,rt=U[Q];if(0>a(H,ht))Q<V&&0>a(rt,H)?(U[yt]=rt,U[Q]=ht,yt=Q):(U[yt]=H,U[O]=ht,yt=O);else if(Q<V&&0>a(rt,ht))U[yt]=rt,U[Q]=ht,yt=Q;else break t}}return J}function a(U,J){var ht=U.sortIndex-J.sortIndex;return ht!==0?ht:U.id-J.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;c.unstable_now=function(){return r.now()}}else{var o=Date,u=o.now();c.unstable_now=function(){return o.now()-u}}var h=[],p=[],m=1,A=null,w=3,y=!1,N=!1,E=!1,T=!1,L=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function $(U){for(var J=e(p);J!==null;){if(J.callback===null)i(p);else if(J.startTime<=U)i(p),J.sortIndex=J.expirationTime,t(h,J);else break;J=e(p)}}function K(U){if(E=!1,$(U),!N)if(e(h)!==null)N=!0,at||(at=!0,X());else{var J=e(p);J!==null&&Et(K,J.startTime-U)}}var at=!1,tt=-1,Z=5,ut=-1;function At(){return T?!0:!(c.unstable_now()-ut<Z)}function z(){if(T=!1,at){var U=c.unstable_now();ut=U;var J=!0;try{t:{N=!1,E&&(E=!1,M(tt),tt=-1),y=!0;var ht=w;try{e:{for($(U),A=e(h);A!==null&&!(A.expirationTime>U&&At());){var yt=A.callback;if(typeof yt=="function"){A.callback=null,w=A.priorityLevel;var V=yt(A.expirationTime<=U);if(U=c.unstable_now(),typeof V=="function"){A.callback=V,$(U),J=!0;break e}A===e(h)&&i(h),$(U)}else i(h);A=e(h)}if(A!==null)J=!0;else{var ft=e(p);ft!==null&&Et(K,ft.startTime-U),J=!1}}break t}finally{A=null,w=ht,y=!1}J=void 0}}finally{J?X():at=!1}}}var X;if(typeof j=="function")X=function(){j(z)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,nt=ot.port2;ot.port1.onmessage=z,X=function(){nt.postMessage(null)}}else X=function(){L(z,0)};function Et(U,J){tt=L(function(){U(c.unstable_now())},J)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(U){U.callback=null},c.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<U?Math.floor(1e3/U):5},c.unstable_getCurrentPriorityLevel=function(){return w},c.unstable_next=function(U){switch(w){case 1:case 2:case 3:var J=3;break;default:J=w}var ht=w;w=J;try{return U()}finally{w=ht}},c.unstable_requestPaint=function(){T=!0},c.unstable_runWithPriority=function(U,J){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ht=w;w=U;try{return J()}finally{w=ht}},c.unstable_scheduleCallback=function(U,J,ht){var yt=c.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?yt+ht:yt):ht=yt,U){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ht+V,U={id:m++,callback:J,priorityLevel:U,startTime:ht,expirationTime:V,sortIndex:-1},ht>yt?(U.sortIndex=ht,t(p,U),e(h)===null&&U===e(p)&&(E?(M(tt),tt=-1):E=!0,Et(K,ht-yt))):(U.sortIndex=V,t(h,U),N||y||(N=!0,at||(at=!0,X()))),U},c.unstable_shouldYield=At,c.unstable_wrapCallback=function(U){var J=w;return function(){var ht=w;w=J;try{return U.apply(this,arguments)}finally{w=ht}}}}(ey)),ey}var AS;function M6(){return AS||(AS=1,ty.exports=R6()),ty.exports}var iy={exports:{}},Gs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS;function O6(){if(wS)return Gs;wS=1;var c=$A();function t(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function r(h,p,m){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:A==null?null:""+A,children:h,containerInfo:p,implementation:m}}var o=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Gs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Gs.createPortal=function(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return r(h,p,null,m)},Gs.flushSync=function(h){var p=o.T,m=i.p;try{if(o.T=null,i.p=2,h)return h()}finally{o.T=p,i.p=m,i.d.f()}},Gs.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},Gs.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Gs.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var m=p.as,A=u(m,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,y=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:y}):m==="script"&&i.d.X(h,{crossOrigin:A,integrity:w,fetchPriority:y,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Gs.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=u(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},Gs.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,A=u(m,p.crossOrigin);i.d.L(h,m,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Gs.preloadModule=function(h,p){if(typeof h=="string")if(p){var m=u(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},Gs.requestFormReset=function(h){i.d.r(h)},Gs.unstable_batchedUpdates=function(h,p){return h(p)},Gs.useFormState=function(h,p,m){return o.H.useFormState(h,p,m)},Gs.useFormStatus=function(){return o.H.useHostTransitionStatus()},Gs.version="19.1.0",Gs}var SS;function D6(){if(SS)return iy.exports;SS=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(t){console.error(t)}}return c(),iy.exports=O6(),iy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function k6(){if(_S)return r0;_S=1;var c=M6(),t=$A(),e=D6();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function r(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function o(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function u(n){if(r(n)!==n)throw Error(i(188))}function h(n){var s=n.alternate;if(!s){if(s=r(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,f=s;;){var v=l.return;if(v===null)break;var S=v.alternate;if(S===null){if(f=v.return,f!==null){l=f;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===l)return u(v),n;if(S===f)return u(v),s;S=S.sibling}throw Error(i(188))}if(l.return!==f.return)l=v,f=S;else{for(var D=!1,Y=v.child;Y;){if(Y===l){D=!0,l=v,f=S;break}if(Y===f){D=!0,f=v,l=S;break}Y=Y.sibling}if(!D){for(Y=S.child;Y;){if(Y===l){D=!0,l=S,f=v;break}if(Y===f){D=!0,f=S,l=v;break}Y=Y.sibling}if(!D)throw Error(i(189))}}if(l.alternate!==f)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function p(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=p(n),s!==null)return s;n=n.sibling}return null}var m=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),ut=Symbol.for("react.activity"),At=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function X(n){return n===null||typeof n!="object"?null:(n=z&&n[z]||n["@@iterator"],typeof n=="function"?n:null)}var ot=Symbol.for("react.client.reference");function nt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ot?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case K:return"Suspense";case at:return"SuspenseList";case ut:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case y:return"Portal";case j:return(n.displayName||"Context")+".Provider";case M:return(n._context.displayName||"Context")+".Consumer";case $:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case tt:return s=n.displayName||null,s!==null?s:nt(n.type)||"Memo";case Z:s=n._payload,n=n._init;try{return nt(n(s))}catch{}}return null}var Et=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},yt=[],V=-1;function ft(n){return{current:n}}function O(n){0>V||(n.current=yt[V],yt[V]=null,V--)}function H(n,s){V++,yt[V]=n.current,n.current=s}var Q=ft(null),rt=ft(null),st=ft(null),mt=ft(null);function St(n,s){switch(H(st,s),H(rt,n),H(Q,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?U3(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=U3(s),n=H3(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}O(Q),H(Q,n)}function Ct(){O(Q),O(rt),O(st)}function Vt(n){n.memoizedState!==null&&H(mt,n);var s=Q.current,l=H3(s,n.type);s!==l&&(H(rt,n),H(Q,l))}function Ht(n){rt.current===n&&(O(Q),O(rt)),mt.current===n&&(O(mt),t0._currentValue=ht)}var Xt=Object.prototype.hasOwnProperty,Kt=c.unstable_scheduleCallback,be=c.unstable_cancelCallback,Pt=c.unstable_shouldYield,lt=c.unstable_requestPaint,we=c.unstable_now,ue=c.unstable_getCurrentPriorityLevel,Yt=c.unstable_ImmediatePriority,Qt=c.unstable_UserBlockingPriority,Jt=c.unstable_NormalPriority,te=c.unstable_LowPriority,me=c.unstable_IdlePriority,ke=c.log,qe=c.unstable_setDisableYieldValue,Be=null,Me=null;function Ze(n){if(typeof ke=="function"&&qe(n),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Be,n)}catch{}}var he=Math.clz32?Math.clz32:ns,Xe=Math.log,ne=Math.LN2;function ns(n){return n>>>=0,n===0?32:31-(Xe(n)/ne|0)|0}var Je=256,ks=4194304;function si(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Si(n,s,l){var f=n.pendingLanes;if(f===0)return 0;var v=0,S=n.suspendedLanes,D=n.pingedLanes;n=n.warmLanes;var Y=f&134217727;return Y!==0?(f=Y&~S,f!==0?v=si(f):(D&=Y,D!==0?v=si(D):l||(l=Y&~n,l!==0&&(v=si(l))))):(Y=f&~S,Y!==0?v=si(Y):D!==0?v=si(D):l||(l=f&~n,l!==0&&(v=si(l)))),v===0?0:s!==0&&s!==v&&(s&S)===0&&(S=v&-v,l=s&-s,S>=l||S===32&&(l&4194048)!==0)?s:v}function Ps(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function pi(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uo(){var n=Je;return Je<<=1,(Je&4194048)===0&&(Je=256),n}function Vi(){var n=ks;return ks<<=1,(ks&62914560)===0&&(ks=4194304),n}function na(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function sa(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Qi(n,s,l,f,v,S){var D=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var Y=n.entanglements,ct=n.expirationTimes,Rt=n.hiddenUpdates;for(l=D&~l;0<l;){var Ft=31-he(l),Ut=1<<Ft;Y[Ft]=0,ct[Ft]=-1;var Mt=Rt[Ft];if(Mt!==null)for(Rt[Ft]=null,Ft=0;Ft<Mt.length;Ft++){var Ot=Mt[Ft];Ot!==null&&(Ot.lane&=-536870913)}l&=~Ut}f!==0&&Oe(n,f,0),S!==0&&v===0&&n.tag!==0&&(n.suspendedLanes|=S&~(D&~s))}function Oe(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var f=31-he(s);n.entangledLanes|=s,n.entanglements[f]=n.entanglements[f]|1073741824|l&4194090}function ui(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var f=31-he(l),v=1<<f;v&s|n[f]&s&&(n[f]|=s),l&=~v}}function Wr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function _n(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function za(){var n=J.p;return n!==0?n:(n=window.event,n===void 0?32:lS(n.type))}function wr(n,s){var l=J.p;try{return J.p=n,s()}finally{J.p=l}}var pe=Math.random().toString(36).slice(2),Ti="__reactFiber$"+pe,Yi="__reactProps$"+pe,xn="__reactContainer$"+pe,on="__reactEvents$"+pe,mn="__reactListeners$"+pe,aa="__reactHandles$"+pe,Xl="__reactResources$"+pe,ra="__reactMarker$"+pe;function oa(n){delete n[Ti],delete n[Yi],delete n[on],delete n[mn],delete n[aa]}function ss(n){var s=n[Ti];if(s)return s;for(var l=n.parentNode;l;){if(s=l[xn]||l[Ti]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=X3(n);n!==null;){if(l=n[Ti])return l;n=X3(n)}return s}n=l,l=n.parentNode}return null}function as(n){if(n=n[Ti]||n[xn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Is(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Kn(n){var s=n[Xl];return s||(s=n[Xl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function _i(n){n[ra]=!0}var Ho=new Set,Wl={};function _a(n,s){qa(n,s),qa(n+"Capture",s)}function qa(n,s){for(Wl[n]=s,n=0;n<s.length;n++)Ho.add(s[n])}var cu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kh={},Jd={};function g1(n){return Xt.call(Jd,n)?!0:Xt.call(Kh,n)?!1:cu.test(n)?Jd[n]=!0:(Kh[n]=!0,!1)}function Kr(n,s,l){if(g1(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function Kl(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function Ua(n,s,l,f){if(f===null)n.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+f)}}var $l,tp;function $r(n){if($l===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);$l=s&&s[1]||"",tp=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$l+n+tp}var $h=!1;function Go(n,s){if(!n||$h)return"";$h=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var Ut=function(){throw Error()};if(Object.defineProperty(Ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ut,[])}catch(Ot){var Mt=Ot}Reflect.construct(n,[],Ut)}else{try{Ut.call()}catch(Ot){Mt=Ot}n.call(Ut.prototype)}}else{try{throw Error()}catch(Ot){Mt=Ot}(Ut=n())&&typeof Ut.catch=="function"&&Ut.catch(function(){})}}catch(Ot){if(Ot&&Mt&&typeof Ot.stack=="string")return[Ot.stack,Mt.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=f.DetermineComponentFrameRoot(),D=S[0],Y=S[1];if(D&&Y){var ct=D.split(`
`),Rt=Y.split(`
`);for(v=f=0;f<ct.length&&!ct[f].includes("DetermineComponentFrameRoot");)f++;for(;v<Rt.length&&!Rt[v].includes("DetermineComponentFrameRoot");)v++;if(f===ct.length||v===Rt.length)for(f=ct.length-1,v=Rt.length-1;1<=f&&0<=v&&ct[f]!==Rt[v];)v--;for(;1<=f&&0<=v;f--,v--)if(ct[f]!==Rt[v]){if(f!==1||v!==1)do if(f--,v--,0>v||ct[f]!==Rt[v]){var Ft=`
`+ct[f].replace(" at new "," at ");return n.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",n.displayName)),Ft}while(1<=f&&0<=v);break}}}finally{$h=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?$r(l):""}function m1(n){switch(n.tag){case 26:case 27:case 5:return $r(n.type);case 16:return $r("Lazy");case 13:return $r("Suspense");case 19:return $r("SuspenseList");case 0:case 15:return Go(n.type,!1);case 11:return Go(n.type.render,!1);case 1:return Go(n.type,!0);case 31:return $r("Activity");default:return""}}function Zi(n){try{var s="";do s+=m1(n),n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function bs(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qh(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ep(n){var s=Qh(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),f=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,S=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return v.call(this)},set:function(D){f=""+D,S.call(this,D)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(D){f=""+D},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Vo(n){n._valueTracker||(n._valueTracker=ep(n))}function ip(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return n&&(f=Qh(n)?n.checked?"true":"false":n.value),n=f,n!==l?(s.setValue(n),!0):!1}function Fs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var uu=/[\n"\\]/g;function Fi(n){return n.replace(uu,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ql(n,s,l,f,v,S,D,Y){n.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?n.type=D:n.removeAttribute("type"),s!=null?D==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+bs(s)):n.value!==""+bs(s)&&(n.value=""+bs(s)):D!=="submit"&&D!=="reset"||n.removeAttribute("value"),s!=null?Jh(n,D,bs(s)):l!=null?Jh(n,D,bs(l)):f!=null&&n.removeAttribute("value"),v==null&&S!=null&&(n.defaultChecked=!!S),v!=null&&(n.checked=v&&typeof v!="function"&&typeof v!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?n.name=""+bs(Y):n.removeAttribute("name")}function Zh(n,s,l,f,v,S,D,Y){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.type=S),s!=null||l!=null){if(!(S!=="submit"&&S!=="reset"||s!=null))return;l=l!=null?""+bs(l):"",s=s!=null?""+bs(s):l,Y||s===n.value||(n.value=s),n.defaultValue=s}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,n.checked=Y?n.checked:!!f,n.defaultChecked=!!f,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(n.name=D)}function Jh(n,s,l){s==="number"&&Fs(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Qr(n,s,l,f){if(n=n.options,s){s={};for(var v=0;v<l.length;v++)s["$"+l[v]]=!0;for(l=0;l<n.length;l++)v=s.hasOwnProperty("$"+n[l].value),n[l].selected!==v&&(n[l].selected=v),v&&f&&(n[l].defaultSelected=!0)}else{for(l=""+bs(l),s=null,v=0;v<n.length;v++){if(n[v].value===l){n[v].selected=!0,f&&(n[v].defaultSelected=!0);return}s!==null||n[v].disabled||(s=n[v])}s!==null&&(s.selected=!0)}}function np(n,s,l){if(s!=null&&(s=""+bs(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+bs(l):""}function tf(n,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(i(92));if(Et(f)){if(1<f.length)throw Error(i(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=bs(s),n.defaultValue=l,f=n.textContent,f===l&&f!==""&&f!==null&&(n.value=f)}function Yo(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var ef=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sp(n,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":f?n.setProperty(s,l):typeof l!="number"||l===0||ef.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function ap(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?n.setProperty(f,""):f==="float"?n.cssFloat="":n[f]="");for(var v in s)f=s[v],s.hasOwnProperty(v)&&l[v]!==f&&sp(n,v,f)}else for(var S in s)s.hasOwnProperty(S)&&sp(n,S,s[S])}function nf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jr(n){return hu.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var fu=null;function Bn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Xo=null,to=null;function Te(n){var s=as(n);if(s&&(n=s.stateNode)){var l=n[Yi]||null;t:switch(n=s.stateNode,s.type){case"input":if(Ql(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Fi(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==n&&f.form===n.form){var v=f[Yi]||null;if(!v)throw Error(i(90));Ql(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===n.form&&ip(f)}break t;case"textarea":np(n,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&Qr(n,!!l.multiple,s,!1)}}}var sf=!1;function rp(n,s,l){if(sf)return n(s,l);sf=!0;try{var f=n(s);return f}finally{if(sf=!1,(Xo!==null||to!==null)&&(G2(),Xo&&(s=Xo,n=to,to=Xo=null,Te(s),n)))for(s=0;s<n.length;s++)Te(n[s])}}function Bs(n,s){var l=n.stateNode;if(l===null)return null;var f=l[Yi]||null;if(f===null)return null;l=f[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break t;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),du=!1;if(xa)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){du=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{du=!1}var Ea=null,af=null,pu=null;function op(){if(pu)return pu;var n,s=af,l=s.length,f,v="value"in Ea?Ea.value:Ea.textContent,S=v.length;for(n=0;n<l&&s[n]===v[n];n++);var D=l-n;for(f=1;f<=D&&s[l-f]===v[S-f];f++);return pu=v.slice(n,1<f?1-f:void 0)}function Wo(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function _r(){return!0}function eo(){return!1}function rs(n){function s(l,f,v,S,D){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var Y in n)n.hasOwnProperty(Y)&&(l=n[Y],this[Y]=l?l(S):S[Y]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?_r:eo,this.isPropagationStopped=eo,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),s}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ko=rs(la),xr=m({},la,{view:0,detail:0}),lp=rs(xr),gu,mu,$o,ca=m({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$o&&($o&&n.type==="mousemove"?(gu=n.screenX-$o.screenX,mu=n.screenY-$o.screenY):mu=gu=0,$o=n),gu)},movementY:function(n){return"movementY"in n?n.movementY:mu}}),Er=rs(ca),v1=m({},ca,{dataTransfer:0}),Qo=rs(v1),Ha=m({},xr,{relatedTarget:0}),Zl=rs(Ha),Jl=m({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),b1=rs(Jl),vu=m({},la,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),y1=rs(vu),rf=m({},la,{data:0}),bu=rs(rf),cp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},of={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lf(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=of[n])?!!s[n]:!1}function Au(){return lf}var A1=m({},xr,{key:function(n){if(n.key){var s=cp[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Wo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?yu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(n){return n.type==="keypress"?Wo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Wo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wu=rs(A1),tc=m({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Su=rs(tc),Zo=m({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),cf=rs(Zo),_=m({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),P=rs(_),it=m({},ca,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),dt=rs(it),xt=m({},la,{newState:0,oldState:0}),kt=rs(xt),Gt=[9,13,27,32],ie=xa&&"CompositionEvent"in window,fe=null;xa&&"documentMode"in document&&(fe=document.documentMode);var Ie=xa&&"TextEvent"in window&&!fe,De=xa&&(!ie||fe&&8<fe&&11>=fe),ti=" ",zi=!1;function Xi(n,s){switch(n){case"keyup":return Gt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ln(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var cn=!1;function jn(n,s){switch(n){case"compositionend":return ln(s);case"keypress":return s.which!==32?null:(zi=!0,ti);case"textInput":return n=s.data,n===ti&&zi?null:n;default:return null}}function Ga(n,s){if(cn)return n==="compositionend"||!ie&&Xi(n,s)?(n=op(),pu=af=Ea=null,cn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return De&&s.locale!=="ko"?null:s.data;default:return null}}var ua={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Va(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!ua[n.type]:s==="textarea"}function uf(n,s,l,f){Xo?to?to.push(f):to=[f]:Xo=f,s=$2(s,"onChange"),0<s.length&&(l=new Ko("onChange","change",null,l,f),n.push({event:l,listeners:s}))}var io=null,no=null;function _u(n){F3(n,0)}function Jo(n){var s=Is(n);if(ip(s))return n}function xu(n,s){if(n==="change")return s}var ec=!1;if(xa){var En;if(xa){var tl="oninput"in document;if(!tl){var ic=document.createElement("div");ic.setAttribute("oninput","return;"),tl=typeof ic.oninput=="function"}En=tl}else En=!1;ec=En&&(!document.documentMode||9<document.documentMode)}function nc(){io&&(io.detachEvent("onpropertychange",Eu),no=io=null)}function Eu(n){if(n.propertyName==="value"&&Jo(no)){var s=[];uf(s,no,n,Bn(n)),rp(_u,s)}}function js(n,s,l){n==="focusin"?(nc(),io=s,no=l,io.attachEvent("onpropertychange",Eu)):n==="focusout"&&nc()}function w1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Jo(no)}function hf(n,s){if(n==="click")return Jo(s)}function up(n,s){if(n==="input"||n==="change")return Jo(s)}function Na(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var zn=typeof Object.is=="function"?Object.is:Na;function el(n,s){if(zn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var v=l[f];if(!Xt.call(s,v)||!zn(n[v],s[v]))return!1}return!0}function ff(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function so(n,s){var l=ff(n);n=0;for(var f;l;){if(l.nodeType===3){if(f=n+l.textContent.length,n<=s&&f>=s)return{node:l,offset:s-n};n=f}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=ff(l)}}function il(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?il(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function ys(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Fs(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Fs(n.document)}return s}function $n(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var nl=xa&&"documentMode"in document&&11>=document.documentMode,zs=null,Ya=null,Nr=null,Xa=!1;function Ji(n,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xa||zs==null||zs!==Fs(f)||(f=zs,"selectionStart"in f&&$n(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Nr&&el(Nr,f)||(Nr=f,f=$2(Ya,"onSelect"),0<f.length&&(s=new Ko("onSelect","select",null,s,l),n.push({event:s,listeners:f}),s.target=zs)))}function Wa(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var vn={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},qs={},sc={};xa&&(sc=document.createElement("div").style,"AnimationEvent"in window||(delete vn.animationend.animation,delete vn.animationiteration.animation,delete vn.animationstart.animation),"TransitionEvent"in window||delete vn.transitionend.transition);function Lr(n){if(qs[n])return qs[n];if(!vn[n])return n;var s=vn[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in sc)return qs[n]=s[l];return n}var Nu=Lr("animationend"),sl=Lr("animationiteration"),al=Lr("animationstart"),rl=Lr("transitionrun"),ac=Lr("transitionstart"),Lu=Lr("transitioncancel"),ol=Lr("transitionend"),ao=new Map,rc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rc.push("scrollEnd");function tn(n,s){ao.set(n,s),_a(s,[n])}var ha=new WeakMap;function We(n,s){if(typeof n=="object"&&n!==null){var l=ha.get(n);return l!==void 0?l:(s={value:n,source:s,stack:Zi(s)},ha.set(n,s),s)}return{value:n,source:s,stack:Zi(s)}}var Ke=[],Ri=0,un=0;function La(){for(var n=Ri,s=un=Ri=0;s<n;){var l=Ke[s];Ke[s++]=null;var f=Ke[s];Ke[s++]=null;var v=Ke[s];Ke[s++]=null;var S=Ke[s];if(Ke[s++]=null,f!==null&&v!==null){var D=f.pending;D===null?v.next=v:(v.next=D.next,D.next=v),f.pending=v}S!==0&&hp(l,v,S)}}function ll(n,s,l,f){Ke[Ri++]=n,Ke[Ri++]=s,Ke[Ri++]=l,Ke[Ri++]=f,un|=f,n.lanes|=f,n=n.alternate,n!==null&&(n.lanes|=f)}function cl(n,s,l,f){return ll(n,s,l,f),oc(n)}function ro(n,s){return ll(n,null,null,s),oc(n)}function hp(n,s,l){n.lanes|=l;var f=n.alternate;f!==null&&(f.lanes|=l);for(var v=!1,S=n.return;S!==null;)S.childLanes|=l,f=S.alternate,f!==null&&(f.childLanes|=l),S.tag===22&&(n=S.stateNode,n===null||n._visibility&1||(v=!0)),n=S,S=S.return;return n.tag===3?(S=n.stateNode,v&&s!==null&&(v=31-he(l),n=S.hiddenUpdates,f=n[v],f===null?n[v]=[s]:f.push(s),s.lane=l|536870912),S):null}function oc(n){if(50<Y1)throw Y1=0,Ab=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var qn={};function Ca(n,s,l,f){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function os(n,s,l,f){return new Ca(n,s,l,f)}function Cu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Cr(n,s){var l=n.alternate;return l===null?(l=os(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function df(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function lc(n,s,l,f,v,S){var D=0;if(f=n,typeof n=="function")Cu(n)&&(D=1);else if(typeof n=="string")D=h6(n,l,Q.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case ut:return n=os(31,l,s,v),n.elementType=ut,n.lanes=S,n;case N:return oo(l.children,v,S,s);case E:D=8,v|=24;break;case T:return n=os(12,l,s,v|2),n.elementType=T,n.lanes=S,n;case K:return n=os(13,l,s,v),n.elementType=K,n.lanes=S,n;case at:return n=os(19,l,s,v),n.elementType=at,n.lanes=S,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case L:case j:D=10;break t;case M:D=9;break t;case $:D=11;break t;case tt:D=14;break t;case Z:D=16,f=null;break t}D=29,l=Error(i(130,n===null?"null":typeof n,"")),f=null}return s=os(D,l,s,v),s.elementType=n,s.type=f,s.lanes=S,s}function oo(n,s,l,f){return n=os(7,n,f,s),n.lanes=l,n}function fp(n,s,l){return n=os(6,n,null,s),n.lanes=l,n}function pf(n,s,l){return s=os(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var ul=[],lo=0,Tu=null,dp=0,Ta=[],fa=0,cc=null,co=1,uo="";function uc(n,s){ul[lo++]=dp,ul[lo++]=Tu,Tu=n,dp=s}function p2(n,s,l){Ta[fa++]=co,Ta[fa++]=uo,Ta[fa++]=cc,cc=n;var f=co;n=uo;var v=32-he(f)-1;f&=~(1<<v),l+=1;var S=32-he(s)+v;if(30<S){var D=v-v%5;S=(f&(1<<D)-1).toString(32),f>>=D,v-=D,co=1<<32-he(s)+v|l<<v|f,uo=S+n}else co=1<<S|l<<v|f,uo=n}function gf(n){n.return!==null&&(uc(n,1),p2(n,1,0))}function mf(n){for(;n===Tu;)Tu=ul[--lo],ul[lo]=null,dp=ul[--lo],ul[lo]=null;for(;n===cc;)cc=Ta[--fa],Ta[fa]=null,uo=Ta[--fa],Ta[fa]=null,co=Ta[--fa],Ta[fa]=null}var Nn=null,en=null,hi=!1,hl=null,Tr=!1,S1=Error(i(519));function hc(n){var s=Error(i(418,""));throw Ru(We(s,n)),S1}function g2(n){var s=n.stateNode,l=n.type,f=n.memoizedProps;switch(s[Ti]=n,s[Yi]=f,l){case"dialog":ii("cancel",s),ii("close",s);break;case"iframe":case"object":case"embed":ii("load",s);break;case"video":case"audio":for(l=0;l<W1.length;l++)ii(W1[l],s);break;case"source":ii("error",s);break;case"img":case"image":case"link":ii("error",s),ii("load",s);break;case"details":ii("toggle",s);break;case"input":ii("invalid",s),Zh(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Vo(s);break;case"select":ii("invalid",s);break;case"textarea":ii("invalid",s),tf(s,f.value,f.defaultValue,f.children),Vo(s)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||q3(s.textContent,l)?(f.popover!=null&&(ii("beforetoggle",s),ii("toggle",s)),f.onScroll!=null&&ii("scroll",s),f.onScrollEnd!=null&&ii("scrollend",s),f.onClick!=null&&(s.onclick=Q2),s=!0):s=!1,s||hc(n)}function ho(n){for(Nn=n.return;Nn;)switch(Nn.tag){case 5:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:Nn=Nn.return}}function As(n){if(n!==Nn)return!1;if(!hi)return ho(n),hi=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Ib(n.type,n.memoizedProps)),l=!l),l&&en&&hc(n),ho(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(s===0){en=Ao(n.nextSibling);break t}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;n=n.nextSibling}en=null}}else s===27?(s=en,Xu(n.type)?(n=zb,zb=null,en=n):en=s):en=Nn?Ao(n.stateNode.nextSibling):null;return!0}function da(){en=Nn=null,hi=!1}function m2(){var n=hl;return n!==null&&(Oa===null?Oa=n:Oa.push.apply(Oa,n),hl=null),n}function Ru(n){hl===null?hl=[n]:hl.push(n)}var Rr=ft(null),Un=null,fo=null;function fl(n,s,l){H(Rr,s._currentValue),s._currentValue=l}function Mr(n){n._currentValue=Rr.current,O(Rr)}function pp(n,s,l){for(;n!==null;){var f=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),n===l)break;n=n.return}}function gp(n,s,l,f){var v=n.child;for(v!==null&&(v.return=n);v!==null;){var S=v.dependencies;if(S!==null){var D=v.child;S=S.firstContext;t:for(;S!==null;){var Y=S;S=v;for(var ct=0;ct<s.length;ct++)if(Y.context===s[ct]){S.lanes|=l,Y=S.alternate,Y!==null&&(Y.lanes|=l),pp(S.return,l,n),f||(D=null);break t}S=Y.next}}else if(v.tag===18){if(D=v.return,D===null)throw Error(i(341));D.lanes|=l,S=D.alternate,S!==null&&(S.lanes|=l),pp(D,l,n),D=null}else D=v.child;if(D!==null)D.return=v;else for(D=v;D!==null;){if(D===n){D=null;break}if(v=D.sibling,v!==null){v.return=D.return,D=v;break}D=D.return}v=D}}function Mu(n,s,l,f){n=null;for(var v=s,S=!1;v!==null;){if(!S){if((v.flags&524288)!==0)S=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var D=v.alternate;if(D===null)throw Error(i(387));if(D=D.memoizedProps,D!==null){var Y=v.type;zn(v.pendingProps.value,D.value)||(n!==null?n.push(Y):n=[Y])}}else if(v===mt.current){if(D=v.alternate,D===null)throw Error(i(387));D.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(n!==null?n.push(t0):n=[t0])}v=v.return}n!==null&&gp(s,n,l,f),s.flags|=262144}function mp(n){for(n=n.firstContext;n!==null;){if(!zn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Or(n){Un=n,fo=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ln(n){return vp(Un,n)}function dl(n,s){return Un===null&&Or(n),vp(n,s)}function vp(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},fo===null){if(n===null)throw Error(i(308));fo=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else fo=fo.next=s;return l}var Vv=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,f){n.push(f)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},v2=c.unstable_scheduleCallback,Yv=c.unstable_NormalPriority,Cn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _1(){return{controller:new Vv,data:new Map,refCount:0}}function vf(n){n.refCount--,n.refCount===0&&v2(Yv,function(){n.controller.abort()})}var bf=null,x1=0,fc=0,po=null;function Xv(n,s){if(bf===null){var l=bf=[];x1=0,fc=Lb(),po={status:"pending",value:void 0,then:function(f){l.push(f)}}}return x1++,s.then(b2,b2),s}function b2(){if(--x1===0&&bf!==null){po!==null&&(po.status="fulfilled");var n=bf;bf=null,fc=0,po=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function y2(n,s){var l=[],f={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return n.then(function(){f.status="fulfilled",f.value=s;for(var v=0;v<l.length;v++)(0,l[v])(s)},function(v){for(f.status="rejected",f.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),f}var g=U.S;U.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Xv(n,s),g!==null&&g(n,s)};var b=ft(null);function x(){var n=b.current;return n!==null?n:Ui.pooledCache}function C(n,s){s===null?H(b,b.current):H(b,s.pool)}function k(){var n=x();return n===null?null:{parent:Cn._currentValue,pool:n}}var B=Error(i(460)),q=Error(i(474)),G=Error(i(542)),W={then:function(){}};function et(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pt(){}function Tt(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(pt,pt),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,zt(n),n;default:if(typeof s.status=="string")s.then(pt,pt);else{if(n=Ui,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(f){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=f}},function(f){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,zt(n),n}throw Nt=s,B}}var Nt=null;function wt(){if(Nt===null)throw Error(i(459));var n=Nt;return Nt=null,n}function zt(n){if(n===B||n===G)throw Error(i(483))}var Dt=!1;function gt(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bt(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function It(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function qt(n,s,l){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(Ei&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,s=oc(n),hp(n,null,l),s}return ll(n,f,s,l),oc(n)}function Bt(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=n.pendingLanes,l|=f,s.lanes=l,ui(n,l)}}function se(n,s){var l=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var v=null,S=null;if(l=l.firstBaseUpdate,l!==null){do{var D={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};S===null?v=S=D:S=S.next=D,l=l.next}while(l!==null);S===null?v=S=s:S=S.next=s}else v=S=s;l={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:f.shared,callbacks:f.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var $t=!1;function ve(){if($t){var n=po;if(n!==null)throw n}}function Zt(n,s,l,f){$t=!1;var v=n.updateQueue;Dt=!1;var S=v.firstBaseUpdate,D=v.lastBaseUpdate,Y=v.shared.pending;if(Y!==null){v.shared.pending=null;var ct=Y,Rt=ct.next;ct.next=null,D===null?S=Rt:D.next=Rt,D=ct;var Ft=n.alternate;Ft!==null&&(Ft=Ft.updateQueue,Y=Ft.lastBaseUpdate,Y!==D&&(Y===null?Ft.firstBaseUpdate=Rt:Y.next=Rt,Ft.lastBaseUpdate=ct))}if(S!==null){var Ut=v.baseState;D=0,Ft=Rt=ct=null,Y=S;do{var Mt=Y.lane&-536870913,Ot=Mt!==Y.lane;if(Ot?(ci&Mt)===Mt:(f&Mt)===Mt){Mt!==0&&Mt===fc&&($t=!0),Ft!==null&&(Ft=Ft.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});t:{var Re=n,_e=Y;Mt=s;var Oi=l;switch(_e.tag){case 1:if(Re=_e.payload,typeof Re=="function"){Ut=Re.call(Oi,Ut,Mt);break t}Ut=Re;break t;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=_e.payload,Mt=typeof Re=="function"?Re.call(Oi,Ut,Mt):Re,Mt==null)break t;Ut=m({},Ut,Mt);break t;case 2:Dt=!0}}Mt=Y.callback,Mt!==null&&(n.flags|=64,Ot&&(n.flags|=8192),Ot=v.callbacks,Ot===null?v.callbacks=[Mt]:Ot.push(Mt))}else Ot={lane:Mt,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ft===null?(Rt=Ft=Ot,ct=Ut):Ft=Ft.next=Ot,D|=Mt;if(Y=Y.next,Y===null){if(Y=v.shared.pending,Y===null)break;Ot=Y,Y=Ot.next,Ot.next=null,v.lastBaseUpdate=Ot,v.shared.pending=null}}while(!0);Ft===null&&(ct=Ut),v.baseState=ct,v.firstBaseUpdate=Rt,v.lastBaseUpdate=Ft,S===null&&(v.shared.lanes=0),Hu|=D,n.lanes=D,n.memoizedState=Ut}}function oi(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function gi(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)oi(l[n],s)}var Ve=ft(null),He=ft(0);function Ai(n,s){n=Sc,H(He,n),H(Ve,s),Sc=n|s.baseLanes}function mi(){H(He,Sc),H(Ve,Ve.current)}function Pe(){Sc=He.current,O(Ve),O(He)}var xi=0,Se=null,Le=null,ai=null,li=!1,Hn=!1,Tn=!1,hn=0,fn=0,bn=null,Ra=0;function vi(){throw Error(i(321))}function yn(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!zn(n[l],s[l]))return!1;return!0}function Ka(n,s,l,f,v,S){return xi=S,Se=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=n===null||n.memoizedState===null?ww:Sw,Tn=!1,S=l(f,v),Tn=!1,Hn&&(S=dc(s,l,f,v)),pl(n),S}function pl(n){U.H=M2;var s=Le!==null&&Le.next!==null;if(xi=0,ai=Le=Se=null,li=!1,fn=0,bn=null,s)throw Error(i(300));n===null||ls||(n=n.dependencies,n!==null&&mp(n)&&(ls=!0))}function dc(n,s,l,f){Se=n;var v=0;do{if(Hn&&(bn=null),fn=0,Hn=!1,25<=v)throw Error(i(301));if(v+=1,ai=Le=null,n.updateQueue!=null){var S=n.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}U.H=SE,S=s(l,f)}while(Hn);return S}function gl(){var n=U.H,s=n.useState()[0];return s=typeof s.then=="function"?ml(s):s,n=n.useState()[0],(Le!==null?Le.memoizedState:null)!==n&&(Se.flags|=1024),s}function qi(){var n=hn!==0;return hn=0,n}function yf(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function bp(n){if(li){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}li=!1}xi=0,ai=Le=Se=null,Hn=!1,fn=hn=0,bn=null}function ws(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ai===null?Se.memoizedState=ai=n:ai=ai.next=n,ai}function Wi(){if(Le===null){var n=Se.alternate;n=n!==null?n.memoizedState:null}else n=Le.next;var s=ai===null?Se.memoizedState:ai.next;if(s!==null)ai=s,Le=n;else{if(n===null)throw Se.alternate===null?Error(i(467)):Error(i(310));Le=n,n={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},ai===null?Se.memoizedState=ai=n:ai=ai.next=n}return ai}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(n){var s=fn;return fn+=1,bn===null&&(bn=[]),n=Tt(bn,n,s),s=Se,(ai===null?s.memoizedState:ai.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?ww:Sw),n}function Us(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ml(n);if(n.$$typeof===j)return Ln(n)}throw Error(i(438,String(n)))}function vl(n){var s=null,l=Se.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=Se.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=pc(),Se.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),f=0;f<n;f++)l[f]=At;return s.index++,l}function Hs(n,s){return typeof s=="function"?s(n):s}function Af(n){var s=Wi();return Ou(s,Le,n)}function Ou(n,s,l){var f=n.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=l;var v=n.baseQueue,S=f.pending;if(S!==null){if(v!==null){var D=v.next;v.next=S.next,S.next=D}s.baseQueue=v=S,f.pending=null}if(S=n.baseState,v===null)n.memoizedState=S;else{s=v.next;var Y=D=null,ct=null,Rt=s,Ft=!1;do{var Ut=Rt.lane&-536870913;if(Ut!==Rt.lane?(ci&Ut)===Ut:(xi&Ut)===Ut){var Mt=Rt.revertLane;if(Mt===0)ct!==null&&(ct=ct.next={lane:0,revertLane:0,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null}),Ut===fc&&(Ft=!0);else if((xi&Mt)===Mt){Rt=Rt.next,Mt===fc&&(Ft=!0);continue}else Ut={lane:0,revertLane:Rt.revertLane,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},ct===null?(Y=ct=Ut,D=S):ct=ct.next=Ut,Se.lanes|=Mt,Hu|=Mt;Ut=Rt.action,Tn&&l(S,Ut),S=Rt.hasEagerState?Rt.eagerState:l(S,Ut)}else Mt={lane:Ut,revertLane:Rt.revertLane,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},ct===null?(Y=ct=Mt,D=S):ct=ct.next=Mt,Se.lanes|=Ut,Hu|=Ut;Rt=Rt.next}while(Rt!==null&&Rt!==s);if(ct===null?D=S:ct.next=Y,!zn(S,n.memoizedState)&&(ls=!0,Ft&&(l=po,l!==null)))throw l;n.memoizedState=S,n.baseState=D,n.baseQueue=ct,f.lastRenderedState=S}return v===null&&(f.lanes=0),[n.memoizedState,f.dispatch]}function yp(n){var s=Wi(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var f=l.dispatch,v=l.pending,S=s.memoizedState;if(v!==null){l.pending=null;var D=v=v.next;do S=n(S,D.action),D=D.next;while(D!==v);zn(S,s.memoizedState)||(ls=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),l.lastRenderedState=S}return[S,f]}function wf(n,s,l){var f=Se,v=Wi(),S=hi;if(S){if(l===void 0)throw Error(i(407));l=l()}else l=s();var D=!zn((Le||v).memoizedState,l);D&&(v.memoizedState=l,ls=!0),v=v.queue;var Y=Du.bind(null,f,v,n);if(Iu(2048,8,Y,[n]),v.getSnapshot!==s||D||ai!==null&&ai.memoizedState.tag&1){if(f.flags|=2048,mo(9,Ef(),Sf.bind(null,f,v,l,s),null),Ui===null)throw Error(i(349));S||(xi&124)!==0||Ap(f,s,l)}return l}function Ap(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Se.updateQueue,s===null?(s=pc(),Se.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Sf(n,s,l,f){s.value=l,s.getSnapshot=f,A2(s)&&w2(n)}function Du(n,s,l){return l(function(){A2(s)&&w2(n)})}function A2(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!zn(n,l)}catch{return!0}}function w2(n){var s=ro(n,2);s!==null&&er(s,n,2)}function _f(n){var s=ws();if(typeof n=="function"){var l=n;if(n=l(),Tn){Ze(!0);try{l()}finally{Ze(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:n},s}function go(n,s,l,f){return n.baseState=l,Ou(n,Le,typeof f=="function"?f:Hs)}function Wv(n,s,l,f,v){if(R2(n))throw Error(i(485));if(n=s.action,n!==null){var S={payload:v,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){S.listeners.push(D)}};U.T!==null?l(!0):S.isTransition=!1,f(S),l=s.pending,l===null?(S.next=s.pending=S,S2(s,S)):(S.next=l.next,s.pending=l.next=S)}}function S2(n,s){var l=s.action,f=s.payload,v=n.state;if(s.isTransition){var S=U.T,D={};U.T=D;try{var Y=l(v,f),ct=U.S;ct!==null&&ct(D,Y),_2(n,s,Y)}catch(Rt){ku(n,s,Rt)}finally{U.T=S}}else try{S=l(v,f),_2(n,s,S)}catch(Rt){ku(n,s,Rt)}}function _2(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){E1(n,s,f)},function(f){return ku(n,s,f)}):E1(n,s,l)}function E1(n,s,l){s.status="fulfilled",s.value=l,N1(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,S2(n,l)))}function ku(n,s,l){var f=n.pending;if(n.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,N1(s),s=s.next;while(s!==f)}n.action=null}function N1(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function L1(n,s){return s}function xf(n,s){if(hi){var l=Ui.formState;if(l!==null){t:{var f=Se;if(hi){if(en){e:{for(var v=en,S=Tr;v.nodeType!==8;){if(!S){v=null;break e}if(v=Ao(v.nextSibling),v===null){v=null;break e}}S=v.data,v=S==="F!"||S==="F"?v:null}if(v){en=Ao(v.nextSibling),f=v.data==="F!";break t}}hc(f)}f=!1}f&&(s=l[0])}}return l=ws(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:L1,lastRenderedState:s},l.queue=f,l=bw.bind(null,Se,f),f.dispatch=l,f=_f(!1),S=Kv.bind(null,Se,!1,f.queue),f=ws(),v={state:s,dispatch:null,action:n,pending:null},f.queue=v,l=Wv.bind(null,Se,v,S,l),v.dispatch=l,f.memoizedState=n,[s,l,!1]}function wp(n){var s=Wi();return Pu(s,Le,n)}function Pu(n,s,l){if(s=Ou(n,s,L1)[0],n=Af(Hs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=ml(s)}catch(D){throw D===B?G:D}else f=s;s=Wi();var v=s.queue,S=v.dispatch;return l!==s.memoizedState&&(Se.flags|=2048,mo(9,Ef(),x2.bind(null,v,l),null)),[f,S,n]}function x2(n,s){n.action=s}function E2(n){var s=Wi(),l=Le;if(l!==null)return Pu(s,l,n);Wi(),s=s.memoizedState,l=Wi();var f=l.queue.dispatch;return l.memoizedState=n,[s,f,!1]}function mo(n,s,l,f){return n={tag:n,create:l,deps:f,inst:s,next:null},s=Se.updateQueue,s===null&&(s=pc(),Se.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(f=l.next,l.next=n,n.next=f,s.lastEffect=n),n}function Ef(){return{destroy:void 0,resource:void 0}}function Sp(){return Wi().memoizedState}function $a(n,s,l,f){var v=ws();f=f===void 0?null:f,Se.flags|=n,v.memoizedState=mo(1|s,Ef(),l,f)}function Iu(n,s,l,f){var v=Wi();f=f===void 0?null:f;var S=v.memoizedState.inst;Le!==null&&f!==null&&yn(f,Le.memoizedState.deps)?v.memoizedState=mo(s,S,l,f):(Se.flags|=n,v.memoizedState=mo(1|s,S,l,f))}function C1(n,s){$a(8390656,8,n,s)}function N2(n,s){Iu(2048,8,n,s)}function T1(n,s){return Iu(4,2,n,s)}function gc(n,s){return Iu(4,4,n,s)}function L2(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function R1(n,s,l){l=l!=null?l.concat([n]):null,Iu(4,4,L2.bind(null,s,n),l)}function M1(){}function O1(n,s){var l=Wi();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&yn(s,f[1])?f[0]:(l.memoizedState=[n,s],n)}function C2(n,s){var l=Wi();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&yn(s,f[1]))return f[0];if(f=n(),Tn){Ze(!0);try{n()}finally{Ze(!1)}}return l.memoizedState=[f,s],f}function mc(n,s,l){return l===void 0||(xi&1073741824)!==0?n.memoizedState=s:(n.memoizedState=l,n=p3(),Se.lanes|=n,Hu|=n,l)}function _p(n,s,l,f){return zn(l,s)?l:Ve.current!==null?(n=mc(n,l,f),zn(n,s)||(ls=!0),n):(xi&42)===0?(ls=!0,n.memoizedState=l):(n=p3(),Se.lanes|=n,Hu|=n,s)}function Nf(n,s,l,f,v){var S=J.p;J.p=S!==0&&8>S?S:8;var D=U.T,Y={};U.T=Y,Kv(n,!1,s,l);try{var ct=v(),Rt=U.S;if(Rt!==null&&Rt(Y,ct),ct!==null&&typeof ct=="object"&&typeof ct.then=="function"){var Ft=y2(ct,f);I1(n,s,Ft,tr(n))}else I1(n,s,f,tr(n))}catch(Ut){I1(n,s,{then:function(){},status:"rejected",reason:Ut},tr())}finally{J.p=S,U.T=D}}function vo(){}function Dr(n,s,l,f){if(n.tag!==5)throw Error(i(476));var v=bo(n).queue;Nf(n,v,s,ht,l===null?vo:function(){return Lf(n),l(f)})}function bo(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:ht},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Lf(n){var s=bo(n).next.queue;I1(n,s,{},tr())}function Cf(){return Ln(t0)}function D1(){return Wi().memoizedState}function T2(){return Wi().memoizedState}function k1(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=tr();n=It(l);var f=qt(s,n,l);f!==null&&(er(f,s,l),Bt(f,s,l)),s={cache:_1()},n.payload=s;return}s=s.return}}function P1(n,s,l){var f=tr();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},R2(n)?yw(s,l):(l=cl(n,s,l,f),l!==null&&(er(l,n,f),Aw(l,s,f)))}function bw(n,s,l){var f=tr();I1(n,s,l,f)}function I1(n,s,l,f){var v={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(R2(n))yw(s,v);else{var S=n.alternate;if(n.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var D=s.lastRenderedState,Y=S(D,l);if(v.hasEagerState=!0,v.eagerState=Y,zn(Y,D))return ll(n,s,v,0),Ui===null&&La(),!1}catch{}finally{}if(l=cl(n,s,v,f),l!==null)return er(l,n,f),Aw(l,s,f),!0}return!1}function Kv(n,s,l,f){if(f={lane:2,revertLane:Lb(),action:f,hasEagerState:!1,eagerState:null,next:null},R2(n)){if(s)throw Error(i(479))}else s=cl(n,l,f,2),s!==null&&er(s,n,2)}function R2(n){var s=n.alternate;return n===Se||s!==null&&s===Se}function yw(n,s){Hn=li=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function Aw(n,s,l){if((l&4194048)!==0){var f=s.lanes;f&=n.pendingLanes,l|=f,s.lanes=l,ui(n,l)}}var M2={readContext:Ln,use:Us,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useLayoutEffect:vi,useInsertionEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useSyncExternalStore:vi,useId:vi,useHostTransitionStatus:vi,useFormState:vi,useActionState:vi,useOptimistic:vi,useMemoCache:vi,useCacheRefresh:vi},ww={readContext:Ln,use:Us,useCallback:function(n,s){return ws().memoizedState=[n,s===void 0?null:s],n},useContext:Ln,useEffect:C1,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,$a(4194308,4,L2.bind(null,s,n),l)},useLayoutEffect:function(n,s){return $a(4194308,4,n,s)},useInsertionEffect:function(n,s){$a(4,2,n,s)},useMemo:function(n,s){var l=ws();s=s===void 0?null:s;var f=n();if(Tn){Ze(!0);try{n()}finally{Ze(!1)}}return l.memoizedState=[f,s],f},useReducer:function(n,s,l){var f=ws();if(l!==void 0){var v=l(s);if(Tn){Ze(!0);try{l(s)}finally{Ze(!1)}}}else v=s;return f.memoizedState=f.baseState=v,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:v},f.queue=n,n=n.dispatch=P1.bind(null,Se,n),[f.memoizedState,n]},useRef:function(n){var s=ws();return n={current:n},s.memoizedState=n},useState:function(n){n=_f(n);var s=n.queue,l=bw.bind(null,Se,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:M1,useDeferredValue:function(n,s){var l=ws();return mc(l,n,s)},useTransition:function(){var n=_f(!1);return n=Nf.bind(null,Se,n.queue,!0,!1),ws().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var f=Se,v=ws();if(hi){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Ui===null)throw Error(i(349));(ci&124)!==0||Ap(f,s,l)}v.memoizedState=l;var S={value:l,getSnapshot:s};return v.queue=S,C1(Du.bind(null,f,S,n),[n]),f.flags|=2048,mo(9,Ef(),Sf.bind(null,f,S,l,s),null),l},useId:function(){var n=ws(),s=Ui.identifierPrefix;if(hi){var l=uo,f=co;l=(f&~(1<<32-he(f)-1)).toString(32)+l,s=""+s+"R"+l,l=hn++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=Ra++,s=""+s+"r"+l.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:Cf,useFormState:xf,useActionState:xf,useOptimistic:function(n){var s=ws();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Kv.bind(null,Se,!0,l),l.dispatch=s,[n,s]},useMemoCache:vl,useCacheRefresh:function(){return ws().memoizedState=k1.bind(null,Se)}},Sw={readContext:Ln,use:Us,useCallback:O1,useContext:Ln,useEffect:N2,useImperativeHandle:R1,useInsertionEffect:T1,useLayoutEffect:gc,useMemo:C2,useReducer:Af,useRef:Sp,useState:function(){return Af(Hs)},useDebugValue:M1,useDeferredValue:function(n,s){var l=Wi();return _p(l,Le.memoizedState,n,s)},useTransition:function(){var n=Af(Hs)[0],s=Wi().memoizedState;return[typeof n=="boolean"?n:ml(n),s]},useSyncExternalStore:wf,useId:D1,useHostTransitionStatus:Cf,useFormState:wp,useActionState:wp,useOptimistic:function(n,s){var l=Wi();return go(l,Le,n,s)},useMemoCache:vl,useCacheRefresh:T2},SE={readContext:Ln,use:Us,useCallback:O1,useContext:Ln,useEffect:N2,useImperativeHandle:R1,useInsertionEffect:T1,useLayoutEffect:gc,useMemo:C2,useReducer:yp,useRef:Sp,useState:function(){return yp(Hs)},useDebugValue:M1,useDeferredValue:function(n,s){var l=Wi();return Le===null?mc(l,n,s):_p(l,Le.memoizedState,n,s)},useTransition:function(){var n=yp(Hs)[0],s=Wi().memoizedState;return[typeof n=="boolean"?n:ml(n),s]},useSyncExternalStore:wf,useId:D1,useHostTransitionStatus:Cf,useFormState:E2,useActionState:E2,useOptimistic:function(n,s){var l=Wi();return Le!==null?go(l,Le,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:vl,useCacheRefresh:T2},xp=null,F1=0;function O2(n){var s=F1;return F1+=1,xp===null&&(xp=[]),Tt(xp,n,s)}function B1(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function D2(n,s){throw s.$$typeof===A?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function _w(n){var s=n._init;return s(n._payload)}function xw(n){function s(_t,vt){if(n){var Lt=_t.deletions;Lt===null?(_t.deletions=[vt],_t.flags|=16):Lt.push(vt)}}function l(_t,vt){if(!n)return null;for(;vt!==null;)s(_t,vt),vt=vt.sibling;return null}function f(_t){for(var vt=new Map;_t!==null;)_t.key!==null?vt.set(_t.key,_t):vt.set(_t.index,_t),_t=_t.sibling;return vt}function v(_t,vt){return _t=Cr(_t,vt),_t.index=0,_t.sibling=null,_t}function S(_t,vt,Lt){return _t.index=Lt,n?(Lt=_t.alternate,Lt!==null?(Lt=Lt.index,Lt<vt?(_t.flags|=67108866,vt):Lt):(_t.flags|=67108866,vt)):(_t.flags|=1048576,vt)}function D(_t){return n&&_t.alternate===null&&(_t.flags|=67108866),_t}function Y(_t,vt,Lt,jt){return vt===null||vt.tag!==6?(vt=fp(Lt,_t.mode,jt),vt.return=_t,vt):(vt=v(vt,Lt),vt.return=_t,vt)}function ct(_t,vt,Lt,jt){var le=Lt.type;return le===N?Ft(_t,vt,Lt.props.children,jt,Lt.key):vt!==null&&(vt.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Z&&_w(le)===vt.type)?(vt=v(vt,Lt.props),B1(vt,Lt),vt.return=_t,vt):(vt=lc(Lt.type,Lt.key,Lt.props,null,_t.mode,jt),B1(vt,Lt),vt.return=_t,vt)}function Rt(_t,vt,Lt,jt){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==Lt.containerInfo||vt.stateNode.implementation!==Lt.implementation?(vt=pf(Lt,_t.mode,jt),vt.return=_t,vt):(vt=v(vt,Lt.children||[]),vt.return=_t,vt)}function Ft(_t,vt,Lt,jt,le){return vt===null||vt.tag!==7?(vt=oo(Lt,_t.mode,jt,le),vt.return=_t,vt):(vt=v(vt,Lt),vt.return=_t,vt)}function Ut(_t,vt,Lt){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return vt=fp(""+vt,_t.mode,Lt),vt.return=_t,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case w:return Lt=lc(vt.type,vt.key,vt.props,null,_t.mode,Lt),B1(Lt,vt),Lt.return=_t,Lt;case y:return vt=pf(vt,_t.mode,Lt),vt.return=_t,vt;case Z:var jt=vt._init;return vt=jt(vt._payload),Ut(_t,vt,Lt)}if(Et(vt)||X(vt))return vt=oo(vt,_t.mode,Lt,null),vt.return=_t,vt;if(typeof vt.then=="function")return Ut(_t,O2(vt),Lt);if(vt.$$typeof===j)return Ut(_t,dl(_t,vt),Lt);D2(_t,vt)}return null}function Mt(_t,vt,Lt,jt){var le=vt!==null?vt.key:null;if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint")return le!==null?null:Y(_t,vt,""+Lt,jt);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case w:return Lt.key===le?ct(_t,vt,Lt,jt):null;case y:return Lt.key===le?Rt(_t,vt,Lt,jt):null;case Z:return le=Lt._init,Lt=le(Lt._payload),Mt(_t,vt,Lt,jt)}if(Et(Lt)||X(Lt))return le!==null?null:Ft(_t,vt,Lt,jt,null);if(typeof Lt.then=="function")return Mt(_t,vt,O2(Lt),jt);if(Lt.$$typeof===j)return Mt(_t,vt,dl(_t,Lt),jt);D2(_t,Lt)}return null}function Ot(_t,vt,Lt,jt,le){if(typeof jt=="string"&&jt!==""||typeof jt=="number"||typeof jt=="bigint")return _t=_t.get(Lt)||null,Y(vt,_t,""+jt,le);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case w:return _t=_t.get(jt.key===null?Lt:jt.key)||null,ct(vt,_t,jt,le);case y:return _t=_t.get(jt.key===null?Lt:jt.key)||null,Rt(vt,_t,jt,le);case Z:var $e=jt._init;return jt=$e(jt._payload),Ot(_t,vt,Lt,jt,le)}if(Et(jt)||X(jt))return _t=_t.get(Lt)||null,Ft(vt,_t,jt,le,null);if(typeof jt.then=="function")return Ot(_t,vt,Lt,O2(jt),le);if(jt.$$typeof===j)return Ot(_t,vt,Lt,dl(vt,jt),le);D2(vt,jt)}return null}function Re(_t,vt,Lt,jt){for(var le=null,$e=null,ye=vt,Ee=vt=0,us=null;ye!==null&&Ee<Lt.length;Ee++){ye.index>Ee?(us=ye,ye=null):us=ye.sibling;var bi=Mt(_t,ye,Lt[Ee],jt);if(bi===null){ye===null&&(ye=us);break}n&&ye&&bi.alternate===null&&s(_t,ye),vt=S(bi,vt,Ee),$e===null?le=bi:$e.sibling=bi,$e=bi,ye=us}if(Ee===Lt.length)return l(_t,ye),hi&&uc(_t,Ee),le;if(ye===null){for(;Ee<Lt.length;Ee++)ye=Ut(_t,Lt[Ee],jt),ye!==null&&(vt=S(ye,vt,Ee),$e===null?le=ye:$e.sibling=ye,$e=ye);return hi&&uc(_t,Ee),le}for(ye=f(ye);Ee<Lt.length;Ee++)us=Ot(ye,_t,Ee,Lt[Ee],jt),us!==null&&(n&&us.alternate!==null&&ye.delete(us.key===null?Ee:us.key),vt=S(us,vt,Ee),$e===null?le=us:$e.sibling=us,$e=us);return n&&ye.forEach(function(Zu){return s(_t,Zu)}),hi&&uc(_t,Ee),le}function _e(_t,vt,Lt,jt){if(Lt==null)throw Error(i(151));for(var le=null,$e=null,ye=vt,Ee=vt=0,us=null,bi=Lt.next();ye!==null&&!bi.done;Ee++,bi=Lt.next()){ye.index>Ee?(us=ye,ye=null):us=ye.sibling;var Zu=Mt(_t,ye,bi.value,jt);if(Zu===null){ye===null&&(ye=us);break}n&&ye&&Zu.alternate===null&&s(_t,ye),vt=S(Zu,vt,Ee),$e===null?le=Zu:$e.sibling=Zu,$e=Zu,ye=us}if(bi.done)return l(_t,ye),hi&&uc(_t,Ee),le;if(ye===null){for(;!bi.done;Ee++,bi=Lt.next())bi=Ut(_t,bi.value,jt),bi!==null&&(vt=S(bi,vt,Ee),$e===null?le=bi:$e.sibling=bi,$e=bi);return hi&&uc(_t,Ee),le}for(ye=f(ye);!bi.done;Ee++,bi=Lt.next())bi=Ot(ye,_t,Ee,bi.value,jt),bi!==null&&(n&&bi.alternate!==null&&ye.delete(bi.key===null?Ee:bi.key),vt=S(bi,vt,Ee),$e===null?le=bi:$e.sibling=bi,$e=bi);return n&&ye.forEach(function(_6){return s(_t,_6)}),hi&&uc(_t,Ee),le}function Oi(_t,vt,Lt,jt){if(typeof Lt=="object"&&Lt!==null&&Lt.type===N&&Lt.key===null&&(Lt=Lt.props.children),typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case w:t:{for(var le=Lt.key;vt!==null;){if(vt.key===le){if(le=Lt.type,le===N){if(vt.tag===7){l(_t,vt.sibling),jt=v(vt,Lt.props.children),jt.return=_t,_t=jt;break t}}else if(vt.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Z&&_w(le)===vt.type){l(_t,vt.sibling),jt=v(vt,Lt.props),B1(jt,Lt),jt.return=_t,_t=jt;break t}l(_t,vt);break}else s(_t,vt);vt=vt.sibling}Lt.type===N?(jt=oo(Lt.props.children,_t.mode,jt,Lt.key),jt.return=_t,_t=jt):(jt=lc(Lt.type,Lt.key,Lt.props,null,_t.mode,jt),B1(jt,Lt),jt.return=_t,_t=jt)}return D(_t);case y:t:{for(le=Lt.key;vt!==null;){if(vt.key===le)if(vt.tag===4&&vt.stateNode.containerInfo===Lt.containerInfo&&vt.stateNode.implementation===Lt.implementation){l(_t,vt.sibling),jt=v(vt,Lt.children||[]),jt.return=_t,_t=jt;break t}else{l(_t,vt);break}else s(_t,vt);vt=vt.sibling}jt=pf(Lt,_t.mode,jt),jt.return=_t,_t=jt}return D(_t);case Z:return le=Lt._init,Lt=le(Lt._payload),Oi(_t,vt,Lt,jt)}if(Et(Lt))return Re(_t,vt,Lt,jt);if(X(Lt)){if(le=X(Lt),typeof le!="function")throw Error(i(150));return Lt=le.call(Lt),_e(_t,vt,Lt,jt)}if(typeof Lt.then=="function")return Oi(_t,vt,O2(Lt),jt);if(Lt.$$typeof===j)return Oi(_t,vt,dl(_t,Lt),jt);D2(_t,Lt)}return typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint"?(Lt=""+Lt,vt!==null&&vt.tag===6?(l(_t,vt.sibling),jt=v(vt,Lt),jt.return=_t,_t=jt):(l(_t,vt),jt=fp(Lt,_t.mode,jt),jt.return=_t,_t=jt),D(_t)):l(_t,vt)}return function(_t,vt,Lt,jt){try{F1=0;var le=Oi(_t,vt,Lt,jt);return xp=null,le}catch(ye){if(ye===B||ye===G)throw ye;var $e=os(29,ye,null,_t.mode);return $e.lanes=jt,$e.return=_t,$e}finally{}}}var Ep=xw(!0),Ew=xw(!1),kr=ft(null),bl=null;function Fu(n){var s=n.alternate;H(Qn,Qn.current&1),H(kr,n),bl===null&&(s===null||Ve.current!==null||s.memoizedState!==null)&&(bl=n)}function Nw(n){if(n.tag===22){if(H(Qn,Qn.current),H(kr,n),bl===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(bl=n)}}else Bu()}function Bu(){H(Qn,Qn.current),H(kr,kr.current)}function vc(n){O(kr),bl===n&&(bl=null),O(Qn)}var Qn=ft(0);function k2(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||jb(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function $v(n,s,l,f){s=n.memoizedState,l=l(f,s),l=l==null?s:m({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Qv={enqueueSetState:function(n,s,l){n=n._reactInternals;var f=tr(),v=It(f);v.payload=s,l!=null&&(v.callback=l),s=qt(n,v,f),s!==null&&(er(s,n,f),Bt(s,n,f))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var f=tr(),v=It(f);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=qt(n,v,f),s!==null&&(er(s,n,f),Bt(s,n,f))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=tr(),f=It(l);f.tag=2,s!=null&&(f.callback=s),s=qt(n,f,l),s!==null&&(er(s,n,l),Bt(s,n,l))}};function Lw(n,s,l,f,v,S,D){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,S,D):s.prototype&&s.prototype.isPureReactComponent?!el(l,f)||!el(v,S):!0}function Cw(n,s,l,f){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==n&&Qv.enqueueReplaceState(s,s.state,null)}function Tf(n,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(n=n.defaultProps){l===s&&(l=m({},l));for(var v in n)l[v]===void 0&&(l[v]=n[v])}return l}var P2=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Tw(n){P2(n)}function Rw(n){console.error(n)}function Mw(n){P2(n)}function I2(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function Ow(n,s,l){try{var f=n.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Zv(n,s,l){return l=It(l),l.tag=3,l.payload={element:null},l.callback=function(){I2(n,s)},l}function Dw(n){return n=It(n),n.tag=3,n}function kw(n,s,l,f){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var S=f.value;n.payload=function(){return v(S)},n.callback=function(){Ow(s,l,f)}}var D=l.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(n.callback=function(){Ow(s,l,f),typeof v!="function"&&(Gu===null?Gu=new Set([this]):Gu.add(this));var Y=f.stack;this.componentDidCatch(f.value,{componentStack:Y!==null?Y:""})})}function _E(n,s,l,f,v){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&Mu(s,l,v,!0),l=kr.current,l!==null){switch(l.tag){case 13:return bl===null?Sb():l.alternate===null&&An===0&&(An=3),l.flags&=-257,l.flags|=65536,l.lanes=v,f===W?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),xb(n,f,v)),!1;case 22:return l.flags|=65536,f===W?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),xb(n,f,v)),!1}throw Error(i(435,l.tag))}return xb(n,f,v),Sb(),!1}if(hi)return s=kr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,f!==S1&&(n=Error(i(422),{cause:f}),Ru(We(n,l)))):(f!==S1&&(s=Error(i(423),{cause:f}),Ru(We(s,l))),n=n.current.alternate,n.flags|=65536,v&=-v,n.lanes|=v,f=We(f,l),v=Zv(n.stateNode,f,v),se(n,v),An!==4&&(An=2)),!1;var S=Error(i(520),{cause:f});if(S=We(S,l),V1===null?V1=[S]:V1.push(S),An!==4&&(An=2),s===null)return!0;f=We(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=v&-v,l.lanes|=n,n=Zv(l.stateNode,f,n),se(l,n),!1;case 1:if(s=l.type,S=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Gu===null||!Gu.has(S))))return l.flags|=65536,v&=-v,l.lanes|=v,v=Dw(v),kw(v,n,l,f),se(l,v),!1}l=l.return}while(l!==null);return!1}var Pw=Error(i(461)),ls=!1;function Ss(n,s,l,f){s.child=n===null?Ew(s,null,l,f):Ep(s,n.child,l,f)}function Iw(n,s,l,f,v){l=l.render;var S=s.ref;if("ref"in f){var D={};for(var Y in f)Y!=="ref"&&(D[Y]=f[Y])}else D=f;return Or(s),f=Ka(n,s,l,D,S,v),Y=qi(),n!==null&&!ls?(yf(n,s,v),bc(n,s,v)):(hi&&Y&&gf(s),s.flags|=1,Ss(n,s,f,v),s.child)}function Fw(n,s,l,f,v){if(n===null){var S=l.type;return typeof S=="function"&&!Cu(S)&&S.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=S,Bw(n,s,S,f,v)):(n=lc(l.type,null,f,s,s.mode,v),n.ref=s.ref,n.return=s,s.child=n)}if(S=n.child,!rb(n,v)){var D=S.memoizedProps;if(l=l.compare,l=l!==null?l:el,l(D,f)&&n.ref===s.ref)return bc(n,s,v)}return s.flags|=1,n=Cr(S,f),n.ref=s.ref,n.return=s,s.child=n}function Bw(n,s,l,f,v){if(n!==null){var S=n.memoizedProps;if(el(S,f)&&n.ref===s.ref)if(ls=!1,s.pendingProps=f=S,rb(n,v))(n.flags&131072)!==0&&(ls=!0);else return s.lanes=n.lanes,bc(n,s,v)}return Jv(n,s,l,f,v)}function jw(n,s,l){var f=s.pendingProps,v=f.children,S=n!==null?n.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=S!==null?S.baseLanes|l:l,n!==null){for(v=s.child=n.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;s.childLanes=S&~f}else s.childLanes=0,s.child=null;return zw(n,s,f,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&C(s,S!==null?S.cachePool:null),S!==null?Ai(s,S):mi(),Nw(s);else return s.lanes=s.childLanes=536870912,zw(n,s,S!==null?S.baseLanes|l:l,l)}else S!==null?(C(s,S.cachePool),Ai(s,S),Bu(),s.memoizedState=null):(n!==null&&C(s,null),mi(),Bu());return Ss(n,s,v,l),s.child}function zw(n,s,l,f){var v=x();return v=v===null?null:{parent:Cn._currentValue,pool:v},s.memoizedState={baseLanes:l,cachePool:v},n!==null&&C(s,null),mi(),Nw(s),n!==null&&Mu(n,s,f,!0),null}function F2(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function Jv(n,s,l,f,v){return Or(s),l=Ka(n,s,l,f,void 0,v),f=qi(),n!==null&&!ls?(yf(n,s,v),bc(n,s,v)):(hi&&f&&gf(s),s.flags|=1,Ss(n,s,l,v),s.child)}function qw(n,s,l,f,v,S){return Or(s),s.updateQueue=null,l=dc(s,f,l,v),pl(n),f=qi(),n!==null&&!ls?(yf(n,s,S),bc(n,s,S)):(hi&&f&&gf(s),s.flags|=1,Ss(n,s,l,S),s.child)}function Uw(n,s,l,f,v){if(Or(s),s.stateNode===null){var S=qn,D=l.contextType;typeof D=="object"&&D!==null&&(S=Ln(D)),S=new l(f,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Qv,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=f,S.state=s.memoizedState,S.refs={},gt(s),D=l.contextType,S.context=typeof D=="object"&&D!==null?Ln(D):qn,S.state=s.memoizedState,D=l.getDerivedStateFromProps,typeof D=="function"&&($v(s,l,D,f),S.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(D=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),D!==S.state&&Qv.enqueueReplaceState(S,S.state,null),Zt(s,f,S,v),ve(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(n===null){S=s.stateNode;var Y=s.memoizedProps,ct=Tf(l,Y);S.props=ct;var Rt=S.context,Ft=l.contextType;D=qn,typeof Ft=="object"&&Ft!==null&&(D=Ln(Ft));var Ut=l.getDerivedStateFromProps;Ft=typeof Ut=="function"||typeof S.getSnapshotBeforeUpdate=="function",Y=s.pendingProps!==Y,Ft||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(Y||Rt!==D)&&Cw(s,S,f,D),Dt=!1;var Mt=s.memoizedState;S.state=Mt,Zt(s,f,S,v),ve(),Rt=s.memoizedState,Y||Mt!==Rt||Dt?(typeof Ut=="function"&&($v(s,l,Ut,f),Rt=s.memoizedState),(ct=Dt||Lw(s,l,ct,f,Mt,Rt,D))?(Ft||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=Rt),S.props=f,S.state=Rt,S.context=D,f=ct):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{S=s.stateNode,bt(n,s),D=s.memoizedProps,Ft=Tf(l,D),S.props=Ft,Ut=s.pendingProps,Mt=S.context,Rt=l.contextType,ct=qn,typeof Rt=="object"&&Rt!==null&&(ct=Ln(Rt)),Y=l.getDerivedStateFromProps,(Rt=typeof Y=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==Ut||Mt!==ct)&&Cw(s,S,f,ct),Dt=!1,Mt=s.memoizedState,S.state=Mt,Zt(s,f,S,v),ve();var Ot=s.memoizedState;D!==Ut||Mt!==Ot||Dt||n!==null&&n.dependencies!==null&&mp(n.dependencies)?(typeof Y=="function"&&($v(s,l,Y,f),Ot=s.memoizedState),(Ft=Dt||Lw(s,l,Ft,f,Mt,Ot,ct)||n!==null&&n.dependencies!==null&&mp(n.dependencies))?(Rt||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,Ot,ct),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,Ot,ct)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===n.memoizedProps&&Mt===n.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&Mt===n.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=Ot),S.props=f,S.state=Ot,S.context=ct,f=Ft):(typeof S.componentDidUpdate!="function"||D===n.memoizedProps&&Mt===n.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&Mt===n.memoizedState||(s.flags|=1024),f=!1)}return S=f,F2(n,s),f=(s.flags&128)!==0,S||f?(S=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,n!==null&&f?(s.child=Ep(s,n.child,null,v),s.child=Ep(s,null,l,v)):Ss(n,s,l,v),s.memoizedState=S.state,n=s.child):n=bc(n,s,v),n}function Hw(n,s,l,f){return da(),s.flags|=256,Ss(n,s,l,f),s.child}var tb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eb(n){return{baseLanes:n,cachePool:k()}}function ib(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=Pr),n}function Gw(n,s,l){var f=s.pendingProps,v=!1,S=(s.flags&128)!==0,D;if((D=S)||(D=n!==null&&n.memoizedState===null?!1:(Qn.current&2)!==0),D&&(v=!0,s.flags&=-129),D=(s.flags&32)!==0,s.flags&=-33,n===null){if(hi){if(v?Fu(s):Bu(),hi){var Y=en,ct;if(ct=Y){t:{for(ct=Y,Y=Tr;ct.nodeType!==8;){if(!Y){Y=null;break t}if(ct=Ao(ct.nextSibling),ct===null){Y=null;break t}}Y=ct}Y!==null?(s.memoizedState={dehydrated:Y,treeContext:cc!==null?{id:co,overflow:uo}:null,retryLane:536870912,hydrationErrors:null},ct=os(18,null,null,0),ct.stateNode=Y,ct.return=s,s.child=ct,Nn=s,en=null,ct=!0):ct=!1}ct||hc(s)}if(Y=s.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return jb(Y)?s.lanes=32:s.lanes=536870912,null;vc(s)}return Y=f.children,f=f.fallback,v?(Bu(),v=s.mode,Y=B2({mode:"hidden",children:Y},v),f=oo(f,v,l,null),Y.return=s,f.return=s,Y.sibling=f,s.child=Y,v=s.child,v.memoizedState=eb(l),v.childLanes=ib(n,D,l),s.memoizedState=tb,f):(Fu(s),nb(s,Y))}if(ct=n.memoizedState,ct!==null&&(Y=ct.dehydrated,Y!==null)){if(S)s.flags&256?(Fu(s),s.flags&=-257,s=sb(n,s,l)):s.memoizedState!==null?(Bu(),s.child=n.child,s.flags|=128,s=null):(Bu(),v=f.fallback,Y=s.mode,f=B2({mode:"visible",children:f.children},Y),v=oo(v,Y,l,null),v.flags|=2,f.return=s,v.return=s,f.sibling=v,s.child=f,Ep(s,n.child,null,l),f=s.child,f.memoizedState=eb(l),f.childLanes=ib(n,D,l),s.memoizedState=tb,s=v);else if(Fu(s),jb(Y)){if(D=Y.nextSibling&&Y.nextSibling.dataset,D)var Rt=D.dgst;D=Rt,f=Error(i(419)),f.stack="",f.digest=D,Ru({value:f,source:null,stack:null}),s=sb(n,s,l)}else if(ls||Mu(n,s,l,!1),D=(l&n.childLanes)!==0,ls||D){if(D=Ui,D!==null&&(f=l&-l,f=(f&42)!==0?1:Wr(f),f=(f&(D.suspendedLanes|l))!==0?0:f,f!==0&&f!==ct.retryLane))throw ct.retryLane=f,ro(n,f),er(D,n,f),Pw;Y.data==="$?"||Sb(),s=sb(n,s,l)}else Y.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=ct.treeContext,en=Ao(Y.nextSibling),Nn=s,hi=!0,hl=null,Tr=!1,n!==null&&(Ta[fa++]=co,Ta[fa++]=uo,Ta[fa++]=cc,co=n.id,uo=n.overflow,cc=s),s=nb(s,f.children),s.flags|=4096);return s}return v?(Bu(),v=f.fallback,Y=s.mode,ct=n.child,Rt=ct.sibling,f=Cr(ct,{mode:"hidden",children:f.children}),f.subtreeFlags=ct.subtreeFlags&65011712,Rt!==null?v=Cr(Rt,v):(v=oo(v,Y,l,null),v.flags|=2),v.return=s,f.return=s,f.sibling=v,s.child=f,f=v,v=s.child,Y=n.child.memoizedState,Y===null?Y=eb(l):(ct=Y.cachePool,ct!==null?(Rt=Cn._currentValue,ct=ct.parent!==Rt?{parent:Rt,pool:Rt}:ct):ct=k(),Y={baseLanes:Y.baseLanes|l,cachePool:ct}),v.memoizedState=Y,v.childLanes=ib(n,D,l),s.memoizedState=tb,f):(Fu(s),l=n.child,n=l.sibling,l=Cr(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,n!==null&&(D=s.deletions,D===null?(s.deletions=[n],s.flags|=16):D.push(n)),s.child=l,s.memoizedState=null,l)}function nb(n,s){return s=B2({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function B2(n,s){return n=os(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function sb(n,s,l){return Ep(s,n.child,null,l),n=nb(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Vw(n,s,l){n.lanes|=s;var f=n.alternate;f!==null&&(f.lanes|=s),pp(n.return,s,l)}function ab(n,s,l,f,v){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=f,S.tail=l,S.tailMode=v)}function Yw(n,s,l){var f=s.pendingProps,v=f.revealOrder,S=f.tail;if(Ss(n,s,f.children,l),f=Qn.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Vw(n,l,s);else if(n.tag===19)Vw(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}switch(H(Qn,f),v){case"forwards":for(l=s.child,v=null;l!==null;)n=l.alternate,n!==null&&k2(n)===null&&(v=l),l=l.sibling;l=v,l===null?(v=s.child,s.child=null):(v=l.sibling,l.sibling=null),ab(s,!1,v,l,S);break;case"backwards":for(l=null,v=s.child,s.child=null;v!==null;){if(n=v.alternate,n!==null&&k2(n)===null){s.child=v;break}n=v.sibling,v.sibling=l,l=v,v=n}ab(s,!0,l,null,S);break;case"together":ab(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function bc(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Hu|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(Mu(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=Cr(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=Cr(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function rb(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&mp(n)))}function xE(n,s,l){switch(s.tag){case 3:St(s,s.stateNode.containerInfo),fl(s,Cn,n.memoizedState.cache),da();break;case 27:case 5:Vt(s);break;case 4:St(s,s.stateNode.containerInfo);break;case 10:fl(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Fu(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Gw(n,s,l):(Fu(s),n=bc(n,s,l),n!==null?n.sibling:null);Fu(s);break;case 19:var v=(n.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(Mu(n,s,l,!1),f=(l&s.childLanes)!==0),v){if(f)return Yw(n,s,l);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),H(Qn,Qn.current),f)break;return null;case 22:case 23:return s.lanes=0,jw(n,s,l);case 24:fl(s,Cn,n.memoizedState.cache)}return bc(n,s,l)}function Xw(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)ls=!0;else{if(!rb(n,l)&&(s.flags&128)===0)return ls=!1,xE(n,s,l);ls=(n.flags&131072)!==0}else ls=!1,hi&&(s.flags&1048576)!==0&&p2(s,dp,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var f=s.elementType,v=f._init;if(f=v(f._payload),s.type=f,typeof f=="function")Cu(f)?(n=Tf(f,n),s.tag=1,s=Uw(null,s,f,n,l)):(s.tag=0,s=Jv(null,s,f,n,l));else{if(f!=null){if(v=f.$$typeof,v===$){s.tag=11,s=Iw(null,s,f,n,l);break t}else if(v===tt){s.tag=14,s=Fw(null,s,f,n,l);break t}}throw s=nt(f)||f,Error(i(306,s,""))}}return s;case 0:return Jv(n,s,s.type,s.pendingProps,l);case 1:return f=s.type,v=Tf(f,s.pendingProps),Uw(n,s,f,v,l);case 3:t:{if(St(s,s.stateNode.containerInfo),n===null)throw Error(i(387));f=s.pendingProps;var S=s.memoizedState;v=S.element,bt(n,s),Zt(s,f,null,l);var D=s.memoizedState;if(f=D.cache,fl(s,Cn,f),f!==S.cache&&gp(s,[Cn],l,!0),ve(),f=D.element,S.isDehydrated)if(S={element:f,isDehydrated:!1,cache:D.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=Hw(n,s,f,l);break t}else if(f!==v){v=We(Error(i(424)),s),Ru(v),s=Hw(n,s,f,l);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(en=Ao(n.firstChild),Nn=s,hi=!0,hl=null,Tr=!0,l=Ew(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(da(),f===v){s=bc(n,s,l);break t}Ss(n,s,f,l)}s=s.child}return s;case 26:return F2(n,s),n===null?(l=Q3(s.type,null,s.pendingProps,null))?s.memoizedState=l:hi||(l=s.type,n=s.pendingProps,f=Z2(st.current).createElement(l),f[Ti]=s,f[Yi]=n,xs(f,l,n),_i(f),s.stateNode=f):s.memoizedState=Q3(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Vt(s),n===null&&hi&&(f=s.stateNode=W3(s.type,s.pendingProps,st.current),Nn=s,Tr=!0,v=en,Xu(s.type)?(zb=v,en=Ao(f.firstChild)):en=v),Ss(n,s,s.pendingProps.children,l),F2(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&hi&&((v=f=en)&&(f=ZE(f,s.type,s.pendingProps,Tr),f!==null?(s.stateNode=f,Nn=s,en=Ao(f.firstChild),Tr=!1,v=!0):v=!1),v||hc(s)),Vt(s),v=s.type,S=s.pendingProps,D=n!==null?n.memoizedProps:null,f=S.children,Ib(v,S)?f=null:D!==null&&Ib(v,D)&&(s.flags|=32),s.memoizedState!==null&&(v=Ka(n,s,gl,null,null,l),t0._currentValue=v),F2(n,s),Ss(n,s,f,l),s.child;case 6:return n===null&&hi&&((n=l=en)&&(l=JE(l,s.pendingProps,Tr),l!==null?(s.stateNode=l,Nn=s,en=null,n=!0):n=!1),n||hc(s)),null;case 13:return Gw(n,s,l);case 4:return St(s,s.stateNode.containerInfo),f=s.pendingProps,n===null?s.child=Ep(s,null,f,l):Ss(n,s,f,l),s.child;case 11:return Iw(n,s,s.type,s.pendingProps,l);case 7:return Ss(n,s,s.pendingProps,l),s.child;case 8:return Ss(n,s,s.pendingProps.children,l),s.child;case 12:return Ss(n,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,fl(s,s.type,f.value),Ss(n,s,f.children,l),s.child;case 9:return v=s.type._context,f=s.pendingProps.children,Or(s),v=Ln(v),f=f(v),s.flags|=1,Ss(n,s,f,l),s.child;case 14:return Fw(n,s,s.type,s.pendingProps,l);case 15:return Bw(n,s,s.type,s.pendingProps,l);case 19:return Yw(n,s,l);case 31:return f=s.pendingProps,l=s.mode,f={mode:f.mode,children:f.children},n===null?(l=B2(f,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Cr(n.child,f),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return jw(n,s,l);case 24:return Or(s),f=Ln(Cn),n===null?(v=x(),v===null&&(v=Ui,S=_1(),v.pooledCache=S,S.refCount++,S!==null&&(v.pooledCacheLanes|=l),v=S),s.memoizedState={parent:f,cache:v},gt(s),fl(s,Cn,v)):((n.lanes&l)!==0&&(bt(n,s),Zt(s,null,null,l),ve()),v=n.memoizedState,S=s.memoizedState,v.parent!==f?(v={parent:f,cache:f},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),fl(s,Cn,f)):(f=S.cache,fl(s,Cn,f),f!==v.cache&&gp(s,[Cn],l,!0))),Ss(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function yc(n){n.flags|=4}function Ww(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!iS(s)){if(s=kr.current,s!==null&&((ci&4194048)===ci?bl!==null:(ci&62914560)!==ci&&(ci&536870912)===0||s!==bl))throw Nt=W,q;n.flags|=8192}}function j2(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Vi():536870912,n.lanes|=s,Tp|=s)}function j1(n,s){if(!hi)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function dn(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,f=0;if(s)for(var v=n.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=f,n.childLanes=l,s}function EE(n,s,l){var f=s.pendingProps;switch(mf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(s),null;case 1:return dn(s),null;case 3:return l=s.stateNode,f=null,n!==null&&(f=n.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Mr(Cn),Ct(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(As(s)?yc(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,m2())),dn(s),null;case 26:return l=s.memoizedState,n===null?(yc(s),l!==null?(dn(s),Ww(s,l)):(dn(s),s.flags&=-16777217)):l?l!==n.memoizedState?(yc(s),dn(s),Ww(s,l)):(dn(s),s.flags&=-16777217):(n.memoizedProps!==f&&yc(s),dn(s),s.flags&=-16777217),null;case 27:Ht(s),l=st.current;var v=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==f&&yc(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return dn(s),null}n=Q.current,As(s)?g2(s):(n=W3(v,f,l),s.stateNode=n,yc(s))}return dn(s),null;case 5:if(Ht(s),l=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==f&&yc(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return dn(s),null}if(n=Q.current,As(s))g2(s);else{switch(v=Z2(st.current),n){case 1:n=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?n.multiple=!0:f.size&&(n.size=f.size);break;default:n=typeof f.is=="string"?v.createElement(l,{is:f.is}):v.createElement(l)}}n[Ti]=s,n[Yi]=f;t:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)n.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break t;for(;v.sibling===null;){if(v.return===null||v.return===s)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=n;t:switch(xs(n,l,f),l){case"button":case"input":case"select":case"textarea":n=!!f.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&yc(s)}}return dn(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==f&&yc(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(i(166));if(n=st.current,As(s)){if(n=s.stateNode,l=s.memoizedProps,f=null,v=Nn,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}n[Ti]=s,n=!!(n.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||q3(n.nodeValue,l)),n||hc(s)}else n=Z2(n).createTextNode(f),n[Ti]=s,s.stateNode=n}return dn(s),null;case 13:if(f=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(v=As(s),f!==null&&f.dehydrated!==null){if(n===null){if(!v)throw Error(i(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Ti]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dn(s),v=!1}else v=m2(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(vc(s),s):(vc(s),null)}if(vc(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=f!==null,n=n!==null&&n.memoizedState!==null,l){f=s.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var S=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),S!==v&&(f.flags|=2048)}return l!==n&&l&&(s.child.flags|=8192),j2(s,s.updateQueue),dn(s),null;case 4:return Ct(),n===null&&Mb(s.stateNode.containerInfo),dn(s),null;case 10:return Mr(s.type),dn(s),null;case 19:if(O(Qn),v=s.memoizedState,v===null)return dn(s),null;if(f=(s.flags&128)!==0,S=v.rendering,S===null)if(f)j1(v,!1);else{if(An!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(S=k2(n),S!==null){for(s.flags|=128,j1(v,!1),n=S.updateQueue,s.updateQueue=n,j2(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)df(l,n),l=l.sibling;return H(Qn,Qn.current&1|2),s.child}n=n.sibling}v.tail!==null&&we()>U2&&(s.flags|=128,f=!0,j1(v,!1),s.lanes=4194304)}else{if(!f)if(n=k2(S),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,j2(s,n),j1(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!hi)return dn(s),null}else 2*we()-v.renderingStartTime>U2&&l!==536870912&&(s.flags|=128,f=!0,j1(v,!1),s.lanes=4194304);v.isBackwards?(S.sibling=s.child,s.child=S):(n=v.last,n!==null?n.sibling=S:s.child=S,v.last=S)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=we(),s.sibling=null,n=Qn.current,H(Qn,f?n&1|2:n&1),s):(dn(s),null);case 22:case 23:return vc(s),Pe(),f=s.memoizedState!==null,n!==null?n.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(dn(s),s.subtreeFlags&6&&(s.flags|=8192)):dn(s),l=s.updateQueue,l!==null&&j2(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),n!==null&&O(b),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Mr(Cn),dn(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function NE(n,s){switch(mf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Mr(Cn),Ct(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ht(s),null;case 13:if(vc(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));da()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return O(Qn),null;case 4:return Ct(),null;case 10:return Mr(s.type),null;case 22:case 23:return vc(s),Pe(),n!==null&&O(b),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Mr(Cn),null;case 25:return null;default:return null}}function Kw(n,s){switch(mf(s),s.tag){case 3:Mr(Cn),Ct();break;case 26:case 27:case 5:Ht(s);break;case 4:Ct();break;case 13:vc(s);break;case 19:O(Qn);break;case 10:Mr(s.type);break;case 22:case 23:vc(s),Pe(),n!==null&&O(b);break;case 24:Mr(Cn)}}function z1(n,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&n)===n){f=void 0;var S=l.create,D=l.inst;f=S(),D.destroy=f}l=l.next}while(l!==v)}}catch(Y){Bi(s,s.return,Y)}}function ju(n,s,l){try{var f=s.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var S=v.next;f=S;do{if((f.tag&n)===n){var D=f.inst,Y=D.destroy;if(Y!==void 0){D.destroy=void 0,v=s;var ct=l,Rt=Y;try{Rt()}catch(Ft){Bi(v,ct,Ft)}}}f=f.next}while(f!==S)}}catch(Ft){Bi(s,s.return,Ft)}}function $w(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{gi(s,l)}catch(f){Bi(n,n.return,f)}}}function Qw(n,s,l){l.props=Tf(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(f){Bi(n,s,f)}}function q1(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var f=n.stateNode;break;case 30:f=n.stateNode;break;default:f=n.stateNode}typeof l=="function"?n.refCleanup=l(f):l.current=f}}catch(v){Bi(n,s,v)}}function yl(n,s){var l=n.ref,f=n.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(v){Bi(n,s,v)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Bi(n,s,v)}else l.current=null}function Zw(n){var s=n.type,l=n.memoizedProps,f=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break t;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(v){Bi(n,n.return,v)}}function ob(n,s,l){try{var f=n.stateNode;XE(f,n.type,l,s),f[Yi]=s}catch(v){Bi(n,n.return,v)}}function Jw(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Xu(n.type)||n.tag===4}function lb(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Jw(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Xu(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function cb(n,s,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Q2));else if(f!==4&&(f===27&&Xu(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(cb(n,s,l),n=n.sibling;n!==null;)cb(n,s,l),n=n.sibling}function z2(n,s,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(f!==4&&(f===27&&Xu(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(z2(n,s,l),n=n.sibling;n!==null;)z2(n,s,l),n=n.sibling}function t3(n){var s=n.stateNode,l=n.memoizedProps;try{for(var f=n.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);xs(s,f,l),s[Ti]=n,s[Yi]=l}catch(S){Bi(n,n.return,S)}}var Ac=!1,Rn=!1,ub=!1,e3=typeof WeakSet=="function"?WeakSet:Set,cs=null;function LE(n,s){if(n=n.containerInfo,kb=s5,n=ys(n),$n(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else t:{l=(l=n.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var v=f.anchorOffset,S=f.focusNode;f=f.focusOffset;try{l.nodeType,S.nodeType}catch{l=null;break t}var D=0,Y=-1,ct=-1,Rt=0,Ft=0,Ut=n,Mt=null;e:for(;;){for(var Ot;Ut!==l||v!==0&&Ut.nodeType!==3||(Y=D+v),Ut!==S||f!==0&&Ut.nodeType!==3||(ct=D+f),Ut.nodeType===3&&(D+=Ut.nodeValue.length),(Ot=Ut.firstChild)!==null;)Mt=Ut,Ut=Ot;for(;;){if(Ut===n)break e;if(Mt===l&&++Rt===v&&(Y=D),Mt===S&&++Ft===f&&(ct=D),(Ot=Ut.nextSibling)!==null)break;Ut=Mt,Mt=Ut.parentNode}Ut=Ot}l=Y===-1||ct===-1?null:{start:Y,end:ct}}else l=null}l=l||{start:0,end:0}}else l=null;for(Pb={focusedElem:n,selectionRange:l},s5=!1,cs=s;cs!==null;)if(s=cs,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,cs=n;else for(;cs!==null;){switch(s=cs,S=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&S!==null){n=void 0,l=s,v=S.memoizedProps,S=S.memoizedState,f=l.stateNode;try{var Re=Tf(l.type,v,l.elementType===l.type);n=f.getSnapshotBeforeUpdate(Re,S),f.__reactInternalSnapshotBeforeUpdate=n}catch(_e){Bi(l,l.return,_e)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)Bb(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Bb(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,cs=n;break}cs=s.return}}function i3(n,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:zu(n,l),f&4&&z1(5,l);break;case 1:if(zu(n,l),f&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(D){Bi(l,l.return,D)}else{var v=Tf(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(v,s,n.__reactInternalSnapshotBeforeUpdate)}catch(D){Bi(l,l.return,D)}}f&64&&$w(l),f&512&&q1(l,l.return);break;case 3:if(zu(n,l),f&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{gi(n,s)}catch(D){Bi(l,l.return,D)}}break;case 27:s===null&&f&4&&t3(l);case 26:case 5:zu(n,l),s===null&&f&4&&Zw(l),f&512&&q1(l,l.return);break;case 12:zu(n,l);break;case 13:zu(n,l),f&4&&a3(n,l),f&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=IE.bind(null,l),t6(n,l))));break;case 22:if(f=l.memoizedState!==null||Ac,!f){s=s!==null&&s.memoizedState!==null||Rn,v=Ac;var S=Rn;Ac=f,(Rn=s)&&!S?qu(n,l,(l.subtreeFlags&8772)!==0):zu(n,l),Ac=v,Rn=S}break;case 30:break;default:zu(n,l)}}function n3(n){var s=n.alternate;s!==null&&(n.alternate=null,n3(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&oa(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var nn=null,Ma=!1;function wc(n,s,l){for(l=l.child;l!==null;)s3(n,s,l),l=l.sibling}function s3(n,s,l){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Be,l)}catch{}switch(l.tag){case 26:Rn||yl(l,s),wc(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Rn||yl(l,s);var f=nn,v=Ma;Xu(l.type)&&(nn=l.stateNode,Ma=!1),wc(n,s,l),$1(l.stateNode),nn=f,Ma=v;break;case 5:Rn||yl(l,s);case 6:if(f=nn,v=Ma,nn=null,wc(n,s,l),nn=f,Ma=v,nn!==null)if(Ma)try{(nn.nodeType===9?nn.body:nn.nodeName==="HTML"?nn.ownerDocument.body:nn).removeChild(l.stateNode)}catch(S){Bi(l,s,S)}else try{nn.removeChild(l.stateNode)}catch(S){Bi(l,s,S)}break;case 18:nn!==null&&(Ma?(n=nn,Y3(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),s0(n)):Y3(nn,l.stateNode));break;case 4:f=nn,v=Ma,nn=l.stateNode.containerInfo,Ma=!0,wc(n,s,l),nn=f,Ma=v;break;case 0:case 11:case 14:case 15:Rn||ju(2,l,s),Rn||ju(4,l,s),wc(n,s,l);break;case 1:Rn||(yl(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&Qw(l,s,f)),wc(n,s,l);break;case 21:wc(n,s,l);break;case 22:Rn=(f=Rn)||l.memoizedState!==null,wc(n,s,l),Rn=f;break;default:wc(n,s,l)}}function a3(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{s0(n)}catch(l){Bi(s,s.return,l)}}function CE(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new e3),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new e3),s;default:throw Error(i(435,n.tag))}}function hb(n,s){var l=CE(n);s.forEach(function(f){var v=FE.bind(null,n,f);l.has(f)||(l.add(f),f.then(v,v))})}function Qa(n,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var v=l[f],S=n,D=s,Y=D;t:for(;Y!==null;){switch(Y.tag){case 27:if(Xu(Y.type)){nn=Y.stateNode,Ma=!1;break t}break;case 5:nn=Y.stateNode,Ma=!1;break t;case 3:case 4:nn=Y.stateNode.containerInfo,Ma=!0;break t}Y=Y.return}if(nn===null)throw Error(i(160));s3(S,D,v),nn=null,Ma=!1,S=v.alternate,S!==null&&(S.return=null),v.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)r3(s,n),s=s.sibling}var yo=null;function r3(n,s){var l=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Qa(s,n),Za(n),f&4&&(ju(3,n,n.return),z1(3,n),ju(5,n,n.return));break;case 1:Qa(s,n),Za(n),f&512&&(Rn||l===null||yl(l,l.return)),f&64&&Ac&&(n=n.updateQueue,n!==null&&(f=n.callbacks,f!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var v=yo;if(Qa(s,n),Za(n),f&512&&(Rn||l===null||yl(l,l.return)),f&4){var S=l!==null?l.memoizedState:null;if(f=n.memoizedState,l===null)if(f===null)if(n.stateNode===null){t:{f=n.type,l=n.memoizedProps,v=v.ownerDocument||v;e:switch(f){case"title":S=v.getElementsByTagName("title")[0],(!S||S[ra]||S[Ti]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=v.createElement(f),v.head.insertBefore(S,v.querySelector("head > title"))),xs(S,f,l),S[Ti]=n,_i(S),f=S;break t;case"link":var D=tS("link","href",v).get(f+(l.href||""));if(D){for(var Y=0;Y<D.length;Y++)if(S=D[Y],S.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&S.getAttribute("rel")===(l.rel==null?null:l.rel)&&S.getAttribute("title")===(l.title==null?null:l.title)&&S.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){D.splice(Y,1);break e}}S=v.createElement(f),xs(S,f,l),v.head.appendChild(S);break;case"meta":if(D=tS("meta","content",v).get(f+(l.content||""))){for(Y=0;Y<D.length;Y++)if(S=D[Y],S.getAttribute("content")===(l.content==null?null:""+l.content)&&S.getAttribute("name")===(l.name==null?null:l.name)&&S.getAttribute("property")===(l.property==null?null:l.property)&&S.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&S.getAttribute("charset")===(l.charSet==null?null:l.charSet)){D.splice(Y,1);break e}}S=v.createElement(f),xs(S,f,l),v.head.appendChild(S);break;default:throw Error(i(468,f))}S[Ti]=n,_i(S),f=S}n.stateNode=f}else eS(v,n.type,n.stateNode);else n.stateNode=J3(v,f,n.memoizedProps);else S!==f?(S===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):S.count--,f===null?eS(v,n.type,n.stateNode):J3(v,f,n.memoizedProps)):f===null&&n.stateNode!==null&&ob(n,n.memoizedProps,l.memoizedProps)}break;case 27:Qa(s,n),Za(n),f&512&&(Rn||l===null||yl(l,l.return)),l!==null&&f&4&&ob(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Qa(s,n),Za(n),f&512&&(Rn||l===null||yl(l,l.return)),n.flags&32){v=n.stateNode;try{Yo(v,"")}catch(Ot){Bi(n,n.return,Ot)}}f&4&&n.stateNode!=null&&(v=n.memoizedProps,ob(n,v,l!==null?l.memoizedProps:v)),f&1024&&(ub=!0);break;case 6:if(Qa(s,n),Za(n),f&4){if(n.stateNode===null)throw Error(i(162));f=n.memoizedProps,l=n.stateNode;try{l.nodeValue=f}catch(Ot){Bi(n,n.return,Ot)}}break;case 3:if(e5=null,v=yo,yo=J2(s.containerInfo),Qa(s,n),yo=v,Za(n),f&4&&l!==null&&l.memoizedState.isDehydrated)try{s0(s.containerInfo)}catch(Ot){Bi(n,n.return,Ot)}ub&&(ub=!1,o3(n));break;case 4:f=yo,yo=J2(n.stateNode.containerInfo),Qa(s,n),Za(n),yo=f;break;case 12:Qa(s,n),Za(n);break;case 13:Qa(s,n),Za(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vb=we()),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,hb(n,f)));break;case 22:v=n.memoizedState!==null;var ct=l!==null&&l.memoizedState!==null,Rt=Ac,Ft=Rn;if(Ac=Rt||v,Rn=Ft||ct,Qa(s,n),Rn=Ft,Ac=Rt,Za(n),f&8192)t:for(s=n.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(l===null||ct||Ac||Rn||Rf(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){ct=l=s;try{if(S=ct.stateNode,v)D=S.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{Y=ct.stateNode;var Ut=ct.memoizedProps.style,Mt=Ut!=null&&Ut.hasOwnProperty("display")?Ut.display:null;Y.style.display=Mt==null||typeof Mt=="boolean"?"":(""+Mt).trim()}}catch(Ot){Bi(ct,ct.return,Ot)}}}else if(s.tag===6){if(l===null){ct=s;try{ct.stateNode.nodeValue=v?"":ct.memoizedProps}catch(Ot){Bi(ct,ct.return,Ot)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=n.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,hb(n,l))));break;case 19:Qa(s,n),Za(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,hb(n,f)));break;case 30:break;case 21:break;default:Qa(s,n),Za(n)}}function Za(n){var s=n.flags;if(s&2){try{for(var l,f=n.return;f!==null;){if(Jw(f)){l=f;break}f=f.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var v=l.stateNode,S=lb(n);z2(n,S,v);break;case 5:var D=l.stateNode;l.flags&32&&(Yo(D,""),l.flags&=-33);var Y=lb(n);z2(n,Y,D);break;case 3:case 4:var ct=l.stateNode.containerInfo,Rt=lb(n);cb(n,Rt,ct);break;default:throw Error(i(161))}}catch(Ft){Bi(n,n.return,Ft)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function o3(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;o3(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function zu(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)i3(n,s.alternate,s),s=s.sibling}function Rf(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ju(4,s,s.return),Rf(s);break;case 1:yl(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Qw(s,s.return,l),Rf(s);break;case 27:$1(s.stateNode);case 26:case 5:yl(s,s.return),Rf(s);break;case 22:s.memoizedState===null&&Rf(s);break;case 30:Rf(s);break;default:Rf(s)}n=n.sibling}}function qu(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,v=n,S=s,D=S.flags;switch(S.tag){case 0:case 11:case 15:qu(v,S,l),z1(4,S);break;case 1:if(qu(v,S,l),f=S,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Rt){Bi(f,f.return,Rt)}if(f=S,v=f.updateQueue,v!==null){var Y=f.stateNode;try{var ct=v.shared.hiddenCallbacks;if(ct!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ct.length;v++)oi(ct[v],Y)}catch(Rt){Bi(f,f.return,Rt)}}l&&D&64&&$w(S),q1(S,S.return);break;case 27:t3(S);case 26:case 5:qu(v,S,l),l&&f===null&&D&4&&Zw(S),q1(S,S.return);break;case 12:qu(v,S,l);break;case 13:qu(v,S,l),l&&D&4&&a3(v,S);break;case 22:S.memoizedState===null&&qu(v,S,l),q1(S,S.return);break;case 30:break;default:qu(v,S,l)}s=s.sibling}}function fb(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&vf(l))}function db(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&vf(n))}function Al(n,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)l3(n,s,l,f),s=s.sibling}function l3(n,s,l,f){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Al(n,s,l,f),v&2048&&z1(9,s);break;case 1:Al(n,s,l,f);break;case 3:Al(n,s,l,f),v&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&vf(n)));break;case 12:if(v&2048){Al(n,s,l,f),n=s.stateNode;try{var S=s.memoizedProps,D=S.id,Y=S.onPostCommit;typeof Y=="function"&&Y(D,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(ct){Bi(s,s.return,ct)}}else Al(n,s,l,f);break;case 13:Al(n,s,l,f);break;case 23:break;case 22:S=s.stateNode,D=s.alternate,s.memoizedState!==null?S._visibility&2?Al(n,s,l,f):U1(n,s):S._visibility&2?Al(n,s,l,f):(S._visibility|=2,Np(n,s,l,f,(s.subtreeFlags&10256)!==0)),v&2048&&fb(D,s);break;case 24:Al(n,s,l,f),v&2048&&db(s.alternate,s);break;default:Al(n,s,l,f)}}function Np(n,s,l,f,v){for(v=v&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var S=n,D=s,Y=l,ct=f,Rt=D.flags;switch(D.tag){case 0:case 11:case 15:Np(S,D,Y,ct,v),z1(8,D);break;case 23:break;case 22:var Ft=D.stateNode;D.memoizedState!==null?Ft._visibility&2?Np(S,D,Y,ct,v):U1(S,D):(Ft._visibility|=2,Np(S,D,Y,ct,v)),v&&Rt&2048&&fb(D.alternate,D);break;case 24:Np(S,D,Y,ct,v),v&&Rt&2048&&db(D.alternate,D);break;default:Np(S,D,Y,ct,v)}s=s.sibling}}function U1(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,f=s,v=f.flags;switch(f.tag){case 22:U1(l,f),v&2048&&fb(f.alternate,f);break;case 24:U1(l,f),v&2048&&db(f.alternate,f);break;default:U1(l,f)}s=s.sibling}}var H1=8192;function Lp(n){if(n.subtreeFlags&H1)for(n=n.child;n!==null;)c3(n),n=n.sibling}function c3(n){switch(n.tag){case 26:Lp(n),n.flags&H1&&n.memoizedState!==null&&d6(yo,n.memoizedState,n.memoizedProps);break;case 5:Lp(n);break;case 3:case 4:var s=yo;yo=J2(n.stateNode.containerInfo),Lp(n),yo=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=H1,H1=16777216,Lp(n),H1=s):Lp(n));break;default:Lp(n)}}function u3(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function G1(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];cs=f,f3(f,n)}u3(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)h3(n),n=n.sibling}function h3(n){switch(n.tag){case 0:case 11:case 15:G1(n),n.flags&2048&&ju(9,n,n.return);break;case 3:G1(n);break;case 12:G1(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,q2(n)):G1(n);break;default:G1(n)}}function q2(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];cs=f,f3(f,n)}u3(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ju(8,s,s.return),q2(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,q2(s));break;default:q2(s)}n=n.sibling}}function f3(n,s){for(;cs!==null;){var l=cs;switch(l.tag){case 0:case 11:case 15:ju(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:vf(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,cs=f;else t:for(l=n;cs!==null;){f=cs;var v=f.sibling,S=f.return;if(n3(f),f===l){cs=null;break t}if(v!==null){v.return=S,cs=v;break t}cs=S}}}var TE={getCacheForType:function(n){var s=Ln(Cn),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l}},RE=typeof WeakMap=="function"?WeakMap:Map,Ei=0,Ui=null,ei=null,ci=0,Ni=0,Ja=null,Uu=!1,Cp=!1,pb=!1,Sc=0,An=0,Hu=0,Mf=0,gb=0,Pr=0,Tp=0,V1=null,Oa=null,mb=!1,vb=0,U2=1/0,H2=null,Gu=null,_s=0,Vu=null,Rp=null,Mp=0,bb=0,yb=null,d3=null,Y1=0,Ab=null;function tr(){if((Ei&2)!==0&&ci!==0)return ci&-ci;if(U.T!==null){var n=fc;return n!==0?n:Lb()}return za()}function p3(){Pr===0&&(Pr=(ci&536870912)===0||hi?Uo():536870912);var n=kr.current;return n!==null&&(n.flags|=32),Pr}function er(n,s,l){(n===Ui&&(Ni===2||Ni===9)||n.cancelPendingCommit!==null)&&(Op(n,0),Yu(n,ci,Pr,!1)),sa(n,l),((Ei&2)===0||n!==Ui)&&(n===Ui&&((Ei&2)===0&&(Mf|=l),An===4&&Yu(n,ci,Pr,!1)),wl(n))}function g3(n,s,l){if((Ei&6)!==0)throw Error(i(327));var f=!l&&(s&124)===0&&(s&n.expiredLanes)===0||Ps(n,s),v=f?DE(n,s):_b(n,s,!0),S=f;do{if(v===0){Cp&&!f&&Yu(n,s,0,!1);break}else{if(l=n.current.alternate,S&&!ME(l)){v=_b(n,s,!1),S=!1;continue}if(v===2){if(S=s,n.errorRecoveryDisabledLanes&S)var D=0;else D=n.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){s=D;t:{var Y=n;v=V1;var ct=Y.current.memoizedState.isDehydrated;if(ct&&(Op(Y,D).flags|=256),D=_b(Y,D,!1),D!==2){if(pb&&!ct){Y.errorRecoveryDisabledLanes|=S,Mf|=S,v=4;break t}S=Oa,Oa=v,S!==null&&(Oa===null?Oa=S:Oa.push.apply(Oa,S))}v=D}if(S=!1,v!==2)continue}}if(v===1){Op(n,0),Yu(n,s,0,!0);break}t:{switch(f=n,S=v,S){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Yu(f,s,Pr,!Uu);break t;case 2:Oa=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(v=vb+300-we(),10<v)){if(Yu(f,s,Pr,!Uu),Si(f,0,!0)!==0)break t;f.timeoutHandle=G3(m3.bind(null,f,l,Oa,H2,mb,s,Pr,Mf,Tp,Uu,S,2,-0,0),v);break t}m3(f,l,Oa,H2,mb,s,Pr,Mf,Tp,Uu,S,0,-0,0)}}break}while(!0);wl(n)}function m3(n,s,l,f,v,S,D,Y,ct,Rt,Ft,Ut,Mt,Ot){if(n.timeoutHandle=-1,Ut=s.subtreeFlags,(Ut&8192||(Ut&16785408)===16785408)&&(J1={stylesheets:null,count:0,unsuspend:f6},c3(s),Ut=p6(),Ut!==null)){n.cancelPendingCommit=Ut(_3.bind(null,n,s,S,l,f,v,D,Y,ct,Ft,1,Mt,Ot)),Yu(n,S,D,!Rt);return}_3(n,s,S,l,f,v,D,Y,ct)}function ME(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var v=l[f],S=v.getSnapshot;v=v.value;try{if(!zn(S(),v))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yu(n,s,l,f){s&=~gb,s&=~Mf,n.suspendedLanes|=s,n.pingedLanes&=~s,f&&(n.warmLanes|=s),f=n.expirationTimes;for(var v=s;0<v;){var S=31-he(v),D=1<<S;f[S]=-1,v&=~D}l!==0&&Oe(n,l,s)}function G2(){return(Ei&6)===0?(X1(0),!1):!0}function wb(){if(ei!==null){if(Ni===0)var n=ei.return;else n=ei,fo=Un=null,bp(n),xp=null,F1=0,n=ei;for(;n!==null;)Kw(n.alternate,n),n=n.return;ei=null}}function Op(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,KE(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),wb(),Ui=n,ei=l=Cr(n.current,null),ci=s,Ni=0,Ja=null,Uu=!1,Cp=Ps(n,s),pb=!1,Tp=Pr=gb=Mf=Hu=An=0,Oa=V1=null,mb=!1,(s&8)!==0&&(s|=s&32);var f=n.entangledLanes;if(f!==0)for(n=n.entanglements,f&=s;0<f;){var v=31-he(f),S=1<<v;s|=n[v],f&=~S}return Sc=s,La(),l}function v3(n,s){Se=null,U.H=M2,s===B||s===G?(s=wt(),Ni=3):s===q?(s=wt(),Ni=4):Ni=s===Pw?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ja=s,ei===null&&(An=1,I2(n,We(s,n.current)))}function b3(){var n=U.H;return U.H=M2,n===null?M2:n}function y3(){var n=U.A;return U.A=TE,n}function Sb(){An=4,Uu||(ci&4194048)!==ci&&kr.current!==null||(Cp=!0),(Hu&134217727)===0&&(Mf&134217727)===0||Ui===null||Yu(Ui,ci,Pr,!1)}function _b(n,s,l){var f=Ei;Ei|=2;var v=b3(),S=y3();(Ui!==n||ci!==s)&&(H2=null,Op(n,s)),s=!1;var D=An;t:do try{if(Ni!==0&&ei!==null){var Y=ei,ct=Ja;switch(Ni){case 8:wb(),D=6;break t;case 3:case 2:case 9:case 6:kr.current===null&&(s=!0);var Rt=Ni;if(Ni=0,Ja=null,Dp(n,Y,ct,Rt),l&&Cp){D=0;break t}break;default:Rt=Ni,Ni=0,Ja=null,Dp(n,Y,ct,Rt)}}OE(),D=An;break}catch(Ft){v3(n,Ft)}while(!0);return s&&n.shellSuspendCounter++,fo=Un=null,Ei=f,U.H=v,U.A=S,ei===null&&(Ui=null,ci=0,La()),D}function OE(){for(;ei!==null;)A3(ei)}function DE(n,s){var l=Ei;Ei|=2;var f=b3(),v=y3();Ui!==n||ci!==s?(H2=null,U2=we()+500,Op(n,s)):Cp=Ps(n,s);t:do try{if(Ni!==0&&ei!==null){s=ei;var S=Ja;e:switch(Ni){case 1:Ni=0,Ja=null,Dp(n,s,S,1);break;case 2:case 9:if(et(S)){Ni=0,Ja=null,w3(s);break}s=function(){Ni!==2&&Ni!==9||Ui!==n||(Ni=7),wl(n)},S.then(s,s);break t;case 3:Ni=7;break t;case 4:Ni=5;break t;case 7:et(S)?(Ni=0,Ja=null,w3(s)):(Ni=0,Ja=null,Dp(n,s,S,7));break;case 5:var D=null;switch(ei.tag){case 26:D=ei.memoizedState;case 5:case 27:var Y=ei;if(!D||iS(D)){Ni=0,Ja=null;var ct=Y.sibling;if(ct!==null)ei=ct;else{var Rt=Y.return;Rt!==null?(ei=Rt,V2(Rt)):ei=null}break e}}Ni=0,Ja=null,Dp(n,s,S,5);break;case 6:Ni=0,Ja=null,Dp(n,s,S,6);break;case 8:wb(),An=6;break t;default:throw Error(i(462))}}kE();break}catch(Ft){v3(n,Ft)}while(!0);return fo=Un=null,U.H=f,U.A=v,Ei=l,ei!==null?0:(Ui=null,ci=0,La(),An)}function kE(){for(;ei!==null&&!Pt();)A3(ei)}function A3(n){var s=Xw(n.alternate,n,Sc);n.memoizedProps=n.pendingProps,s===null?V2(n):ei=s}function w3(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=qw(l,s,s.pendingProps,s.type,void 0,ci);break;case 11:s=qw(l,s,s.pendingProps,s.type.render,s.ref,ci);break;case 5:bp(s);default:Kw(l,s),s=ei=df(s,Sc),s=Xw(l,s,Sc)}n.memoizedProps=n.pendingProps,s===null?V2(n):ei=s}function Dp(n,s,l,f){fo=Un=null,bp(s),xp=null,F1=0;var v=s.return;try{if(_E(n,v,s,l,ci)){An=1,I2(n,We(l,n.current)),ei=null;return}}catch(S){if(v!==null)throw ei=v,S;An=1,I2(n,We(l,n.current)),ei=null;return}s.flags&32768?(hi||f===1?n=!0:Cp||(ci&536870912)!==0?n=!1:(Uu=n=!0,(f===2||f===9||f===3||f===6)&&(f=kr.current,f!==null&&f.tag===13&&(f.flags|=16384))),S3(s,n)):V2(s)}function V2(n){var s=n;do{if((s.flags&32768)!==0){S3(s,Uu);return}n=s.return;var l=EE(s.alternate,s,Sc);if(l!==null){ei=l;return}if(s=s.sibling,s!==null){ei=s;return}ei=s=n}while(s!==null);An===0&&(An=5)}function S3(n,s){do{var l=NE(n.alternate,n);if(l!==null){l.flags&=32767,ei=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){ei=n;return}ei=n=l}while(n!==null);An=6,ei=null}function _3(n,s,l,f,v,S,D,Y,ct){n.cancelPendingCommit=null;do Y2();while(_s!==0);if((Ei&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(S=s.lanes|s.childLanes,S|=un,Qi(n,l,S,D,Y,ct),n===Ui&&(ei=Ui=null,ci=0),Rp=s,Vu=n,Mp=l,bb=S,yb=v,d3=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,BE(Jt,function(){return C3(),null})):(n.callbackNode=null,n.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=U.T,U.T=null,v=J.p,J.p=2,D=Ei,Ei|=4;try{LE(n,s,l)}finally{Ei=D,J.p=v,U.T=f}}_s=1,x3(),E3(),N3()}}function x3(){if(_s===1){_s=0;var n=Vu,s=Rp,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var f=J.p;J.p=2;var v=Ei;Ei|=4;try{r3(s,n);var S=Pb,D=ys(n.containerInfo),Y=S.focusedElem,ct=S.selectionRange;if(D!==Y&&Y&&Y.ownerDocument&&il(Y.ownerDocument.documentElement,Y)){if(ct!==null&&$n(Y)){var Rt=ct.start,Ft=ct.end;if(Ft===void 0&&(Ft=Rt),"selectionStart"in Y)Y.selectionStart=Rt,Y.selectionEnd=Math.min(Ft,Y.value.length);else{var Ut=Y.ownerDocument||document,Mt=Ut&&Ut.defaultView||window;if(Mt.getSelection){var Ot=Mt.getSelection(),Re=Y.textContent.length,_e=Math.min(ct.start,Re),Oi=ct.end===void 0?_e:Math.min(ct.end,Re);!Ot.extend&&_e>Oi&&(D=Oi,Oi=_e,_e=D);var _t=so(Y,_e),vt=so(Y,Oi);if(_t&&vt&&(Ot.rangeCount!==1||Ot.anchorNode!==_t.node||Ot.anchorOffset!==_t.offset||Ot.focusNode!==vt.node||Ot.focusOffset!==vt.offset)){var Lt=Ut.createRange();Lt.setStart(_t.node,_t.offset),Ot.removeAllRanges(),_e>Oi?(Ot.addRange(Lt),Ot.extend(vt.node,vt.offset)):(Lt.setEnd(vt.node,vt.offset),Ot.addRange(Lt))}}}}for(Ut=[],Ot=Y;Ot=Ot.parentNode;)Ot.nodeType===1&&Ut.push({element:Ot,left:Ot.scrollLeft,top:Ot.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Ut.length;Y++){var jt=Ut[Y];jt.element.scrollLeft=jt.left,jt.element.scrollTop=jt.top}}s5=!!kb,Pb=kb=null}finally{Ei=v,J.p=f,U.T=l}}n.current=s,_s=2}}function E3(){if(_s===2){_s=0;var n=Vu,s=Rp,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var f=J.p;J.p=2;var v=Ei;Ei|=4;try{i3(n,s.alternate,s)}finally{Ei=v,J.p=f,U.T=l}}_s=3}}function N3(){if(_s===4||_s===3){_s=0,lt();var n=Vu,s=Rp,l=Mp,f=d3;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?_s=5:(_s=0,Rp=Vu=null,L3(n,n.pendingLanes));var v=n.pendingLanes;if(v===0&&(Gu=null),_n(l),s=s.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Be,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=U.T,v=J.p,J.p=2,U.T=null;try{for(var S=n.onRecoverableError,D=0;D<f.length;D++){var Y=f[D];S(Y.value,{componentStack:Y.stack})}}finally{U.T=s,J.p=v}}(Mp&3)!==0&&Y2(),wl(n),v=n.pendingLanes,(l&4194090)!==0&&(v&42)!==0?n===Ab?Y1++:(Y1=0,Ab=n):Y1=0,X1(0)}}function L3(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,vf(s)))}function Y2(n){return x3(),E3(),N3(),C3()}function C3(){if(_s!==5)return!1;var n=Vu,s=bb;bb=0;var l=_n(Mp),f=U.T,v=J.p;try{J.p=32>l?32:l,U.T=null,l=yb,yb=null;var S=Vu,D=Mp;if(_s=0,Rp=Vu=null,Mp=0,(Ei&6)!==0)throw Error(i(331));var Y=Ei;if(Ei|=4,h3(S.current),l3(S,S.current,D,l),Ei=Y,X1(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Be,S)}catch{}return!0}finally{J.p=v,U.T=f,L3(n,s)}}function T3(n,s,l){s=We(l,s),s=Zv(n.stateNode,s,2),n=qt(n,s,2),n!==null&&(sa(n,2),wl(n))}function Bi(n,s,l){if(n.tag===3)T3(n,n,l);else for(;s!==null;){if(s.tag===3){T3(s,n,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Gu===null||!Gu.has(f))){n=We(l,n),l=Dw(2),f=qt(s,l,2),f!==null&&(kw(l,f,s,n),sa(f,2),wl(f));break}}s=s.return}}function xb(n,s,l){var f=n.pingCache;if(f===null){f=n.pingCache=new RE;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(l)||(pb=!0,v.add(l),n=PE.bind(null,n,s,l),s.then(n,n))}function PE(n,s,l){var f=n.pingCache;f!==null&&f.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Ui===n&&(ci&l)===l&&(An===4||An===3&&(ci&62914560)===ci&&300>we()-vb?(Ei&2)===0&&Op(n,0):gb|=l,Tp===ci&&(Tp=0)),wl(n)}function R3(n,s){s===0&&(s=Vi()),n=ro(n,s),n!==null&&(sa(n,s),wl(n))}function IE(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),R3(n,l)}function FE(n,s){var l=0;switch(n.tag){case 13:var f=n.stateNode,v=n.memoizedState;v!==null&&(l=v.retryLane);break;case 19:f=n.stateNode;break;case 22:f=n.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(s),R3(n,l)}function BE(n,s){return Kt(n,s)}var X2=null,kp=null,Eb=!1,W2=!1,Nb=!1,Of=0;function wl(n){n!==kp&&n.next===null&&(kp===null?X2=kp=n:kp=kp.next=n),W2=!0,Eb||(Eb=!0,zE())}function X1(n,s){if(!Nb&&W2){Nb=!0;do for(var l=!1,f=X2;f!==null;){if(n!==0){var v=f.pendingLanes;if(v===0)var S=0;else{var D=f.suspendedLanes,Y=f.pingedLanes;S=(1<<31-he(42|n)+1)-1,S&=v&~(D&~Y),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(l=!0,k3(f,S))}else S=ci,S=Si(f,f===Ui?S:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(S&3)===0||Ps(f,S)||(l=!0,k3(f,S));f=f.next}while(l);Nb=!1}}function jE(){M3()}function M3(){W2=Eb=!1;var n=0;Of!==0&&(WE()&&(n=Of),Of=0);for(var s=we(),l=null,f=X2;f!==null;){var v=f.next,S=O3(f,s);S===0?(f.next=null,l===null?X2=v:l.next=v,v===null&&(kp=l)):(l=f,(n!==0||(S&3)!==0)&&(W2=!0)),f=v}X1(n)}function O3(n,s){for(var l=n.suspendedLanes,f=n.pingedLanes,v=n.expirationTimes,S=n.pendingLanes&-62914561;0<S;){var D=31-he(S),Y=1<<D,ct=v[D];ct===-1?((Y&l)===0||(Y&f)!==0)&&(v[D]=pi(Y,s)):ct<=s&&(n.expiredLanes|=Y),S&=~Y}if(s=Ui,l=ci,l=Si(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f=n.callbackNode,l===0||n===s&&(Ni===2||Ni===9)||n.cancelPendingCommit!==null)return f!==null&&f!==null&&be(f),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Ps(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(f!==null&&be(f),_n(l)){case 2:case 8:l=Qt;break;case 32:l=Jt;break;case 268435456:l=me;break;default:l=Jt}return f=D3.bind(null,n),l=Kt(l,f),n.callbackPriority=s,n.callbackNode=l,s}return f!==null&&f!==null&&be(f),n.callbackPriority=2,n.callbackNode=null,2}function D3(n,s){if(_s!==0&&_s!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Y2()&&n.callbackNode!==l)return null;var f=ci;return f=Si(n,n===Ui?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f===0?null:(g3(n,f,s),O3(n,we()),n.callbackNode!=null&&n.callbackNode===l?D3.bind(null,n):null)}function k3(n,s){if(Y2())return null;g3(n,s,!0)}function zE(){$E(function(){(Ei&6)!==0?Kt(Yt,jE):M3()})}function Lb(){return Of===0&&(Of=Uo()),Of}function P3(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Jr(""+n)}function I3(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function qE(n,s,l,f,v){if(s==="submit"&&l&&l.stateNode===v){var S=P3((v[Yi]||null).action),D=f.submitter;D&&(s=(s=D[Yi]||null)?P3(s.formAction):D.getAttribute("formAction"),s!==null&&(S=s,D=null));var Y=new Ko("action","action",null,f,v);n.push({event:Y,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Of!==0){var ct=D?I3(v,D):new FormData(v);Dr(l,{pending:!0,data:ct,method:v.method,action:S},null,ct)}}else typeof S=="function"&&(Y.preventDefault(),ct=D?I3(v,D):new FormData(v),Dr(l,{pending:!0,data:ct,method:v.method,action:S},S,ct))},currentTarget:v}]})}}for(var Cb=0;Cb<rc.length;Cb++){var Tb=rc[Cb],UE=Tb.toLowerCase(),HE=Tb[0].toUpperCase()+Tb.slice(1);tn(UE,"on"+HE)}tn(Nu,"onAnimationEnd"),tn(sl,"onAnimationIteration"),tn(al,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(rl,"onTransitionRun"),tn(ac,"onTransitionStart"),tn(Lu,"onTransitionCancel"),tn(ol,"onTransitionEnd"),qa("onMouseEnter",["mouseout","mouseover"]),qa("onMouseLeave",["mouseout","mouseover"]),qa("onPointerEnter",["pointerout","pointerover"]),qa("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var W1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(W1));function F3(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var f=n[l],v=f.event;f=f.listeners;t:{var S=void 0;if(s)for(var D=f.length-1;0<=D;D--){var Y=f[D],ct=Y.instance,Rt=Y.currentTarget;if(Y=Y.listener,ct!==S&&v.isPropagationStopped())break t;S=Y,v.currentTarget=Rt;try{S(v)}catch(Ft){P2(Ft)}v.currentTarget=null,S=ct}else for(D=0;D<f.length;D++){if(Y=f[D],ct=Y.instance,Rt=Y.currentTarget,Y=Y.listener,ct!==S&&v.isPropagationStopped())break t;S=Y,v.currentTarget=Rt;try{S(v)}catch(Ft){P2(Ft)}v.currentTarget=null,S=ct}}}}function ii(n,s){var l=s[on];l===void 0&&(l=s[on]=new Set);var f=n+"__bubble";l.has(f)||(B3(s,n,2,!1),l.add(f))}function Rb(n,s,l){var f=0;s&&(f|=4),B3(l,n,f,s)}var K2="_reactListening"+Math.random().toString(36).slice(2);function Mb(n){if(!n[K2]){n[K2]=!0,Ho.forEach(function(l){l!=="selectionchange"&&(GE.has(l)||Rb(l,!1,n),Rb(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[K2]||(s[K2]=!0,Rb("selectionchange",!1,s))}}function B3(n,s,l,f){switch(lS(s)){case 2:var v=v6;break;case 8:v=b6;break;default:v=Vb}l=v.bind(null,s,l,n),v=void 0,!du||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?n.addEventListener(s,l,{capture:!0,passive:v}):n.addEventListener(s,l,!0):v!==void 0?n.addEventListener(s,l,{passive:v}):n.addEventListener(s,l,!1)}function Ob(n,s,l,f,v){var S=f;if((s&1)===0&&(s&2)===0&&f!==null)t:for(;;){if(f===null)return;var D=f.tag;if(D===3||D===4){var Y=f.stateNode.containerInfo;if(Y===v)break;if(D===4)for(D=f.return;D!==null;){var ct=D.tag;if((ct===3||ct===4)&&D.stateNode.containerInfo===v)return;D=D.return}for(;Y!==null;){if(D=ss(Y),D===null)return;if(ct=D.tag,ct===5||ct===6||ct===26||ct===27){f=S=D;continue t}Y=Y.parentNode}}f=f.return}rp(function(){var Rt=S,Ft=Bn(l),Ut=[];t:{var Mt=ao.get(n);if(Mt!==void 0){var Ot=Ko,Re=n;switch(n){case"keypress":if(Wo(l)===0)break t;case"keydown":case"keyup":Ot=wu;break;case"focusin":Re="focus",Ot=Zl;break;case"focusout":Re="blur",Ot=Zl;break;case"beforeblur":case"afterblur":Ot=Zl;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ot=Er;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ot=Qo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ot=cf;break;case Nu:case sl:case al:Ot=b1;break;case ol:Ot=P;break;case"scroll":case"scrollend":Ot=lp;break;case"wheel":Ot=dt;break;case"copy":case"cut":case"paste":Ot=y1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ot=Su;break;case"toggle":case"beforetoggle":Ot=kt}var _e=(s&4)!==0,Oi=!_e&&(n==="scroll"||n==="scrollend"),_t=_e?Mt!==null?Mt+"Capture":null:Mt;_e=[];for(var vt=Rt,Lt;vt!==null;){var jt=vt;if(Lt=jt.stateNode,jt=jt.tag,jt!==5&&jt!==26&&jt!==27||Lt===null||_t===null||(jt=Bs(vt,_t),jt!=null&&_e.push(K1(vt,jt,Lt))),Oi)break;vt=vt.return}0<_e.length&&(Mt=new Ot(Mt,Re,null,l,Ft),Ut.push({event:Mt,listeners:_e}))}}if((s&7)===0){t:{if(Mt=n==="mouseover"||n==="pointerover",Ot=n==="mouseout"||n==="pointerout",Mt&&l!==fu&&(Re=l.relatedTarget||l.fromElement)&&(ss(Re)||Re[xn]))break t;if((Ot||Mt)&&(Mt=Ft.window===Ft?Ft:(Mt=Ft.ownerDocument)?Mt.defaultView||Mt.parentWindow:window,Ot?(Re=l.relatedTarget||l.toElement,Ot=Rt,Re=Re?ss(Re):null,Re!==null&&(Oi=r(Re),_e=Re.tag,Re!==Oi||_e!==5&&_e!==27&&_e!==6)&&(Re=null)):(Ot=null,Re=Rt),Ot!==Re)){if(_e=Er,jt="onMouseLeave",_t="onMouseEnter",vt="mouse",(n==="pointerout"||n==="pointerover")&&(_e=Su,jt="onPointerLeave",_t="onPointerEnter",vt="pointer"),Oi=Ot==null?Mt:Is(Ot),Lt=Re==null?Mt:Is(Re),Mt=new _e(jt,vt+"leave",Ot,l,Ft),Mt.target=Oi,Mt.relatedTarget=Lt,jt=null,ss(Ft)===Rt&&(_e=new _e(_t,vt+"enter",Re,l,Ft),_e.target=Lt,_e.relatedTarget=Oi,jt=_e),Oi=jt,Ot&&Re)e:{for(_e=Ot,_t=Re,vt=0,Lt=_e;Lt;Lt=Pp(Lt))vt++;for(Lt=0,jt=_t;jt;jt=Pp(jt))Lt++;for(;0<vt-Lt;)_e=Pp(_e),vt--;for(;0<Lt-vt;)_t=Pp(_t),Lt--;for(;vt--;){if(_e===_t||_t!==null&&_e===_t.alternate)break e;_e=Pp(_e),_t=Pp(_t)}_e=null}else _e=null;Ot!==null&&j3(Ut,Mt,Ot,_e,!1),Re!==null&&Oi!==null&&j3(Ut,Oi,Re,_e,!0)}}t:{if(Mt=Rt?Is(Rt):window,Ot=Mt.nodeName&&Mt.nodeName.toLowerCase(),Ot==="select"||Ot==="input"&&Mt.type==="file")var le=xu;else if(Va(Mt))if(ec)le=up;else{le=w1;var $e=js}else Ot=Mt.nodeName,!Ot||Ot.toLowerCase()!=="input"||Mt.type!=="checkbox"&&Mt.type!=="radio"?Rt&&nf(Rt.elementType)&&(le=xu):le=hf;if(le&&(le=le(n,Rt))){uf(Ut,le,l,Ft);break t}$e&&$e(n,Mt,Rt),n==="focusout"&&Rt&&Mt.type==="number"&&Rt.memoizedProps.value!=null&&Jh(Mt,"number",Mt.value)}switch($e=Rt?Is(Rt):window,n){case"focusin":(Va($e)||$e.contentEditable==="true")&&(zs=$e,Ya=Rt,Nr=null);break;case"focusout":Nr=Ya=zs=null;break;case"mousedown":Xa=!0;break;case"contextmenu":case"mouseup":case"dragend":Xa=!1,Ji(Ut,l,Ft);break;case"selectionchange":if(nl)break;case"keydown":case"keyup":Ji(Ut,l,Ft)}var ye;if(ie)t:{switch(n){case"compositionstart":var Ee="onCompositionStart";break t;case"compositionend":Ee="onCompositionEnd";break t;case"compositionupdate":Ee="onCompositionUpdate";break t}Ee=void 0}else cn?Xi(n,l)&&(Ee="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(De&&l.locale!=="ko"&&(cn||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&cn&&(ye=op()):(Ea=Ft,af="value"in Ea?Ea.value:Ea.textContent,cn=!0)),$e=$2(Rt,Ee),0<$e.length&&(Ee=new bu(Ee,n,null,l,Ft),Ut.push({event:Ee,listeners:$e}),ye?Ee.data=ye:(ye=ln(l),ye!==null&&(Ee.data=ye)))),(ye=Ie?jn(n,l):Ga(n,l))&&(Ee=$2(Rt,"onBeforeInput"),0<Ee.length&&($e=new bu("onBeforeInput","beforeinput",null,l,Ft),Ut.push({event:$e,listeners:Ee}),$e.data=ye)),qE(Ut,n,Rt,l,Ft)}F3(Ut,s)})}function K1(n,s,l){return{instance:n,listener:s,currentTarget:l}}function $2(n,s){for(var l=s+"Capture",f=[];n!==null;){var v=n,S=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||S===null||(v=Bs(n,l),v!=null&&f.unshift(K1(n,v,S)),v=Bs(n,s),v!=null&&f.push(K1(n,v,S))),n.tag===3)return f;n=n.return}return[]}function Pp(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function j3(n,s,l,f,v){for(var S=s._reactName,D=[];l!==null&&l!==f;){var Y=l,ct=Y.alternate,Rt=Y.stateNode;if(Y=Y.tag,ct!==null&&ct===f)break;Y!==5&&Y!==26&&Y!==27||Rt===null||(ct=Rt,v?(Rt=Bs(l,S),Rt!=null&&D.unshift(K1(l,Rt,ct))):v||(Rt=Bs(l,S),Rt!=null&&D.push(K1(l,Rt,ct)))),l=l.return}D.length!==0&&n.push({event:s,listeners:D})}var VE=/\r\n?/g,YE=/\u0000|\uFFFD/g;function z3(n){return(typeof n=="string"?n:""+n).replace(VE,`
`).replace(YE,"")}function q3(n,s){return s=z3(s),z3(n)===s}function Q2(){}function Mi(n,s,l,f,v,S){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Yo(n,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Yo(n,""+f);break;case"className":Kl(n,"class",f);break;case"tabIndex":Kl(n,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Kl(n,l,f);break;case"style":ap(n,f,S);break;case"data":if(s!=="object"){Kl(n,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(l);break}f=Jr(""+f),n.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(l==="formAction"?(s!=="input"&&Mi(n,s,"name",v.name,v,null),Mi(n,s,"formEncType",v.formEncType,v,null),Mi(n,s,"formMethod",v.formMethod,v,null),Mi(n,s,"formTarget",v.formTarget,v,null)):(Mi(n,s,"encType",v.encType,v,null),Mi(n,s,"method",v.method,v,null),Mi(n,s,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(l);break}f=Jr(""+f),n.setAttribute(l,f);break;case"onClick":f!=null&&(n.onclick=Q2);break;case"onScroll":f!=null&&ii("scroll",n);break;case"onScrollEnd":f!=null&&ii("scrollend",n);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":n.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){n.removeAttribute("xlink:href");break}l=Jr(""+f),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,""+f):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":f===!0?n.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,f):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?n.setAttribute(l,f):n.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?n.removeAttribute(l):n.setAttribute(l,f);break;case"popover":ii("beforetoggle",n),ii("toggle",n),Kr(n,"popover",f);break;case"xlinkActuate":Ua(n,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ua(n,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ua(n,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ua(n,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ua(n,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ua(n,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ua(n,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ua(n,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ua(n,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Kr(n,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Zr.get(l)||l,Kr(n,l,f))}}function Db(n,s,l,f,v,S){switch(l){case"style":ap(n,f,S);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof f=="string"?Yo(n,f):(typeof f=="number"||typeof f=="bigint")&&Yo(n,""+f);break;case"onScroll":f!=null&&ii("scroll",n);break;case"onScrollEnd":f!=null&&ii("scrollend",n);break;case"onClick":f!=null&&(n.onclick=Q2);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),s=l.slice(2,v?l.length-7:void 0),S=n[Yi]||null,S=S!=null?S[l]:null,typeof S=="function"&&n.removeEventListener(s,S,v),typeof f=="function")){typeof S!="function"&&S!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,f,v);break t}l in n?n[l]=f:f===!0?n.setAttribute(l,""):Kr(n,l,f)}}}function xs(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ii("error",n),ii("load",n);var f=!1,v=!1,S;for(S in l)if(l.hasOwnProperty(S)){var D=l[S];if(D!=null)switch(S){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Mi(n,s,S,D,l,null)}}v&&Mi(n,s,"srcSet",l.srcSet,l,null),f&&Mi(n,s,"src",l.src,l,null);return;case"input":ii("invalid",n);var Y=S=D=v=null,ct=null,Rt=null;for(f in l)if(l.hasOwnProperty(f)){var Ft=l[f];if(Ft!=null)switch(f){case"name":v=Ft;break;case"type":D=Ft;break;case"checked":ct=Ft;break;case"defaultChecked":Rt=Ft;break;case"value":S=Ft;break;case"defaultValue":Y=Ft;break;case"children":case"dangerouslySetInnerHTML":if(Ft!=null)throw Error(i(137,s));break;default:Mi(n,s,f,Ft,l,null)}}Zh(n,S,Y,ct,Rt,D,v,!1),Vo(n);return;case"select":ii("invalid",n),f=D=S=null;for(v in l)if(l.hasOwnProperty(v)&&(Y=l[v],Y!=null))switch(v){case"value":S=Y;break;case"defaultValue":D=Y;break;case"multiple":f=Y;default:Mi(n,s,v,Y,l,null)}s=S,l=D,n.multiple=!!f,s!=null?Qr(n,!!f,s,!1):l!=null&&Qr(n,!!f,l,!0);return;case"textarea":ii("invalid",n),S=v=f=null;for(D in l)if(l.hasOwnProperty(D)&&(Y=l[D],Y!=null))switch(D){case"value":f=Y;break;case"defaultValue":v=Y;break;case"children":S=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(91));break;default:Mi(n,s,D,Y,l,null)}tf(n,f,v,S),Vo(n);return;case"option":for(ct in l)if(l.hasOwnProperty(ct)&&(f=l[ct],f!=null))switch(ct){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Mi(n,s,ct,f,l,null)}return;case"dialog":ii("beforetoggle",n),ii("toggle",n),ii("cancel",n),ii("close",n);break;case"iframe":case"object":ii("load",n);break;case"video":case"audio":for(f=0;f<W1.length;f++)ii(W1[f],n);break;case"image":ii("error",n),ii("load",n);break;case"details":ii("toggle",n);break;case"embed":case"source":case"link":ii("error",n),ii("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Rt in l)if(l.hasOwnProperty(Rt)&&(f=l[Rt],f!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Mi(n,s,Rt,f,l,null)}return;default:if(nf(s)){for(Ft in l)l.hasOwnProperty(Ft)&&(f=l[Ft],f!==void 0&&Db(n,s,Ft,f,l,void 0));return}}for(Y in l)l.hasOwnProperty(Y)&&(f=l[Y],f!=null&&Mi(n,s,Y,f,l,null))}function XE(n,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,S=null,D=null,Y=null,ct=null,Rt=null,Ft=null;for(Ot in l){var Ut=l[Ot];if(l.hasOwnProperty(Ot)&&Ut!=null)switch(Ot){case"checked":break;case"value":break;case"defaultValue":ct=Ut;default:f.hasOwnProperty(Ot)||Mi(n,s,Ot,null,f,Ut)}}for(var Mt in f){var Ot=f[Mt];if(Ut=l[Mt],f.hasOwnProperty(Mt)&&(Ot!=null||Ut!=null))switch(Mt){case"type":S=Ot;break;case"name":v=Ot;break;case"checked":Rt=Ot;break;case"defaultChecked":Ft=Ot;break;case"value":D=Ot;break;case"defaultValue":Y=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(i(137,s));break;default:Ot!==Ut&&Mi(n,s,Mt,Ot,f,Ut)}}Ql(n,D,Y,ct,Rt,Ft,S,v);return;case"select":Ot=D=Y=Mt=null;for(S in l)if(ct=l[S],l.hasOwnProperty(S)&&ct!=null)switch(S){case"value":break;case"multiple":Ot=ct;default:f.hasOwnProperty(S)||Mi(n,s,S,null,f,ct)}for(v in f)if(S=f[v],ct=l[v],f.hasOwnProperty(v)&&(S!=null||ct!=null))switch(v){case"value":Mt=S;break;case"defaultValue":Y=S;break;case"multiple":D=S;default:S!==ct&&Mi(n,s,v,S,f,ct)}s=Y,l=D,f=Ot,Mt!=null?Qr(n,!!l,Mt,!1):!!f!=!!l&&(s!=null?Qr(n,!!l,s,!0):Qr(n,!!l,l?[]:"",!1));return;case"textarea":Ot=Mt=null;for(Y in l)if(v=l[Y],l.hasOwnProperty(Y)&&v!=null&&!f.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Mi(n,s,Y,null,f,v)}for(D in f)if(v=f[D],S=l[D],f.hasOwnProperty(D)&&(v!=null||S!=null))switch(D){case"value":Mt=v;break;case"defaultValue":Ot=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==S&&Mi(n,s,D,v,f,S)}np(n,Mt,Ot);return;case"option":for(var Re in l)if(Mt=l[Re],l.hasOwnProperty(Re)&&Mt!=null&&!f.hasOwnProperty(Re))switch(Re){case"selected":n.selected=!1;break;default:Mi(n,s,Re,null,f,Mt)}for(ct in f)if(Mt=f[ct],Ot=l[ct],f.hasOwnProperty(ct)&&Mt!==Ot&&(Mt!=null||Ot!=null))switch(ct){case"selected":n.selected=Mt&&typeof Mt!="function"&&typeof Mt!="symbol";break;default:Mi(n,s,ct,Mt,f,Ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in l)Mt=l[_e],l.hasOwnProperty(_e)&&Mt!=null&&!f.hasOwnProperty(_e)&&Mi(n,s,_e,null,f,Mt);for(Rt in f)if(Mt=f[Rt],Ot=l[Rt],f.hasOwnProperty(Rt)&&Mt!==Ot&&(Mt!=null||Ot!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(i(137,s));break;default:Mi(n,s,Rt,Mt,f,Ot)}return;default:if(nf(s)){for(var Oi in l)Mt=l[Oi],l.hasOwnProperty(Oi)&&Mt!==void 0&&!f.hasOwnProperty(Oi)&&Db(n,s,Oi,void 0,f,Mt);for(Ft in f)Mt=f[Ft],Ot=l[Ft],!f.hasOwnProperty(Ft)||Mt===Ot||Mt===void 0&&Ot===void 0||Db(n,s,Ft,Mt,f,Ot);return}}for(var _t in l)Mt=l[_t],l.hasOwnProperty(_t)&&Mt!=null&&!f.hasOwnProperty(_t)&&Mi(n,s,_t,null,f,Mt);for(Ut in f)Mt=f[Ut],Ot=l[Ut],!f.hasOwnProperty(Ut)||Mt===Ot||Mt==null&&Ot==null||Mi(n,s,Ut,Mt,f,Ot)}var kb=null,Pb=null;function Z2(n){return n.nodeType===9?n:n.ownerDocument}function U3(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H3(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Ib(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fb=null;function WE(){var n=window.event;return n&&n.type==="popstate"?n===Fb?!1:(Fb=n,!0):(Fb=null,!1)}var G3=typeof setTimeout=="function"?setTimeout:void 0,KE=typeof clearTimeout=="function"?clearTimeout:void 0,V3=typeof Promise=="function"?Promise:void 0,$E=typeof queueMicrotask=="function"?queueMicrotask:typeof V3<"u"?function(n){return V3.resolve(null).then(n).catch(QE)}:G3;function QE(n){setTimeout(function(){throw n})}function Xu(n){return n==="head"}function Y3(n,s){var l=s,f=0,v=0;do{var S=l.nextSibling;if(n.removeChild(l),S&&S.nodeType===8)if(l=S.data,l==="/$"){if(0<f&&8>f){l=f;var D=n.ownerDocument;if(l&1&&$1(D.documentElement),l&2&&$1(D.body),l&4)for(l=D.head,$1(l),D=l.firstChild;D;){var Y=D.nextSibling,ct=D.nodeName;D[ra]||ct==="SCRIPT"||ct==="STYLE"||ct==="LINK"&&D.rel.toLowerCase()==="stylesheet"||l.removeChild(D),D=Y}}if(v===0){n.removeChild(S),s0(s);return}v--}else l==="$"||l==="$?"||l==="$!"?v++:f=l.charCodeAt(0)-48;else f=0;l=S}while(l);s0(s)}function Bb(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Bb(l),oa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function ZE(n,s,l,f){for(;n.nodeType===1;){var v=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(f){if(!n[ra])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(S=n.getAttribute("rel"),S==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(S!==v.rel||n.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||n.getAttribute("title")!==(v.title==null?null:v.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(S=n.getAttribute("src"),(S!==(v.src==null?null:v.src)||n.getAttribute("type")!==(v.type==null?null:v.type)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&S&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var S=v.name==null?null:""+v.name;if(v.type==="hidden"&&n.getAttribute("name")===S)return n}else return n;if(n=Ao(n.nextSibling),n===null)break}return null}function JE(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Ao(n.nextSibling),n===null))return null;return n}function jb(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function t6(n,s){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),n._reactRetry=f}}function Ao(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var zb=null;function X3(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}function W3(n,s,l){switch(s=Z2(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function $1(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);oa(n)}var Ir=new Map,K3=new Set;function J2(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var _c=J.d;J.d={f:e6,r:i6,D:n6,C:s6,L:a6,m:r6,X:l6,S:o6,M:c6};function e6(){var n=_c.f(),s=G2();return n||s}function i6(n){var s=as(n);s!==null&&s.tag===5&&s.type==="form"?Lf(s):_c.r(n)}var Ip=typeof document>"u"?null:document;function $3(n,s,l){var f=Ip;if(f&&typeof s=="string"&&s){var v=Fi(s);v='link[rel="'+n+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),K3.has(v)||(K3.add(v),n={rel:n,crossOrigin:l,href:s},f.querySelector(v)===null&&(s=f.createElement("link"),xs(s,"link",n),_i(s),f.head.appendChild(s)))}}function n6(n){_c.D(n),$3("dns-prefetch",n,null)}function s6(n,s){_c.C(n,s),$3("preconnect",n,s)}function a6(n,s,l){_c.L(n,s,l);var f=Ip;if(f&&n&&s){var v='link[rel="preload"][as="'+Fi(s)+'"]';s==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Fi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Fi(l.imageSizes)+'"]')):v+='[href="'+Fi(n)+'"]';var S=v;switch(s){case"style":S=Fp(n);break;case"script":S=Bp(n)}Ir.has(S)||(n=m({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),Ir.set(S,n),f.querySelector(v)!==null||s==="style"&&f.querySelector(Q1(S))||s==="script"&&f.querySelector(Z1(S))||(s=f.createElement("link"),xs(s,"link",n),_i(s),f.head.appendChild(s)))}}function r6(n,s){_c.m(n,s);var l=Ip;if(l&&n){var f=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Fi(f)+'"][href="'+Fi(n)+'"]',S=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Bp(n)}if(!Ir.has(S)&&(n=m({rel:"modulepreload",href:n},s),Ir.set(S,n),l.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Z1(S)))return}f=l.createElement("link"),xs(f,"link",n),_i(f),l.head.appendChild(f)}}}function o6(n,s,l){_c.S(n,s,l);var f=Ip;if(f&&n){var v=Kn(f).hoistableStyles,S=Fp(n);s=s||"default";var D=v.get(S);if(!D){var Y={loading:0,preload:null};if(D=f.querySelector(Q1(S)))Y.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":s},l),(l=Ir.get(S))&&qb(n,l);var ct=D=f.createElement("link");_i(ct),xs(ct,"link",n),ct._p=new Promise(function(Rt,Ft){ct.onload=Rt,ct.onerror=Ft}),ct.addEventListener("load",function(){Y.loading|=1}),ct.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,t5(D,s,f)}D={type:"stylesheet",instance:D,count:1,state:Y},v.set(S,D)}}}function l6(n,s){_c.X(n,s);var l=Ip;if(l&&n){var f=Kn(l).hoistableScripts,v=Bp(n),S=f.get(v);S||(S=l.querySelector(Z1(v)),S||(n=m({src:n,async:!0},s),(s=Ir.get(v))&&Ub(n,s),S=l.createElement("script"),_i(S),xs(S,"link",n),l.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},f.set(v,S))}}function c6(n,s){_c.M(n,s);var l=Ip;if(l&&n){var f=Kn(l).hoistableScripts,v=Bp(n),S=f.get(v);S||(S=l.querySelector(Z1(v)),S||(n=m({src:n,async:!0,type:"module"},s),(s=Ir.get(v))&&Ub(n,s),S=l.createElement("script"),_i(S),xs(S,"link",n),l.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},f.set(v,S))}}function Q3(n,s,l,f){var v=(v=st.current)?J2(v):null;if(!v)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Fp(l.href),l=Kn(v).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Fp(l.href);var S=Kn(v).hoistableStyles,D=S.get(n);if(D||(v=v.ownerDocument||v,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(n,D),(S=v.querySelector(Q1(n)))&&!S._p&&(D.instance=S,D.state.loading=5),Ir.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ir.set(n,l),S||u6(v,n,l,D.state))),s&&f===null)throw Error(i(528,""));return D}if(s&&f!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Bp(l),l=Kn(v).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Fp(n){return'href="'+Fi(n)+'"'}function Q1(n){return'link[rel="stylesheet"]['+n+"]"}function Z3(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function u6(n,s,l,f){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=n.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),xs(s,"link",l),_i(s),n.head.appendChild(s))}function Bp(n){return'[src="'+Fi(n)+'"]'}function Z1(n){return"script[async]"+n}function J3(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=n.querySelector('style[data-href~="'+Fi(l.href)+'"]');if(f)return s.instance=f,_i(f),f;var v=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(n.ownerDocument||n).createElement("style"),_i(f),xs(f,"style",v),t5(f,l.precedence,n),s.instance=f;case"stylesheet":v=Fp(l.href);var S=n.querySelector(Q1(v));if(S)return s.state.loading|=4,s.instance=S,_i(S),S;f=Z3(l),(v=Ir.get(v))&&qb(f,v),S=(n.ownerDocument||n).createElement("link"),_i(S);var D=S;return D._p=new Promise(function(Y,ct){D.onload=Y,D.onerror=ct}),xs(S,"link",f),s.state.loading|=4,t5(S,l.precedence,n),s.instance=S;case"script":return S=Bp(l.src),(v=n.querySelector(Z1(S)))?(s.instance=v,_i(v),v):(f=l,(v=Ir.get(S))&&(f=m({},l),Ub(f,v)),n=n.ownerDocument||n,v=n.createElement("script"),_i(v),xs(v,"link",f),n.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,t5(f,l.precedence,n));return s.instance}function t5(n,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,S=v,D=0;D<f.length;D++){var Y=f[D];if(Y.dataset.precedence===s)S=Y;else if(S!==v)break}S?S.parentNode.insertBefore(n,S.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function qb(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Ub(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var e5=null;function tS(n,s,l){if(e5===null){var f=new Map,v=e5=new Map;v.set(l,f)}else v=e5,f=v.get(l),f||(f=new Map,v.set(l,f));if(f.has(n))return f;for(f.set(n,null),l=l.getElementsByTagName(n),v=0;v<l.length;v++){var S=l[v];if(!(S[ra]||S[Ti]||n==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var D=S.getAttribute(s)||"";D=n+D;var Y=f.get(D);Y?Y.push(S):f.set(D,[S])}}return f}function eS(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function h6(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function iS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var J1=null;function f6(){}function d6(n,s,l){if(J1===null)throw Error(i(475));var f=J1;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var v=Fp(l.href),S=n.querySelector(Q1(v));if(S){n=S._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(f.count++,f=i5.bind(f),n.then(f,f)),s.state.loading|=4,s.instance=S,_i(S);return}S=n.ownerDocument||n,l=Z3(l),(v=Ir.get(v))&&qb(l,v),S=S.createElement("link"),_i(S);var D=S;D._p=new Promise(function(Y,ct){D.onload=Y,D.onerror=ct}),xs(S,"link",l),s.instance=S}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=i5.bind(f),n.addEventListener("load",s),n.addEventListener("error",s))}}function p6(){if(J1===null)throw Error(i(475));var n=J1;return n.stylesheets&&n.count===0&&Hb(n,n.stylesheets),0<n.count?function(s){var l=setTimeout(function(){if(n.stylesheets&&Hb(n,n.stylesheets),n.unsuspend){var f=n.unsuspend;n.unsuspend=null,f()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l)}}:null}function i5(){if(this.count--,this.count===0){if(this.stylesheets)Hb(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var n5=null;function Hb(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,n5=new Map,s.forEach(g6,n),n5=null,i5.call(n))}function g6(n,s){if(!(s.state.loading&4)){var l=n5.get(n);if(l)var f=l.get(null);else{l=new Map,n5.set(n,l);for(var v=n.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<v.length;S++){var D=v[S];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(l.set(D.dataset.precedence,D),f=D)}f&&l.set(null,f)}v=s.instance,D=v.getAttribute("data-precedence"),S=l.get(D)||f,S===f&&l.set(null,v),l.set(D,v),this.count++,f=i5.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),S?S.parentNode.insertBefore(v,S.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(v,n.firstChild)),s.state.loading|=4}}var t0={$$typeof:j,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function m6(n,s,l,f,v,S,D,Y){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=na(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=na(0),this.hiddenUpdates=na(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=S,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function nS(n,s,l,f,v,S,D,Y,ct,Rt,Ft,Ut){return n=new m6(n,s,l,D,Y,ct,Rt,Ut),s=1,S===!0&&(s|=24),S=os(3,null,null,s),n.current=S,S.stateNode=n,s=_1(),s.refCount++,n.pooledCache=s,s.refCount++,S.memoizedState={element:f,isDehydrated:l,cache:s},gt(S),n}function sS(n){return n?(n=qn,n):qn}function aS(n,s,l,f,v,S){v=sS(v),f.context===null?f.context=v:f.pendingContext=v,f=It(s),f.payload={element:l},S=S===void 0?null:S,S!==null&&(f.callback=S),l=qt(n,f,s),l!==null&&(er(l,n,s),Bt(l,n,s))}function rS(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function Gb(n,s){rS(n,s),(n=n.alternate)&&rS(n,s)}function oS(n){if(n.tag===13){var s=ro(n,67108864);s!==null&&er(s,n,67108864),Gb(n,67108864)}}var s5=!0;function v6(n,s,l,f){var v=U.T;U.T=null;var S=J.p;try{J.p=2,Vb(n,s,l,f)}finally{J.p=S,U.T=v}}function b6(n,s,l,f){var v=U.T;U.T=null;var S=J.p;try{J.p=8,Vb(n,s,l,f)}finally{J.p=S,U.T=v}}function Vb(n,s,l,f){if(s5){var v=Yb(f);if(v===null)Ob(n,s,f,a5,l),cS(n,f);else if(A6(v,n,s,l,f))f.stopPropagation();else if(cS(n,f),s&4&&-1<y6.indexOf(n)){for(;v!==null;){var S=as(v);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var D=si(S.pendingLanes);if(D!==0){var Y=S;for(Y.pendingLanes|=2,Y.entangledLanes|=2;D;){var ct=1<<31-he(D);Y.entanglements[1]|=ct,D&=~ct}wl(S),(Ei&6)===0&&(U2=we()+500,X1(0))}}break;case 13:Y=ro(S,2),Y!==null&&er(Y,S,2),G2(),Gb(S,2)}if(S=Yb(f),S===null&&Ob(n,s,f,a5,l),S===v)break;v=S}v!==null&&f.stopPropagation()}else Ob(n,s,f,null,l)}}function Yb(n){return n=Bn(n),Xb(n)}var a5=null;function Xb(n){if(a5=null,n=ss(n),n!==null){var s=r(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=o(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return a5=n,null}function lS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case Yt:return 2;case Qt:return 8;case Jt:case te:return 32;case me:return 268435456;default:return 32}default:return 32}}var Wb=!1,Wu=null,Ku=null,$u=null,e0=new Map,i0=new Map,Qu=[],y6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cS(n,s){switch(n){case"focusin":case"focusout":Wu=null;break;case"dragenter":case"dragleave":Ku=null;break;case"mouseover":case"mouseout":$u=null;break;case"pointerover":case"pointerout":e0.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":i0.delete(s.pointerId)}}function n0(n,s,l,f,v,S){return n===null||n.nativeEvent!==S?(n={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:S,targetContainers:[v]},s!==null&&(s=as(s),s!==null&&oS(s)),n):(n.eventSystemFlags|=f,s=n.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),n)}function A6(n,s,l,f,v){switch(s){case"focusin":return Wu=n0(Wu,n,s,l,f,v),!0;case"dragenter":return Ku=n0(Ku,n,s,l,f,v),!0;case"mouseover":return $u=n0($u,n,s,l,f,v),!0;case"pointerover":var S=v.pointerId;return e0.set(S,n0(e0.get(S)||null,n,s,l,f,v)),!0;case"gotpointercapture":return S=v.pointerId,i0.set(S,n0(i0.get(S)||null,n,s,l,f,v)),!0}return!1}function uS(n){var s=ss(n.target);if(s!==null){var l=r(s);if(l!==null){if(s=l.tag,s===13){if(s=o(l),s!==null){n.blockedOn=s,wr(n.priority,function(){if(l.tag===13){var f=tr();f=Wr(f);var v=ro(l,f);v!==null&&er(v,l,f),Gb(l,f)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function r5(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Yb(n.nativeEvent);if(l===null){l=n.nativeEvent;var f=new l.constructor(l.type,l);fu=f,l.target.dispatchEvent(f),fu=null}else return s=as(l),s!==null&&oS(s),n.blockedOn=l,!1;s.shift()}return!0}function hS(n,s,l){r5(n)&&l.delete(s)}function w6(){Wb=!1,Wu!==null&&r5(Wu)&&(Wu=null),Ku!==null&&r5(Ku)&&(Ku=null),$u!==null&&r5($u)&&($u=null),e0.forEach(hS),i0.forEach(hS)}function o5(n,s){n.blockedOn===s&&(n.blockedOn=null,Wb||(Wb=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,w6)))}var l5=null;function fS(n){l5!==n&&(l5=n,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){l5===n&&(l5=null);for(var s=0;s<n.length;s+=3){var l=n[s],f=n[s+1],v=n[s+2];if(typeof f!="function"){if(Xb(f||l)===null)continue;break}var S=as(l);S!==null&&(n.splice(s,3),s-=3,Dr(S,{pending:!0,data:v,method:l.method,action:f},f,v))}}))}function s0(n){function s(ct){return o5(ct,n)}Wu!==null&&o5(Wu,n),Ku!==null&&o5(Ku,n),$u!==null&&o5($u,n),e0.forEach(s),i0.forEach(s);for(var l=0;l<Qu.length;l++){var f=Qu[l];f.blockedOn===n&&(f.blockedOn=null)}for(;0<Qu.length&&(l=Qu[0],l.blockedOn===null);)uS(l),l.blockedOn===null&&Qu.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var v=l[f],S=l[f+1],D=v[Yi]||null;if(typeof S=="function")D||fS(l);else if(D){var Y=null;if(S&&S.hasAttribute("formAction")){if(v=S,D=S[Yi]||null)Y=D.formAction;else if(Xb(v)!==null)continue}else Y=D.action;typeof Y=="function"?l[f+1]=Y:(l.splice(f,3),f-=3),fS(l)}}}function Kb(n){this._internalRoot=n}c5.prototype.render=Kb.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,f=tr();aS(l,f,n,s,null,null)},c5.prototype.unmount=Kb.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;aS(n.current,2,null,n,null,null),G2(),s[xn]=null}};function c5(n){this._internalRoot=n}c5.prototype.unstable_scheduleHydration=function(n){if(n){var s=za();n={blockedOn:null,target:n,priority:s};for(var l=0;l<Qu.length&&s!==0&&s<Qu[l].priority;l++);Qu.splice(l,0,n),l===0&&uS(n)}};var dS=t.version;if(dS!=="19.1.0")throw Error(i(527,dS,"19.1.0"));J.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=h(s),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var S6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var u5=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!u5.isDisabled&&u5.supportsFiber)try{Be=u5.inject(S6),Me=u5}catch{}}return r0.createRoot=function(n,s){if(!a(n))throw Error(i(299));var l=!1,f="",v=Tw,S=Rw,D=Mw,Y=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(Y=s.unstable_transitionCallbacks)),s=nS(n,1,!1,null,null,l,f,v,S,D,Y,null),n[xn]=s.current,Mb(n),new Kb(s)},r0.hydrateRoot=function(n,s,l){if(!a(n))throw Error(i(299));var f=!1,v="",S=Tw,D=Rw,Y=Mw,ct=null,Rt=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(S=l.onUncaughtError),l.onCaughtError!==void 0&&(D=l.onCaughtError),l.onRecoverableError!==void 0&&(Y=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(ct=l.unstable_transitionCallbacks),l.formState!==void 0&&(Rt=l.formState)),s=nS(n,1,!0,s,l??null,f,v,S,D,Y,ct,Rt),s.context=sS(null),l=s.current,f=tr(),f=Wr(f),v=It(f),v.callback=null,qt(l,v,f),l=f,s.current.lanes=l,sa(s,l),wl(s),n[xn]=s.current,Mb(n),new c5(s)},r0.version="19.1.0",r0}var xS;function P6(){if(xS)return Jb.exports;xS=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(t){console.error(t)}}return c(),Jb.exports=k6(),Jb.exports}var I6=P6();/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B6=c=>c.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),ES=c=>{const t=B6(c);return t.charAt(0).toUpperCase()+t.slice(1)},F_=(...c)=>c.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),j6=c=>{for(const t in c)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=Dn.forwardRef(({color:c="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:a="",children:r,iconNode:o,...u},h)=>Dn.createElement("svg",{ref:h,...z6,width:t,height:t,stroke:c,strokeWidth:i?Number(e)*24/Number(t):e,className:F_("lucide",a),...!r&&!j6(u)&&{"aria-hidden":"true"},...u},[...o.map(([p,m])=>Dn.createElement(p,m)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=(c,t)=>{const e=Dn.forwardRef(({className:i,...a},r)=>Dn.createElement(q6,{ref:r,iconNode:t,className:F_(`lucide-${F6(ES(c))}`,`lucide-${c}`,i),...a}));return e.displayName=ES(c),e};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],H6=B_("menu",U6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],V6=B_("x",G6),Y6=()=>{const[c,t]=Dn.useState(!1),e=()=>t(!c);return Ae.jsxs("nav",{className:"bg-[#1a1a52] px-6 py-4",children:[Ae.jsxs("div",{className:"flex justify-between items-center",children:[Ae.jsx("div",{className:"border border-gradient-to-r from-green-400 to-blue-400 p-2 rounded",children:Ae.jsx("span",{className:"text-green-400 font-semibold tracking-wide text-lg",children:"SnapScript"})}),Ae.jsx("div",{className:"lg:hidden text-white hover:cursor-pointer",onClick:e,children:c?Ae.jsx(V6,{size:28}):Ae.jsx(H6,{size:28})}),Ae.jsxs("ul",{className:"hidden lg:flex items-center space-x-8 text-white font-medium",children:[Ae.jsx("li",{className:"hover:text-blue-300 cursor-pointer",children:"Home"}),Ae.jsx("li",{className:"hover:text-blue-300 cursor-pointer",children:"Our Services"}),Ae.jsx("li",{className:"hover:text-blue-300 cursor-pointer",children:"Resource Hub"}),Ae.jsx("li",{className:"hover:text-blue-300 cursor-pointer",children:"About"}),Ae.jsx("li",{children:Ae.jsx("button",{className:"bg-blue-500 hover:bg-pink-600 duration-500 cursor-pointer text-white font-semibold px-4 py-2 rounded",children:"Contact Us"})})]})]}),Ae.jsx("div",{className:`lg:hidden overflow-hidden transition-all duration-500 ease-in-out ${c?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:Ae.jsxs("ul",{className:"flex flex-col space-y-4 mt-4 text-white font-medium",children:[Ae.jsx("li",{className:"hover:text-blue-300 cursor-pointer",children:"Home"}),Ae.jsx("li",{className:"hover:text-blue-300 cursor-pointer",children:"Our Services"}),Ae.jsx("li",{className:"hover:text-blue-300 cursor-pointer",children:"Resource Hub"}),Ae.jsx("li",{className:"hover:text-blue-300 cursor-pointer",children:"About"}),Ae.jsx("li",{children:Ae.jsx("button",{className:"bg-blue-500 hover:bg-pink-600 duration-500 text-white font-semibold px-4 py-2 rounded w-full",children:"Contact Us"})})]})})]})};var NS;(function(c){c.STRING="string",c.NUMBER="number",c.INTEGER="integer",c.BOOLEAN="boolean",c.ARRAY="array",c.OBJECT="object"})(NS||(NS={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LS;(function(c){c.LANGUAGE_UNSPECIFIED="language_unspecified",c.PYTHON="python"})(LS||(LS={}));var CS;(function(c){c.OUTCOME_UNSPECIFIED="outcome_unspecified",c.OUTCOME_OK="outcome_ok",c.OUTCOME_FAILED="outcome_failed",c.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(CS||(CS={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=["user","model","function","system"];var RS;(function(c){c.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",c.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",c.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",c.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",c.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",c.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(RS||(RS={}));var MS;(function(c){c.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",c.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",c.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",c.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",c.BLOCK_NONE="BLOCK_NONE"})(MS||(MS={}));var OS;(function(c){c.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",c.NEGLIGIBLE="NEGLIGIBLE",c.LOW="LOW",c.MEDIUM="MEDIUM",c.HIGH="HIGH"})(OS||(OS={}));var DS;(function(c){c.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",c.SAFETY="SAFETY",c.OTHER="OTHER"})(DS||(DS={}));var R0;(function(c){c.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",c.STOP="STOP",c.MAX_TOKENS="MAX_TOKENS",c.SAFETY="SAFETY",c.RECITATION="RECITATION",c.LANGUAGE="LANGUAGE",c.BLOCKLIST="BLOCKLIST",c.PROHIBITED_CONTENT="PROHIBITED_CONTENT",c.SPII="SPII",c.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",c.OTHER="OTHER"})(R0||(R0={}));var kS;(function(c){c.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",c.RETRIEVAL_QUERY="RETRIEVAL_QUERY",c.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",c.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",c.CLASSIFICATION="CLASSIFICATION",c.CLUSTERING="CLUSTERING"})(kS||(kS={}));var PS;(function(c){c.MODE_UNSPECIFIED="MODE_UNSPECIFIED",c.AUTO="AUTO",c.ANY="ANY",c.NONE="NONE"})(PS||(PS={}));var IS;(function(c){c.MODE_UNSPECIFIED="MODE_UNSPECIFIED",c.MODE_DYNAMIC="MODE_DYNAMIC"})(IS||(IS={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class jp extends ea{constructor(t,e){super(t),this.response=e}}class j_ extends ea{constructor(t,e,i,a){super(t),this.status=e,this.statusText=i,this.errorDetails=a}}class qh extends ea{}class z_ extends ea{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="https://generativelanguage.googleapis.com",W6="v1beta",K6="0.24.1",$6="genai-js";var Yd;(function(c){c.GENERATE_CONTENT="generateContent",c.STREAM_GENERATE_CONTENT="streamGenerateContent",c.COUNT_TOKENS="countTokens",c.EMBED_CONTENT="embedContent",c.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Yd||(Yd={}));class Q6{constructor(t,e,i,a,r){this.model=t,this.task=e,this.apiKey=i,this.stream=a,this.requestOptions=r}toString(){var t,e;const i=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||W6;let r=`${((e=this.requestOptions)===null||e===void 0?void 0:e.baseUrl)||X6}/${i}/${this.model}:${this.task}`;return this.stream&&(r+="?alt=sse"),r}}function Z6(c){const t=[];return c!=null&&c.apiClient&&t.push(c.apiClient),t.push(`${$6}/${K6}`),t.join(" ")}async function J6(c){var t;const e=new Headers;e.append("Content-Type","application/json"),e.append("x-goog-api-client",Z6(c.requestOptions)),e.append("x-goog-api-key",c.apiKey);let i=(t=c.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(i){if(!(i instanceof Headers))try{i=new Headers(i)}catch(a){throw new qh(`unable to convert customHeaders value ${JSON.stringify(i)} to Headers: ${a.message}`)}for(const[a,r]of i.entries()){if(a==="x-goog-api-key")throw new qh(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new qh(`Header name ${a} can only be set using the apiClient field`);e.append(a,r)}}return e}async function tN(c,t,e,i,a,r){const o=new Q6(c,t,e,i,r);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},sN(r)),{method:"POST",headers:await J6(o),body:a})}}async function r2(c,t,e,i,a,r={},o=fetch){const{url:u,fetchOptions:h}=await tN(c,t,e,i,a,r);return eN(u,h,o)}async function eN(c,t,e=fetch){let i;try{i=await e(c,t)}catch(a){iN(a,c)}return i.ok||await nN(i,c),i}function iN(c,t){let e=c;throw e.name==="AbortError"?(e=new z_(`Request aborted when fetching ${t.toString()}: ${c.message}`),e.stack=c.stack):c instanceof j_||c instanceof qh||(e=new ea(`Error fetching from ${t.toString()}: ${c.message}`),e.stack=c.stack),e}async function nN(c,t){let e="",i;try{const a=await c.json();e=a.error.message,a.error.details&&(e+=` ${JSON.stringify(a.error.details)}`,i=a.error.details)}catch{}throw new j_(`Error fetching from ${t.toString()}: [${c.status} ${c.statusText}] ${e}`,c.status,c.statusText,i)}function sN(c){const t={};if((c==null?void 0:c.signal)!==void 0||(c==null?void 0:c.timeout)>=0){const e=new AbortController;(c==null?void 0:c.timeout)>=0&&setTimeout(()=>e.abort(),c.timeout),c!=null&&c.signal&&c.signal.addEventListener("abort",()=>{e.abort()}),t.signal=e.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(c){return c.text=()=>{if(c.candidates&&c.candidates.length>0){if(c.candidates.length>1&&console.warn(`This response had ${c.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),S5(c.candidates[0]))throw new jp(`${ih(c)}`,c);return aN(c)}else if(c.promptFeedback)throw new jp(`Text not available. ${ih(c)}`,c);return""},c.functionCall=()=>{if(c.candidates&&c.candidates.length>0){if(c.candidates.length>1&&console.warn(`This response had ${c.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),S5(c.candidates[0]))throw new jp(`${ih(c)}`,c);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),FS(c)[0]}else if(c.promptFeedback)throw new jp(`Function call not available. ${ih(c)}`,c)},c.functionCalls=()=>{if(c.candidates&&c.candidates.length>0){if(c.candidates.length>1&&console.warn(`This response had ${c.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),S5(c.candidates[0]))throw new jp(`${ih(c)}`,c);return FS(c)}else if(c.promptFeedback)throw new jp(`Function call not available. ${ih(c)}`,c)},c}function aN(c){var t,e,i,a;const r=[];if(!((e=(t=c.candidates)===null||t===void 0?void 0:t[0].content)===null||e===void 0)&&e.parts)for(const o of(a=(i=c.candidates)===null||i===void 0?void 0:i[0].content)===null||a===void 0?void 0:a.parts)o.text&&r.push(o.text),o.executableCode&&r.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&r.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return r.length>0?r.join(""):""}function FS(c){var t,e,i,a;const r=[];if(!((e=(t=c.candidates)===null||t===void 0?void 0:t[0].content)===null||e===void 0)&&e.parts)for(const o of(a=(i=c.candidates)===null||i===void 0?void 0:i[0].content)===null||a===void 0?void 0:a.parts)o.functionCall&&r.push(o.functionCall);if(r.length>0)return r}const rN=[R0.RECITATION,R0.SAFETY,R0.LANGUAGE];function S5(c){return!!c.finishReason&&rN.includes(c.finishReason)}function ih(c){var t,e,i;let a="";if((!c.candidates||c.candidates.length===0)&&c.promptFeedback)a+="Response was blocked",!((t=c.promptFeedback)===null||t===void 0)&&t.blockReason&&(a+=` due to ${c.promptFeedback.blockReason}`),!((e=c.promptFeedback)===null||e===void 0)&&e.blockReasonMessage&&(a+=`: ${c.promptFeedback.blockReasonMessage}`);else if(!((i=c.candidates)===null||i===void 0)&&i[0]){const r=c.candidates[0];S5(r)&&(a+=`Candidate was blocked due to ${r.finishReason}`,r.finishMessage&&(a+=`: ${r.finishMessage}`))}return a}function O0(c){return this instanceof O0?(this.v=c,this):new O0(c)}function oN(c,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(c,t||[]),a,r=[];return a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a;function o(w){i[w]&&(a[w]=function(y){return new Promise(function(N,E){r.push([w,y,N,E])>1||u(w,y)})})}function u(w,y){try{h(i[w](y))}catch(N){A(r[0][3],N)}}function h(w){w.value instanceof O0?Promise.resolve(w.value.v).then(p,m):A(r[0][2],w)}function p(w){u("next",w)}function m(w){u("throw",w)}function A(w,y){w(y),r.shift(),r.length&&u(r[0][0],r[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function lN(c){const t=c.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),e=hN(t),[i,a]=e.tee();return{stream:uN(i),response:cN(a)}}async function cN(c){const t=[],e=c.getReader();for(;;){const{done:i,value:a}=await e.read();if(i)return QA(fN(t));t.push(a)}}function uN(c){return oN(this,arguments,function*(){const e=c.getReader();for(;;){const{value:i,done:a}=yield O0(e.read());if(a)break;yield yield O0(QA(i))}})}function hN(c){const t=c.getReader();return new ReadableStream({start(i){let a="";return r();function r(){return t.read().then(({value:o,done:u})=>{if(u){if(a.trim()){i.error(new ea("Failed to parse stream"));return}i.close();return}a+=o;let h=a.match(BS),p;for(;h;){try{p=JSON.parse(h[1])}catch{i.error(new ea(`Error parsing JSON response: "${h[1]}"`));return}i.enqueue(p),a=a.substring(h[0].length),h=a.match(BS)}return r()}).catch(o=>{let u=o;throw u.stack=o.stack,u.name==="AbortError"?u=new z_("Request aborted when reading from the stream"):u=new ea("Error reading from the stream"),u})}}})}function fN(c){const t=c[c.length-1],e={promptFeedback:t==null?void 0:t.promptFeedback};for(const i of c){if(i.candidates){let a=0;for(const r of i.candidates)if(e.candidates||(e.candidates=[]),e.candidates[a]||(e.candidates[a]={index:a}),e.candidates[a].citationMetadata=r.citationMetadata,e.candidates[a].groundingMetadata=r.groundingMetadata,e.candidates[a].finishReason=r.finishReason,e.candidates[a].finishMessage=r.finishMessage,e.candidates[a].safetyRatings=r.safetyRatings,r.content&&r.content.parts){e.candidates[a].content||(e.candidates[a].content={role:r.content.role||"user",parts:[]});const o={};for(const u of r.content.parts)u.text&&(o.text=u.text),u.functionCall&&(o.functionCall=u.functionCall),u.executableCode&&(o.executableCode=u.executableCode),u.codeExecutionResult&&(o.codeExecutionResult=u.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),e.candidates[a].content.parts.push(o)}a++}i.usageMetadata&&(e.usageMetadata=i.usageMetadata)}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q_(c,t,e,i){const a=await r2(t,Yd.STREAM_GENERATE_CONTENT,c,!0,JSON.stringify(e),i);return lN(a)}async function U_(c,t,e,i){const r=await(await r2(t,Yd.GENERATE_CONTENT,c,!1,JSON.stringify(e),i)).json();return{response:QA(r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(c){if(c!=null){if(typeof c=="string")return{role:"system",parts:[{text:c}]};if(c.text)return{role:"system",parts:[c]};if(c.parts)return c.role?c:{role:"system",parts:c.parts}}}function D0(c){let t=[];if(typeof c=="string")t=[{text:c}];else for(const e of c)typeof e=="string"?t.push({text:e}):t.push(e);return dN(t)}function dN(c){const t={role:"user",parts:[]},e={role:"function",parts:[]};let i=!1,a=!1;for(const r of c)"functionResponse"in r?(e.parts.push(r),a=!0):(t.parts.push(r),i=!0);if(i&&a)throw new ea("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!i&&!a)throw new ea("No content is provided for sending chat message.");return i?t:e}function pN(c,t){var e;let i={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(e=t==null?void 0:t.cachedContent)===null||e===void 0?void 0:e.name,contents:[]};const a=c.generateContentRequest!=null;if(c.contents){if(a)throw new qh("CountTokensRequest must have one of contents or generateContentRequest, not both.");i.contents=c.contents}else if(a)i=Object.assign(Object.assign({},i),c.generateContentRequest);else{const r=D0(c);i.contents=[r]}return{generateContentRequest:i}}function jS(c){let t;return c.contents?t=c:t={contents:[D0(c)]},c.systemInstruction&&(t.systemInstruction=H_(c.systemInstruction)),t}function gN(c){return typeof c=="string"||Array.isArray(c)?{content:D0(c)}:c}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],mN={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function vN(c){let t=!1;for(const e of c){const{role:i,parts:a}=e;if(!t&&i!=="user")throw new ea(`First content should be with role 'user', got ${i}`);if(!TS.includes(i))throw new ea(`Each item should include role field. Got ${i} but valid roles are: ${JSON.stringify(TS)}`);if(!Array.isArray(a))throw new ea("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new ea("Each Content should have at least one part");const r={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const u of a)for(const h of zS)h in u&&(r[h]+=1);const o=mN[i];for(const u of zS)if(!o.includes(u)&&r[u]>0)throw new ea(`Content with role '${i}' can't contain '${u}' part`);t=!0}}function qS(c){var t;if(c.candidates===void 0||c.candidates.length===0)return!1;const e=(t=c.candidates[0])===null||t===void 0?void 0:t.content;if(e===void 0||e.parts===void 0||e.parts.length===0)return!1;for(const i of e.parts)if(i===void 0||Object.keys(i).length===0||i.text!==void 0&&i.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="SILENT_ERROR";class bN{constructor(t,e,i,a={}){this.model=e,this.params=i,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,i!=null&&i.history&&(vN(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,e={}){var i,a,r,o,u,h;await this._sendPromise;const p=D0(t),m={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(r=this.params)===null||r===void 0?void 0:r.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,p]},A=Object.assign(Object.assign({},this._requestOptions),e);let w;return this._sendPromise=this._sendPromise.then(()=>U_(this._apiKey,this.model,m,A)).then(y=>{var N;if(qS(y.response)){this._history.push(p);const E=Object.assign({parts:[],role:"model"},(N=y.response.candidates)===null||N===void 0?void 0:N[0].content);this._history.push(E)}else{const E=ih(y.response);E&&console.warn(`sendMessage() was unsuccessful. ${E}. Inspect response object for details.`)}w=y}).catch(y=>{throw this._sendPromise=Promise.resolve(),y}),await this._sendPromise,w}async sendMessageStream(t,e={}){var i,a,r,o,u,h;await this._sendPromise;const p=D0(t),m={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(r=this.params)===null||r===void 0?void 0:r.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,p]},A=Object.assign(Object.assign({},this._requestOptions),e),w=q_(this._apiKey,this.model,m,A);return this._sendPromise=this._sendPromise.then(()=>w).catch(y=>{throw new Error(US)}).then(y=>y.response).then(y=>{if(qS(y)){this._history.push(p);const N=Object.assign({},y.candidates[0].content);N.role||(N.role="model"),this._history.push(N)}else{const N=ih(y);N&&console.warn(`sendMessageStream() was unsuccessful. ${N}. Inspect response object for details.`)}}).catch(y=>{y.message!==US&&console.error(y)}),w}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(c,t,e,i){return(await r2(t,Yd.COUNT_TOKENS,c,!1,JSON.stringify(e),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(c,t,e,i){return(await r2(t,Yd.EMBED_CONTENT,c,!1,JSON.stringify(e),i)).json()}async function wN(c,t,e,i){const a=e.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await r2(t,Yd.BATCH_EMBED_CONTENTS,c,!1,JSON.stringify({requests:a}),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t,e,i={}){this.apiKey=t,this._requestOptions=i,e.model.includes("/")?this.model=e.model:this.model=`models/${e.model}`,this.generationConfig=e.generationConfig||{},this.safetySettings=e.safetySettings||[],this.tools=e.tools,this.toolConfig=e.toolConfig,this.systemInstruction=H_(e.systemInstruction),this.cachedContent=e.cachedContent}async generateContent(t,e={}){var i;const a=jS(t),r=Object.assign(Object.assign({},this._requestOptions),e);return U_(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},a),r)}async generateContentStream(t,e={}){var i;const a=jS(t),r=Object.assign(Object.assign({},this._requestOptions),e);return q_(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},a),r)}startChat(t){var e;return new bN(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(e=this.cachedContent)===null||e===void 0?void 0:e.name},t),this._requestOptions)}async countTokens(t,e={}){const i=pN(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),e);return yN(this.apiKey,this.model,i,a)}async embedContent(t,e={}){const i=gN(t),a=Object.assign(Object.assign({},this._requestOptions),e);return AN(this.apiKey,this.model,i,a)}async batchEmbedContents(t,e={}){const i=Object.assign(Object.assign({},this._requestOptions),e);return wN(this.apiKey,this.model,t,i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t){this.apiKey=t}getGenerativeModel(t,e){if(!t.model)throw new ea("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new HS(this.apiKey,t,e)}getGenerativeModelFromCachedContent(t,e,i){if(!t.name)throw new qh("Cached content must contain a `name` field.");if(!t.model)throw new qh("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const o of a)if(e!=null&&e[o]&&t[o]&&(e==null?void 0:e[o])!==t[o]){if(o==="model"){const u=e.model.startsWith("models/")?e.model.replace("models/",""):e.model,h=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(u===h)continue}throw new qh(`Different value for "${o}" specified in modelParams (${e[o]}) and cachedContent (${t[o]})`)}const r=Object.assign(Object.assign({},e),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new HS(this.apiKey,r,i)}}var G_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},GS=Gd.createContext&&Gd.createContext(G_),_N=["attr","size","title"];function xN(c,t){if(c==null)return{};var e=EN(c,t),i,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(c);for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(c,i)&&(e[i]=c[i])}return e}function EN(c,t){if(c==null)return{};var e={};for(var i in c)if(Object.prototype.hasOwnProperty.call(c,i)){if(t.indexOf(i)>=0)continue;e[i]=c[i]}return e}function sv(){return sv=Object.assign?Object.assign.bind():function(c){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(c[i]=e[i])}return c},sv.apply(this,arguments)}function VS(c,t){var e=Object.keys(c);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(c);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),e.push.apply(e,i)}return e}function av(c){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(e),!0).forEach(function(i){NN(c,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(e)):VS(Object(e)).forEach(function(i){Object.defineProperty(c,i,Object.getOwnPropertyDescriptor(e,i))})}return c}function NN(c,t,e){return t=LN(t),t in c?Object.defineProperty(c,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):c[t]=e,c}function LN(c){var t=CN(c,"string");return typeof t=="symbol"?t:t+""}function CN(c,t){if(typeof c!="object"||!c)return c;var e=c[Symbol.toPrimitive];if(e!==void 0){var i=e.call(c,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(c)}function V_(c){return c&&c.map((t,e)=>Gd.createElement(t.tag,av({key:e},t.attr),V_(t.child)))}function Y_(c){return t=>Gd.createElement(TN,sv({attr:av({},c.attr)},t),V_(c.child))}function TN(c){var t=e=>{var{attr:i,size:a,title:r}=c,o=xN(c,_N),u=a||e.size||"1em",h;return e.className&&(h=e.className),c.className&&(h=(h?h+" ":"")+c.className),Gd.createElement("svg",sv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,o,{className:h,style:av(av({color:c.color||e.color},e.style),c.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),r&&Gd.createElement("title",null,r),c.children)};return GS!==void 0?Gd.createElement(GS.Consumer,null,e=>t(e)):t(G_)}function RN(c){return Y_({attr:{viewBox:"0 0 528 512"},child:[{tag:"path",attr:{d:"M264.4 116.3l-132 84.3 132 84.3-132 84.3L0 284.1l132.3-84.3L0 116.3 132.3 32l132.1 84.3zM131.6 395.7l132-84.3 132 84.3-132 84.3-132-84.3zm132.8-111.6l132-84.3-132-83.6L395.7 32 528 116.3l-132.3 84.3L528 284.8l-132.3 84.3-131.3-85z"},child:[]}]})(c)}function MN(c){return Y_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M339 314.9L175.4 32h161.2l163.6 282.9H339zm-137.5 23.6L120.9 480h310.5L512 338.5H201.5zM154.1 67.4L0 338.5 80.6 480 237 208.8 154.1 67.4z"},child:[]}]})(c)}const Aa=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Ay=[.001,0,0,.001,0,0],ny=1.35,mr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},nh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ON="pdfjs_internal_editor_",Fe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},ri={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},DN={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ks={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},_5={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Vn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Up={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Iv={ERRORS:0,WARNINGS:1,INFOS:5},rv={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},h5={moveTo:0,lineTo:1,curveTo:2,closePath:3},kN={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Fv=Iv.WARNINGS;function PN(c){Number.isInteger(c)&&(Fv=c)}function IN(){return Fv}function Bv(c){Fv>=Iv.INFOS&&console.log(`Info: ${c}`)}function ze(c){Fv>=Iv.WARNINGS&&console.log(`Warning: ${c}`)}function Pi(c){throw new Error(c)}function Xn(c,t){c||Pi(t)}function FN(c){switch(c==null?void 0:c.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function X_(c,t=null,e=null){if(!c)return null;if(e&&typeof c=="string"){if(e.addDefaultProtocol&&c.startsWith("www.")){const a=c.match(/\./g);(a==null?void 0:a.length)>=2&&(c=`http://${c}`)}if(e.tryConvertEncoding)try{c=UN(c)}catch{}}const i=t?URL.parse(c,t):URL.parse(c);return FN(i)?i:null}function W_(c,t,e=!1){const i=URL.parse(c);return i?(i.hash=t,i.href):e&&X_(c,"http://example.com")?c.split("#",1)[0]+`${t?`#${t}`:""}`:""}function ni(c,t,e,i=!1){return Object.defineProperty(c,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const $d=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class YS extends $d{constructor(t,e){super(t,"PasswordException"),this.code=e}}class sy extends $d{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class wy extends $d{constructor(t){super(t,"InvalidPDFException")}}class ov extends $d{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class BN extends $d{constructor(t){super(t,"FormatError")}}class Uh extends $d{constructor(t){super(t,"AbortException")}}function K_(c){(typeof c!="object"||(c==null?void 0:c.length)===void 0)&&Pi("Invalid argument for bytesToString");const t=c.length,e=8192;if(t<e)return String.fromCharCode.apply(null,c);const i=[];for(let a=0;a<t;a+=e){const r=Math.min(a+e,t),o=c.subarray(a,r);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function o2(c){typeof c!="string"&&Pi("Invalid argument for stringToBytes");const t=c.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=c.charCodeAt(i)&255;return e}function jN(c){return String.fromCharCode(c>>24&255,c>>16&255,c>>8&255,c&255)}function zN(){const c=new Uint8Array(4);return c[0]=1,new Uint32Array(c.buffer,0,1)[0]===1}function qN(){try{return new Function(""),!0}catch{return!1}}class Ds{static get isLittleEndian(){return ni(this,"isLittleEndian",zN())}static get isEvalSupported(){return ni(this,"isEvalSupported",qN())}static get isOffscreenCanvasSupported(){return ni(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ni(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){if(typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"){const{platform:t,userAgent:e}=navigator;return ni(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}return ni(this,"platform",{isAndroid:!1,isLinux:!1,isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return ni(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const ay=Array.from(Array(256).keys(),c=>c.toString(16).padStart(2,"0"));var au,x5,Sy;class de{static makeHexColor(t,e,i){return`#${ay[t]}${ay[e]}${ay[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,i=0){const a=t[i],r=t[i+1];t[i]=a*e[0]+r*e[2]+e[4],t[i+1]=a*e[1]+r*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const a=e[0],r=e[1],o=e[2],u=e[3],h=e[4],p=e[5];for(let m=0;m<6;m+=2){const A=t[i+m],w=t[i+m+1];t[i+m]=A*a+w*o+h,t[i+m+1]=A*r+w*u+p}}static applyInverseTransform(t,e){const i=t[0],a=t[1],r=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-a*e[2]+e[2]*e[5]-e[4]*e[3])/r,t[1]=(-i*e[1]+a*e[0]+e[4]*e[1]-e[5]*e[0])/r}static axialAlignedBoundingBox(t,e,i){const a=e[0],r=e[1],o=e[2],u=e[3],h=e[4],p=e[5],m=t[0],A=t[1],w=t[2],y=t[3];let N=a*m+h,E=N,T=a*w+h,L=T,M=u*A+p,j=M,$=u*y+p,K=$;if(r!==0||o!==0){const at=r*m,tt=r*w,Z=o*A,ut=o*y;N+=Z,L+=Z,T+=ut,E+=ut,M+=at,K+=at,$+=tt,j+=tt}i[0]=Math.min(i[0],N,T,E,L),i[1]=Math.min(i[1],M,$,j,K),i[2]=Math.max(i[2],N,T,E,L),i[3]=Math.max(i[3],M,$,j,K)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],a=t[1],r=t[2],o=t[3],u=i**2+a**2,h=i*r+a*o,p=r**2+o**2,m=(u+p)/2,A=Math.sqrt(m**2-(u*p-h**2));e[0]=Math.sqrt(m+A||1),e[1]=Math.sqrt(m-A||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>a)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>o?null:[i,r,a,o]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,a,r){r[0]=Math.min(r[0],t,i),r[1]=Math.min(r[1],e,a),r[2]=Math.max(r[2],t,i),r[3]=Math.max(r[3],e,a)}static bezierBoundingBox(t,e,i,a,r,o,u,h,p){p[0]=Math.min(p[0],t,u),p[1]=Math.min(p[1],e,h),p[2]=Math.max(p[2],t,u),p[3]=Math.max(p[3],e,h),F(this,au,Sy).call(this,t,i,r,u,e,a,o,h,3*(-t+3*(i-r)+u),6*(t-2*i+r),3*(i-t),p),F(this,au,Sy).call(this,t,i,r,u,e,a,o,h,3*(-e+3*(a-o)+h),6*(e-2*a+o),3*(a-e),p)}}au=new WeakSet,x5=function(t,e,i,a,r,o,u,h,p,m){if(p<=0||p>=1)return;const A=1-p,w=p*p,y=w*p,N=A*(A*(A*t+3*p*e)+3*w*i)+y*a,E=A*(A*(A*r+3*p*o)+3*w*u)+y*h;m[0]=Math.min(m[0],N),m[1]=Math.min(m[1],E),m[2]=Math.max(m[2],N),m[3]=Math.max(m[3],E)},Sy=function(t,e,i,a,r,o,u,h,p,m,A,w){if(Math.abs(p)<1e-12){Math.abs(m)>=1e-12&&F(this,au,x5).call(this,t,e,i,a,r,o,u,h,-A/m,w);return}const y=m**2-4*A*p;if(y<0)return;const N=Math.sqrt(y),E=2*p;F(this,au,x5).call(this,t,e,i,a,r,o,u,h,(-m+N)/E,w),F(this,au,x5).call(this,t,e,i,a,r,o,u,h,(-m-N)/E,w)},I(de,au);function UN(c){return decodeURIComponent(escape(c))}let ry=null,XS=null;function HN(c){return ry||(ry=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,XS=new Map([["","t"]])),c.replaceAll(ry,(t,e,i)=>e?e.normalize("NFKC"):XS.get(i))}function $_(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const c=new Uint8Array(32);return crypto.getRandomValues(c),K_(c)}const ZA="pdfjs_internal_id_";function GN(c,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,a,...r]=e;if(!c(i)&&!Number.isInteger(i)||!t(a))return!1;const o=r.length;let u=!0;switch(a.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;u=!1;break;default:return!1}for(const h of r)if(!(typeof h=="number"||u&&h===null))return!1;return!0}function wa(c,t,e){return Math.min(Math.max(c,t),e)}function Q_(c){return Uint8Array.prototype.toBase64?c.toBase64():btoa(K_(c))}function VN(c){return Uint8Array.fromBase64?Uint8Array.fromBase64(c):o2(atob(c))}typeof Promise.try!="function"&&(Promise.try=function(c,...t){return new Promise(e=>{e(c(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(c){return c.reduce((t,e)=>t+e,0)});const Ec="http://www.w3.org/2000/svg",Bf=class Bf{};Wt(Bf,"CSS",96),Wt(Bf,"PDF",72),Wt(Bf,"PDF_TO_CSS_UNITS",Bf.CSS/Bf.PDF);let Hh=Bf;async function l2(c,t="text"){if(Hp(c,document.baseURI)){const e=await fetch(c);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const a=new XMLHttpRequest;a.open("GET",c,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}i(new Error(a.statusText))}},a.send(null)})}class c2{constructor({viewBox:t,userUnit:e,scale:i,rotation:a,offsetX:r=0,offsetY:o=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=a,this.offsetX=r,this.offsetY=o,i*=e;const h=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let m,A,w,y;switch(a%=360,a<0&&(a+=360),a){case 180:m=-1,A=0,w=0,y=1;break;case 90:m=0,A=1,w=1,y=0;break;case 270:m=0,A=-1,w=-1,y=0;break;case 0:m=1,A=0,w=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(w=-w,y=-y);let N,E,T,L;m===0?(N=Math.abs(p-t[1])*i+r,E=Math.abs(h-t[0])*i+o,T=(t[3]-t[1])*i,L=(t[2]-t[0])*i):(N=Math.abs(h-t[0])*i+r,E=Math.abs(p-t[1])*i+o,T=(t[2]-t[0])*i,L=(t[3]-t[1])*i),this.transform=[m*i,A*i,w*i,y*i,N-m*i*h-w*i*p,E-A*i*h-y*i*p],this.width=T,this.height=L}get rawDims(){const t=this.viewBox;return ni(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:a=this.offsetY,dontFlip:r=!1}={}){return new c2({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:r})}convertToViewportPoint(t,e){const i=[t,e];return de.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];de.applyTransform(e,this.transform);const i=[t[2],t[3]];return de.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return de.applyInverseTransform(i,this.transform),i}}class JA extends $d{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function jv(c){const t=c.length;let e=0;for(;e<t&&c[e].trim()==="";)e++;return c.substring(e,e+5).toLowerCase()==="data:"}function tw(c){return typeof c=="string"&&/\.pdf$/i.test(c)}function YN(c){return[c]=c.split(/[#?]/,1),c.substring(c.lastIndexOf("/")+1)}function XN(c,t="document.pdf"){if(typeof c!="string")return t;if(jv(c))return ze('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=e.exec(c);let r=i.exec(a[1])||i.exec(a[2])||i.exec(a[3]);if(r&&(r=r[0],r.includes("%")))try{r=i.exec(decodeURIComponent(r))[0]}catch{}return r||t}class WS{constructor(){Wt(this,"started",Object.create(null));Wt(this,"times",[])}time(t){t in this.started&&ze(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||ze(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:a,end:r}of this.times)t.push(`${i.padEnd(e)} ${r-a}ms
`);return t.join("")}}function Hp(c,t){const e=t?URL.parse(c,t):URL.parse(c);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function Bo(c){c.preventDefault()}function Yn(c){c.preventDefault(),c.stopPropagation()}var F0;class ew{static toDateObject(t){if(!t||typeof t!="string")return null;d(this,F0)||R(this,F0,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=d(this,F0).exec(t);if(!e)return null;const i=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const p=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let A=parseInt(e[9],10)||0;return A=A>=0&&A<=59?A:0,p==="-"?(o+=m,u+=A):p==="+"&&(o-=m,u-=A),new Date(Date.UTC(i,a,r,o,u,h))}}F0=new WeakMap,I(ew,F0);function WN(c,{scale:t=1,rotation:e=0}){const{width:i,height:a}=c.attributes.style,r=[0,0,parseInt(i),parseInt(a)];return new c2({viewBox:r,userUnit:1,scale:t,rotation:e})}function iw(c){if(c.startsWith("#")){const t=parseInt(c.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return c.startsWith("rgb(")?c.slice(4,-1).split(",").map(t=>parseInt(t)):c.startsWith("rgba(")?c.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(ze(`Not a valid color format: "${c}"`),[0,0,0])}function KN(c){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of c.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;c.set(e,iw(i))}t.remove()}function gn(c){const{a:t,b:e,c:i,d:a,e:r,f:o}=c.getTransform();return[t,e,i,a,r,o]}function Sl(c){const{a:t,b:e,c:i,d:a,e:r,f:o}=c.getTransform().invertSelf();return[t,e,i,a,r,o]}function Xd(c,t,e=!1,i=!0){if(t instanceof c2){const{pageWidth:a,pageHeight:r}=t.rawDims,{style:o}=c,u=Ds.isCSSRoundSupported,h=`var(--total-scale-factor) * ${a}px`,p=`var(--total-scale-factor) * ${r}px`,m=u?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,A=u?`round(down, ${p}, var(--scale-round-y))`:`calc(${p})`;!e||t.rotation%180===0?(o.width=m,o.height=A):(o.width=A,o.height=m)}i&&c.setAttribute("data-main-rotation",t.rotation)}class ou{constructor(){const{pixelRatio:t}=ou;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,a){let r=1/0,o=1/0,u=1/0;i>0&&(r=Math.sqrt(i/(t*e))),a!==-1&&(o=a/t,u=a/e);const h=Math.min(r,o,u);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}}const _y=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var sh,zf,Br,ah,B0,lg,j0,vv,Z_,Os,J_,t4,d0,e4,E5;const Cc=class Cc{constructor(t){I(this,Os);I(this,sh,null);I(this,zf,null);I(this,Br);I(this,ah,null);I(this,B0,null);I(this,lg,null);R(this,Br,t),d(Cc,j0)||R(Cc,j0,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=R(this,sh,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=d(this,Br)._uiManager._signal;t.addEventListener("contextmenu",Bo,{signal:e}),t.addEventListener("pointerdown",F(Cc,vv,Z_),{signal:e});const i=R(this,ah,document.createElement("div"));i.className="buttons",t.append(i);const a=d(this,Br).toolbarPosition;if(a){const{style:r}=t,o=d(this,Br)._uiManager.direction==="ltr"?1-a[0]:a[0];r.insetInlineEnd=`${100*o}%`,r.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return F(this,Os,e4).call(this),t}get div(){return d(this,sh)}hide(){var t;d(this,sh).classList.add("hidden"),(t=d(this,zf))==null||t.hideDropdown()}show(){var t;d(this,sh).classList.remove("hidden"),(t=d(this,B0))==null||t.shown()}async addAltText(t){const e=await t.render();F(this,Os,d0).call(this,e),d(this,ah).prepend(e,d(this,Os,E5)),R(this,B0,t)}addColorPicker(t){R(this,zf,t);const e=t.renderButton();F(this,Os,d0).call(this,e),d(this,ah).prepend(e,d(this,Os,E5))}async addEditSignatureButton(t){const e=R(this,lg,await t.renderEditButton(d(this,Br)));F(this,Os,d0).call(this,e),d(this,ah).prepend(e,d(this,Os,E5))}updateEditSignatureButton(t){d(this,lg)&&(d(this,lg).title=t)}remove(){var t;d(this,sh).remove(),(t=d(this,zf))==null||t.destroy(),R(this,zf,null)}};sh=new WeakMap,zf=new WeakMap,Br=new WeakMap,ah=new WeakMap,B0=new WeakMap,lg=new WeakMap,j0=new WeakMap,vv=new WeakSet,Z_=function(t){t.stopPropagation()},Os=new WeakSet,J_=function(t){d(this,Br)._focusEventsAllowed=!1,Yn(t)},t4=function(t){d(this,Br)._focusEventsAllowed=!0,Yn(t)},d0=function(t){const e=d(this,Br)._uiManager._signal;t.addEventListener("focusin",F(this,Os,J_).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",F(this,Os,t4).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Bo,{signal:e})},e4=function(){const{editorType:t,_uiManager:e}=d(this,Br),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",d(Cc,j0)[t]),F(this,Os,d0).call(this,i),i.addEventListener("click",a=>{e.delete()},{signal:e._signal}),d(this,ah).append(i)},E5=function(){const t=document.createElement("div");return t.className="divider",t},I(Cc,vv),I(Cc,j0,null);let xy=Cc;var z0,qf,Uf,Yh,i4,n4,s4;class $N{constructor(t){I(this,Yh);I(this,z0,null);I(this,qf,null);I(this,Uf);R(this,Uf,t)}show(t,e,i){const[a,r]=F(this,Yh,n4).call(this,e,i),{style:o}=d(this,qf)||R(this,qf,F(this,Yh,i4).call(this));t.append(d(this,qf)),o.insetInlineEnd=`${100*a}%`,o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,qf).remove()}}z0=new WeakMap,qf=new WeakMap,Uf=new WeakMap,Yh=new WeakSet,i4=function(){const t=R(this,qf,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Bo,{signal:d(this,Uf)._signal});const e=R(this,z0,document.createElement("div"));return e.className="buttons",t.append(e),F(this,Yh,s4).call(this),t},n4=function(t,e){let i=0,a=0;for(const r of t){const o=r.y+r.height;if(o<i)continue;const u=r.x+(e?r.width:0);if(o>i){a=u,i=o;continue}e?u>a&&(a=u):u<a&&(a=u)}return[e?1-a:a,i]},s4=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=d(this,Uf)._signal;t.addEventListener("contextmenu",Bo,{signal:i}),t.addEventListener("click",()=>{d(this,Uf).highlightSelection("floating_button")},{signal:i}),d(this,z0).append(t)};function nw(c,t,e){for(const i of e)t.addEventListener(i,c[i].bind(c))}var bv;class QN{constructor(){I(this,bv,0)}get id(){return`${ON}${pa(this,bv)._++}`}}bv=new WeakMap;var cg,q0,Qs,ug,N5;const dw=class dw{constructor(){I(this,ug);I(this,cg,$_());I(this,q0,0);I(this,Qs,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const r=a.decode().then(()=>(i.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return ni(this,"_isSVGFittingCanvas",r)}async getFromFile(t){const{lastModified:e,name:i,size:a,type:r}=t;return F(this,ug,N5).call(this,`${e}_${i}_${a}_${r}`,t)}async getFromUrl(t){return F(this,ug,N5).call(this,t,t)}async getFromBlob(t,e){const i=await e;return F(this,ug,N5).call(this,t,i)}async getFromId(t){d(this,Qs)||R(this,Qs,new Map);const e=d(this,Qs).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){d(this,Qs)||R(this,Qs,new Map);let i=d(this,Qs).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),i={bitmap:a.transferToImageBitmap(),id:`image_${d(this,cg)}_${pa(this,q0)._++}`,refCounter:1,isSvg:!1},d(this,Qs).set(t,i),d(this,Qs).set(i.id,i),i}getSvgUrl(t){const e=d(this,Qs).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var a;d(this,Qs)||R(this,Qs,new Map);const e=d(this,Qs).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}(a=i.close)==null||a.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${d(this,cg)}_`)}};cg=new WeakMap,q0=new WeakMap,Qs=new WeakMap,ug=new WeakSet,N5=async function(t,e){d(this,Qs)||R(this,Qs,new Map);let i=d(this,Qs).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${d(this,cg)}_${pa(this,q0)._++}`,refCounter:0,isSvg:!1});let a;if(typeof e=="string"?(i.url=e,a=await l2(e,"blob")):e instanceof File?a=i.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const r=dw._isSVGFittingCanvas,o=new FileReader,u=new Image,h=new Promise((p,m)=>{u.onload=()=>{i.bitmap=u,i.isSvg=!0,p()},o.onload=async()=>{const A=i.svgUrl=o.result;u.src=await r?`${A}#svgView(preserveAspectRatio(none))`:A},u.onerror=o.onerror=m});o.readAsDataURL(a),await h}else i.bitmap=await createImageBitmap(a);i.refCounter=1}catch(a){ze(a),i=null}return d(this,Qs).set(t,i),i&&d(this,Qs).set(i.id,i),i};let Ey=dw;var Mn,rh,U0,pn;class ZN{constructor(t=128){I(this,Mn,[]);I(this,rh,!1);I(this,U0);I(this,pn,-1);R(this,U0,t)}add({cmd:t,undo:e,post:i,mustExec:a,type:r=NaN,overwriteIfSameType:o=!1,keepUndo:u=!1}){if(a&&t(),d(this,rh))return;const h={cmd:t,undo:e,post:i,type:r};if(d(this,pn)===-1){d(this,Mn).length>0&&(d(this,Mn).length=0),R(this,pn,0),d(this,Mn).push(h);return}if(o&&d(this,Mn)[d(this,pn)].type===r){u&&(h.undo=d(this,Mn)[d(this,pn)].undo),d(this,Mn)[d(this,pn)]=h;return}const p=d(this,pn)+1;p===d(this,U0)?d(this,Mn).splice(0,1):(R(this,pn,p),p<d(this,Mn).length&&d(this,Mn).splice(p)),d(this,Mn).push(h)}undo(){if(d(this,pn)===-1)return;R(this,rh,!0);const{undo:t,post:e}=d(this,Mn)[d(this,pn)];t(),e==null||e(),R(this,rh,!1),R(this,pn,d(this,pn)-1)}redo(){if(d(this,pn)<d(this,Mn).length-1){R(this,pn,d(this,pn)+1),R(this,rh,!0);const{cmd:t,post:e}=d(this,Mn)[d(this,pn)];t(),e==null||e(),R(this,rh,!1)}}hasSomethingToUndo(){return d(this,pn)!==-1}hasSomethingToRedo(){return d(this,pn)<d(this,Mn).length-1}cleanType(t){if(d(this,pn)!==-1){for(let e=d(this,pn);e>=0;e--)if(d(this,Mn)[e].type!==t){d(this,Mn).splice(e+1,d(this,pn)-e),R(this,pn,e);return}d(this,Mn).length=0,R(this,pn,-1)}}destroy(){R(this,Mn,null)}}Mn=new WeakMap,rh=new WeakMap,U0=new WeakMap,pn=new WeakMap;var yv,a4;class u2{constructor(t){I(this,yv);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ds.platform;for(const[i,a,r={}]of t)for(const o of i){const u=o.startsWith("mac+");e&&u?(this.callbacks.set(o.slice(4),{callback:a,options:r}),this.allKeys.add(o.split("+").at(-1))):!e&&!u&&(this.callbacks.set(o,{callback:a,options:r}),this.allKeys.add(o.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(F(this,yv,a4).call(this,e));if(!i)return;const{callback:a,options:{bubbles:r=!1,args:o=[],checker:u=null}}=i;u&&!u(t,e)||(a.bind(t,...o,e)(),r||Yn(e))}}yv=new WeakSet,a4=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Av=class Av{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return KN(t),ni(this,"_colors",t)}convert(t){const e=iw(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,a]of this._colors)if(a.every((r,o)=>r===e[o]))return Av._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?de.makeHexColor(...e):t}};Wt(Av,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Ny=Av;var hg,nr,ts,Es,fg,Rc,dg,jr,oh,lh,pg,Hf,Nl,Eo,Gf,H0,G0,gg,V0,Ll,ch,mg,uh,Cl,wv,hh,Y0,fh,Vf,Yf,dh,X0,hs,Li,Mc,ph,Xf,W0,K0,gh,Tl,Oc,$0,zr,ee,L5,Ly,r4,o4,C5,l4,c4,u4,Cy,h4,Ty,Ry,f4,ga,Nc,d4,p4,My,g4,p0,Oy;const tg=class tg{constructor(t,e,i,a,r,o,u,h,p,m,A,w,y,N){I(this,ee);I(this,hg,new AbortController);I(this,nr,null);I(this,ts,new Map);I(this,Es,new Map);I(this,fg,null);I(this,Rc,null);I(this,dg,null);I(this,jr,new ZN);I(this,oh,null);I(this,lh,null);I(this,pg,0);I(this,Hf,new Set);I(this,Nl,null);I(this,Eo,null);I(this,Gf,new Set);Wt(this,"_editorUndoBar",null);I(this,H0,!1);I(this,G0,!1);I(this,gg,!1);I(this,V0,null);I(this,Ll,null);I(this,ch,null);I(this,mg,null);I(this,uh,!1);I(this,Cl,null);I(this,wv,new QN);I(this,hh,!1);I(this,Y0,!1);I(this,fh,null);I(this,Vf,null);I(this,Yf,null);I(this,dh,null);I(this,X0,null);I(this,hs,Fe.NONE);I(this,Li,new Set);I(this,Mc,null);I(this,ph,null);I(this,Xf,null);I(this,W0,null);I(this,K0,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});I(this,gh,[0,0]);I(this,Tl,null);I(this,Oc,null);I(this,$0,null);I(this,zr,null);const E=this._signal=d(this,hg).signal;R(this,Oc,t),R(this,$0,e),R(this,fg,i),R(this,ph,a),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:E}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),r._on("setpreference",this.onSetPreference.bind(this),{signal:E}),r._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:E}),F(this,ee,l4).call(this),F(this,ee,f4).call(this),F(this,ee,Cy).call(this),R(this,Rc,o.annotationStorage),R(this,V0,o.filterFactory),R(this,Xf,u),R(this,mg,h||null),R(this,H0,p),R(this,G0,m),R(this,gg,A),R(this,X0,w||null),this.viewParameters={realScale:Hh.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=N!==!1}static get _keyboardManager(){const t=tg.prototype,e=o=>d(o,Oc).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:u})=>{if(u instanceof HTMLInputElement){const{type:h}=u;return h!=="text"&&h!=="number"}return!0},a=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return ni(this,"_keyboardManager",new u2([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:u})=>!(u instanceof HTMLButtonElement)&&d(o,Oc).contains(u)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:u})=>!(u instanceof HTMLButtonElement)&&d(o,Oc).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e,i,a,r,o,u,h;(t=d(this,zr))==null||t.resolve(),R(this,zr,null),(e=d(this,hg))==null||e.abort(),R(this,hg,null),this._signal=null;for(const p of d(this,Es).values())p.destroy();d(this,Es).clear(),d(this,ts).clear(),d(this,Gf).clear(),(i=d(this,dh))==null||i.clear(),R(this,nr,null),d(this,Li).clear(),d(this,jr).destroy(),(a=d(this,fg))==null||a.destroy(),(r=d(this,ph))==null||r.destroy(),(o=d(this,Cl))==null||o.hide(),R(this,Cl,null),(u=d(this,Yf))==null||u.destroy(),R(this,Yf,null),d(this,Ll)&&(clearTimeout(d(this,Ll)),R(this,Ll,null)),d(this,Tl)&&(clearTimeout(d(this,Tl)),R(this,Tl,null)),(h=this._editorUndoBar)==null||h.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return d(this,X0)}get useNewAltTextFlow(){return d(this,G0)}get useNewAltTextWhenAddingImage(){return d(this,gg)}get hcmFilter(){return ni(this,"hcmFilter",d(this,Xf)?d(this,V0).addHCMFilter(d(this,Xf).foreground,d(this,Xf).background):"none")}get direction(){return ni(this,"direction",getComputedStyle(d(this,Oc)).direction)}get highlightColors(){return ni(this,"highlightColors",d(this,mg)?new Map(d(this,mg).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return ni(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),R(this,lh,t)}setMainHighlightColorPicker(t){R(this,Yf,t)}editAltText(t,e=!1){var i;(i=d(this,fg))==null||i.editAltText(this,t,e)}getSignature(t){var e;(e=d(this,ph))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return d(this,ph)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":R(this,gg,e);break}}onPageChanging({pageNumber:t}){R(this,pg,t-1)}focusMainContainer(){d(this,Oc).focus()}findParent(t,e){for(const i of d(this,Es).values()){const{x:a,y:r,width:o,height:u}=i.div.getBoundingClientRect();if(t>=a&&t<=a+o&&e>=r&&e<=r+u)return i}return null}disableUserSelect(t=!1){d(this,$0).classList.toggle("noUserSelect",t)}addShouldRescale(t){d(this,Gf).add(t)}removeShouldRescale(t){d(this,Gf).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*Hh.PDF_TO_CSS_UNITS;for(const i of d(this,Gf))i.onScaleChanging();(e=d(this,lh))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:r,focusOffset:o}=e,u=e.toString(),p=F(this,ee,L5).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;e.empty();const A=F(this,ee,Ly).call(this,p),w=d(this,hs)===Fe.NONE,y=()=>{A==null||A.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:i,anchorOffset:a,focusNode:r,focusOffset:o,text:u}),w&&this.showAllEditors("highlight",!0,!0)};if(w){this.switchToMode(Fe.HIGHLIGHT,y);return}y()}addToAnnotationStorage(t){!t.isEmpty()&&d(this,Rc)&&!d(this,Rc).has(t.id)&&d(this,Rc).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,d(this,uh)&&(R(this,uh,!1),F(this,ee,C5).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of d(this,Li))if(e.div.contains(t)){R(this,Vf,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!d(this,Vf))return;const[t,e]=d(this,Vf);R(this,Vf,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){F(this,ee,Cy).call(this),F(this,ee,Ty).call(this)}removeEditListeners(){F(this,ee,h4).call(this),F(this,ee,Ry).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of d(this,Eo))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of d(this,Eo))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=d(this,nr))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const a of d(this,Li)){const r=a.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const o of d(this,Eo))if(o.isHandlingMimeForPasting(r.type)){o.paste(r,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){ze(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const a=this.currentLayer;try{const r=[];for(const h of i){const p=await a.deserialize(h);if(!p)return;r.push(p)}const o=()=>{for(const h of r)F(this,ee,My).call(this,h);F(this,ee,Oy).call(this,r)},u=()=>{for(const h of r)h.remove()};this.addCommands({cmd:o,undo:u,mustExec:!0})}catch(r){ze(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,hs)!==Fe.NONE&&!this.isEditorHandlingKeyboard&&tg._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,uh)&&(R(this,uh,!1),F(this,ee,C5).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(F(this,ee,c4).call(this),F(this,ee,Ty).call(this),F(this,ee,ga).call(this,{isEditing:d(this,hs)!==Fe.NONE,isEmpty:F(this,ee,p0).call(this),hasSomethingToUndo:d(this,jr).hasSomethingToUndo(),hasSomethingToRedo:d(this,jr).hasSomethingToRedo(),hasSelectedEditor:!1})):(F(this,ee,u4).call(this),F(this,ee,Ry).call(this),F(this,ee,ga).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!d(this,Eo)){R(this,Eo,t);for(const e of d(this,Eo))F(this,ee,Nc).call(this,e.defaultPropertiesToUpdate)}}getId(){return d(this,wv).id}get currentLayer(){return d(this,Es).get(d(this,pg))}getLayer(t){return d(this,Es).get(t)}get currentPageIndex(){return d(this,pg)}addLayer(t){d(this,Es).set(t.pageIndex,t),d(this,hh)?t.enable():t.disable()}removeLayer(t){d(this,Es).delete(t.pageIndex)}async updateMode(t,e=null,i=!1){var a,r,o;if(d(this,hs)!==t&&!(d(this,zr)&&(await d(this,zr).promise,!d(this,zr)))){if(R(this,zr,Promise.withResolvers()),(a=d(this,lh))==null||a.commitOrRemove(),R(this,hs,t),t===Fe.NONE){this.setEditingState(!1),F(this,ee,p4).call(this),(r=this._editorUndoBar)==null||r.hide(),d(this,zr).resolve();return}t===Fe.SIGNATURE&&await((o=d(this,ph))==null?void 0:o.loadSignatures()),this.setEditingState(!0),await F(this,ee,d4).call(this),this.unselectAll();for(const u of d(this,Es).values())u.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),d(this,zr).resolve();return}for(const u of d(this,ts).values())u.annotationElementId===e?(this.setSelected(u),u.enterInEditMode()):u.unselect();d(this,zr).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==d(this,hs)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var i;if(d(this,Eo)){switch(t){case ri.CREATE:this.currentLayer.addNewEditor(e);return;case ri.HIGHLIGHT_DEFAULT_COLOR:(i=d(this,Yf))==null||i.updateColor(e);break;case ri.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,W0)||R(this,W0,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const a of d(this,Li))a.updateParams(t,e);for(const a of d(this,Eo))a.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var r;for(const o of d(this,ts).values())o.editorType===t&&o.show(e);(((r=d(this,W0))==null?void 0:r.get(ri.HIGHLIGHT_SHOW_ALL))??!0)!==e&&F(this,ee,Nc).call(this,[[ri.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(d(this,Y0)!==t){R(this,Y0,t);for(const e of d(this,Es).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of d(this,ts).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return d(this,ts).get(t)}addEditor(t){d(this,ts).set(t.id,t)}removeEditor(t){var e,i;t.div.contains(document.activeElement)&&(d(this,Ll)&&clearTimeout(d(this,Ll)),R(this,Ll,setTimeout(()=>{this.focusMainContainer(),R(this,Ll,null)},0))),d(this,ts).delete(t.id),t.annotationElementId&&((e=d(this,dh))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!d(this,Hf).has(t.annotationElementId))&&((i=d(this,Rc))==null||i.remove(t.id))}addDeletedAnnotationElement(t){d(this,Hf).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return d(this,Hf).has(t)}removeDeletedAnnotationElement(t){d(this,Hf).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){d(this,nr)!==t&&(R(this,nr,t),t&&F(this,ee,Nc).call(this,t.propertiesToUpdate))}updateUI(t){d(this,ee,g4)===t&&F(this,ee,Nc).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){F(this,ee,Nc).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(d(this,Li).has(t)){d(this,Li).delete(t),t.unselect(),F(this,ee,ga).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,Li).add(t),t.select(),F(this,ee,Nc).call(this,t.propertiesToUpdate),F(this,ee,ga).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;(e=d(this,lh))==null||e.commitOrRemove();for(const i of d(this,Li))i!==t&&i.unselect();d(this,Li).clear(),d(this,Li).add(t),t.select(),F(this,ee,Nc).call(this,t.propertiesToUpdate),F(this,ee,ga).call(this,{hasSelectedEditor:!0})}isSelected(t){return d(this,Li).has(t)}get firstSelectedEditor(){return d(this,Li).values().next().value}unselect(t){t.unselect(),d(this,Li).delete(t),F(this,ee,ga).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,Li).size!==0}get isEnterHandled(){return d(this,Li).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;d(this,jr).undo(),F(this,ee,ga).call(this,{hasSomethingToUndo:d(this,jr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:F(this,ee,p0).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){d(this,jr).redo(),F(this,ee,ga).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,jr).hasSomethingToRedo(),isEmpty:F(this,ee,p0).call(this)})}addCommands(t){d(this,jr).add(t),F(this,ee,ga).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:F(this,ee,p0).call(this)})}cleanUndoStack(t){d(this,jr).cleanType(t)}delete(){var r;this.commitOrRemove();const t=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...d(this,Li)],i=()=>{var o;(o=this._editorUndoBar)==null||o.show(a,e.length===1?e[0].editorType:e.length);for(const u of e)u.remove()},a=()=>{for(const o of e)F(this,ee,My).call(this,o)};this.addCommands({cmd:i,undo:a,mustExec:!0})}commitOrRemove(){var t;(t=d(this,nr))==null||t.commitOrRemove()}hasSomethingToControl(){return d(this,nr)||this.hasSelection}selectAll(){for(const t of d(this,Li))t.commit();F(this,ee,Oy).call(this,d(this,ts).values())}unselectAll(){var t;if(!(d(this,nr)&&(d(this,nr).commitOrRemove(),d(this,hs)!==Fe.NONE))&&!((t=d(this,lh))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of d(this,Li))e.unselect();d(this,Li).clear(),F(this,ee,ga).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;d(this,gh)[0]+=t,d(this,gh)[1]+=e;const[a,r]=d(this,gh),o=[...d(this,Li)],u=1e3;d(this,Tl)&&clearTimeout(d(this,Tl)),R(this,Tl,setTimeout(()=>{R(this,Tl,null),d(this,gh)[0]=d(this,gh)[1]=0,this.addCommands({cmd:()=>{for(const h of o)d(this,ts).has(h.id)&&(h.translateInPage(a,r),h.translationDone())},undo:()=>{for(const h of o)d(this,ts).has(h.id)&&(h.translateInPage(-a,-r),h.translationDone())},mustExec:!1})},u));for(const h of o)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),R(this,Nl,new Map);for(const t of d(this,Li))d(this,Nl).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,Nl))return!1;this.disableUserSelect(!1);const t=d(this,Nl);R(this,Nl,null);let e=!1;for(const[{x:a,y:r,pageIndex:o},u]of t)u.newX=a,u.newY=r,u.newPageIndex=o,e||(e=a!==u.savedX||r!==u.savedY||o!==u.savedPageIndex);if(!e)return!1;const i=(a,r,o,u)=>{if(d(this,ts).has(a.id)){const h=d(this,Es).get(u);h?a._setParentAndPosition(h,r,o):(a.pageIndex=u,a.x=r,a.y=o)}};return this.addCommands({cmd:()=>{for(const[a,{newX:r,newY:o,newPageIndex:u}]of t)i(a,r,o,u)},undo:()=>{for(const[a,{savedX:r,savedY:o,savedPageIndex:u}]of t)i(a,r,o,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(d(this,Nl))for(const i of d(this,Nl).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||d(this,Li).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return d(this,nr)===t}getActive(){return d(this,nr)}getMode(){return d(this,hs)}get imageManager(){return ni(this,"imageManager",new Ey)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,m=e.rangeCount;p<m;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:i,y:a,width:r,height:o}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(p,m,A,w)=>({x:(m-a)/o,y:1-(p+A-i)/r,width:w/o,height:A/r});break;case"180":u=(p,m,A,w)=>({x:1-(p+A-i)/r,y:1-(m+w-a)/o,width:A/r,height:w/o});break;case"270":u=(p,m,A,w)=>({x:1-(m+w-a)/o,y:(p-i)/r,width:w/o,height:A/r});break;default:u=(p,m,A,w)=>({x:(p-i)/r,y:(m-a)/o,width:A/r,height:w/o});break}const h=[];for(let p=0,m=e.rangeCount;p<m;p++){const A=e.getRangeAt(p);if(!A.collapsed)for(const{x:w,y,width:N,height:E}of A.getClientRects())N===0||E===0||h.push(u(w,y,N,E))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(d(this,dg)||R(this,dg,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=d(this,dg))==null||e.delete(t)}renderAnnotationElement(t){var a;const e=(a=d(this,dg))==null?void 0:a.get(t.data.id);if(!e)return;const i=d(this,Rc).getRawValue(e);i&&(d(this,hs)===Fe.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){var r;const a=(r=d(this,dh))==null?void 0:r.get(t);a&&(a.setCanvas(e,i),d(this,dh).delete(t))}addMissingCanvas(t,e){(d(this,dh)||R(this,dh,new Map)).set(t,e)}};hg=new WeakMap,nr=new WeakMap,ts=new WeakMap,Es=new WeakMap,fg=new WeakMap,Rc=new WeakMap,dg=new WeakMap,jr=new WeakMap,oh=new WeakMap,lh=new WeakMap,pg=new WeakMap,Hf=new WeakMap,Nl=new WeakMap,Eo=new WeakMap,Gf=new WeakMap,H0=new WeakMap,G0=new WeakMap,gg=new WeakMap,V0=new WeakMap,Ll=new WeakMap,ch=new WeakMap,mg=new WeakMap,uh=new WeakMap,Cl=new WeakMap,wv=new WeakMap,hh=new WeakMap,Y0=new WeakMap,fh=new WeakMap,Vf=new WeakMap,Yf=new WeakMap,dh=new WeakMap,X0=new WeakMap,hs=new WeakMap,Li=new WeakMap,Mc=new WeakMap,ph=new WeakMap,Xf=new WeakMap,W0=new WeakMap,K0=new WeakMap,gh=new WeakMap,Tl=new WeakMap,Oc=new WeakMap,$0=new WeakMap,zr=new WeakMap,ee=new WeakSet,L5=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Ly=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of d(this,Es).values())if(i.hasTextLayer(t))return i;return null},r4=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=F(this,ee,L5).call(this,t).closest(".textLayer"),a=this.getSelectionBoxes(i);a&&(d(this,Cl)||R(this,Cl,new $N(this)),d(this,Cl).show(i,a,this.direction==="ltr"))},o4=function(){var r,o,u;const t=document.getSelection();if(!t||t.isCollapsed){d(this,Mc)&&((r=d(this,Cl))==null||r.hide(),R(this,Mc,null),F(this,ee,ga).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===d(this,Mc))return;const a=F(this,ee,L5).call(this,t).closest(".textLayer");if(!a){d(this,Mc)&&((o=d(this,Cl))==null||o.hide(),R(this,Mc,null),F(this,ee,ga).call(this,{hasSelectedText:!1}));return}if((u=d(this,Cl))==null||u.hide(),R(this,Mc,e),F(this,ee,ga).call(this,{hasSelectedText:!0}),!(d(this,hs)!==Fe.HIGHLIGHT&&d(this,hs)!==Fe.NONE)&&(d(this,hs)===Fe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),R(this,uh,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=d(this,hs)===Fe.HIGHLIGHT?F(this,ee,Ly).call(this,a):null;h==null||h.toggleDrawing();const p=new AbortController,m=this.combinedSignal(p),A=w=>{w.type==="pointerup"&&w.button!==0||(p.abort(),h==null||h.toggleDrawing(!0),w.type==="pointerup"&&F(this,ee,C5).call(this,"main_toolbar"))};window.addEventListener("pointerup",A,{signal:m}),window.addEventListener("blur",A,{signal:m})}},C5=function(t=""){d(this,hs)===Fe.HIGHLIGHT?this.highlightSelection(t):d(this,H0)&&F(this,ee,r4).call(this)},l4=function(){document.addEventListener("selectionchange",F(this,ee,o4).bind(this),{signal:this._signal})},c4=function(){if(d(this,ch))return;R(this,ch,new AbortController);const t=this.combinedSignal(d(this,ch));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},u4=function(){var t;(t=d(this,ch))==null||t.abort(),R(this,ch,null)},Cy=function(){if(d(this,fh))return;R(this,fh,new AbortController);const t=this.combinedSignal(d(this,fh));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},h4=function(){var t;(t=d(this,fh))==null||t.abort(),R(this,fh,null)},Ty=function(){if(d(this,oh))return;R(this,oh,new AbortController);const t=this.combinedSignal(d(this,oh));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Ry=function(){var t;(t=d(this,oh))==null||t.abort(),R(this,oh,null)},f4=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},ga=function(t){Object.entries(t).some(([i,a])=>d(this,K0)[i]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,K0),t)}),d(this,hs)===Fe.HIGHLIGHT&&t.hasSelectedEditor===!1&&F(this,ee,Nc).call(this,[[ri.HIGHLIGHT_FREE,!0]]))},Nc=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},d4=async function(){if(!d(this,hh)){R(this,hh,!0);const t=[];for(const e of d(this,Es).values())t.push(e.enable());await Promise.all(t);for(const e of d(this,ts).values())e.enable()}},p4=function(){if(this.unselectAll(),d(this,hh)){R(this,hh,!1);for(const t of d(this,Es).values())t.disable();for(const t of d(this,ts).values())t.disable()}},My=function(t){const e=d(this,Es).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},g4=function(){let t=null;for(t of d(this,Li));return t},p0=function(){if(d(this,ts).size===0)return!0;if(d(this,ts).size===1)for(const t of d(this,ts).values())return t.isEmpty();return!1},Oy=function(t){for(const e of d(this,Li))e.unselect();d(this,Li).clear();for(const e of t)e.isEmpty()||(d(this,Li).add(e),e.select());F(this,ee,ga).call(this,{hasSelectedEditor:this.hasSelection})},Wt(tg,"TRANSLATE_SMALL",1),Wt(tg,"TRANSLATE_BIG",10);let Wd=tg;var fs,Rl,No,vg,Ml,sr,bg,Ol,Pa,Dc,Wf,Dl,mh,Fo,g0,T5;const ma=class ma{constructor(t){I(this,Fo);I(this,fs,null);I(this,Rl,!1);I(this,No,null);I(this,vg,null);I(this,Ml,null);I(this,sr,null);I(this,bg,!1);I(this,Ol,null);I(this,Pa,null);I(this,Dc,null);I(this,Wf,null);I(this,Dl,!1);R(this,Pa,t),R(this,Dl,t._uiManager.useNewAltTextFlow),d(ma,mh)||R(ma,mh,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){ma._l10n??(ma._l10n=t)}async render(){const t=R(this,No,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=R(this,vg,document.createElement("span"));t.append(e),d(this,Dl)?(t.classList.add("new"),t.setAttribute("data-l10n-id",d(ma,mh).missing),e.setAttribute("data-l10n-id",d(ma,mh)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=d(this,Pa)._uiManager._signal;t.addEventListener("contextmenu",Bo,{signal:i}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const a=r=>{r.preventDefault(),d(this,Pa)._uiManager.editAltText(d(this,Pa)),d(this,Dl)&&d(this,Pa)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,Fo,g0)}})};return t.addEventListener("click",a,{capture:!0,signal:i}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(R(this,bg,!0),a(r))},{signal:i}),await F(this,Fo,T5).call(this),t}finish(){d(this,No)&&(d(this,No).focus({focusVisible:d(this,bg)}),R(this,bg,!1))}isEmpty(){return d(this,Dl)?d(this,fs)===null:!d(this,fs)&&!d(this,Rl)}hasData(){return d(this,Dl)?d(this,fs)!==null||!!d(this,Dc):this.isEmpty()}get guessedText(){return d(this,Dc)}async setGuessedText(t){d(this,fs)===null&&(R(this,Dc,t),R(this,Wf,await ma._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),F(this,Fo,T5).call(this))}toggleAltTextBadge(t=!1){var e;if(!d(this,Dl)||d(this,fs)){(e=d(this,Ol))==null||e.remove(),R(this,Ol,null);return}if(!d(this,Ol)){const i=R(this,Ol,document.createElement("div"));i.className="noAltTextBadge",d(this,Pa).div.append(i)}d(this,Ol).classList.toggle("hidden",!t)}serialize(t){let e=d(this,fs);return!t&&d(this,Dc)===e&&(e=d(this,Wf)),{altText:e,decorative:d(this,Rl),guessedText:d(this,Dc),textWithDisclaimer:d(this,Wf)}}get data(){return{altText:d(this,fs),decorative:d(this,Rl)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:a,cancel:r=!1}){i&&(R(this,Dc,i),R(this,Wf,a)),!(d(this,fs)===t&&d(this,Rl)===e)&&(r||(R(this,fs,t),R(this,Rl,e)),F(this,Fo,T5).call(this))}toggle(t=!1){d(this,No)&&(!t&&d(this,sr)&&(clearTimeout(d(this,sr)),R(this,sr,null)),d(this,No).disabled=!t)}shown(){d(this,Pa)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,Fo,g0)}})}destroy(){var t,e;(t=d(this,No))==null||t.remove(),R(this,No,null),R(this,vg,null),R(this,Ml,null),(e=d(this,Ol))==null||e.remove(),R(this,Ol,null)}};fs=new WeakMap,Rl=new WeakMap,No=new WeakMap,vg=new WeakMap,Ml=new WeakMap,sr=new WeakMap,bg=new WeakMap,Ol=new WeakMap,Pa=new WeakMap,Dc=new WeakMap,Wf=new WeakMap,Dl=new WeakMap,mh=new WeakMap,Fo=new WeakSet,g0=function(){return d(this,fs)&&"added"||d(this,fs)===null&&this.guessedText&&"review"||"missing"},T5=async function(){var a,r,o;const t=d(this,No);if(!t)return;if(d(this,Dl)){if(t.classList.toggle("done",!!d(this,fs)),t.setAttribute("data-l10n-id",d(ma,mh)[d(this,Fo,g0)]),(a=d(this,vg))==null||a.setAttribute("data-l10n-id",d(ma,mh)[`${d(this,Fo,g0)}-label`]),!d(this,fs)){(r=d(this,Ml))==null||r.remove();return}}else{if(!d(this,fs)&&!d(this,Rl)){t.classList.remove("done"),(o=d(this,Ml))==null||o.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=d(this,Ml);if(!e){R(this,Ml,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${d(this,Pa).id}`;const u=100,h=d(this,Pa)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(d(this,sr)),R(this,sr,null)},{once:!0}),t.addEventListener("mouseenter",()=>{R(this,sr,setTimeout(()=>{R(this,sr,null),d(this,Ml).classList.add("show"),d(this,Pa)._reportTelemetry({action:"alt_text_tooltip"})},u))},{signal:h}),t.addEventListener("mouseleave",()=>{var p;d(this,sr)&&(clearTimeout(d(this,sr)),R(this,sr,null)),(p=d(this,Ml))==null||p.classList.remove("show")},{signal:h})}d(this,Rl)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=d(this,fs)),e.parentNode||t.append(e);const i=d(this,Pa).getElementForAltText();i==null||i.setAttribute("aria-describedby",e.id)},I(ma,mh,null),Wt(ma,"_l10n",null);let lv=ma;var yg,Kf,Q0,Z0,J0,tm,em,kc,$f,Pc,Qf,Ic,Xh,m4,v4,b4;const pw=class pw{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:a=null,onPinching:r=null,onPinchEnd:o=null,signal:u}){I(this,Xh);I(this,yg);I(this,Kf,!1);I(this,Q0,null);I(this,Z0);I(this,J0);I(this,tm);I(this,em);I(this,kc,null);I(this,$f);I(this,Pc,null);I(this,Qf);I(this,Ic,null);R(this,yg,t),R(this,Q0,i),R(this,Z0,e),R(this,J0,a),R(this,tm,r),R(this,em,o),R(this,Qf,new AbortController),R(this,$f,AbortSignal.any([u,d(this,Qf).signal])),t.addEventListener("touchstart",F(this,Xh,m4).bind(this),{passive:!1,signal:d(this,$f)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ou.pixelRatio}destroy(){var t,e;(t=d(this,Qf))==null||t.abort(),R(this,Qf,null),(e=d(this,kc))==null||e.abort(),R(this,kc,null)}};yg=new WeakMap,Kf=new WeakMap,Q0=new WeakMap,Z0=new WeakMap,J0=new WeakMap,tm=new WeakMap,em=new WeakMap,kc=new WeakMap,$f=new WeakMap,Pc=new WeakMap,Qf=new WeakMap,Ic=new WeakMap,Xh=new WeakSet,m4=function(t){var a,r,o;if((a=d(this,Z0))!=null&&a.call(this))return;if(t.touches.length===1){if(d(this,kc))return;const u=R(this,kc,new AbortController),h=AbortSignal.any([d(this,$f),u.signal]),p=d(this,yg),m={capture:!0,signal:h,passive:!1},A=w=>{var y;w.pointerType==="touch"&&((y=d(this,kc))==null||y.abort(),R(this,kc,null))};p.addEventListener("pointerdown",w=>{w.pointerType==="touch"&&(Yn(w),A(w))},m),p.addEventListener("pointerup",A,m),p.addEventListener("pointercancel",A,m);return}if(!d(this,Ic)){R(this,Ic,new AbortController);const u=AbortSignal.any([d(this,$f),d(this,Ic).signal]),h=d(this,yg),p={signal:u,capture:!1,passive:!1};h.addEventListener("touchmove",F(this,Xh,v4).bind(this),p);const m=F(this,Xh,b4).bind(this);h.addEventListener("touchend",m,p),h.addEventListener("touchcancel",m,p),p.capture=!0,h.addEventListener("pointerdown",Yn,p),h.addEventListener("pointermove",Yn,p),h.addEventListener("pointercancel",Yn,p),h.addEventListener("pointerup",Yn,p),(r=d(this,J0))==null||r.call(this)}if(Yn(t),t.touches.length!==2||(o=d(this,Q0))!=null&&o.call(this)){R(this,Pc,null);return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),R(this,Pc,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY})},v4=function(t){var $;if(!d(this,Pc)||t.touches.length!==2)return;Yn(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:a,screenY:r}=e,{screenX:o,screenY:u}=i,h=d(this,Pc),{touch0X:p,touch0Y:m,touch1X:A,touch1Y:w}=h,y=A-p,N=w-m,E=o-a,T=u-r,L=Math.hypot(E,T)||1,M=Math.hypot(y,N)||1;if(!d(this,Kf)&&Math.abs(M-L)<=pw.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=a,h.touch0Y=r,h.touch1X=o,h.touch1Y=u,!d(this,Kf)){R(this,Kf,!0);return}const j=[(a+o)/2,(r+u)/2];($=d(this,tm))==null||$.call(this,j,M,L)},b4=function(t){var e;t.touches.length>=2||(d(this,Ic)&&(d(this,Ic).abort(),R(this,Ic,null),(e=d(this,em))==null||e.call(this)),d(this,Pc)&&(Yn(t),R(this,Pc,null),R(this,Kf,!1)))};let cv=pw;var Zf,Lo,Ki,Ag,vh,im,Jf,Ns,td,Fc,bh,nm,ed,ar,sm,id,Bc,kl,wg,Sg,qr,nd,am,Sv,xe,Dy,rm,ky,R5,y4,A4,Py,M5,Iy,w4,S4,_4,Fy,x4,By,E4,N4,L4,jy,m0;const Ye=class Ye{constructor(t){I(this,xe);I(this,Zf,null);I(this,Lo,null);I(this,Ki,null);I(this,Ag,!1);I(this,vh,null);I(this,im,"");I(this,Jf,!1);I(this,Ns,null);I(this,td,null);I(this,Fc,null);I(this,bh,null);I(this,nm,"");I(this,ed,!1);I(this,ar,null);I(this,sm,!1);I(this,id,!1);I(this,Bc,!1);I(this,kl,null);I(this,wg,0);I(this,Sg,0);I(this,qr,null);I(this,nd,null);Wt(this,"_isCopy",!1);Wt(this,"_editToolbar",null);Wt(this,"_initialOptions",Object.create(null));Wt(this,"_initialData",null);Wt(this,"_isVisible",!0);Wt(this,"_uiManager",null);Wt(this,"_focusEventsAllowed",!0);I(this,am,!1);I(this,Sv,Ye._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:a,pageX:r,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,a],this.pageTranslation=[r,o];const[u,h]=this.parentDimensions;this.x=t.x/u,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Ye.prototype._resizeWithKeyboard,e=Wd.TRANSLATE_SMALL,i=Wd.TRANSLATE_BIG;return ni(this,"_resizerKeyboardManager",new u2([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],Ye.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return ni(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new JN({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Ye._l10n??(Ye._l10n=t),Ye._l10nResizer||(Ye._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ye._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Ye._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Pi("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,am)}set _isDraggable(t){var e;R(this,am,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,Sv)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):F(this,xe,m0).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(d(this,ed)?R(this,ed,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,a){const[r,o]=this.parentDimensions;[i,a]=this.screenToPageTranslation(i,a),this.x=(t+i)/r,this.y=(e+a)/o,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,a]=this.parentDimensions;this.setAt(t*i,e*a,this.width*i,this.height*a),this._onTranslated()}translate(t,e){F(this,xe,Dy).call(this,this.parentDimensions,t,e)}translateInPage(t,e){d(this,ar)||R(this,ar,[this.x,this.y,this.width,this.height]),F(this,xe,Dy).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){d(this,ar)||R(this,ar,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[a,r]}=this;if(this.x+=t/a,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:A,y:w}=this.div.getBoundingClientRect();this.parent.findNewParent(this,A,w)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:u}=this;const[h,p]=this.getBaseTranslation();o+=h,u+=p;const{style:m}=i;m.left=`${(100*o).toFixed(2)}%`,m.top=`${(100*u).toFixed(2)}%`,this._onTranslating(o,u),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!d(this,ar)&&(d(this,ar)[0]!==this.x||d(this,ar)[1]!==this.y)}get _hasBeenResized(){return!!d(this,ar)&&(d(this,ar)[2]!==this.width||d(this,ar)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=Ye,a=i/t,r=i/e;switch(this.rotation){case 90:return[-a,r];case 180:return[a,r];case 270:return[a,-r];default:return[-a,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,a]}=this;let{x:r,y:o,width:u,height:h}=this;if(u*=i,h*=a,r*=i,o*=a,this._mustFixPosition)switch(t){case 0:r=wa(r,0,i-u),o=wa(o,0,a-h);break;case 90:r=wa(r,0,i-h),o=wa(o,u,a);break;case 180:r=wa(r,u,i),o=wa(o,h,a);break;case 270:r=wa(r,h,i),o=wa(o,0,a-u);break}this.x=r/=i,this.y=o/=a;const[p,m]=this.getBaseTranslation();r+=p,o+=m,e.left=`${(100*r).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return F(i=Ye,rm,ky).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return F(i=Ye,rm,ky).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,a]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*t/i).toFixed(2)}%`,d(this,Jf)||(r.height=`${(100*e/a).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,a=i.endsWith("%"),r=!d(this,Jf)&&e.endsWith("%");if(a&&r)return;const[o,u]=this.parentDimensions;a||(t.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!d(this,Jf)&&!r&&(t.height=`${(100*parseFloat(e)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=d(this,Ki))==null||t.finish()}async addEditToolbar(){return this._editToolbar||d(this,id)?this._editToolbar:(this._editToolbar=new xy(this),this.div.append(this._editToolbar.render()),d(this,Ki)&&await this._editToolbar.addAltText(d(this,Ki)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=d(this,Ki))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){d(this,Ki)||(lv.initialize(Ye._l10n),R(this,Ki,new lv(this)),d(this,Zf)&&(d(this,Ki).data=d(this,Zf),R(this,Zf,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=d(this,Ki))==null?void 0:t.data}set altTextData(t){d(this,Ki)&&(d(this,Ki).data=t)}get guessedAltText(){var t;return(t=d(this,Ki))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=d(this,Ki))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=d(this,Ki))==null?void 0:e.serialize(t)}hasAltText(){return!!d(this,Ki)&&!d(this,Ki).isEmpty()}hasAltTextData(){var t;return((t=d(this,Ki))==null?void 0:t.hasData())??!1}render(){var o;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=d(this,Ag)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),F(this,xe,By).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[a,r]=this.getInitialTranslation();return this.translate(a,r),nw(this,t,["keydown","pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(d(this,nd)||R(this,nd,new cv({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:F(this,xe,w4).bind(this),onPinching:F(this,xe,S4).bind(this),onPinchEnd:F(this,xe,_4).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),t}pointerdown(t){const{isMac:e}=Ds.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(R(this,ed,!0),this._isDraggable){F(this,xe,x4).call(this,t);return}F(this,xe,Fy).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){d(this,kl)&&clearTimeout(d(this,kl)),R(this,kl,setTimeout(()=>{var t;R(this,kl,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const a=this.parentScale,[r,o]=this.pageDimensions,[u,h]=this.pageTranslation,p=t/a,m=e/a,A=this.x*r,w=this.y*o,y=this.width*r,N=this.height*o;switch(i){case 0:return[A+p+u,o-w-m-N+h,A+p+y+u,o-w-m+h];case 90:return[A+m+u,o-w+p+h,A+m+N+u,o-w+p+y+h];case 180:return[A-p-y+u,o-w+m+h,A-p+u,o-w+m+N+h];case 270:return[A-m-N+u,o-w-p-y+h,A-m+u,o-w-p+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,a,r,o]=t,u=r-i,h=o-a;switch(this.rotation){case 0:return[i,e-o,u,h];case 90:return[i,e-a,h,u];case 180:return[r,e-a,u,h];case 270:return[r,e-o,h,u];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){R(this,id,!0)}disableEditMode(){R(this,id,!1)}isInEditMode(){return d(this,id)}shouldGetKeyboardEvents(){return d(this,Bc)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:a}=this.getClientDimensions(),{innerHeight:r,innerWidth:o}=window;return e<o&&a>0&&t<r&&i>0}rebuild(){F(this,xe,By).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){Pi("An editor must be serializable")}static async deserialize(t,e,i){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});a.rotation=t.rotation,R(a,Zf,t.accessibilityData),a._isCopy=t.isCopy||!1;const[r,o]=a.pageDimensions,[u,h,p,m]=a.getRectInCurrentCoords(t.rect,o);return a.x=u/r,a.y=h/o,a.width=p/r,a.height=m/o,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=d(this,bh))==null||t.abort(),R(this,bh,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,kl)&&(clearTimeout(d(this,kl)),R(this,kl,null)),F(this,xe,m0).call(this),this.removeEditToolbar(),d(this,qr)){for(const i of d(this,qr).values())clearTimeout(i);R(this,qr,null)}this.parent=null,(e=d(this,nd))==null||e.destroy(),R(this,nd,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(F(this,xe,y4).call(this),d(this,Ns).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),R(this,Fc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=d(this,Ns).children;if(!d(this,Lo)){R(this,Lo,Array.from(e));const o=F(this,xe,E4).bind(this),u=F(this,xe,N4).bind(this),h=this._uiManager._signal;for(const p of d(this,Lo)){const m=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",o,{signal:h}),p.addEventListener("blur",u,{signal:h}),p.addEventListener("focus",F(this,xe,L4).bind(this,m),{signal:h}),p.setAttribute("data-l10n-id",Ye._l10nResizer[m])}}const i=d(this,Lo)[0];let a=0;for(const o of e){if(o===i)break;a++}const r=(360-this.rotation+this.parentRotation)%360/90*(d(this,Lo).length/4);if(r!==a){if(r<a)for(let u=0;u<a-r;u++)d(this,Ns).append(d(this,Ns).firstChild);else if(r>a)for(let u=0;u<r-a;u++)d(this,Ns).firstChild.before(d(this,Ns).lastChild);let o=0;for(const u of e){const p=d(this,Lo)[o++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",Ye._l10nResizer[p])}}F(this,xe,jy).call(this,0),R(this,Bc,!0),d(this,Ns).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){d(this,Bc)&&F(this,xe,Iy).call(this,d(this,nm),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){F(this,xe,m0).call(this),this.div.focus()}select(){var t,e,i;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var a,r;(a=this.div)!=null&&a.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(e=this._editToolbar)==null||e.show(),(i=d(this,Ki))==null||i.toggleAltTextBadge(!1)}unselect(){var t,e,i,a,r;(t=d(this,Ns))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(a=this._editToolbar)==null||a.hide(),(r=d(this,Ki))==null||r.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return d(this,sm)}set isEditing(t){R(this,sm,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){R(this,Jf,!0);const i=t/e,{style:a}=this.div;a.aspectRatio=i,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){d(this,qr)||R(this,qr,new Map);const{action:i}=t;let a=d(this,qr).get(i);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),d(this,qr).delete(i),d(this,qr).size===0&&R(this,qr,null)},Ye._telemetryTimeout),d(this,qr).set(i,a);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),R(this,Ag,!1)}disable(){this.div&&(this.div.tabIndex=-1),R(this,Ag,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Zf=new WeakMap,Lo=new WeakMap,Ki=new WeakMap,Ag=new WeakMap,vh=new WeakMap,im=new WeakMap,Jf=new WeakMap,Ns=new WeakMap,td=new WeakMap,Fc=new WeakMap,bh=new WeakMap,nm=new WeakMap,ed=new WeakMap,ar=new WeakMap,sm=new WeakMap,id=new WeakMap,Bc=new WeakMap,kl=new WeakMap,wg=new WeakMap,Sg=new WeakMap,qr=new WeakMap,nd=new WeakMap,am=new WeakMap,Sv=new WeakMap,xe=new WeakSet,Dy=function([t,e],i,a){[i,a]=this.screenToPageTranslation(i,a),this.x+=i/t,this.y+=a/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},rm=new WeakSet,ky=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},R5=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},y4=function(){if(d(this,Ns))return;R(this,Ns,document.createElement("div")),d(this,Ns).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const a=document.createElement("div");d(this,Ns).append(a),a.classList.add("resizer",i),a.setAttribute("data-resizer-name",i),a.addEventListener("pointerdown",F(this,xe,A4).bind(this,i),{signal:e}),a.addEventListener("contextmenu",Bo,{signal:e}),a.tabIndex=-1}this.div.prepend(d(this,Ns))},A4=function(t,e){var m;e.preventDefault();const{isMac:i}=Ds.platform;if(e.button!==0||e.ctrlKey&&i)return;(m=d(this,Ki))==null||m.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,R(this,td,[e.screenX,e.screenY]);const r=new AbortController,o=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",F(this,xe,Iy).bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Yn,{passive:!1,signal:o}),window.addEventListener("contextmenu",Bo,{signal:o}),R(this,Fc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const p=()=>{var A;r.abort(),this.parent.togglePointerEvents(!0),(A=d(this,Ki))==null||A.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=u,this.div.style.cursor=h,F(this,xe,M5).call(this)};window.addEventListener("pointerup",p,{signal:o}),window.addEventListener("blur",p,{signal:o})},Py=function(t,e,i,a){this.width=i,this.height=a,this.x=t,this.y=e;const[r,o]=this.parentDimensions;this.setDims(r*i,o*a),this.fixAndSetPosition(),this._onResized()},M5=function(){if(!d(this,Fc))return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:a}=d(this,Fc);R(this,Fc,null);const r=this.x,o=this.y,u=this.width,h=this.height;r===t&&o===e&&u===i&&h===a||this.addCommands({cmd:F(this,xe,Py).bind(this,r,o,u,h),undo:F(this,xe,Py).bind(this,t,e,i,a),mustExec:!0})},Iy=function(t,e){const[i,a]=this.parentDimensions,r=this.x,o=this.y,u=this.width,h=this.height,p=Ye.MIN_SIZE/i,m=Ye.MIN_SIZE/a,A=F(this,xe,R5).call(this,this.rotation),w=(U,J)=>[A[0]*U+A[2]*J,A[1]*U+A[3]*J],y=F(this,xe,R5).call(this,360-this.rotation),N=(U,J)=>[y[0]*U+y[2]*J,y[1]*U+y[3]*J];let E,T,L=!1,M=!1;switch(t){case"topLeft":L=!0,E=(U,J)=>[0,0],T=(U,J)=>[U,J];break;case"topMiddle":E=(U,J)=>[U/2,0],T=(U,J)=>[U/2,J];break;case"topRight":L=!0,E=(U,J)=>[U,0],T=(U,J)=>[0,J];break;case"middleRight":M=!0,E=(U,J)=>[U,J/2],T=(U,J)=>[0,J/2];break;case"bottomRight":L=!0,E=(U,J)=>[U,J],T=(U,J)=>[0,0];break;case"bottomMiddle":E=(U,J)=>[U/2,J],T=(U,J)=>[U/2,0];break;case"bottomLeft":L=!0,E=(U,J)=>[0,J],T=(U,J)=>[U,0];break;case"middleLeft":M=!0,E=(U,J)=>[0,J/2],T=(U,J)=>[U,J/2];break}const j=E(u,h),$=T(u,h);let K=w(...$);const at=Ye._round(r+K[0]),tt=Ye._round(o+K[1]);let Z=1,ut=1,At,z;if(e.fromKeyboard)({deltaX:At,deltaY:z}=e);else{const{screenX:U,screenY:J}=e,[ht,yt]=d(this,td);[At,z]=this.screenToPageTranslation(U-ht,J-yt),d(this,td)[0]=U,d(this,td)[1]=J}if([At,z]=N(At/i,z/a),L){const U=Math.hypot(u,h);Z=ut=Math.max(Math.min(Math.hypot($[0]-j[0]-At,$[1]-j[1]-z)/U,1/u,1/h),p/u,m/h)}else M?Z=wa(Math.abs($[0]-j[0]-At),p,1)/u:ut=wa(Math.abs($[1]-j[1]-z),m,1)/h;const X=Ye._round(u*Z),ot=Ye._round(h*ut);K=w(...T(X,ot));const nt=at-K[0],Et=tt-K[1];d(this,ar)||R(this,ar,[this.x,this.y,this.width,this.height]),this.width=X,this.height=ot,this.x=nt,this.y=Et,this.setDims(i*X,a*ot),this.fixAndSetPosition(),this._onResizing()},w4=function(){var t;R(this,Fc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=d(this,Ki))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},S4=function(t,e,i){let r=.7*(i/e)+1-.7;if(r===1)return;const o=F(this,xe,R5).call(this,this.rotation),u=(at,tt)=>[o[0]*at+o[2]*tt,o[1]*at+o[3]*tt],[h,p]=this.parentDimensions,m=this.x,A=this.y,w=this.width,y=this.height,N=Ye.MIN_SIZE/h,E=Ye.MIN_SIZE/p;r=Math.max(Math.min(r,1/w,1/y),N/w,E/y);const T=Ye._round(w*r),L=Ye._round(y*r);if(T===w&&L===y)return;d(this,ar)||R(this,ar,[m,A,w,y]);const M=u(w/2,y/2),j=Ye._round(m+M[0]),$=Ye._round(A+M[1]),K=u(T/2,L/2);this.x=j-K[0],this.y=$-K[1],this.width=T,this.height=L,this.setDims(h*T,p*L),this.fixAndSetPosition(),this._onResizing()},_4=function(){var t;(t=d(this,Ki))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),F(this,xe,M5).call(this)},Fy=function(t){const{isMac:e}=Ds.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},x4=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const a=new AbortController,r=this._uiManager.combinedSignal(a),o={capture:!0,passive:!1,signal:r},u=p=>{a.abort(),R(this,vh,null),R(this,ed,!1),this._uiManager.endDragSession()||F(this,xe,Fy).call(this,p),i&&this._onStopDragging()};e&&(R(this,wg,t.clientX),R(this,Sg,t.clientY),R(this,vh,t.pointerId),R(this,im,t.pointerType),window.addEventListener("pointermove",p=>{i||(i=!0,this._onStartDragging());const{clientX:m,clientY:A,pointerId:w}=p;if(w!==d(this,vh)){Yn(p);return}const[y,N]=this.screenToPageTranslation(m-d(this,wg),A-d(this,Sg));R(this,wg,m),R(this,Sg,A),this._uiManager.dragSelectedEditors(y,N)},o),window.addEventListener("touchmove",Yn,o),window.addEventListener("pointerdown",p=>{p.pointerType===d(this,im)&&(d(this,nd)||p.isPrimary)&&u(p),Yn(p)},o));const h=p=>{if(!d(this,vh)||d(this,vh)===p.pointerId){u(p);return}Yn(p)};window.addEventListener("pointerup",h,{signal:r}),window.addEventListener("blur",h,{signal:r})},By=function(){if(d(this,bh)||!this.div)return;R(this,bh,new AbortController);const t=this._uiManager.combinedSignal(d(this,bh));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},E4=function(t){Ye._resizerKeyboardManager.exec(this,t)},N4=function(t){var e;d(this,Bc)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==d(this,Ns)&&F(this,xe,m0).call(this)},L4=function(t){R(this,nm,d(this,Bc)?t:"")},jy=function(t){if(d(this,Lo))for(const e of d(this,Lo))e.tabIndex=t},m0=function(){R(this,Bc,!1),F(this,xe,jy).call(this,-1),F(this,xe,M5).call(this)},I(Ye,rm),Wt(Ye,"_l10n",null),Wt(Ye,"_l10nResizer",null),Wt(Ye,"_borderLineWidth",-1),Wt(Ye,"_colorManager",new Ny),Wt(Ye,"_zIndex",1),Wt(Ye,"_telemetryTimeout",1e3);let Gi=Ye;class JN extends Gi{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const KS=3285377520,Fr=4294901760,_l=65535;class C4{constructor(t){this.h1=t?t&4294967295:KS,this.h2=t?t&4294967295:KS}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let E=0,T=t.length;E<T;E++){const L=t.charCodeAt(E);L<=255?e[i++]=L:(e[i++]=L>>>8,e[i++]=L&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=i>>2,r=i-a*4,o=new Uint32Array(e.buffer,0,a);let u=0,h=0,p=this.h1,m=this.h2;const A=3432918353,w=461845907,y=A&_l,N=w&_l;for(let E=0;E<a;E++)E&1?(u=o[E],u=u*A&Fr|u*y&_l,u=u<<15|u>>>17,u=u*w&Fr|u*N&_l,p^=u,p=p<<13|p>>>19,p=p*5+3864292196):(h=o[E],h=h*A&Fr|h*y&_l,h=h<<15|h>>>17,h=h*w&Fr|h*N&_l,m^=h,m=m<<13|m>>>19,m=m*5+3864292196);switch(u=0,r){case 3:u^=e[a*4+2]<<16;case 2:u^=e[a*4+1]<<8;case 1:u^=e[a*4],u=u*A&Fr|u*y&_l,u=u<<15|u>>>17,u=u*w&Fr|u*N&_l,a&1?p^=u:m^=u}this.h1=p,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Fr|t*36045&_l,e=e*4283543511&Fr|((e<<16|t>>>16)*2950163797&Fr)>>>16,t^=e>>>1,t=t*444984403&Fr|t*60499&_l,e=e*3301882366&Fr|((e<<16|t>>>16)*3120437893&Fr)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const zy=Object.freeze({map:null,hash:"",transfer:void 0});var sd,ad,Ls,_v,T4;class sw{constructor(){I(this,_v);I(this,sd,!1);I(this,ad,null);I(this,Ls,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=d(this,Ls).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return d(this,Ls).get(t)}remove(t){if(d(this,Ls).delete(t),d(this,Ls).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of d(this,Ls).values())if(e instanceof Gi)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=d(this,Ls).get(t);let a=!1;if(i!==void 0)for(const[r,o]of Object.entries(e))i[r]!==o&&(a=!0,i[r]=o);else a=!0,d(this,Ls).set(t,e);a&&F(this,_v,T4).call(this),e instanceof Gi&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return d(this,Ls).has(t)}get size(){return d(this,Ls).size}resetModified(){d(this,sd)&&(R(this,sd,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new R4(this)}get serializable(){if(d(this,Ls).size===0)return zy;const t=new Map,e=new C4,i=[],a=Object.create(null);let r=!1;for(const[o,u]of d(this,Ls)){const h=u instanceof Gi?u.serialize(!1,a):u;h&&(t.set(o,h),e.update(`${o}:${JSON.stringify(h)}`),r||(r=!!h.bitmap))}if(r)for(const o of t.values())o.bitmap&&i.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:zy}get editorStats(){let t=null;const e=new Map;for(const i of d(this,Ls).values()){if(!(i instanceof Gi))continue;const a=i.telemetryFinalData;if(!a)continue;const{type:r}=a;e.has(r)||e.set(r,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const o=t[r]||(t[r]=new Map);for(const[u,h]of Object.entries(a)){if(u==="type")continue;let p=o.get(u);p||(p=new Map,o.set(u,p));const m=p.get(h)??0;p.set(h,m+1)}}for(const[i,a]of e)t[i]=a.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){R(this,ad,null)}get modifiedIds(){if(d(this,ad))return d(this,ad);const t=[];for(const e of d(this,Ls).values())!(e instanceof Gi)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return R(this,ad,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return d(this,Ls).entries()}}sd=new WeakMap,ad=new WeakMap,Ls=new WeakMap,_v=new WeakSet,T4=function(){d(this,sd)||(R(this,sd,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var om;class R4 extends sw{constructor(e){super();I(this,om);const{map:i,hash:a,transfer:r}=e.serializable,o=structuredClone(i,r?{transfer:r}:null);R(this,om,{map:o,hash:a,transfer:r})}get print(){Pi("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,om)}get modifiedIds(){return ni(this,"modifiedIds",{ids:new Set,hash:""})}}om=new WeakMap;var _g;class tL{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){I(this,_g,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),d(this,_g).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||d(this,_g).has(t.loadedName))){if(Xn(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:r,style:o}=t,u=new FontFace(a,r,o);this.addNativeFontFace(u);try{await u.load(),d(this,_g).add(a),i==null||i(t)}catch{ze(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Pi("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(a){throw ze(`Failed to load font '${i.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const a=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return ni(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return ni(this,"isSyncFontLoadingSupported",Aa||Ds.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Xn(!a.done,"completeRequest() cannot be called twice."),a.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,a={done:!1,complete:e,callback:t};return i.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ni(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i($,K){return $.charCodeAt(K)<<24|$.charCodeAt(K+1)<<16|$.charCodeAt(K+2)<<8|$.charCodeAt(K+3)&255}function a($,K,at,tt){const Z=$.substring(0,K),ut=$.substring(K+at);return Z+tt+ut}let r,o;const u=this._document.createElement("canvas");u.width=1,u.height=1;const h=u.getContext("2d");let p=0;function m($,K){if(++p>30){ze("Load test font never loaded."),K();return}if(h.font="30px "+$,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){K();return}setTimeout(m.bind(null,$,K))}const A=`lt${Date.now()}${this.loadTestFontId++}`;let w=this._loadTestFont;w=a(w,976,A.length,A);const N=16,E=1482184792;let T=i(w,N);for(r=0,o=A.length-3;r<o;r+=4)T=T-E+i(A,r)|0;r<A.length&&(T=T-E+i(A+"XXX",r)|0),w=a(w,N,4,jN(T));const L=`url(data:font/opentype;base64,${btoa(w)});`,M=`@font-face {font-family:"${A}";src:${L}}`;this.insertRule(M);const j=this._document.createElement("div");j.style.visibility="hidden",j.style.width=j.style.height="10px",j.style.position="absolute",j.style.top=j.style.left="0px";for(const $ of[t.loadedName,A]){const K=this._document.createElement("span");K.textContent="Hi",K.style.fontFamily=$,j.append(K)}this._document.body.append(j),m(A,()=>{j.remove(),e.complete()})}}_g=new WeakMap;class eL{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this._inspectFont=e}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${Q_(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let a;try{a=t.get(i)}catch(o){ze(`getPathGenerator - ignoring character: "${o}".`)}const r=new Path2D(a||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=r}}const f5={DATA:1,ERROR:2},Gn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function $S(){}function Da(c){if(c instanceof Uh||c instanceof wy||c instanceof YS||c instanceof ov||c instanceof sy)return c;switch(c instanceof Error||typeof c=="object"&&c!==null||Pi('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),c.name){case"AbortException":return new Uh(c.message);case"InvalidPDFException":return new wy(c.message);case"PasswordException":return new YS(c.message,c.code);case"ResponseException":return new ov(c.message,c.status,c.missing);case"UnknownErrorException":return new sy(c.message,c.details)}return new sy(c.message,c.toString())}var xg,Xr,M4,O4,D4,O5;class v0{constructor(t,e,i){I(this,Xr);I(this,xg,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",F(this,Xr,M4).bind(this),{signal:d(this,xg).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const a=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[a]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},i)}catch(o){r.reject(o)}return r.promise}sendWithStream(t,e,i,a){const r=this.streamId++,o=this.sourceName,u=this.targetName,h=this.comObj;return new ReadableStream({start:p=>{const m=Promise.withResolvers();return this.streamControllers[r]={controller:p,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:o,targetName:u,action:t,streamId:r,data:e,desiredSize:p.desiredSize},a),m.promise},pull:p=>{const m=Promise.withResolvers();return this.streamControllers[r].pullCall=m,h.postMessage({sourceName:o,targetName:u,stream:Gn.PULL,streamId:r,desiredSize:p.desiredSize}),m.promise},cancel:p=>{Xn(p instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[r].cancelCall=m,this.streamControllers[r].isClosed=!0,h.postMessage({sourceName:o,targetName:u,stream:Gn.CANCEL,streamId:r,reason:Da(p)}),m.promise}},i)}destroy(){var t;(t=d(this,xg))==null||t.abort(),R(this,xg,null)}}xg=new WeakMap,Xr=new WeakSet,M4=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){F(this,Xr,D4).call(this,t);return}if(t.callback){const i=t.callbackId,a=this.callbackCapabilities[i];if(!a)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===f5.DATA)a.resolve(t.data);else if(t.callback===f5.ERROR)a.reject(Da(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,a=t.sourceName,r=this.comObj;Promise.try(e,t.data).then(function(o){r.postMessage({sourceName:i,targetName:a,callback:f5.DATA,callbackId:t.callbackId,data:o})},function(o){r.postMessage({sourceName:i,targetName:a,callback:f5.ERROR,callbackId:t.callbackId,reason:Da(o)})});return}if(t.streamId){F(this,Xr,O4).call(this,t);return}e(t.data)},O4=function(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,r=this.comObj,o=this,u=this.actionHandler[t.action],h={enqueue(p,m=1,A){if(this.isCancelled)return;const w=this.desiredSize;this.desiredSize-=m,w>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:a,stream:Gn.ENQUEUE,streamId:e,chunk:p},A)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:a,stream:Gn.CLOSE,streamId:e}),delete o.streamSinks[e])},error(p){Xn(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:a,stream:Gn.ERROR,streamId:e,reason:Da(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(u,t.data,h).then(function(){r.postMessage({sourceName:i,targetName:a,stream:Gn.START_COMPLETE,streamId:e,success:!0})},function(p){r.postMessage({sourceName:i,targetName:a,stream:Gn.START_COMPLETE,streamId:e,reason:Da(p)})})},D4=function(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,r=this.comObj,o=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case Gn.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(Da(t.reason));break;case Gn.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(Da(t.reason));break;case Gn.PULL:if(!u){r.postMessage({sourceName:i,targetName:a,stream:Gn.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||$S).then(function(){r.postMessage({sourceName:i,targetName:a,stream:Gn.PULL_COMPLETE,streamId:e,success:!0})},function(p){r.postMessage({sourceName:i,targetName:a,stream:Gn.PULL_COMPLETE,streamId:e,reason:Da(p)})});break;case Gn.ENQUEUE:if(Xn(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case Gn.CLOSE:if(Xn(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),F(this,Xr,O5).call(this,o,e);break;case Gn.ERROR:Xn(o,"error should have stream controller"),o.controller.error(Da(t.reason)),F(this,Xr,O5).call(this,o,e);break;case Gn.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(Da(t.reason)),F(this,Xr,O5).call(this,o,e);break;case Gn.CANCEL:if(!u)break;const h=Da(t.reason);Promise.try(u.onCancel||$S,h).then(function(){r.postMessage({sourceName:i,targetName:a,stream:Gn.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){r.postMessage({sourceName:i,targetName:a,stream:Gn.CANCEL_COMPLETE,streamId:e,reason:Da(p)})}),u.sinkCapability.reject(h),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},O5=async function(t,e){var i,a,r;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(a=t.pullCall)==null?void 0:a.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[e]};var lm;class k4{constructor({enableHWA:t=!1}){I(this,lm,!1);R(this,lm,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!d(this,lm)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Pi("Abstract method `_createCanvas` called.")}}lm=new WeakMap;class iL extends k4{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class P4{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Pi("Abstract method `_fetch` called.")}}class QS extends P4{async _fetch(t){const e=await l2(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):o2(e)}}class I4{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,a,r){return"none"}destroy(t=!1){}}var rd,Eg,jc,zc,Zs,od,ld,ae,$s,b0,Gp,D5,Vp,F4,qy,Yp,y0,A0,Uy,w0;class nL extends I4{constructor({docId:e,ownerDocument:i=globalThis.document}){super();I(this,ae);I(this,rd);I(this,Eg);I(this,jc);I(this,zc);I(this,Zs);I(this,od);I(this,ld,0);R(this,zc,e),R(this,Zs,i)}addFilter(e){if(!e)return"none";let i=d(this,ae,$s).get(e);if(i)return i;const[a,r,o]=F(this,ae,D5).call(this,e),u=e.length===1?a:`${a}${r}${o}`;if(i=d(this,ae,$s).get(u),i)return d(this,ae,$s).set(e,i),i;const h=`g_${d(this,zc)}_transfer_map_${pa(this,ld)._++}`,p=F(this,ae,Vp).call(this,h);d(this,ae,$s).set(e,p),d(this,ae,$s).set(u,p);const m=F(this,ae,Yp).call(this,h);return F(this,ae,A0).call(this,a,r,o,m),p}addHCMFilter(e,i){var N;const a=`${e}-${i}`,r="base";let o=d(this,ae,b0).get(r);if((o==null?void 0:o.key)===a||(o?((N=o.filter)==null||N.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},d(this,ae,b0).set(r,o)),!e||!i))return o.url;const u=F(this,ae,w0).call(this,e);e=de.makeHexColor(...u);const h=F(this,ae,w0).call(this,i);if(i=de.makeHexColor(...h),d(this,ae,Gp).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return o.url;const p=new Array(256);for(let E=0;E<=255;E++){const T=E/255;p[E]=T<=.03928?T/12.92:((T+.055)/1.055)**2.4}const m=p.join(","),A=`g_${d(this,zc)}_hcm_filter`,w=o.filter=F(this,ae,Yp).call(this,A);F(this,ae,A0).call(this,m,m,m,w),F(this,ae,qy).call(this,w);const y=(E,T)=>{const L=u[E]/255,M=h[E]/255,j=new Array(T+1);for(let $=0;$<=T;$++)j[$]=L+$/T*(M-L);return j.join(",")};return F(this,ae,A0).call(this,y(0,5),y(1,5),y(2,5),w),o.url=F(this,ae,Vp).call(this,A),o.url}addAlphaFilter(e){let i=d(this,ae,$s).get(e);if(i)return i;const[a]=F(this,ae,D5).call(this,[e]),r=`alpha_${a}`;if(i=d(this,ae,$s).get(r),i)return d(this,ae,$s).set(e,i),i;const o=`g_${d(this,zc)}_alpha_map_${pa(this,ld)._++}`,u=F(this,ae,Vp).call(this,o);d(this,ae,$s).set(e,u),d(this,ae,$s).set(r,u);const h=F(this,ae,Yp).call(this,o);return F(this,ae,Uy).call(this,a,h),u}addLuminosityFilter(e){let i=d(this,ae,$s).get(e||"luminosity");if(i)return i;let a,r;if(e?([a]=F(this,ae,D5).call(this,[e]),r=`luminosity_${a}`):r="luminosity",i=d(this,ae,$s).get(r),i)return d(this,ae,$s).set(e,i),i;const o=`g_${d(this,zc)}_luminosity_map_${pa(this,ld)._++}`,u=F(this,ae,Vp).call(this,o);d(this,ae,$s).set(e,u),d(this,ae,$s).set(r,u);const h=F(this,ae,Yp).call(this,o);return F(this,ae,F4).call(this,h),e&&F(this,ae,Uy).call(this,a,h),u}addHighlightHCMFilter(e,i,a,r,o){var M;const u=`${i}-${a}-${r}-${o}`;let h=d(this,ae,b0).get(e);if((h==null?void 0:h.key)===u||(h?((M=h.filter)==null||M.remove(),h.key=u,h.url="none",h.filter=null):(h={key:u,url:"none",filter:null},d(this,ae,b0).set(e,h)),!i||!a))return h.url;const[p,m]=[i,a].map(F(this,ae,w0).bind(this));let A=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),w=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[y,N]=[r,o].map(F(this,ae,w0).bind(this));w<A&&([A,w,y,N]=[w,A,N,y]),d(this,ae,Gp).style.color="";const E=(j,$,K)=>{const at=new Array(256),tt=(w-A)/K,Z=j/255,ut=($-j)/(255*K);let At=0;for(let z=0;z<=K;z++){const X=Math.round(A+z*tt),ot=Z+z*ut;for(let nt=At;nt<=X;nt++)at[nt]=ot;At=X+1}for(let z=At;z<256;z++)at[z]=at[At-1];return at.join(",")},T=`g_${d(this,zc)}_hcm_${e}_filter`,L=h.filter=F(this,ae,Yp).call(this,T);return F(this,ae,qy).call(this,L),F(this,ae,A0).call(this,E(y[0],N[0],5),E(y[1],N[1],5),E(y[2],N[2],5),L),h.url=F(this,ae,Vp).call(this,T),h.url}destroy(e=!1){var i,a,r,o;e&&((i=d(this,od))!=null&&i.size)||((a=d(this,jc))==null||a.parentNode.parentNode.remove(),R(this,jc,null),(r=d(this,Eg))==null||r.clear(),R(this,Eg,null),(o=d(this,od))==null||o.clear(),R(this,od,null),R(this,ld,0))}}rd=new WeakMap,Eg=new WeakMap,jc=new WeakMap,zc=new WeakMap,Zs=new WeakMap,od=new WeakMap,ld=new WeakMap,ae=new WeakSet,$s=function(){return d(this,Eg)||R(this,Eg,new Map)},b0=function(){return d(this,od)||R(this,od,new Map)},Gp=function(){if(!d(this,jc)){const e=d(this,Zs).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const a=d(this,Zs).createElementNS(Ec,"svg");a.setAttribute("width",0),a.setAttribute("height",0),R(this,jc,d(this,Zs).createElementNS(Ec,"defs")),e.append(a),a.append(d(this,jc)),d(this,Zs).body.append(e)}return d(this,jc)},D5=function(e){if(e.length===1){const p=e[0],m=new Array(256);for(let w=0;w<256;w++)m[w]=p[w]/255;const A=m.join(",");return[A,A,A]}const[i,a,r]=e,o=new Array(256),u=new Array(256),h=new Array(256);for(let p=0;p<256;p++)o[p]=i[p]/255,u[p]=a[p]/255,h[p]=r[p]/255;return[o.join(","),u.join(","),h.join(",")]},Vp=function(e){if(d(this,rd)===void 0){R(this,rd,"");const i=d(this,Zs).URL;i!==d(this,Zs).baseURI&&(jv(i)?ze('#createUrl: ignore "data:"-URL for performance reasons.'):R(this,rd,W_(i,"")))}return`url(${d(this,rd)}#${e})`},F4=function(e){const i=d(this,Zs).createElementNS(Ec,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},qy=function(e){const i=d(this,Zs).createElementNS(Ec,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},Yp=function(e){const i=d(this,Zs).createElementNS(Ec,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),d(this,ae,Gp).append(i),i},y0=function(e,i,a){const r=d(this,Zs).createElementNS(Ec,i);r.setAttribute("type","discrete"),r.setAttribute("tableValues",a),e.append(r)},A0=function(e,i,a,r){const o=d(this,Zs).createElementNS(Ec,"feComponentTransfer");r.append(o),F(this,ae,y0).call(this,o,"feFuncR",e),F(this,ae,y0).call(this,o,"feFuncG",i),F(this,ae,y0).call(this,o,"feFuncB",a)},Uy=function(e,i){const a=d(this,Zs).createElementNS(Ec,"feComponentTransfer");i.append(a),F(this,ae,y0).call(this,a,"feFuncA",e)},w0=function(e){return d(this,ae,Gp).style.color=e,iw(getComputedStyle(d(this,ae,Gp)).getPropertyValue("color"))};class B4{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Pi("Abstract method `_fetch` called.")}}class ZS extends B4{async _fetch(t){const e=await l2(t,"arraybuffer");return new Uint8Array(e)}}class j4{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Pi("Abstract method `_fetch` called.")}}class JS extends j4{async _fetch(t){const e=await l2(t,"arraybuffer");return new Uint8Array(e)}}Aa&&ze("Please use the `legacy` build in Node.js environments.");async function aw(c){const e=await process.getBuiltinModule("fs").promises.readFile(c);return new Uint8Array(e)}class sL extends I4{}class aL extends k4{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class rL extends P4{async _fetch(t){return aw(t)}}class oL extends B4{async _fetch(t){return aw(t)}}class lL extends j4{async _fetch(t){return aw(t)}}const Rs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Hy(c,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,i),c.clip(a)}class rw{isModifyingCurrentTransform(){return!1}getPattern(){Pi("Abstract method `getPattern` called.")}}class cL extends rw{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,a){let r;if(a===Rs.STROKE||a===Rs.FILL){const o=e.current.getClippedPathBoundingBox(a,gn(t))||[0,0,0,0],u=Math.ceil(o[2]-o[0])||1,h=Math.ceil(o[3]-o[1])||1,p=e.cachedCanvases.getCanvas("pattern",u,h),m=p.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-o[0],-o[1]),i=de.transform(i,[1,0,0,1,o[0],o[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),Hy(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),r=t.createPattern(p.canvas,"no-repeat");const A=new DOMMatrix(i);r.setTransform(A)}else Hy(t,this._bbox),r=this._createGradient(t);return r}}function oy(c,t,e,i,a,r,o,u){const h=t.coords,p=t.colors,m=c.data,A=c.width*4;let w;h[e+1]>h[i+1]&&(w=e,e=i,i=w,w=r,r=o,o=w),h[i+1]>h[a+1]&&(w=i,i=a,a=w,w=o,o=u,u=w),h[e+1]>h[i+1]&&(w=e,e=i,i=w,w=r,r=o,o=w);const y=(h[e]+t.offsetX)*t.scaleX,N=(h[e+1]+t.offsetY)*t.scaleY,E=(h[i]+t.offsetX)*t.scaleX,T=(h[i+1]+t.offsetY)*t.scaleY,L=(h[a]+t.offsetX)*t.scaleX,M=(h[a+1]+t.offsetY)*t.scaleY;if(N>=M)return;const j=p[r],$=p[r+1],K=p[r+2],at=p[o],tt=p[o+1],Z=p[o+2],ut=p[u],At=p[u+1],z=p[u+2],X=Math.round(N),ot=Math.round(M);let nt,Et,U,J,ht,yt,V,ft;for(let O=X;O<=ot;O++){if(O<T){const mt=O<N?0:(N-O)/(N-T);nt=y-(y-E)*mt,Et=j-(j-at)*mt,U=$-($-tt)*mt,J=K-(K-Z)*mt}else{let mt;O>M?mt=1:T===M?mt=0:mt=(T-O)/(T-M),nt=E-(E-L)*mt,Et=at-(at-ut)*mt,U=tt-(tt-At)*mt,J=Z-(Z-z)*mt}let H;O<N?H=0:O>M?H=1:H=(N-O)/(N-M),ht=y-(y-L)*H,yt=j-(j-ut)*H,V=$-($-At)*H,ft=K-(K-z)*H;const Q=Math.round(Math.min(nt,ht)),rt=Math.round(Math.max(nt,ht));let st=A*O+Q*4;for(let mt=Q;mt<=rt;mt++)H=(nt-mt)/(nt-ht),H<0?H=0:H>1&&(H=1),m[st++]=Et-(Et-yt)*H|0,m[st++]=U-(U-V)*H|0,m[st++]=J-(J-ft)*H|0,m[st++]=255}}function uL(c,t,e){const i=t.coords,a=t.colors;let r,o;switch(t.type){case"lattice":const u=t.verticesPerRow,h=Math.floor(i.length/u)-1,p=u-1;for(r=0;r<h;r++){let m=r*u;for(let A=0;A<p;A++,m++)oy(c,e,i[m],i[m+1],i[m+u],a[m],a[m+1],a[m+u]),oy(c,e,i[m+u+1],i[m+1],i[m+u],a[m+u+1],a[m+1],a[m+u])}break;case"triangles":for(r=0,o=i.length;r<o;r+=3)oy(c,e,i[r],i[r+1],i[r+2],a[r],a[r+1],a[r+2]);break;default:throw new Error("illegal figure")}}class hL extends rw{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const u=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-u,m=Math.ceil(this._bounds[3])-h,A=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),w=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),y=p/A,N=m/w,E={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-h,scaleX:1/y,scaleY:1/N},T=A+2*2,L=w+2*2,M=i.getCanvas("mesh",T,L),j=M.context,$=j.createImageData(A,w);if(e){const at=$.data;for(let tt=0,Z=at.length;tt<Z;tt+=4)at[tt]=e[0],at[tt+1]=e[1],at[tt+2]=e[2],at[tt+3]=255}for(const at of this._figures)uL($,at,E);return j.putImageData($,2,2),{canvas:M.canvas,offsetX:u-2*y,offsetY:h-2*N,scaleX:y,scaleY:N}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,a){Hy(t,this._bbox);const r=new Float32Array(2);if(a===Rs.SHADING)de.singularValueDecompose2dScale(gn(t),r);else if(this.matrix){de.singularValueDecompose2dScale(this.matrix,r);const[u,h]=r;de.singularValueDecompose2dScale(e.baseTransform,r),r[0]*=u,r[1]*=h}else de.singularValueDecompose2dScale(e.baseTransform,r);const o=this._createMeshCanvas(r,a===Rs.SHADING?null:this._background,e.cachedCanvases);return a!==Rs.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class fL extends rw{getPattern(){return"hotpink"}}function dL(c){switch(c[0]){case"RadialAxial":return new cL(c);case"Mesh":return new hL(c);case"Dummy":return new fL}throw new Error(`Unknown IR type: ${c[0]}`)}const t_={COLORED:1,UNCOLORED:2},xv=class xv{constructor(t,e,i,a){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:a,tilingType:r,color:o,canvasGraphicsFactory:u}=this;let{xstep:h,ystep:p}=this;h=Math.abs(h),p=Math.abs(p),Bv("TilingType: "+r);const m=e[0],A=e[1],w=e[2],y=e[3],N=w-m,E=y-A,T=new Float32Array(2);de.singularValueDecompose2dScale(this.matrix,T);const[L,M]=T;de.singularValueDecompose2dScale(this.baseTransform,T);const j=L*T[0],$=M*T[1];let K=N,at=E,tt=!1,Z=!1;const ut=Math.ceil(h*j),At=Math.ceil(p*$),z=Math.ceil(N*j),X=Math.ceil(E*$);ut>=z?K=h:tt=!0,At>=X?at=p:Z=!0;const ot=this.getSizeAndScale(K,this.ctx.canvas.width,j),nt=this.getSizeAndScale(at,this.ctx.canvas.height,$),Et=t.cachedCanvases.getCanvas("pattern",ot.size,nt.size),U=Et.context,J=u.createCanvasGraphics(U);if(J.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(J,a,o),U.translate(-ot.scale*m,-nt.scale*A),J.transform(ot.scale,0,0,nt.scale,0,0),U.save(),this.clipBbox(J,m,A,w,y),J.baseTransform=gn(J.ctx),J.executeOperatorList(i),J.endDrawing(),U.restore(),tt||Z){const ht=Et.canvas;tt&&(K=h),Z&&(at=p);const yt=this.getSizeAndScale(K,this.ctx.canvas.width,j),V=this.getSizeAndScale(at,this.ctx.canvas.height,$),ft=yt.size,O=V.size,H=t.cachedCanvases.getCanvas("pattern-workaround",ft,O),Q=H.context,rt=tt?Math.floor(N/h):0,st=Z?Math.floor(E/p):0;for(let mt=0;mt<=rt;mt++)for(let St=0;St<=st;St++)Q.drawImage(ht,ft*mt,O*St,ft,O,0,0,ft,O);return{canvas:H.canvas,scaleX:yt.scale,scaleY:V.scale,offsetX:m,offsetY:A}}return{canvas:Et.canvas,scaleX:ot.scale,scaleY:nt.scale,offsetX:m,offsetY:A}}getSizeAndScale(t,e,i){const a=Math.max(xv.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*i);return r>=a?r=a:i=r/t,{scale:i,size:r}}clipBbox(t,e,i,a,r){const o=a-e,u=r-i;t.ctx.rect(e,i,o,u),de.axialAlignedBoundingBox([e,i,a,r],gn(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const a=t.ctx,r=t.current;switch(e){case t_.COLORED:const o=this.ctx;a.fillStyle=o.fillStyle,a.strokeStyle=o.strokeStyle,r.fillColor=o.fillStyle,r.strokeColor=o.strokeStyle;break;case t_.UNCOLORED:const u=de.makeHexColor(i[0],i[1],i[2]);a.fillStyle=u,a.strokeStyle=u,r.fillColor=u,r.strokeColor=u;break;default:throw new BN(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,a){let r=i;a!==Rs.SHADING&&(r=de.transform(r,e.baseTransform),this.matrix&&(r=de.transform(r,this.matrix)));const o=this.createPatternCanvas(e);let u=new DOMMatrix(r);u=u.translate(o.offsetX,o.offsetY),u=u.scale(1/o.scaleX,1/o.scaleY);const h=t.createPattern(o.canvas,"repeat");return h.setTransform(u),h}};Wt(xv,"MAX_PATTERN_SIZE",3e3);let Gy=xv;function pL({src:c,srcPos:t=0,dest:e,width:i,height:a,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const u=Ds.isLittleEndian?4278190080:255,[h,p]=o?[r,u]:[u,r],m=i>>3,A=i&7,w=c.length;e=new Uint32Array(e.buffer);let y=0;for(let N=0;N<a;N++){for(const T=t+m;t<T;t++){const L=t<w?c[t]:255;e[y++]=L&128?p:h,e[y++]=L&64?p:h,e[y++]=L&32?p:h,e[y++]=L&16?p:h,e[y++]=L&8?p:h,e[y++]=L&4?p:h,e[y++]=L&2?p:h,e[y++]=L&1?p:h}if(A===0)continue;const E=t<w?c[t++]:255;for(let T=0;T<A;T++)e[y++]=E&1<<7-T?p:h}return{srcPos:t,destPos:y}}const e_=16,i_=100,gL=15,n_=10,Ba=16,ly=new DOMMatrix,vr=new Float32Array(2),Zp=new Float32Array([1/0,1/0,-1/0,-1/0]);function mL(c,t){if(c._removeMirroring)throw new Error("Context is already forwarding operations.");c.__originalSave=c.save,c.__originalRestore=c.restore,c.__originalRotate=c.rotate,c.__originalScale=c.scale,c.__originalTranslate=c.translate,c.__originalTransform=c.transform,c.__originalSetTransform=c.setTransform,c.__originalResetTransform=c.resetTransform,c.__originalClip=c.clip,c.__originalMoveTo=c.moveTo,c.__originalLineTo=c.lineTo,c.__originalBezierCurveTo=c.bezierCurveTo,c.__originalRect=c.rect,c.__originalClosePath=c.closePath,c.__originalBeginPath=c.beginPath,c._removeMirroring=()=>{c.save=c.__originalSave,c.restore=c.__originalRestore,c.rotate=c.__originalRotate,c.scale=c.__originalScale,c.translate=c.__originalTranslate,c.transform=c.__originalTransform,c.setTransform=c.__originalSetTransform,c.resetTransform=c.__originalResetTransform,c.clip=c.__originalClip,c.moveTo=c.__originalMoveTo,c.lineTo=c.__originalLineTo,c.bezierCurveTo=c.__originalBezierCurveTo,c.rect=c.__originalRect,c.closePath=c.__originalClosePath,c.beginPath=c.__originalBeginPath,delete c._removeMirroring},c.save=function(){t.save(),this.__originalSave()},c.restore=function(){t.restore(),this.__originalRestore()},c.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},c.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},c.transform=function(e,i,a,r,o,u){t.transform(e,i,a,r,o,u),this.__originalTransform(e,i,a,r,o,u)},c.setTransform=function(e,i,a,r,o,u){t.setTransform(e,i,a,r,o,u),this.__originalSetTransform(e,i,a,r,o,u)},c.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},c.rotate=function(e){t.rotate(e),this.__originalRotate(e)},c.clip=function(e){t.clip(e),this.__originalClip(e)},c.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},c.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},c.bezierCurveTo=function(e,i,a,r,o,u){t.bezierCurveTo(e,i,a,r,o,u),this.__originalBezierCurveTo(e,i,a,r,o,u)},c.rect=function(e,i,a,r){t.rect(e,i,a,r),this.__originalRect(e,i,a,r)},c.closePath=function(){t.closePath(),this.__originalClosePath()},c.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class vL{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,i)):(a=this.canvasFactory.create(e,i),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function d5(c,t,e,i,a,r,o,u,h,p){const[m,A,w,y,N,E]=gn(c);if(A===0&&w===0){const M=o*m+N,j=Math.round(M),$=u*y+E,K=Math.round($),at=(o+h)*m+N,tt=Math.abs(Math.round(at)-j)||1,Z=(u+p)*y+E,ut=Math.abs(Math.round(Z)-K)||1;return c.setTransform(Math.sign(m),0,0,Math.sign(y),j,K),c.drawImage(t,e,i,a,r,0,0,tt,ut),c.setTransform(m,A,w,y,N,E),[tt,ut]}if(m===0&&y===0){const M=u*w+N,j=Math.round(M),$=o*A+E,K=Math.round($),at=(u+p)*w+N,tt=Math.abs(Math.round(at)-j)||1,Z=(o+h)*A+E,ut=Math.abs(Math.round(Z)-K)||1;return c.setTransform(0,Math.sign(A),Math.sign(w),0,j,K),c.drawImage(t,e,i,a,r,0,0,ut,tt),c.setTransform(m,A,w,y,N,E),[ut,tt]}c.drawImage(t,e,i,a,r,o,u,h,p);const T=Math.hypot(m,A),L=Math.hypot(w,y);return[T*h,L*p]}class s_{constructor(t,e){Wt(this,"alphaIsShape",!1);Wt(this,"fontSize",0);Wt(this,"fontSizeScale",1);Wt(this,"textMatrix",null);Wt(this,"textMatrixScale",1);Wt(this,"fontMatrix",Ay);Wt(this,"leading",0);Wt(this,"x",0);Wt(this,"y",0);Wt(this,"lineX",0);Wt(this,"lineY",0);Wt(this,"charSpacing",0);Wt(this,"wordSpacing",0);Wt(this,"textHScale",1);Wt(this,"textRenderingMode",Ks.FILL);Wt(this,"textRise",0);Wt(this,"fillColor","#000000");Wt(this,"strokeColor","#000000");Wt(this,"patternFill",!1);Wt(this,"patternStroke",!1);Wt(this,"fillAlpha",1);Wt(this,"strokeAlpha",1);Wt(this,"lineWidth",1);Wt(this,"activeSMask",null);Wt(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Zp.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Rs.FILL,e=null){const i=this.minMax.slice();if(t===Rs.STROKE){e||Pi("Stroke bounding box must include transform."),de.singularValueDecompose2dScale(e,vr);const a=vr[0]*this.lineWidth/2,r=vr[1]*this.lineWidth/2;i[0]-=a,i[1]-=r,i[2]+=a,i[3]+=r}return i}updateClipFromPath(){const t=de.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Zp,0)}getClippedPathBoundingBox(t=Rs.FILL,e=null){return de.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function a_(c,t){if(t instanceof ImageData){c.putImageData(t,0,0);return}const e=t.height,i=t.width,a=e%Ba,r=(e-a)/Ba,o=a===0?r:r+1,u=c.createImageData(i,Ba);let h=0,p;const m=t.data,A=u.data;let w,y,N,E;if(t.kind===_5.GRAYSCALE_1BPP){const T=m.byteLength,L=new Uint32Array(A.buffer,0,A.byteLength>>2),M=L.length,j=i+7>>3,$=4294967295,K=Ds.isLittleEndian?4278190080:255;for(w=0;w<o;w++){for(N=w<r?Ba:a,p=0,y=0;y<N;y++){const at=T-h;let tt=0;const Z=at>j?i:at*8-7,ut=Z&-8;let At=0,z=0;for(;tt<ut;tt+=8)z=m[h++],L[p++]=z&128?$:K,L[p++]=z&64?$:K,L[p++]=z&32?$:K,L[p++]=z&16?$:K,L[p++]=z&8?$:K,L[p++]=z&4?$:K,L[p++]=z&2?$:K,L[p++]=z&1?$:K;for(;tt<Z;tt++)At===0&&(z=m[h++],At=128),L[p++]=z&At?$:K,At>>=1}for(;p<M;)L[p++]=0;c.putImageData(u,0,w*Ba)}}else if(t.kind===_5.RGBA_32BPP){for(y=0,E=i*Ba*4,w=0;w<r;w++)A.set(m.subarray(h,h+E)),h+=E,c.putImageData(u,0,y),y+=Ba;w<o&&(E=i*a*4,A.set(m.subarray(h,h+E)),c.putImageData(u,0,y))}else if(t.kind===_5.RGB_24BPP)for(N=Ba,E=i*N,w=0;w<o;w++){for(w>=r&&(N=a,E=i*N),p=0,y=E;y--;)A[p++]=m[h++],A[p++]=m[h++],A[p++]=m[h++],A[p++]=255;c.putImageData(u,0,w*Ba)}else throw new Error(`bad image kind: ${t.kind}`)}function r_(c,t){if(t.bitmap){c.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,a=e%Ba,r=(e-a)/Ba,o=a===0?r:r+1,u=c.createImageData(i,Ba);let h=0;const p=t.data,m=u.data;for(let A=0;A<o;A++){const w=A<r?Ba:a;({srcPos:h}=pL({src:p,srcPos:h,dest:m,width:i,height:w,nonBlackColor:0})),c.putImageData(u,0,A*Ba)}}function o0(c,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)c[i]!==void 0&&(t[i]=c[i]);c.setLineDash!==void 0&&(t.setLineDash(c.getLineDash()),t.lineDashOffset=c.lineDashOffset)}function p5(c){c.strokeStyle=c.fillStyle="#000000",c.fillRule="nonzero",c.globalAlpha=1,c.lineWidth=1,c.lineCap="butt",c.lineJoin="miter",c.miterLimit=10,c.globalCompositeOperation="source-over",c.font="10px sans-serif",c.setLineDash!==void 0&&(c.setLineDash([]),c.lineDashOffset=0);const{filter:t}=c;t!=="none"&&t!==""&&(c.filter="none")}function o_(c,t){if(t)return!0;de.singularValueDecompose2dScale(c,vr);const e=Math.fround(ou.pixelRatio*Hh.PDF_TO_CSS_UNITS);return vr[0]<=e&&vr[1]<=e}const bL=["butt","round","square"],yL=["miter","round","bevel"],AL={},l_={};var jo,Vy,Yy,Xy;const gw=class gw{constructor(t,e,i,a,r,{optionalContentConfig:o,markedContentStack:u=null},h,p){I(this,jo);this.ctx=t,this.current=new s_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=a,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=o,this.cachedCanvases=new vL(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:a=null}){const r=this.ctx.canvas.width,o=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,r,o),this.ctx.fillStyle=u,i){const h=this.cachedCanvases.getCanvas("transparent",r,o);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...gn(this.compositeCtx))}this.ctx.save(),p5(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=gn(this.ctx)}executeOperatorList(t,e,i,a){const r=t.argsArray,o=t.fnArray;let u=e||0;const h=r.length;if(h===u)return u;const p=h-u>n_&&typeof i=="function",m=p?Date.now()+gL:0;let A=0;const w=this.commonObjs,y=this.objs;let N;for(;;){if(a!==void 0&&u===a.nextBreakPoint)return a.breakIt(u,i),u;if(N=o[u],N!==rv.dependency)this[N].apply(this,r[u]);else for(const E of r[u]){const T=E.startsWith("g_")?w:y;if(!T.has(E))return T.get(E,i),u}if(u++,u===h)return u;if(p&&++A>n_){if(Date.now()>m)return i(),u;A=0}}}endDrawing(){F(this,jo,Vy).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),F(this,jo,Yy).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,a=t.height??t.displayHeight;let r=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),u=i,h=a,p="prescale1",m,A;for(;r>2&&u>1||o>2&&h>1;){let w=u,y=h;r>2&&u>1&&(w=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),r/=u/w),o>2&&h>1&&(y=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,o/=h/y),m=this.cachedCanvases.getCanvas(p,w,y),A=m.context,A.clearRect(0,0,w,y),A.drawImage(t,0,0,u,h,0,0,w,y),t=m.canvas,u=w,h=y,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:h}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:a}=t,r=this.current.fillColor,o=this.current.patternFill,u=gn(e);let h,p,m,A;if((t.bitmap||t.data)&&t.count>1){const ut=t.bitmap||t.data.buffer;p=JSON.stringify(o?u:[u.slice(0,4),r]),h=this._cachedBitmapsMap.get(ut),h||(h=new Map,this._cachedBitmapsMap.set(ut,h));const At=h.get(p);if(At&&!o){const z=Math.round(Math.min(u[0],u[2])+u[4]),X=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:At,offsetX:z,offsetY:X}}m=At}m||(A=this.cachedCanvases.getCanvas("maskCanvas",i,a),r_(A.context,t));let w=de.transform(u,[1/i,0,0,-1/a,0,0]);w=de.transform(w,[1,0,0,1,0,-a]);const y=Zp.slice();de.axialAlignedBoundingBox([0,0,i,a],w,y);const[N,E,T,L]=y,M=Math.round(T-N)||1,j=Math.round(L-E)||1,$=this.cachedCanvases.getCanvas("fillCanvas",M,j),K=$.context,at=N,tt=E;K.translate(-at,-tt),K.transform(...w),m||(m=this._scaleImage(A.canvas,Sl(K)),m=m.img,h&&o&&h.set(p,m)),K.imageSmoothingEnabled=o_(gn(K),t.interpolate),d5(K,m,0,0,m.width,m.height,0,0,i,a),K.globalCompositeOperation="source-in";const Z=de.transform(Sl(K),[1,0,0,1,-at,-tt]);return K.fillStyle=o?r.getPattern(e,this,Z,Rs.FILL):r,K.fillRect(0,0,i,a),h&&!o&&(this.cachedCanvases.delete("fillCanvas"),h.set(p,$.canvas)),{canvas:$.canvas,offsetX:Math.round(at),offsetY:Math.round(tt)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=bL[t]}setLineJoin(t){this.ctx.lineJoin=yL[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx;const r=this.ctx=a.context;r.setTransform(this.suspendedCtx.getTransform()),o0(this.suspendedCtx,r),mL(r,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),o0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,a){const r=a[0],o=a[1],u=a[2]-r,h=a[3]-o;u===0||h===0||(this.genericComposeSMask(e.context,i,u,h,e.subtype,e.backdrop,e.transferMap,r,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,a,r,o,u,h,p,m,A){let w=t.canvas,y=h-m,N=p-A;if(o){const T=de.makeHexColor(...o);if(y<0||N<0||y+i>w.width||N+a>w.height){const L=this.cachedCanvases.getCanvas("maskExtension",i,a),M=L.context;M.drawImage(w,-y,-N),M.globalCompositeOperation="destination-atop",M.fillStyle=T,M.fillRect(0,0,i,a),M.globalCompositeOperation="source-over",w=L.canvas,y=N=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const L=new Path2D;L.rect(y,N,i,a),t.clip(L),t.globalCompositeOperation="destination-atop",t.fillStyle=T,t.fillRect(y,N,i,a),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const E=new Path2D;E.rect(h,p,i,a),e.clip(E),e.globalCompositeOperation="destination-in",e.drawImage(w,y,N,i,a,h,p,i,a),e.restore()}save(){this.inSMaskMode&&o0(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&o0(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,a,r,o){this.ctx.transform(t,e,i,a,r,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){let[a]=e;if(!i){a||(a=e[0]=new Path2D),this[t](a);return}if(!(a instanceof Path2D)){const r=e[0]=new Path2D;for(let o=0,u=a.length;o<u;)switch(a[o++]){case h5.moveTo:r.moveTo(a[o++],a[o++]);break;case h5.lineTo:r.lineTo(a[o++],a[o++]);break;case h5.curveTo:r.bezierCurveTo(a[o++],a[o++],a[o++],a[o++],a[o++],a[o++]);break;case h5.closePath:r.closePath();break;default:ze(`Unrecognized drawing path operator: ${a[o-1]}`);break}a=r}de.axialAlignedBoundingBox(i,gn(this.ctx),this.current.minMax),this[t](a)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&(a!=null&&a.getPattern)){const r=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,Sl(i),Rs.STROKE),r){const o=new Path2D;o.addPath(t,i.getTransform().invertSelf().multiplySelf(r)),t=o}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Rs.STROKE,gn(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const i=this.ctx,a=this.current.fillColor,r=this.current.patternFill;let o=!1;if(r){const h=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=a.getPattern(i,this,Sl(i),Rs.FILL),h){const p=new Path2D;p.addPath(t,i.getTransform().invertSelf().multiplySelf(h)),t=p}o=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),o&&i.restore(),e&&this.consumePath(t,u)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=AL}eoClip(){this.pendingClip=l_}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const i=new Path2D,a=e.getTransform().invertSelf();for(const{transform:r,x:o,y:u,fontSize:h,path:p}of t)i.addPath(p,new DOMMatrix(r).preMultiplySelf(a).translate(o,u).scale(h,-h));e.clip(i),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const i=this.commonObjs.get(t),a=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=i.fontMatrix||Ay,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&ze("Invalid font matrix for font "+t),e<0?(e=-e,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const r=i.loadedName||"sans-serif",o=((m=i.systemFontInfo)==null?void 0:m.css)||`"${r}", ${i.fallbackName}`;let u="normal";i.black?u="900":i.bold&&(u="bold");const h=i.italic?"italic":"normal";let p=e;e<e_?p=e_:e>i_&&(p=i_),this.current.fontSizeScale=e/p,this.ctx.font=`${h} ${u} ${p}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,a,r){const o=this.ctx,u=this.current,h=u.font,p=u.textRenderingMode,m=u.fontSize/u.fontSizeScale,A=p&Ks.FILL_STROKE_MASK,w=!!(p&Ks.ADD_TO_PATH_FLAG),y=u.patternFill&&!h.missingFile,N=u.patternStroke&&!h.missingFile;let E;if((h.disableFontFace||w||y||N)&&(E=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||y||N){o.save(),o.translate(e,i),o.scale(m,-m);let T;if((A===Ks.FILL||A===Ks.FILL_STROKE)&&(a?(T=o.getTransform(),o.setTransform(...a),o.fill(F(this,jo,Xy).call(this,E,T,a))):o.fill(E)),A===Ks.STROKE||A===Ks.FILL_STROKE)if(r){T||(T=o.getTransform()),o.setTransform(...r);const{a:L,b:M,c:j,d:$}=T,K=de.inverseTransform(r),at=de.transform([L,M,j,$,0,0],K);de.singularValueDecompose2dScale(at,vr),o.lineWidth*=Math.max(vr[0],vr[1])/m,o.stroke(F(this,jo,Xy).call(this,E,T,r))}else o.lineWidth/=m,o.stroke(E);o.restore()}else(A===Ks.FILL||A===Ks.FILL_STROKE)&&o.fillText(t,e,i),(A===Ks.STROKE||A===Ks.FILL_STROKE)&&o.strokeText(t,e,i);w&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:gn(o),x:e,y:i,fontSize:m,path:E})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){i=!0;break}return ni(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const a=e.fontSize;if(a===0)return;const r=this.ctx,o=e.fontSizeScale,u=e.charSpacing,h=e.wordSpacing,p=e.fontDirection,m=e.textHScale*p,A=t.length,w=i.vertical,y=w?1:-1,N=i.defaultVMetrics,E=a*e.fontMatrix[0],T=e.textRenderingMode===Ks.FILL&&!i.disableFontFace&&!e.patternFill;r.save(),e.textMatrix&&r.transform(...e.textMatrix),r.translate(e.x,e.y+e.textRise),p>0?r.scale(m,-1):r.scale(m,1);let L,M;if(e.patternFill){r.save();const tt=e.fillColor.getPattern(r,this,Sl(r),Rs.FILL);L=gn(r),r.restore(),r.fillStyle=tt}if(e.patternStroke){r.save();const tt=e.strokeColor.getPattern(r,this,Sl(r),Rs.STROKE);M=gn(r),r.restore(),r.strokeStyle=tt}let j=e.lineWidth;const $=e.textMatrixScale;if($===0||j===0){const tt=e.textRenderingMode&Ks.FILL_STROKE_MASK;(tt===Ks.STROKE||tt===Ks.FILL_STROKE)&&(j=this.getSinglePixelWidth())}else j/=$;if(o!==1&&(r.scale(o,o),j/=o),r.lineWidth=j,i.isInvalidPDFjsFont){const tt=[];let Z=0;for(const ut of t)tt.push(ut.unicode),Z+=ut.width;r.fillText(tt.join(""),0,0),e.x+=Z*E*m,r.restore(),this.compose();return}let K=0,at;for(at=0;at<A;++at){const tt=t[at];if(typeof tt=="number"){K+=y*tt*a/1e3;continue}let Z=!1;const ut=(tt.isSpace?h:0)+u,At=tt.fontChar,z=tt.accent;let X,ot,nt=tt.width;if(w){const U=tt.vmetric||N,J=-(tt.vmetric?U[1]:nt*.5)*E,ht=U[2]*E;nt=U?-U[0]:nt,X=J/o,ot=(K+ht)/o}else X=K/o,ot=0;if(i.remeasure&&nt>0){const U=r.measureText(At).width*1e3/a*o;if(nt<U&&this.isFontSubpixelAAEnabled){const J=nt/U;Z=!0,r.save(),r.scale(J,1),X/=J}else nt!==U&&(X+=(nt-U)/2e3*a/o)}if(this.contentVisible&&(tt.isInFont||i.missingFile)){if(T&&!z)r.fillText(At,X,ot);else if(this.paintChar(At,X,ot,L,M),z){const U=X+a*z.offset.x/o,J=ot-a*z.offset.y/o;this.paintChar(z.fontChar,U,J,L,M)}}const Et=w?nt*E-ut*p:nt*E+ut*p;K+=Et,Z&&r.restore()}w?e.y-=K:e.x+=K*m,r.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,a=i.font,r=i.fontSize,o=i.fontDirection,u=a.vertical?1:-1,h=i.charSpacing,p=i.wordSpacing,m=i.textHScale*o,A=i.fontMatrix||Ay,w=t.length,y=i.textRenderingMode===Ks.INVISIBLE;let N,E,T,L;if(!(y||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),i.textMatrix&&e.transform(...i.textMatrix),e.translate(i.x,i.y+i.textRise),e.scale(m,o),N=0;N<w;++N){if(E=t[N],typeof E=="number"){L=u*E*r/1e3,this.ctx.translate(L,0),i.x+=L*m;continue}const M=(E.isSpace?p:0)+h,j=a.charProcOperatorList[E.operatorListId];j?this.contentVisible&&(this.save(),e.scale(r,r),e.transform(...A),this.executeOperatorList(j),this.restore()):ze(`Type3 character "${E.operatorListId}" is not available.`);const $=[E.width,0];de.applyTransform($,A),T=$[0]*r+M,e.translate(T,0),i.x+=T*m}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,a,r,o){const u=new Path2D;u.rect(i,a,r-i,o-a),this.ctx.clip(u),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=this.baseTransform||gn(this.ctx),a={createCanvasGraphics:r=>new gw(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Gy(t,this.ctx,a,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,i){this.ctx.strokeStyle=this.current.strokeColor=de.makeHexColor(t,e,i),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e,i){this.ctx.fillStyle=this.current.fillColor=de.makeHexColor(t,e,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=dL(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,Sl(e),Rs.SHADING);const a=Sl(e);if(a){const{width:r,height:o}=e.canvas,u=Zp.slice();de.axialAlignedBoundingBox([0,0,r,o],a,u);const[h,p,m,A]=u;this.ctx.fillRect(h,p,m-h,A-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Pi("Should not call beginInlineImage")}beginImageData(){Pi("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=gn(this.ctx),e)){de.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[i,a,r,o]=e,u=new Path2D;u.rect(i,a,r-i,o-a),this.ctx.clip(u),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Bv("TODO: Support non-isolated groups."),t.knockout&&ze("Knockout groups not supported.");const i=gn(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=Zp.slice();de.axialAlignedBoundingBox(t.bbox,gn(e),a);const r=[0,0,e.canvas.width,e.canvas.height];a=de.intersect(a,r)||[0,0,0,0];const o=Math.floor(a[0]),u=Math.floor(a[1]),h=Math.max(Math.ceil(a[2])-o,1),p=Math.max(Math.ceil(a[3])-u,1);this.current.startNewPathAndClipBox([0,0,h,p]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const A=this.cachedCanvases.getCanvas(m,h,p),w=A.context;w.translate(-o,-u),w.transform(...i);let y=new Path2D;const[N,E,T,L]=t.bbox;if(y.rect(N,E,T-N,L-E),t.matrix){const M=new Path2D;M.addPath(y,new DOMMatrix(t.matrix)),y=M}w.clip(y),t.smask?this.smaskStack.push({canvas:A.canvas,context:w,offsetX:o,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,u),e.save()),o0(e,w),this.ctx=w,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=gn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const r=Zp.slice();de.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],a,r),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(t,e,i,a,r){if(F(this,jo,Vy).call(this),p5(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const o=e[2]-e[0],u=e[3]-e[1];if(r&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=o,e[3]=u,de.singularValueDecompose2dScale(gn(this.ctx),vr);const{viewportScale:h}=this,p=Math.ceil(o*this.outputScaleX*h),m=Math.ceil(u*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:A,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(t,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(vr[0],0,0,-vr[1],0,u*vr[1]),p5(this.ctx)}else{p5(this.ctx),this.endPath();const h=new Path2D;h.rect(e[0],e[1],o,u),this.ctx.clip(h)}}this.current=new s_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),F(this,jo,Yy).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,a=this._createMaskCanvas(t),r=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,a.offsetX,a.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,a=0,r,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);const u=this.ctx;u.save();const h=gn(u);u.transform(e,i,a,r,0,0);const p=this._createMaskCanvas(t);u.setTransform(1,0,0,1,p.offsetX-h[4],p.offsetY-h[5]);for(let m=0,A=o.length;m<A;m+=2){const w=de.transform(h,[e,i,a,r,o[m],o[m+1]]);u.drawImage(p.canvas,w[4],w[5])}u.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,a=this.current.patternFill;for(const r of t){const{data:o,width:u,height:h,transform:p}=r,m=this.cachedCanvases.getCanvas("maskCanvas",u,h),A=m.context;A.save();const w=this.getObject(o,r);r_(A,w),A.globalCompositeOperation="source-in",A.fillStyle=a?i.getPattern(A,this,Sl(e),Rs.FILL):i,A.fillRect(0,0,u,h),A.restore(),e.save(),e.transform(...p),e.scale(1,-1),d5(e,m.canvas,0,0,u,h,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){ze("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,a){if(!this.contentVisible)return;const r=this.getObject(t);if(!r){ze("Dependent image isn't ready yet");return}const o=r.width,u=r.height,h=[];for(let p=0,m=a.length;p<m;p+=2)h.push({transform:[e,0,0,i,a[p],a[p+1]],x:0,y:0,w:o,h:u});this.paintInlineImageXObjectGroup(r,h)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:a}=t,r=this.cachedCanvases.getCanvas("inlineImage",i,a),o=r.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,a=this.ctx;this.save();const{filter:r}=a;r!=="none"&&r!==""&&(a.filter="none"),a.scale(1/e,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",e,i).context;a_(p,t),o=this.applyTransferMapsToCanvas(p)}const u=this._scaleImage(o,Sl(a));a.imageSmoothingEnabled=o_(gn(a),t.interpolate),d5(a,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const r=t.width,o=t.height,h=this.cachedCanvases.getCanvas("inlineImage",r,o).context;a_(h,t),a=this.applyTransferMapsToCanvas(h)}for(const r of e)i.save(),i.transform(...r.transform),i.scale(1,-1),d5(i,a,r.x,r.y,r.w,r.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const a=this.ctx;this.pendingClip&&(i||(this.pendingClip===l_?a.clip(t,"evenodd"):a.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=gn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:a,d:r}=this.ctx.getTransform();let o,u;if(i===0&&a===0){const h=Math.abs(e),p=Math.abs(r);if(h===p)if(t===0)o=u=1/h;else{const m=h*t;o=u=m<1?1/m:1}else if(t===0)o=1/h,u=1/p;else{const m=h*t,A=p*t;o=m<1?1/m:1,u=A<1?1/A:1}}else{const h=Math.abs(e*r-i*a),p=Math.hypot(e,i),m=Math.hypot(a,r);if(t===0)o=m/h,u=p/h;else{const A=t*h;o=m>A?m/A:1,u=p>A?p/A:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:a}}=this,[r,o]=this.getScaleForStroking();if(r===o){i.lineWidth=(a||1)*r,i.stroke(t);return}const u=i.getLineDash();e&&i.save(),i.scale(r,o),ly.a=1/r,ly.d=1/o;const h=new Path2D;if(h.addPath(t,ly),u.length>0){const p=Math.max(r,o);i.setLineDash(u.map(m=>m/p)),i.lineDashOffset/=p}i.lineWidth=a||1,i.stroke(h),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};jo=new WeakSet,Vy=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Yy=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},Xy=function(t,e,i){const a=new Path2D;return a.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),a};let ig=gw;for(const c in rv)ig.prototype[c]!==void 0&&(ig.prototype[rv[c]]=ig.prototype[c]);var cm,um;class Ul{static get workerPort(){return d(this,cm)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");R(this,cm,t)}static get workerSrc(){return d(this,um)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");R(this,um,t)}}cm=new WeakMap,um=new WeakMap,I(Ul,cm,null),I(Ul,um,"");var Ng,hm;class wL{constructor({parsedData:t,rawData:e}){I(this,Ng);I(this,hm);R(this,Ng,t),R(this,hm,e)}getRaw(){return d(this,hm)}get(t){return d(this,Ng).get(t)??null}[Symbol.iterator](){return d(this,Ng).entries()}}Ng=new WeakMap,hm=new WeakMap;const Xp=Symbol("INTERNAL");var fm,dm,pm,Lg;class SL{constructor(t,{name:e,intent:i,usage:a,rbGroups:r}){I(this,fm,!1);I(this,dm,!1);I(this,pm,!1);I(this,Lg,!0);R(this,fm,!!(t&mr.DISPLAY)),R(this,dm,!!(t&mr.PRINT)),this.name=e,this.intent=i,this.usage=a,this.rbGroups=r}get visible(){if(d(this,pm))return d(this,Lg);if(!d(this,Lg))return!1;const{print:t,view:e}=this.usage;return d(this,fm)?(e==null?void 0:e.viewState)!=="OFF":d(this,dm)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==Xp&&Pi("Internal method `_setVisible` called."),R(this,pm,i),R(this,Lg,e)}}fm=new WeakMap,dm=new WeakMap,pm=new WeakMap,Lg=new WeakMap;var yh,Di,Cg,Tg,gm,Wy;class _L{constructor(t,e=mr.DISPLAY){I(this,gm);I(this,yh,null);I(this,Di,new Map);I(this,Cg,null);I(this,Tg,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,R(this,Tg,t.order);for(const i of t.groups)d(this,Di).set(i.id,new SL(e,i));if(t.baseState==="OFF")for(const i of d(this,Di).values())i._setVisible(Xp,!1);for(const i of t.on)d(this,Di).get(i)._setVisible(Xp,!0);for(const i of t.off)d(this,Di).get(i)._setVisible(Xp,!1);R(this,Cg,this.getHash())}}isVisible(t){if(d(this,Di).size===0)return!0;if(!t)return Bv("Optional content group not defined."),!0;if(t.type==="OCG")return d(this,Di).has(t.id)?d(this,Di).get(t.id).visible:(ze(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return F(this,gm,Wy).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!d(this,Di).has(e))return ze(`Optional content group not found: ${e}`),!0;if(d(this,Di).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!d(this,Di).has(e))return ze(`Optional content group not found: ${e}`),!0;if(!d(this,Di).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!d(this,Di).has(e))return ze(`Optional content group not found: ${e}`),!0;if(!d(this,Di).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!d(this,Di).has(e))return ze(`Optional content group not found: ${e}`),!0;if(d(this,Di).get(e).visible)return!1}return!0}return ze(`Unknown optional content policy ${t.policy}.`),!0}return ze(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var r;const a=d(this,Di).get(t);if(!a){ze(`Optional content group not found: ${t}`);return}if(i&&e&&a.rbGroups.length)for(const o of a.rbGroups)for(const u of o)u!==t&&((r=d(this,Di).get(u))==null||r._setVisible(Xp,!1,!0));a._setVisible(Xp,!!e,!0),R(this,yh,null)}setOCGState({state:t,preserveRB:e}){let i;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":i=a;continue}const r=d(this,Di).get(a);if(r)switch(i){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!r.visible,e);break}}R(this,yh,null)}get hasInitialVisibility(){return d(this,Cg)===null||this.getHash()===d(this,Cg)}getOrder(){return d(this,Di).size?d(this,Tg)?d(this,Tg).slice():[...d(this,Di).keys()]:null}getGroup(t){return d(this,Di).get(t)||null}getHash(){if(d(this,yh)!==null)return d(this,yh);const t=new C4;for(const[e,i]of d(this,Di))t.update(`${e}:${i.visible}`);return R(this,yh,t.hexdigest())}[Symbol.iterator](){return d(this,Di).entries()}}yh=new WeakMap,Di=new WeakMap,Cg=new WeakMap,Tg=new WeakMap,gm=new WeakSet,Wy=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let a=1;a<e;a++){const r=t[a];let o;if(Array.isArray(r))o=F(this,gm,Wy).call(this,r);else if(d(this,Di).has(r))o=d(this,Di).get(r).visible;else return ze(`Optional content group not found: ${r}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class xL{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Xn(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:r,progressiveDone:o,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=u,(r==null?void 0:r.length)>0){const h=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,p)=>{this._onReceiveData({begin:h,chunk:p})}),t.addProgressListener((h,p)=>{this._onProgress({loaded:h,total:p})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const a=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(i),!0)});Xn(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,a,r;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(r=(a=this._fullRequestReader)==null?void 0:a.onProgress)==null||r.call(a,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Xn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new EL(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new NL(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class EL{constructor(t,e,i=!1,a=null){this._stream=t,this._done=i||!1,this._filename=tw(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class NL{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function LL(c){let t=!0,e=i("filename\\*","i").exec(c);if(e){e=e[1];let m=u(e);return m=unescape(m),m=h(m),m=p(m),r(m)}if(e=o(c),e){const m=p(e);return r(m)}if(e=i("filename","i").exec(c),e){e=e[1];let m=u(e);return m=p(m),r(m)}function i(m,A){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',A)}function a(m,A){if(m){if(!/^[\x00-\xFF]+$/.test(A))return A;try{const w=new TextDecoder(m,{fatal:!0}),y=o2(A);A=w.decode(y),t=!1}catch{}}return A}function r(m){return t&&/[\x80-\xff]/.test(m)&&(m=a("utf-8",m),t&&(m=a("iso-8859-1",m))),m}function o(m){const A=[];let w;const y=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(w=y.exec(m))!==null;){let[,E,T,L]=w;if(E=parseInt(E,10),E in A){if(E===0)break;continue}A[E]=[T,L]}const N=[];for(let E=0;E<A.length&&E in A;++E){let[T,L]=A[E];L=u(L),T&&(L=unescape(L),E===0&&(L=h(L))),N.push(L)}return N.join("")}function u(m){if(m.startsWith('"')){const A=m.slice(1).split('\\"');for(let w=0;w<A.length;++w){const y=A[w].indexOf('"');y!==-1&&(A[w]=A[w].slice(0,y),A.length=w+1),A[w]=A[w].replaceAll(/\\(.)/g,"$1")}m=A.join('"')}return m}function h(m){const A=m.indexOf("'");if(A===-1)return m;const w=m.slice(0,A),N=m.slice(A+1).replace(/^[^']*'/,"");return a(w,N)}function p(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(A,w,y,N){if(y==="q"||y==="Q")return N=N.replaceAll("_"," "),N=N.replaceAll(/=([0-9a-fA-F]{2})/g,function(E,T){return String.fromCharCode(parseInt(T,16))}),a(w,N);try{N=atob(N)}catch{}return a(w,N)})}return""}function z4(c,t){const e=new Headers;if(!c||!t||typeof t!="object")return e;for(const i in t){const a=t[i];a!==void 0&&e.append(i,a)}return e}function zv(c){var t;return((t=URL.parse(c))==null?void 0:t.origin)??null}function q4({responseHeaders:c,isHttp:t,rangeChunkSize:e,disableRange:i}){const a={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(c.get("Content-Length"),10);return!Number.isInteger(r)||(a.suggestedLength=r,r<=2*e)||i||!t||c.get("Accept-Ranges")!=="bytes"||(c.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function U4(c){const t=c.get("Content-Disposition");if(t){let e=LL(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(tw(e))return e}return null}function h2(c,t){return new ov(`Unexpected server response (${c}) while retrieving PDF "${t}".`,c,c===404||c===0&&t.startsWith("file:"))}function H4(c){return c===200||c===206}function G4(c,t,e){return{method:"GET",headers:c,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function V4(c){return c instanceof Uint8Array?c.buffer:c instanceof ArrayBuffer?c:(ze(`getArrayBuffer - unexpected data format: ${c}`),new Uint8Array(c).buffer)}class c_{constructor(t){Wt(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=z4(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Xn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new CL(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new TL(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class CL{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),a=e.url;fetch(a,G4(i,this._withCredentials,this._abortController)).then(r=>{if(t._responseOrigin=zv(r.url),!H4(r.status))throw h2(r.status,a);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=r.headers,{allowRangeRequests:u,suggestedLength:h}=q4({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=h||this._contentLength,this._filename=U4(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Uh("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:V4(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class TL{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range",`bytes=${e}-${i-1}`);const o=a.url;fetch(o,G4(r,this._withCredentials,this._abortController)).then(u=>{const h=zv(u.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!H4(u.status))throw h2(u.status,o);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:V4(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const cy=200,uy=206;function RL(c){const t=c.response;return typeof t!="string"?t:o2(t).buffer}class ML{constructor({url:t,httpHeaders:e,withCredentials:i}){Wt(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=z4(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,a=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[r,o]of this.headers)e.setRequestHeader(r,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=uy):a.expectedStatus=cy,e.responseType="arraybuffer",Xn(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var a;const i=this.pendingRequests[t];i&&((a=i.onProgress)==null||a.call(i,e))}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const a=i.xhr;if(a.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){i.onError(a.status);return}const r=a.status||cy;if(!(r===cy&&i.expectedStatus===uy)&&r!==i.expectedStatus){i.onError(a.status);return}const u=RL(a);if(r===uy){const h=a.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);p?i.onDone({begin:parseInt(p[1],10),chunk:u}):(ze('Missing or invalid "Content-Range" header.'),i.onError(0))}else u?i.onDone({begin:0,chunk:u}):i.onError(a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class OL{constructor(t){this._source=t,this._manager=new ML(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Xn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new DL(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new kL(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class DL{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=zv(e.responseURL);const i=e.getAllResponseHeaders(),a=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[h,...p]=u.split(": ");return[h,p.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:o}=q4({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=U4(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=h2(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class kL{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=zv((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=h2(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const PL=/^[a-z][a-z0-9\-+.]+:/i;function IL(c){if(PL.test(c))return new URL(c);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(c))}class FL{constructor(t){this.source=t,this.url=IL(t.url),Xn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Xn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new BL(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new jL(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class BL{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=h2(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Uh("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class jL{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=t.source;this._isStreamingSupported=!a.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const zL=1e5,u_=30;var I_,Ah,Ia,mm,vm,cd,qc,bm,ym,ud,Rg,Mg,wh,Og,Am,Dg,hd,wm,Sm,kg,fd,_m,Sh,Pg,lu,Y4,X4,Ky,Ar,k5,$y,W4,K4;const Zn=class Zn{constructor({textContentSource:t,container:e,viewport:i}){I(this,lu);I(this,Ah,Promise.withResolvers());I(this,Ia,null);I(this,mm,!1);I(this,vm,!!((I_=globalThis.FontInspector)!=null&&I_.enabled));I(this,cd,null);I(this,qc,null);I(this,bm,0);I(this,ym,0);I(this,ud,null);I(this,Rg,null);I(this,Mg,0);I(this,wh,0);I(this,Og,Object.create(null));I(this,Am,[]);I(this,Dg,null);I(this,hd,[]);I(this,wm,new WeakMap);I(this,Sm,null);var h;if(t instanceof ReadableStream)R(this,Dg,t);else if(typeof t=="object")R(this,Dg,new ReadableStream({start(p){p.enqueue(t),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');R(this,Ia,R(this,Rg,e)),R(this,wh,i.scale*ou.pixelRatio),R(this,Mg,i.rotation),R(this,qc,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:r,pageX:o,pageY:u}=i.rawDims;R(this,Sm,[1,0,0,-1,-o,u+r]),R(this,ym,a),R(this,bm,r),F(h=Zn,Ar,W4).call(h),Xd(e,i),d(this,Ah).promise.finally(()=>{d(Zn,Pg).delete(this),R(this,qc,null),R(this,Og,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Ds.platform;return ni(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{d(this,ud).read().then(({value:e,done:i})=>{if(i){d(this,Ah).resolve();return}d(this,cd)??R(this,cd,e.lang),Object.assign(d(this,Og),e.styles),F(this,lu,Y4).call(this,e.items),t()},d(this,Ah).reject)};return R(this,ud,d(this,Dg).getReader()),d(Zn,Pg).add(this),t(),d(this,Ah).promise}update({viewport:t,onBefore:e=null}){var r;const i=t.scale*ou.pixelRatio,a=t.rotation;if(a!==d(this,Mg)&&(e==null||e(),R(this,Mg,a),Xd(d(this,Rg),{rotation:a})),i!==d(this,wh)){e==null||e(),R(this,wh,i);const o={div:null,properties:null,ctx:F(r=Zn,Ar,k5).call(r,d(this,cd))};for(const u of d(this,hd))o.properties=d(this,wm).get(u),o.div=u,F(this,lu,Ky).call(this,o)}}cancel(){var e;const t=new Uh("TextLayer task cancelled.");(e=d(this,ud))==null||e.cancel(t).catch(()=>{}),R(this,ud,null),d(this,Ah).reject(t)}get textDivs(){return d(this,hd)}get textContentItemsStr(){return d(this,Am)}static cleanup(){if(!(d(this,Pg).size>0)){d(this,kg).clear();for(const{canvas:t}of d(this,fd).values())t.remove();d(this,fd).clear()}}};Ah=new WeakMap,Ia=new WeakMap,mm=new WeakMap,vm=new WeakMap,cd=new WeakMap,qc=new WeakMap,bm=new WeakMap,ym=new WeakMap,ud=new WeakMap,Rg=new WeakMap,Mg=new WeakMap,wh=new WeakMap,Og=new WeakMap,Am=new WeakMap,Dg=new WeakMap,hd=new WeakMap,wm=new WeakMap,Sm=new WeakMap,kg=new WeakMap,fd=new WeakMap,_m=new WeakMap,Sh=new WeakMap,Pg=new WeakMap,lu=new WeakSet,Y4=function(t){var a,r;if(d(this,mm))return;(r=d(this,qc)).ctx??(r.ctx=F(a=Zn,Ar,k5).call(a,d(this,cd)));const e=d(this,hd),i=d(this,Am);for(const o of t){if(e.length>zL){ze("Ignoring additional textDivs for performance reasons."),R(this,mm,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const u=d(this,Ia);R(this,Ia,document.createElement("span")),d(this,Ia).classList.add("markedContent"),o.id!==null&&d(this,Ia).setAttribute("id",`${o.id}`),u.append(d(this,Ia))}else o.type==="endMarkedContent"&&R(this,Ia,d(this,Ia).parentNode);continue}i.push(o.str),F(this,lu,X4).call(this,o)}},X4=function(t){var E;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};d(this,hd).push(e);const a=de.transform(d(this,Sm),t.transform);let r=Math.atan2(a[1],a[0]);const o=d(this,Og)[t.fontName];o.vertical&&(r+=Math.PI/2);let u=d(this,vm)&&o.fontSubstitution||o.fontFamily;u=Zn.fontFamilyMap.get(u)||u;const h=Math.hypot(a[2],a[3]),p=h*F(E=Zn,Ar,K4).call(E,u,o,d(this,cd));let m,A;r===0?(m=a[4],A=a[5]-p):(m=a[4]+p*Math.sin(r),A=a[5]-p*Math.cos(r));const w="calc(var(--total-scale-factor) *",y=e.style;d(this,Ia)===d(this,Rg)?(y.left=`${(100*m/d(this,ym)).toFixed(2)}%`,y.top=`${(100*A/d(this,bm)).toFixed(2)}%`):(y.left=`${w}${m.toFixed(2)}px)`,y.top=`${w}${A.toFixed(2)}px)`),y.fontSize=`${w}${(d(Zn,Sh)*h).toFixed(2)}px)`,y.fontFamily=u,i.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,d(this,vm)&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),r!==0&&(i.angle=r*(180/Math.PI));let N=!1;if(t.str.length>1)N=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const T=Math.abs(t.transform[0]),L=Math.abs(t.transform[3]);T!==L&&Math.max(T,L)/Math.min(T,L)>1.5&&(N=!0)}if(N&&(i.canvasWidth=o.vertical?t.height:t.width),d(this,wm).set(e,i),d(this,qc).div=e,d(this,qc).properties=i,F(this,lu,Ky).call(this,d(this,qc)),i.hasText&&d(this,Ia).append(e),i.hasEOL){const T=document.createElement("br");T.setAttribute("role","presentation"),d(this,Ia).append(T)}},Ky=function(t){var u;const{div:e,properties:i,ctx:a}=t,{style:r}=e;let o="";if(d(Zn,Sh)>1&&(o=`scale(${1/d(Zn,Sh)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:h}=r,{canvasWidth:p,fontSize:m}=i;F(u=Zn,Ar,$y).call(u,a,m*d(this,wh),h);const{width:A}=a.measureText(e.textContent);A>0&&(o=`scaleX(${p*d(this,wh)/A}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(r.transform=o)},Ar=new WeakSet,k5=function(t=null){let e=d(this,fd).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,fd).set(t,e),d(this,_m).set(e,{size:0,family:""})}return e},$y=function(t,e,i){const a=d(this,_m).get(t);e===a.size&&i===a.family||(t.font=`${e}px ${i}`,a.size=e,a.family=i)},W4=function(){if(d(this,Sh)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),R(this,Sh,t.getBoundingClientRect().height),t.remove()},K4=function(t,e,i){const a=d(this,kg).get(t);if(a)return a;const r=F(this,Ar,k5).call(this,i);r.canvas.width=r.canvas.height=u_,F(this,Ar,$y).call(this,r,u_,t);const o=r.measureText(""),u=o.fontBoundingBoxAscent,h=Math.abs(o.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let p=.8;return u?p=u/(u+h):(Ds.platform.isFirefox&&ze("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?p=e.ascent:e.descent&&(p=1+e.descent)),d(this,kg).set(t,p),p},I(Zn,Ar),I(Zn,kg,new Map),I(Zn,fd,new Map),I(Zn,_m,new WeakMap),I(Zn,Sh,null),I(Zn,Pg,new Set);let k0=Zn;class P0{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function a(r){var h;if(!r)return;let o=null;const u=r.name;if(u==="#text")o=r.value;else if(P0.shouldBuildText(u))(h=r==null?void 0:r.attributes)!=null&&h.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&e.push({str:o}),!!r.children)for(const p of r.children)a(p)}return a(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const qL=65536,UL=100;function $4(c={}){typeof c=="string"||c instanceof URL?c={url:c}:(c instanceof ArrayBuffer||ArrayBuffer.isView(c))&&(c={data:c});const t=new Zy,{docId:e}=t,i=c.url?HL(c.url):null,a=c.data?GL(c.data):null,r=c.httpHeaders||null,o=c.withCredentials===!0,u=c.password??null,h=c.range instanceof Q4?c.range:null,p=Number.isInteger(c.rangeChunkSize)&&c.rangeChunkSize>0?c.rangeChunkSize:qL;let m=c.worker instanceof ng?c.worker:null;const A=c.verbosity,w=typeof c.docBaseUrl=="string"&&!jv(c.docBaseUrl)?c.docBaseUrl:null,y=g5(c.cMapUrl),N=c.cMapPacked!==!1,E=c.CMapReaderFactory||(Aa?rL:QS),T=g5(c.iccUrl),L=g5(c.standardFontDataUrl),M=c.StandardFontDataFactory||(Aa?oL:ZS),j=g5(c.wasmUrl),$=c.WasmFactory||(Aa?lL:JS),K=c.stopAtErrors!==!0,at=Number.isInteger(c.maxImageSize)&&c.maxImageSize>-1?c.maxImageSize:-1,tt=c.isEvalSupported!==!1,Z=typeof c.isOffscreenCanvasSupported=="boolean"?c.isOffscreenCanvasSupported:!Aa,ut=typeof c.isImageDecoderSupported=="boolean"?c.isImageDecoderSupported:!Aa&&(Ds.platform.isFirefox||!globalThis.chrome),At=Number.isInteger(c.canvasMaxAreaInBytes)?c.canvasMaxAreaInBytes:-1,z=typeof c.disableFontFace=="boolean"?c.disableFontFace:Aa,X=c.fontExtraProperties===!0,ot=c.enableXfa===!0,nt=c.ownerDocument||globalThis.document,Et=c.disableRange===!0,U=c.disableStream===!0,J=c.disableAutoFetch===!0,ht=c.pdfBug===!0,yt=c.CanvasFactory||(Aa?aL:iL),V=c.FilterFactory||(Aa?sL:nL),ft=c.enableHWA===!0,O=c.useWasm!==!1,H=h?h.length:c.length??NaN,Q=typeof c.useSystemFonts=="boolean"?c.useSystemFonts:!Aa&&!z,rt=typeof c.useWorkerFetch=="boolean"?c.useWorkerFetch:!!(E===QS&&M===ZS&&$===JS&&y&&L&&j&&Hp(y,document.baseURI)&&Hp(L,document.baseURI)&&Hp(j,document.baseURI)),st=null;PN(A);const mt={canvasFactory:new yt({ownerDocument:nt,enableHWA:ft}),filterFactory:new V({docId:e,ownerDocument:nt}),cMapReaderFactory:rt?null:new E({baseUrl:y,isCompressed:N}),standardFontDataFactory:rt?null:new M({baseUrl:L}),wasmFactory:rt?null:new $({baseUrl:j})};if(!m){const Vt={verbosity:A,port:Ul.workerPort};m=Vt.port?ng.fromPort(Vt):new ng(Vt),t._worker=m}const St={docId:e,apiVersion:"5.2.133",data:a,password:u,disableAutoFetch:J,rangeChunkSize:p,length:H,docBaseUrl:w,enableXfa:ot,evaluatorOptions:{maxImageSize:at,disableFontFace:z,ignoreErrors:K,isEvalSupported:tt,isOffscreenCanvasSupported:Z,isImageDecoderSupported:ut,canvasMaxAreaInBytes:At,fontExtraProperties:X,useSystemFonts:Q,useWasm:O,useWorkerFetch:rt,cMapUrl:y,iccUrl:T,standardFontDataUrl:L,wasmUrl:j}},Ct={ownerDocument:nt,pdfBug:ht,styleElement:st,loadingParams:{disableAutoFetch:J,enableXfa:ot}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Vt=m.messageHandler.sendWithPromise("GetDocRequest",St,a?[a.buffer]:null);let Ht;if(h)Ht=new xL(h,{disableRange:Et,disableStream:U});else if(!a){if(!i)throw new Error("getDocument - no `url` parameter provided.");let Xt;if(Aa)if(Hp(i)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");Xt=c_}else Xt=FL;else Xt=Hp(i)?c_:OL;Ht=new Xt({url:i,length:H,httpHeaders:r,withCredentials:o,rangeChunkSize:p,disableRange:Et,disableStream:U})}return Vt.then(Xt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Kt=new v0(e,Xt,m.port),be=new $L(Kt,t,Ht,Ct,mt);t._transport=be,Kt.send("Ready",null)})}).catch(t._capability.reject),t}function HL(c){if(c instanceof URL)return c.href;if(typeof c=="string"){if(Aa)return c;const t=URL.parse(c,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function GL(c){if(Aa&&typeof Buffer<"u"&&c instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength)return c;if(typeof c=="string")return o2(c);if(c instanceof ArrayBuffer||ArrayBuffer.isView(c)||typeof c=="object"&&!isNaN(c==null?void 0:c.length))return new Uint8Array(c);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function g5(c){if(typeof c!="string")return null;if(c.endsWith("/"))return c;throw new Error(`Invalid factory url: "${c}" must include trailing slash.`)}const Qy=c=>typeof c=="object"&&Number.isInteger(c==null?void 0:c.num)&&c.num>=0&&Number.isInteger(c==null?void 0:c.gen)&&c.gen>=0,VL=c=>typeof c=="object"&&typeof(c==null?void 0:c.name)=="string",YL=GN.bind(null,Qy,VL);var Ev;const Nv=class Nv{constructor(){Wt(this,"_capability",Promise.withResolvers());Wt(this,"_transport",null);Wt(this,"_worker",null);Wt(this,"docId",`d${pa(Nv,Ev)._++}`);Wt(this,"destroyed",!1);Wt(this,"onPassword",null);Wt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,i,a;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,(a=this._worker)==null||a.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Ev=new WeakMap,I(Nv,Ev,0);let Zy=Nv;class Q4{constructor(t,e,i=!1,a=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const i of this._rangeListeners)i(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){Pi("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class XL{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ni(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Uc,dd,S0;class WL{constructor(t,e,i,a=!1){I(this,dd);I(this,Uc,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=a?new WS:null,this._pdfBug=a,this.commonObjs=i.commonObjs,this.objs=new Z4,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:a=0,dontFlip:r=!1}={}){return new c2({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ni(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:a=nh.ENABLE,transform:r=null,background:o=null,optionalContentConfigPromise:u=null,annotationCanvasMap:h=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:A=!1}){var $,K;($=this._stats)==null||$.time("Overall");const w=this._transport.getRenderingIntent(i,a,m,A),{renderingIntent:y,cacheKey:N}=w;R(this,Uc,!1),u||(u=this._transport.getOptionalContentConfig(y));let E=this._intentStates.get(N);E||(E=Object.create(null),this._intentStates.set(N,E)),E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null);const T=!!(y&mr.PRINT);E.displayReadyCapability||(E.displayReadyCapability=Promise.withResolvers(),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(K=this._stats)==null||K.time("Page Request"),this._pumpOperatorList(w));const L=at=>{var tt;E.renderTasks.delete(M),T&&R(this,Uc,!0),F(this,dd,S0).call(this),at?(M.capability.reject(at),this._abortOperatorList({intentState:E,reason:at instanceof Error?at:new Error(at)})):M.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(tt=globalThis.Stats)!=null&&tt.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},M=new tA({callback:L,params:{canvasContext:t,viewport:e,transform:r,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:E.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:p});(E.renderTasks||(E.renderTasks=new Set)).add(M);const j=M.task;return Promise.all([E.displayReadyCapability.promise,u]).then(([at,tt])=>{var Z;if(this.destroyed){L();return}if((Z=this._stats)==null||Z.time("Rendering"),!(tt.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");M.initializeGraphics({transparency:at,optionalContentConfig:tt}),M.operatorListChanged()}).catch(L),j}getOperatorList({intent:t="display",annotationMode:e=nh.ENABLE,printAnnotationStorage:i=null,isEditing:a=!1}={}){var p;function r(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(h))}const o=this._transport.getRenderingIntent(t,e,i,a,!0);let u=this._intentStates.get(o.cacheKey);u||(u=Object.create(null),this._intentStates.set(o.cacheKey,u));let h;return u.opListReadCapability||(h=Object.create(null),h.operatorListChanged=r,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(h),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(o)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>P0.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,a){function r(){o.read().then(function({value:h,done:p}){if(p){i(u);return}u.lang??(u.lang=h.lang),Object.assign(u.styles,h.styles),u.items.push(...h.items),r()},a)}const o=e.getReader(),u={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),R(this,Uc,!1),Promise.all(t)}cleanup(t=!1){R(this,Uc,!0);const e=F(this,dd,S0).call(this);return t&&e&&this._stats&&(this._stats=new WS),e}_startRenderPage(t,e){var a,r;const i=this._intentStates.get(e);i&&((a=this._stats)==null||a.timeEnd("Page Request"),(r=i.displayReadyCapability)==null||r.resolve(t))}_renderPageChunk(t,e){for(let i=0,a=t.length;i<a;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&F(this,dd,S0).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:a}){const{map:r,transfer:o}=i,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:r,modifiedIds:a},o).getReader(),p=this._intentStates.get(e);p.streamReader=h;const m=()=>{h.read().then(({value:A,done:w})=>{if(w){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(A,p),m())},A=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const w of p.renderTasks)w.operatorListChanged();F(this,dd,S0).call(this)}if(p.displayReadyCapability)p.displayReadyCapability.reject(A);else if(p.opListReadCapability)p.opListReadCapability.reject(A);else throw A}})};m()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof JA){let a=UL;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new Uh(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,r]of this._intentStates)if(r===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}Uc=new WeakMap,dd=new WeakSet,S0=function(){if(!d(this,Uc)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),R(this,Uc,!1),!0};var Hc,Lv;class KL{constructor(){I(this,Hc,new Map);I(this,Lv,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};d(this,Lv).then(()=>{for(const[a]of d(this,Hc))a.call(this,i)})}addEventListener(t,e,i=null){let a=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:r}=i;if(r.aborted){ze("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);a=()=>r.removeEventListener("abort",o),r.addEventListener("abort",o)}d(this,Hc).set(e,a)}removeEventListener(t,e){const i=d(this,Hc).get(e);i==null||i(),d(this,Hc).delete(e)}terminate(){for(const[,t]of d(this,Hc))t==null||t();d(this,Hc).clear()}}Hc=new WeakMap,Lv=new WeakMap;var Cv,pd,gd,Ig,P5,Fg,I5;const sn=class sn{constructor({name:t=null,port:e=null,verbosity:i=IN()}={}){I(this,Ig);var a;if(this.name=t,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((a=d(sn,gd))!=null&&a.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(d(sn,gd)||R(sn,gd,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new v0("main","worker",t),this._messageHandler.on("ready",function(){}),F(this,Ig,P5).call(this)}_initialize(){if(d(sn,pd)||d(sn,Fg,I5)){this._setupFakeWorker();return}let{workerSrc:t}=sn;try{sn._isSameOrigin(window.location,t)||(t=sn._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new v0("main","worker",e),a=()=>{r.abort(),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;e.addEventListener("error",()=>{this._webWorker||a()},{signal:r.signal}),i.on("test",u=>{if(r.abort(),this.destroyed||!u){a();return}this._messageHandler=i,this._port=e,this._webWorker=e,F(this,Ig,P5).call(this)}),i.on("ready",u=>{if(r.abort(),this.destroyed){a();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const u=new Uint8Array;i.send("test",u,[u.buffer])};o();return}catch{Bv("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){d(sn,pd)||(ze("Setting up fake worker."),R(sn,pd,!0)),sn._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new KL;this._port=e;const i=`fake${pa(sn,Cv)._++}`,a=new v0(i+"_worker",i,e);t.setup(a,e),this._messageHandler=new v0(i,i+"_worker",e),F(this,Ig,P5).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t,e,i;this.destroyed=!0,(t=this._webWorker)==null||t.terminate(),this._webWorker=null,(e=d(sn,gd))==null||e.delete(this._port),this._port=null,(i=this._messageHandler)==null||i.destroy(),this._messageHandler=null}static fromPort(t){var i;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(i=d(this,gd))==null?void 0:i.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new sn(t)}static get workerSrc(){if(Ul.workerSrc)return Ul.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ni(this,"_setupFakeWorkerGlobal",(async()=>d(this,Fg,I5)?d(this,Fg,I5):(await import(this.workerSrc)).WorkerMessageHandler)())}};Cv=new WeakMap,pd=new WeakMap,gd=new WeakMap,Ig=new WeakSet,P5=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Fg=new WeakSet,I5=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},I(sn,Fg),I(sn,Cv,0),I(sn,pd,!1),I(sn,gd),Aa&&(R(sn,pd,!0),Ul.workerSrc||(Ul.workerSrc="./pdf.worker.mjs")),sn._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const a=new URL(e,i);return i.origin===a.origin},sn._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let ng=sn;var Gc,Pl,Bg,jg,Vc,md,_0;class $L{constructor(t,e,i,a,r){I(this,md);I(this,Gc,new Map);I(this,Pl,new Map);I(this,Bg,new Map);I(this,jg,new Map);I(this,Vc,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Z4,this.fontLoader=new tL({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ni(this,"annotationStorage",new sw)}getRenderingIntent(t,e=nh.ENABLE,i=null,a=!1,r=!1){let o=mr.DISPLAY,u=zy;switch(t){case"any":o=mr.ANY;break;case"display":break;case"print":o=mr.PRINT;break;default:ze(`getRenderingIntent - invalid intent: ${t}`)}const h=o&mr.PRINT&&i instanceof R4?i:this.annotationStorage;switch(e){case nh.DISABLE:o+=mr.ANNOTATIONS_DISABLE;break;case nh.ENABLE:break;case nh.ENABLE_FORMS:o+=mr.ANNOTATIONS_FORMS;break;case nh.ENABLE_STORAGE:o+=mr.ANNOTATIONS_STORAGE,u=h.serializable;break;default:ze(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(o+=mr.IS_EDITING),r&&(o+=mr.OPLIST);const{ids:p,hash:m}=h.modifiedIds,A=[o,u.hash,m];return{renderingIntent:o,cacheKey:A.join("_"),annotationStorageSerializable:u,modifiedIds:p}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=d(this,Vc))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const a of d(this,Pl).values())t.push(a._destroy());d(this,Pl).clear(),d(this,Bg).clear(),d(this,jg).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var a,r;this.commonObjs.clear(),this.fontLoader.clear(),d(this,Gc).clear(),this.filterFactory.destroy(),k0.cleanup(),(a=this._networkStream)==null||a.cancelAllRequests(new Uh("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,a)=>{Xn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},a.onPull=()=>{this._fullReader.read().then(function({value:r,done:o}){if(o){a.close();return}Xn(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{a.error(r)})},a.onCancel=r=>{this._fullReader.cancel(r),a.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async i=>{var u;await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:r,contentLength:o}=this._fullReader;return(!a||!r)&&(this._lastProgress&&((u=e.onProgress)==null||u.call(e,this._lastProgress)),this._fullReader.onProgress=h=>{var p;(p=e.onProgress)==null||p.call(e,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:a,isRangeSupported:r,contentLength:o}}),t.on("GetRangeReader",(i,a)=>{Xn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){a.close();return}a.onPull=()=>{r.read().then(function({value:o,done:u}){if(u){a.close();return}Xn(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{a.error(o)})},a.onCancel=o=>{r.cancel(o),a.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new XL(i,this))}),t.on("DocException",i=>{e._capability.reject(Da(i))}),t.on("PasswordRequest",i=>{R(this,Vc,Promise.withResolvers());try{if(!e.onPassword)throw Da(i);const a=r=>{r instanceof Error?d(this,Vc).reject(r):d(this,Vc).resolve({password:r})};e.onPassword(a,i.code)}catch(a){d(this,Vc).reject(a)}return d(this,Vc).promise}),t.on("DataLoaded",i=>{var a;(a=e.onProgress)==null||a.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;d(this,Pl).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,a,r])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(a){case"Font":if("error"in r){const m=r.error;ze(`Error during font loading: ${m}`),this.commonObjs.resolve(i,m);break}const u=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(m,A)=>globalThis.FontInspector.fontAdded(m,A):null,h=new eL(r,u);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(i,h)});break;case"CopyLocalImage":const{imageRef:p}=r;Xn(p,"The imageRef must be defined.");for(const m of d(this,Pl).values())for(const[,A]of m.objs)if((A==null?void 0:A.ref)===p)return A.dataLen?(this.commonObjs.resolve(i,structuredClone(A)),A.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([i,a,r,o])=>{var h;if(this.destroyed)return;const u=d(this,Pl).get(a);if(!u.objs.has(i)){if(u._intentStates.size===0){(h=o==null?void 0:o.bitmap)==null||h.close();return}switch(r){case"Image":case"Pattern":u.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",i=>{var a;this.destroyed||(a=e.onProgress)==null||a.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[i.type];if(!a)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&ze("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=d(this,Bg).get(e);if(i)return i;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&d(this,jg).set(r.refStr,t);const o=new WL(e,r,this,this._params.pdfBug);return d(this,Pl).set(e,o),o});return d(this,Bg).set(e,a),a}getPageIndex(t){return Qy(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return F(this,md,_0).call(this,"GetFieldObjects")}hasJSActions(){return F(this,md,_0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return F(this,md,_0).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return F(this,md,_0).call(this,"GetOptionalContentConfig").then(e=>new _L(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=d(this,Gc).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(a=>{var r,o;return{info:a[0],metadata:a[1]?new wL(a[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return d(this,Gc).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of d(this,Pl).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),d(this,Gc).clear(),this.filterFactory.destroy(!0),k0.cleanup()}}cachedPageNumber(t){if(!Qy(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return d(this,jg).get(e)??null}}Gc=new WeakMap,Pl=new WeakMap,Bg=new WeakMap,jg=new WeakMap,Vc=new WeakMap,md=new WeakSet,_0=function(t,e=null){const i=d(this,Gc).get(t);if(i)return i;const a=this.messageHandler.sendWithPromise(t,e);return d(this,Gc).set(t,a),a};const l0=Symbol("INITIAL_DATA");var rr,xm,Jy;class Z4{constructor(){I(this,xm);I(this,rr,Object.create(null))}get(t,e=null){if(e){const a=F(this,xm,Jy).call(this,t);return a.promise.then(()=>e(a.data)),null}const i=d(this,rr)[t];if(!i||i.data===l0)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=d(this,rr)[t];return!!e&&e.data!==l0}delete(t){const e=d(this,rr)[t];return!e||e.data===l0?!1:(delete d(this,rr)[t],!0)}resolve(t,e=null){const i=F(this,xm,Jy).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in d(this,rr)){const{data:i}=d(this,rr)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}R(this,rr,Object.create(null))}*[Symbol.iterator](){for(const t in d(this,rr)){const{data:e}=d(this,rr)[t];e!==l0&&(yield[t,e])}}}rr=new WeakMap,xm=new WeakSet,Jy=function(t){var e;return(e=d(this,rr))[t]||(e[t]={...Promise.withResolvers(),data:l0})};var _h;class QL{constructor(t){I(this,_h,null);Wt(this,"onContinue",null);Wt(this,"onError",null);R(this,_h,t)}get promise(){return d(this,_h).capability.promise}cancel(t=0){d(this,_h).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=d(this,_h).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=d(this,_h);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}_h=new WeakMap;var xh,vd;const jf=class jf{constructor({callback:t,params:e,objs:i,commonObjs:a,annotationCanvasMap:r,operatorList:o,pageIndex:u,canvasFactory:h,filterFactory:p,useRequestAnimationFrame:m=!1,pdfBug:A=!1,pageColors:w=null}){I(this,xh,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=u,this.canvasFactory=h,this.filterFactory=p,this._pdfBug=A,this.pageColors=w,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new QL(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var u,h;if(this.cancelled)return;if(this._canvas){if(d(jf,vd).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(jf,vd).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:a,transform:r,background:o}=this.params;this.gfx=new ig(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:a,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(t=null,e=0){var i,a,r;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),d(this,xh)&&(window.cancelAnimationFrame(d(this,xh)),R(this,xh,null)),d(jf,vd).delete(this._canvas),t||(t=new JA(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(r=(a=this.task).onError)==null||r.call(a,t)}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?R(this,xh,window.requestAnimationFrame(()=>{R(this,xh,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(jf,vd).delete(this._canvas),this.callback())))}};xh=new WeakMap,vd=new WeakMap,I(jf,vd,new WeakSet);let tA=jf;const ZL="5.2.133",JL="4f7761353";function h_(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function c0(c){return Math.max(0,Math.min(255,255*c))}class f_{static CMYK_G([t,e,i,a]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=c0(t),[t,t,t]}static G_HTML([t]){const e=h_(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(c0)}static RGB_HTML(t){return`#${t.map(h_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,i+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,i,a]){return[c0(1-Math.min(1,t+a)),c0(1-Math.min(1,i+a)),c0(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const a=1-t,r=1-e,o=1-i,u=Math.min(a,r,o);return["CMYK",a,r,o,u]}}class tC{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),i||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Pi("Abstract method `_createSVG` called.")}}class uv extends tC{_createSVG(t){return document.createElementNS(Ec,t)}}class J4{static setupStorage(t,e,i,a,r){const o=a.getValue(e,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),r==="print")break;t.addEventListener("input",u=>{a.setValue(e,{value:u.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?t.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",u=>{a.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),r==="print")break;t.addEventListener("input",u=>{a.setValue(e,{value:u.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const u of i.children)u.attributes.value===o.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const h=u.target.options,p=h.selectedIndex===-1?"":h[h.selectedIndex].value;a.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:a,linkService:r}){const{attributes:o}=e,u=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${a}`);for(const[h,p]of Object.entries(o))if(p!=null)switch(h){case"class":p.length&&t.setAttribute(h,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!u||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,p)}u&&r.addLinkAttributes(t,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(t,o.dataId,e,i)}static render(t){var A,w;const e=t.annotationStorage,i=t.linkService,a=t.xfaHtml,r=t.intent||"display",o=document.createElement(a.name);a.attributes&&this.setAttributes({html:o,element:a,intent:r,linkService:i});const u=r!=="richText",h=t.div;if(h.append(o),t.viewport){const y=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=y}u&&h.setAttribute("class","xfaLayer xfaFont");const p=[];if(a.children.length===0){if(a.value){const y=document.createTextNode(a.value);o.append(y),u&&P0.shouldBuildText(a.name)&&p.push(y)}return{textDivs:p}}const m=[[a,-1,o]];for(;m.length>0;){const[y,N,E]=m.at(-1);if(N+1===y.children.length){m.pop();continue}const T=y.children[++m.at(-1)[1]];if(T===null)continue;const{name:L}=T;if(L==="#text"){const j=document.createTextNode(T.value);p.push(j),E.append(j);continue}const M=(A=T==null?void 0:T.attributes)!=null&&A.xmlns?document.createElementNS(T.attributes.xmlns,L):document.createElement(L);if(E.append(M),T.attributes&&this.setAttributes({html:M,element:T,storage:e,intent:r,linkService:i}),((w=T.children)==null?void 0:w.length)>0)m.push([T,-1,M]);else if(T.value){const j=document.createTextNode(T.value);u&&P0.shouldBuildText(L)&&p.push(j),M.append(j)}}for(const y of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const f2=1e3,eC=9,Kd=new WeakSet;class d_{static create(t){switch(t.data.annotationType){case Vn.LINK:return new tx(t);case Vn.TEXT:return new iC(t);case Vn.WIDGET:switch(t.data.fieldType){case"Tx":return new nC(t);case"Btn":return t.data.radioButton?new nx(t):t.data.checkBox?new aC(t):new rC(t);case"Ch":return new oC(t);case"Sig":return new sC(t)}return new Qd(t);case Vn.POPUP:return new iA(t);case Vn.FREETEXT:return new lx(t);case Vn.LINE:return new cC(t);case Vn.SQUARE:return new uC(t);case Vn.CIRCLE:return new hC(t);case Vn.POLYLINE:return new cx(t);case Vn.CARET:return new dC(t);case Vn.INK:return new ow(t);case Vn.POLYGON:return new fC(t);case Vn.HIGHLIGHT:return new ux(t);case Vn.UNDERLINE:return new pC(t);case Vn.SQUIGGLY:return new gC(t);case Vn.STRIKEOUT:return new mC(t);case Vn.STAMP:return new hx(t);case Vn.FILEATTACHMENT:return new vC(t);default:return new Fn(t)}}}var bd,zg,qg,Em,eA;const mw=class mw{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:a=!1}={}){I(this,Em);I(this,bd,null);I(this,zg,!1);I(this,qg,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),a&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t!=null&&t.str||e!=null&&e.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return mw._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;d(this,bd)||R(this,bd,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&F(this,Em,eA).call(this,e),(i=d(this,qg))==null||i.popup.updateEdited(t)}resetEdited(){var t;d(this,bd)&&(F(this,Em,eA).call(this,d(this,bd).rect),(t=d(this,qg))==null||t.popup.resetEdited(),R(this,bd,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:a}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),this instanceof Qd||(r.tabIndex=f2);const{style:o}=r;if(o.zIndex=this.parent.zIndex++,e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof iA){const{rotation:E}=e;return!e.hasOwnCanvas&&E!==0&&this.setRotation(E,r),r}const{width:u,height:h}=this;if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const E=e.borderStyle.horizontalCornerRadius,T=e.borderStyle.verticalCornerRadius;if(E>0||T>0){const M=`calc(${E}px * var(--total-scale-factor)) / calc(${T}px * var(--total-scale-factor))`;o.borderRadius=M}else if(this instanceof nx){const M=`calc(${u}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;o.borderRadius=M}switch(e.borderStyle.style){case Up.SOLID:o.borderStyle="solid";break;case Up.DASHED:o.borderStyle="dashed";break;case Up.BEVELED:ze("Unimplemented border style: beveled");break;case Up.INSET:ze("Unimplemented border style: inset");break;case Up.UNDERLINE:o.borderBottomStyle="solid";break}const L=e.borderColor||null;L?(R(this,zg,!0),o.borderColor=de.makeHexColor(L[0]|0,L[1]|0,L[2]|0)):o.borderWidth=0}const p=de.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:m,pageHeight:A,pageX:w,pageY:y}=a.rawDims;o.left=`${100*(p[0]-w)/m}%`,o.top=`${100*(p[1]-y)/A}%`;const{rotation:N}=e;return e.hasOwnCanvas||N===0?(o.width=`${100*u/m}%`,o.height=`${100*h/A}%`):this.setRotation(N,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:a}=this.parent.viewport.rawDims;let{width:r,height:o}=this;t%180!==0&&([r,o]=[o,r]),e.style.width=`${100*r/i}%`,e.style.height=`${100*o/a}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,a)=>{const r=a.detail[e],o=r[0],u=r.slice(1);a.target.style[i]=f_[`${o}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[i]:f_[`${o}_rgb`](u)})};return ni(this,"_commonActions",{display:e=>{const{display:i}=e.detail,a=i%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const a of Object.keys(e.detail)){const r=t[a]||i[a];r==null||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[a,r]of Object.entries(e)){const o=i[a];if(o){const u={detail:{[a]:r},target:t};o(u),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,a,r]=this.data.rect.map(E=>Math.fround(E));if(t.length===8){const[E,T,L,M]=t.subarray(2,6);if(a===E&&r===T&&e===L&&i===M)return}const{style:o}=this.container;let u;if(d(this,zg)){const{borderColor:E,borderWidth:T}=o;o.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${E}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const h=a-e,p=r-i,{svgFactory:m}=this,A=m.createElement("svg");A.classList.add("quadrilateralsContainer"),A.setAttribute("width",0),A.setAttribute("height",0);const w=m.createElement("defs");A.append(w);const y=m.createElement("clipPath"),N=`clippath_${this.data.id}`;y.setAttribute("id",N),y.setAttribute("clipPathUnits","objectBoundingBox"),w.append(y);for(let E=2,T=t.length;E<T;E+=8){const L=t[E],M=t[E+1],j=t[E+2],$=t[E+3],K=m.createElement("rect"),at=(j-e)/h,tt=(r-M)/p,Z=(L-j)/h,ut=(M-$)/p;K.setAttribute("x",at),K.setAttribute("y",tt),K.setAttribute("width",Z),K.setAttribute("height",ut),y.append(K),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${at}" y="${tt}" width="${Z}" height="${ut}"/>`)}d(this,zg)&&(u.push("</g></svg>')"),o.backgroundImage=u.join("")),this.container.append(A),this.container.style.clipPath=`url(#${N})`}_createPopup(){const{data:t}=this,e=R(this,qg,new iA({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){Pi("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:r,id:o,exportValues:u}of a){if(r===-1||o===e)continue;const h=typeof u=="string"?u:null,p=document.querySelector(`[data-element-id="${o}"]`);if(p&&!Kd.has(p)){ze(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:h,domElement:p})}return i}for(const a of document.getElementsByName(t)){const{exportValue:r}=a,o=a.getAttribute("data-element-id");o!==e&&Kd.has(a)&&i.push({id:o,exportValue:r,domElement:a})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};bd=new WeakMap,zg=new WeakMap,qg=new WeakMap,Em=new WeakSet,eA=function(t){const{container:{style:e},data:{rect:i,rotation:a},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:u,pageY:h}}}}=this;i==null||i.splice(0,4,...t),e.left=`${100*(t[0]-u)/r}%`,e.top=`${100*(o-t[3]+h)/o}%`,a===0?(e.width=`${100*(t[2]-t[0])/r}%`,e.height=`${100*(t[3]-t[1])/o}%`):this.setRotation(a)};let Fn=mw;var br,Df,ex,ix;class tx extends Fn{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});I(this,br);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,a=document.createElement("a");a.setAttribute("data-element-id",e.id);let r=!1;return e.url?(i.addLinkAttributes(a,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(a,e.action),r=!0):e.attachment?(F(this,br,ex).call(this,a,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(F(this,br,ix).call(this,a,e.setOCGState),r=!0):e.dest?(this._bindLink(a,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(a,e),r=!0),e.resetForm?(this._bindResetFormAction(a,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(a,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(a),this.container}_bindLink(e,i){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&F(this,br,Df).call(this)}_bindNamedAction(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),F(this,br,Df).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(i.actions)){const o=a.get(r);o&&(e[o]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),F(this,br,Df).call(this)}_bindResetFormAction(e,i){const a=e.onclick;if(a||(e.href=this.linkService.getAnchorUrl("")),F(this,br,Df).call(this),!this._fieldObjects){ze('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),a||(e.onclick=()=>!1);return}e.onclick=()=>{var A;a==null||a();const{fields:r,refs:o,include:u}=i,h=[];if(r.length!==0||o.length!==0){const w=new Set(o);for(const y of r){const N=this._fieldObjects[y]||[];for(const{id:E}of N)w.add(E)}for(const y of Object.values(this._fieldObjects))for(const N of y)w.has(N.id)===u&&h.push(N)}else for(const w of Object.values(this._fieldObjects))h.push(...w);const p=this.annotationStorage,m=[];for(const w of h){const{id:y}=w;switch(m.push(y),w.type){case"text":{const E=w.defaultValue||"";p.setValue(y,{value:E});break}case"checkbox":case"radiobutton":{const E=w.defaultValue===w.exportValues;p.setValue(y,{value:E});break}case"combobox":case"listbox":{const E=w.defaultValue||"";p.setValue(y,{value:E});break}default:continue}const N=document.querySelector(`[data-element-id="${y}"]`);if(N){if(!Kd.has(N)){ze(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;N.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}br=new WeakSet,Df=function(){this.container.setAttribute("data-internal-link","")},ex=function(e,i,a=null){e.href=this.linkService.getAnchorUrl(""),i.description&&(e.title=i.description),e.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(i.content,i.filename,a),!1},F(this,br,Df).call(this)},ix=function(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),F(this,br,Df).call(this)};class iC extends Fn{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Qd extends Fn{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ds.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,a,r){i.includes("mouse")?t.addEventListener(i,o=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:r(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(i,o=>{var u;if(i==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}r&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:r(o)}}))})}_setEventListeners(t,e,i,a){var r,o,u;for(const[h,p]of i)(p==="Action"||(r=this.data.actions)!=null&&r[p])&&((p==="Focus"||p==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,h,p,a),p==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(t,e,"blur","Blur",null):p==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":de.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||eC,r=t.style;let o;const u=2,h=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-u),m=Math.round(p/(ny*a))||1,A=p/m;o=Math.min(a,h(A/ny))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-u);o=Math.min(a,h(p/ny))}r.fontSize=`calc(${o}px * var(--total-scale-factor))`,r.color=de.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class nC extends Qd{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,a){const r=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=i),r.setValue(o.id,{[a]:i})}render(){var a,r;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=t.getValue(e,{value:this.data.fieldValue});let u=o.value||"";const h=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;h&&u.length>h&&(u=u.slice(0,h));let p=o.formattedValue||((a=this.data.textContent)==null?void 0:a.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const m={userValue:u,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=p??u,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",p??u),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Kd.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=f2,this._setRequired(i,this.data.required),h&&(i.maxLength=h),i.addEventListener("input",w=>{t.setValue(e,{value:w.target.value}),this.setPropertyOnSiblings(i,"value",w.target.value,"value"),m.formattedValue=null}),i.addEventListener("resetform",w=>{const y=this.data.defaultFieldValue??"";i.value=m.userValue=y,m.formattedValue=null});let A=w=>{const{formattedValue:y}=m;y!=null&&(w.target.value=y),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",y=>{var E;if(m.focused)return;const{target:N}=y;m.userValue&&(N.value=m.userValue),m.lastCommittedValue=N.value,m.commitKey=1,(E=this.data.actions)!=null&&E.Focus||(m.focused=!0)}),i.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const N={value(E){m.userValue=E.detail.value??"",t.setValue(e,{value:m.userValue.toString()}),E.target.value=m.userValue},formattedValue(E){const{formattedValue:T}=E.detail;m.formattedValue=T,T!=null&&E.target!==document.activeElement&&(E.target.value=T),t.setValue(e,{formattedValue:T})},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{var j;const{charLimit:T}=E.detail,{target:L}=E;if(T===0){L.removeAttribute("maxLength");return}L.setAttribute("maxLength",T);let M=m.userValue;!M||M.length<=T||(M=M.slice(0,T),L.value=m.userValue=M,t.setValue(e,{value:M}),(j=this.linkService.eventBus)==null||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,willCommit:!0,commitKey:1,selStart:L.selectionStart,selEnd:L.selectionEnd}}))}};this._dispatchEventFromSandbox(N,y)}),i.addEventListener("keydown",y=>{var T;m.commitKey=1;let N=-1;if(y.key==="Escape"?N=0:y.key==="Enter"&&!this.data.multiLine?N=2:y.key==="Tab"&&(m.commitKey=3),N===-1)return;const{value:E}=y.target;m.lastCommittedValue!==E&&(m.lastCommittedValue=E,m.userValue=E,(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:N,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const w=A;A=null,i.addEventListener("blur",y=>{var E,T;if(!m.focused||!y.relatedTarget)return;(E=this.data.actions)!=null&&E.Blur||(m.focused=!1);const{value:N}=y.target;m.userValue=N,m.lastCommittedValue!==N&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:N,willCommit:!0,commitKey:m.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}})),w(y)}),(r=this.data.actions)!=null&&r.Keystroke&&i.addEventListener("beforeinput",y=>{var K;m.lastCommittedValue=null;const{data:N,target:E}=y,{value:T,selectionStart:L,selectionEnd:M}=E;let j=L,$=M;switch(y.inputType){case"deleteWordBackward":{const at=T.substring(0,L).match(/\w*[^\w]*$/);at&&(j-=at[0].length);break}case"deleteWordForward":{const at=T.substring(L).match(/^[^\w]*\w*/);at&&($+=at[0].length);break}case"deleteContentBackward":L===M&&(j-=1);break;case"deleteContentForward":L===M&&($+=1);break}y.preventDefault(),(K=this.linkService.eventBus)==null||K.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,change:N||"",willCommit:!1,selStart:j,selEnd:$}})}),this._setEventListeners(i,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(A&&i.addEventListener("blur",A),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/h;i.classList.add("comb"),i.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class sC extends Qd{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class aC extends Qd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(i,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Kd.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,a&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=f2,r.addEventListener("change",o=>{const{name:u,checked:h}=o.target;for(const p of this._getElementsByName(u,i)){const m=h&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}t.setValue(i,{value:h})}),r.addEventListener("resetform",o=>{const u=e.defaultFieldValue||"Off";o.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",o=>{const u={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(i,{value:h.target.checked})}};this._dispatchEventFromSandbox(u,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class nx extends Qd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(i,{value:a})),a)for(const o of this._getElementsByName(e.fieldName,i))t.setValue(o.id,{value:!1});const r=document.createElement("input");if(Kd.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,a&&r.setAttribute("checked",!0),r.tabIndex=f2,r.addEventListener("change",o=>{const{name:u,checked:h}=o.target;for(const p of this._getElementsByName(u,i))t.setValue(p.id,{value:!1});t.setValue(i,{value:h})}),r.addEventListener("resetform",o=>{const u=e.defaultFieldValue;o.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;r.addEventListener("updatefromsandbox",u=>{const h={value:p=>{const m=o===p.detail.value;for(const A of this._getElementsByName(p.target.name)){const w=m&&A.id===i;A.domElement&&(A.domElement.checked=w),t.setValue(A.id,{value:w})}}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class rC extends tx{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class oC extends Qd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");Kd.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=f2;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",m=>{const A=this.data.defaultFieldValue;for(const w of a.options)w.selected=w.value===A});for(const m of this.data.options){const A=document.createElement("option");A.textContent=m.displayValue,A.value=m.exportValue,i.value.includes(m.exportValue)&&(A.setAttribute("selected",!0),r=!1),a.append(A)}let o=null;if(r){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),a.prepend(m),o=()=>{m.remove(),a.removeEventListener("input",o),o=null},a.addEventListener("input",o)}const u=m=>{const A=m?"value":"textContent",{options:w,multiple:y}=a;return y?Array.prototype.filter.call(w,N=>N.selected).map(N=>N[A]):w.selectedIndex===-1?null:w[w.selectedIndex][A]};let h=u(!1);const p=m=>{const A=m.target.options;return Array.prototype.map.call(A,w=>({displayValue:w.textContent,exportValue:w.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",m=>{const A={value(w){o==null||o();const y=w.detail.value,N=new Set(Array.isArray(y)?y:[y]);for(const E of a.options)E.selected=N.has(E.value);t.setValue(e,{value:u(!0)}),h=u(!1)},multipleSelection(w){a.multiple=!0},remove(w){const y=a.options,N=w.detail.remove;y[N].selected=!1,a.remove(N),y.length>0&&Array.prototype.findIndex.call(y,T=>T.selected)===-1&&(y[0].selected=!0),t.setValue(e,{value:u(!0),items:p(w)}),h=u(!1)},clear(w){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),h=u(!1)},insert(w){const{index:y,displayValue:N,exportValue:E}=w.detail.insert,T=a.children[y],L=document.createElement("option");L.textContent=N,L.value=E,T?T.before(L):a.append(L),t.setValue(e,{value:u(!0),items:p(w)}),h=u(!1)},items(w){const{items:y}=w.detail;for(;a.length!==0;)a.remove(0);for(const N of y){const{displayValue:E,exportValue:T}=N,L=document.createElement("option");L.textContent=E,L.value=T,a.append(L)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:u(!0),items:p(w)}),h=u(!1)},indices(w){const y=new Set(w.detail.indices);for(const N of w.target.options)N.selected=y.has(N.index);t.setValue(e,{value:u(!0)}),h=u(!1)},editable(w){w.target.disabled=!w.detail.editable}};this._dispatchEventFromSandbox(A,m)}),a.addEventListener("input",m=>{var y;const A=u(!0),w=u(!1);t.setValue(e,{value:A}),m.preventDefault(),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:w,changeEx:A,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):a.addEventListener("input",function(m){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class iA extends Fn{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:Fn._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new lC({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${ZA}${i}`).join(",")),this.container}}var Ug,Tv,Rv,Hg,Gg,wn,Yc,Vg,Nm,Lm,Yg,Xc,Co,Wc,Cm,Kc,Tm,yd,Ad,Ii,F5,nA,sx,ax,rx,ox,B5,j5,sA;class lC{constructor({container:t,color:e,elements:i,titleObj:a,modificationDate:r,contentsObj:o,richText:u,parent:h,rect:p,parentRect:m,open:A}){I(this,Ii);I(this,Ug,F(this,Ii,rx).bind(this));I(this,Tv,F(this,Ii,sA).bind(this));I(this,Rv,F(this,Ii,j5).bind(this));I(this,Hg,F(this,Ii,B5).bind(this));I(this,Gg,null);I(this,wn,null);I(this,Yc,null);I(this,Vg,null);I(this,Nm,null);I(this,Lm,null);I(this,Yg,null);I(this,Xc,!1);I(this,Co,null);I(this,Wc,null);I(this,Cm,null);I(this,Kc,null);I(this,Tm,null);I(this,yd,null);I(this,Ad,!1);var w;R(this,wn,t),R(this,Tm,a),R(this,Yc,o),R(this,Kc,u),R(this,Lm,h),R(this,Gg,e),R(this,Cm,p),R(this,Yg,m),R(this,Nm,i),R(this,Vg,ew.toDateObject(r)),this.trigger=i.flatMap(y=>y.getElementsToTriggerPopup());for(const y of this.trigger)y.addEventListener("click",d(this,Hg)),y.addEventListener("mouseenter",d(this,Rv)),y.addEventListener("mouseleave",d(this,Tv)),y.classList.add("popupTriggerArea");for(const y of i)(w=y.container)==null||w.addEventListener("keydown",d(this,Ug));d(this,wn).hidden=!0,A&&F(this,Ii,B5).call(this)}render(){if(d(this,Co))return;const t=R(this,Co,document.createElement("div"));if(t.className="popup",d(this,Gg)){const r=t.style.outlineColor=de.makeHexColor(...d(this,Gg));t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=d(this,Tm),t.append(e),d(this,Vg)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,Vg).valueOf()})),e.append(r)}const a=d(this,Ii,F5);if(a)J4.render({xfaHtml:a,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(d(this,Yc));t.append(r)}d(this,wn).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const a=t.split(/(?:\r\n?|\n)/);for(let r=0,o=a.length;r<o;++r){const u=a[r];i.append(document.createTextNode(u)),r<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:e}){var i;d(this,yd)||R(this,yd,{contentsObj:d(this,Yc),richText:d(this,Kc)}),t&&R(this,Wc,null),e&&(R(this,Kc,F(this,Ii,ax).call(this,e)),R(this,Yc,null)),(i=d(this,Co))==null||i.remove(),R(this,Co,null)}resetEdited(){var t;d(this,yd)&&({contentsObj:pa(this,Yc)._,richText:pa(this,Kc)._}=d(this,yd),R(this,yd,null),(t=d(this,Co))==null||t.remove(),R(this,Co,null),R(this,Wc,null))}forceHide(){R(this,Ad,this.isVisible),d(this,Ad)&&(d(this,wn).hidden=!0)}maybeShow(){d(this,Ad)&&(d(this,Co)||F(this,Ii,j5).call(this),R(this,Ad,!1),d(this,wn).hidden=!1)}get isVisible(){return d(this,wn).hidden===!1}}Ug=new WeakMap,Tv=new WeakMap,Rv=new WeakMap,Hg=new WeakMap,Gg=new WeakMap,wn=new WeakMap,Yc=new WeakMap,Vg=new WeakMap,Nm=new WeakMap,Lm=new WeakMap,Yg=new WeakMap,Xc=new WeakMap,Co=new WeakMap,Wc=new WeakMap,Cm=new WeakMap,Kc=new WeakMap,Tm=new WeakMap,yd=new WeakMap,Ad=new WeakMap,Ii=new WeakSet,F5=function(){const t=d(this,Kc),e=d(this,Yc);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&d(this,Kc).html||null},nA=function(){var t,e,i;return((i=(e=(t=d(this,Ii,F5))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},sx=function(){var t,e,i;return((i=(e=(t=d(this,Ii,F5))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},ax=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:d(this,Ii,sx),fontSize:d(this,Ii,nA)?`calc(${d(this,Ii,nA)}px * var(--total-scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:a});return i},rx=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&d(this,Xc))&&F(this,Ii,B5).call(this)},ox=function(){if(d(this,Wc)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:a,pageY:r}}}=d(this,Lm);let o=!!d(this,Yg),u=o?d(this,Yg):d(this,Cm);for(const N of d(this,Nm))if(!u||de.intersect(N.data.rect,u)!==null){u=N.data.rect,o=!0;break}const h=de.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),m=o?u[2]-u[0]+5:0,A=h[0]+m,w=h[1];R(this,Wc,[100*(A-a)/e,100*(w-r)/i]);const{style:y}=d(this,wn);y.left=`${d(this,Wc)[0]}%`,y.top=`${d(this,Wc)[1]}%`},B5=function(){R(this,Xc,!d(this,Xc)),d(this,Xc)?(F(this,Ii,j5).call(this),d(this,wn).addEventListener("click",d(this,Hg)),d(this,wn).addEventListener("keydown",d(this,Ug))):(F(this,Ii,sA).call(this),d(this,wn).removeEventListener("click",d(this,Hg)),d(this,wn).removeEventListener("keydown",d(this,Ug)))},j5=function(){d(this,Co)||this.render(),this.isVisible?d(this,Xc)&&d(this,wn).classList.add("focused"):(F(this,Ii,ox).call(this),d(this,wn).hidden=!1,d(this,wn).style.zIndex=parseInt(d(this,wn).style.zIndex)+1e3)},sA=function(){d(this,wn).classList.remove("focused"),!(d(this,Xc)||!this.isVisible)&&(d(this,wn).hidden=!0,d(this,wn).style.zIndex=parseInt(d(this,wn).style.zIndex)-1e3)};class lx extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Fe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Rm;class cC extends Fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});I(this,Rm,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:i,height:a}=this,r=this.svgFactory.create(i,a,!0),o=R(this,Rm,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Rm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rm=new WeakMap;var Mm;class uC extends Fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});I(this,Mm,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:i,height:a}=this,r=this.svgFactory.create(i,a,!0),o=e.borderStyle.width,u=R(this,Mm,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",o/2),u.setAttribute("y",o/2),u.setAttribute("width",i-o),u.setAttribute("height",a-o),u.setAttribute("stroke-width",o||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),r.append(u),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Mm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mm=new WeakMap;var Om;class hC extends Fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});I(this,Om,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:i,height:a}=this,r=this.svgFactory.create(i,a,!0),o=e.borderStyle.width,u=R(this,Om,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",i/2),u.setAttribute("cy",a/2),u.setAttribute("rx",i/2-o/2),u.setAttribute("ry",a/2-o/2),u.setAttribute("stroke-width",o||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),r.append(u),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Om)}addHighlightArea(){this.container.classList.add("highlightArea")}}Om=new WeakMap;var Dm;class cx extends Fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});I(this,Dm,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:a,popupRef:r},width:o,height:u}=this;if(!i)return this.container;const h=this.svgFactory.create(o,u,!0);let p=[];for(let A=0,w=i.length;A<w;A+=2){const y=i[A]-e[0],N=e[3]-i[A+1];p.push(`${y},${N}`)}p=p.join(" ");const m=R(this,Dm,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",p),m.setAttribute("stroke-width",a.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),h.append(m),this.container.append(h),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Dm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dm=new WeakMap;class fC extends cx{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class dC extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var km,wd,Pm,aA;class ow extends Fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});I(this,Pm);I(this,km,null);I(this,wd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Fe.HIGHLIGHT:Fe.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:i,inkLists:a,borderStyle:r,popupRef:o}}=this,{transform:u,width:h,height:p}=F(this,Pm,aA).call(this,i,e),m=this.svgFactory.create(h,p,!0),A=R(this,km,this.svgFactory.createElement("svg:g"));m.append(A),A.setAttribute("stroke-width",r.width||1),A.setAttribute("stroke-linecap","round"),A.setAttribute("stroke-linejoin","round"),A.setAttribute("stroke-miterlimit",10),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),A.setAttribute("transform",u);for(let w=0,y=a.length;w<y;w++){const N=this.svgFactory.createElement(this.svgElementName);d(this,wd).push(N),N.setAttribute("points",a[w].join(",")),A.append(N)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(m),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:i,points:a,rect:r}=e,o=d(this,km);if(i>=0&&o.setAttribute("stroke-width",i||1),a)for(let u=0,h=d(this,wd).length;u<h;u++)d(this,wd)[u].setAttribute("points",a[u].join(","));if(r){const{transform:u,width:h,height:p}=F(this,Pm,aA).call(this,this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${h} ${p}`),o.setAttribute("transform",u)}}getElementsToTriggerPopup(){return d(this,wd)}addHighlightArea(){this.container.classList.add("highlightArea")}}km=new WeakMap,wd=new WeakMap,Pm=new WeakSet,aA=function(e,i){switch(e){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class ux extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Fe.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class pC extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class gC extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class mC extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class hx extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Fe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Im,Fm,rA;class vC extends Fn{constructor(e){var a;super(e,{isRenderable:!0});I(this,Fm);I(this,Im,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(a=this.linkService.eventBus)==null||a.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let a;i.hasAppearance||i.fillAlpha===0?a=document.createElement("div"):(a=document.createElement("img"),a.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(a.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),a.addEventListener("dblclick",F(this,Fm,rA).bind(this)),R(this,Im,a);const{isMac:r}=Ds.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&F(this,Fm,rA).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():a.classList.add("popupTriggerArea"),e.append(a),e}getElementsToTriggerPopup(){return d(this,Im)}addHighlightArea(){this.container.classList.add("highlightArea")}}Im=new WeakMap,Fm=new WeakSet,rA=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Bm,Sd,Eh,jm,Wh,lA,cA;const vw=class vw{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:a,page:r,viewport:o,structTreeLayer:u}){I(this,Wh);I(this,Bm,null);I(this,Sd,null);I(this,Eh,new Map);I(this,jm,null);this.div=t,R(this,Bm,e),R(this,Sd,i),R(this,jm,u||null),this.page=r,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return d(this,Eh).size>0}async render(t){var o;const{annotations:e}=t,i=this.div;Xd(i,this.viewport);const a=new Map,r={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new uv,annotationStorage:t.annotationStorage||new sw,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const u of e){if(u.noHTML)continue;const h=u.annotationType===Vn.POPUP;if(h){const A=a.get(u.id);if(!A)continue;r.elements=A}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;r.data=u;const p=d_.create(r);if(!p.isRenderable)continue;if(!h&&u.popupRef){const A=a.get(u.popupRef);A?A.push(p):a.set(u.popupRef,[p])}const m=p.render();u.hidden&&(m.style.visibility="hidden"),await F(this,Wh,lA).call(this,m,u.id),p._isEditable&&(d(this,Eh).set(p.data.id,p),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(p))}F(this,Wh,cA).call(this)}async addLinkAnnotations(t,e){const i={data:null,layer:this.div,linkService:e,svgFactory:new uv,parent:this};for(const a of t){a.borderStyle||(a.borderStyle=vw._defaultBorderStyle),i.data=a;const r=d_.create(i);if(!r.isRenderable)continue;const o=r.render();await F(this,Wh,lA).call(this,o,a.id)}}update({viewport:t}){const e=this.div;this.viewport=t,Xd(e,{rotation:t.rotation}),F(this,Wh,cA).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(d(this,Eh).values())}getEditableAnnotation(t){return d(this,Eh).get(t)}static get _defaultBorderStyle(){return ni(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Up.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Bm=new WeakMap,Sd=new WeakMap,Eh=new WeakMap,jm=new WeakMap,Wh=new WeakSet,lA=async function(t,e){var o,u;const i=t.firstChild||t,a=i.id=`${ZA}${e}`,r=await((o=d(this,jm))==null?void 0:o.getAriaAttributes(a));if(r)for(const[h,p]of r)i.setAttribute(h,p);this.div.append(t),(u=d(this,Bm))==null||u.moveElementInDOM(this.div,t,i,!1)},cA=function(){var e;if(!d(this,Sd))return;const t=this.div;for(const[i,a]of d(this,Sd)){const r=t.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;a.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(a):o.classList.contains("annotationContent")?o.after(a):o.before(a):r.append(a);const u=d(this,Eh).get(i);u&&(u._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(i,r.id,a),u._hasNoCanvas=!1):u.canvas=a)}d(this,Sd).clear()};let oA=vw;const m5=/\r\n?|\n/g;var To,or,zm,_d,lr,Wn,fx,dx,px,z5,ru,q5,U5,gx,hA,mx;const Hi=class Hi extends Gi{constructor(e){super({...e,name:"freeTextEditor"});I(this,Wn);I(this,To);I(this,or,"");I(this,zm,`${this.id}-editor`);I(this,_d,null);I(this,lr);R(this,To,e.color||Hi._defaultColor||Gi._defaultLineColor),R(this,lr,e.fontSize||Hi._defaultFontSize)}static get _keyboardManager(){const e=Hi.prototype,i=o=>o.isEmpty(),a=Wd.TRANSLATE_SMALL,r=Wd.TRANSLATE_BIG;return ni(this,"_keyboardManager",new u2([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[a,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,a],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:i}]]))}static initialize(e,i){Gi.initialize(e,i);const a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case ri.FREETEXT_SIZE:Hi._defaultFontSize=i;break;case ri.FREETEXT_COLOR:Hi._defaultColor=i;break}}updateParams(e,i){switch(e){case ri.FREETEXT_SIZE:F(this,Wn,fx).call(this,i);break;case ri.FREETEXT_COLOR:F(this,Wn,dx).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ri.FREETEXT_SIZE,Hi._defaultFontSize],[ri.FREETEXT_COLOR,Hi._defaultColor||Gi._defaultLineColor]]}get propertiesToUpdate(){return[[ri.FREETEXT_SIZE,d(this,lr)],[ri.FREETEXT_COLOR,d(this,To)]]}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-Hi._internalPadding*e,-(Hi._internalPadding+d(this,lr))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Fe.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),R(this,_d,new AbortController);const e=this._uiManager.combinedSignal(d(this,_d));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,zm)),this._isDraggable=!0,(e=d(this,_d))==null||e.abort(),R(this,_d,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var i;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=d(this,or),i=R(this,or,F(this,Wn,px).call(this).trimEnd());if(e===i)return;const a=r=>{if(R(this,or,r),!r){this.remove();return}F(this,Wn,U5).call(this),this._uiManager.rebuild(this),F(this,Wn,z5).call(this)};this.addCommands({cmd:()=>{a(i)},undo:()=>{a(e)},mustExec:!1}),F(this,Wn,z5).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Hi._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,i;(this._isCopy||this.annotationElementId)&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,zm)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:a}=this.editorDiv;if(a.fontSize=`calc(${d(this,lr)}px * var(--total-scale-factor))`,a.color=d(this,To),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),nw(this,this.div,["dblclick","keydown"]),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[h,p]=this.getInitialTranslation();[h,p]=this.pageTranslationToScreen(h,p);const[m,A]=this.pageDimensions,[w,y]=this.pageTranslation;let N,E;switch(this.rotation){case 0:N=e+(u[0]-w)/m,E=i+this.height-(u[1]-y)/A;break;case 90:N=e+(u[0]-w)/m,E=i-(u[1]-y)/A,[h,p]=[p,-h];break;case 180:N=e-this.width+(u[0]-w)/m,E=i-(u[1]-y)/A,[h,p]=[-h,-p];break;case 270:N=e+(u[0]-w-this.height*A)/m,E=i+(u[1]-y-this.width*m)/A,[h,p]=[-p,h];break}this.setAt(N*r,E*o,h,p)}else this._moveAfterPaste(e,i);F(this,Wn,U5).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var N,E,T;const i=e.clipboardData||window.clipboardData,{types:a}=i;if(a.length===1&&a[0]==="text/plain")return;e.preventDefault();const r=F(N=Hi,ru,hA).call(N,i.getData("text")||"").replaceAll(m5,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const u=o.getRangeAt(0);if(!r.includes(`
`)){u.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:h,startOffset:p}=u,m=[],A=[];if(h.nodeType===Node.TEXT_NODE){const L=h.parentElement;if(A.push(h.nodeValue.slice(p).replaceAll(m5,"")),L!==this.editorDiv){let M=m;for(const j of this.editorDiv.childNodes){if(j===L){M=A;continue}M.push(F(E=Hi,ru,q5).call(E,j))}}m.push(h.nodeValue.slice(0,p).replaceAll(m5,""))}else if(h===this.editorDiv){let L=m,M=0;for(const j of this.editorDiv.childNodes)M++===p&&(L=A),L.push(F(T=Hi,ru,q5).call(T,j))}R(this,or,`${m.join(`
`)}${r}${A.join(`
`)}`),F(this,Wn,U5).call(this);const w=new Range;let y=Math.sumPrecise(m.map(L=>L.length));for(const{firstChild:L}of this.editorDiv.childNodes)if(L.nodeType===Node.TEXT_NODE){const M=L.nodeValue.length;if(y<=M){w.setStart(L,y),w.setEnd(L,y);break}y-=M}o.removeAllRanges(),o.addRange(w)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,a){var u;let r=null;if(e instanceof lx){const{data:{defaultAppearanceData:{fontSize:h,fontColor:p},rect:m,rotation:A,id:w,popupRef:y},textContent:N,textPosition:E,parent:{page:{pageNumber:T}}}=e;if(!N||N.length===0)return null;r=e={annotationType:Fe.FREETEXT,color:Array.from(p),fontSize:h,value:N.join(`
`),position:E,pageIndex:T-1,rect:m.slice(0),rotation:A,id:w,deleted:!1,popupRef:y}}const o=await super.deserialize(e,i,a);return R(o,lr,e.fontSize),R(o,To,de.makeHexColor(...e.color)),R(o,or,F(u=Hi,ru,hA).call(u,e.value)),o.annotationElementId=e.id||null,o._initialData=r,o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Hi._internalPadding*this.parentScale,a=this.getRect(i,i),r=Gi._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:d(this,To)),o={annotationType:Fe.FREETEXT,color:r,fontSize:d(this,lr),value:F(this,Wn,gx).call(this),pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(o.isCopy=!0,o):this.annotationElementId&&!F(this,Wn,mx).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(this.deleted)return i;const{style:a}=i;a.fontSize=`calc(${d(this,lr)}px * var(--total-scale-factor))`,a.color=d(this,To),i.replaceChildren();for(const o of d(this,or).split(`
`)){const u=document.createElement("div");u.append(o?document.createTextNode(o):document.createElement("br")),i.append(u)}const r=Hi._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:d(this,or)}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};To=new WeakMap,or=new WeakMap,zm=new WeakMap,_d=new WeakMap,lr=new WeakMap,Wn=new WeakSet,fx=function(e){const i=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-d(this,lr))*this.parentScale),R(this,lr,r),F(this,Wn,z5).call(this)},a=d(this,lr);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ri.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},dx=function(e){const i=r=>{R(this,To,this.editorDiv.style.color=r)},a=d(this,To);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ri.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},px=function(){var a;const e=[];this.editorDiv.normalize();let i=null;for(const r of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(F(a=Hi,ru,q5).call(a,r)),i=r);return e.join(`
`)},z5=function(){const[e,i]=this.parentDimensions;let a;if(this.isAttachedToDOM)a=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,u=o.style.display,h=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),a=o.getBoundingClientRect(),o.remove(),o.style.display=u,o.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=a.width/e,this.height=a.height/i):(this.width=a.height/e,this.height=a.width/i),this.fixAndSetPosition()},ru=new WeakSet,q5=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(m5,"")},U5=function(){if(this.editorDiv.replaceChildren(),!!d(this,or))for(const e of d(this,or).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},gx=function(){return d(this,or).replaceAll(""," ")},hA=function(e){return e.replaceAll(" ","")},mx=function(e){const{value:i,fontSize:a,color:r,pageIndex:o}=this._initialData;return this._hasBeenMoved||e.value!==i||e.fontSize!==a||e.color.some((u,h)=>u!==r[h])||e.pageIndex!==o},I(Hi,ru),Wt(Hi,"_freeTextDefaultContent",""),Wt(Hi,"_internalPadding",0),Wt(Hi,"_defaultColor",null),Wt(Hi,"_defaultFontSize",10),Wt(Hi,"_type","freetext"),Wt(Hi,"_editorType",Fe.FREETEXT);let uA=Hi;class re{toSVGPath(){Pi("Abstract method `toSVGPath` must be implemented.")}get box(){Pi("Abstract getter `box` must be implemented.")}serialize(t,e){Pi("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,a,r,o){o||(o=new Float32Array(t.length));for(let u=0,h=t.length;u<h;u+=2)o[u]=e+t[u]*a,o[u+1]=i+t[u+1]*r;return o}static _rescaleAndSwap(t,e,i,a,r,o){o||(o=new Float32Array(t.length));for(let u=0,h=t.length;u<h;u+=2)o[u]=e+t[u+1]*a,o[u+1]=i+t[u]*r;return o}static _translate(t,e,i,a){a||(a=new Float32Array(t.length));for(let r=0,o=t.length;r<o;r+=2)a[r]=e+t[r],a[r+1]=i+t[r+1];return a}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,a,r){switch(r){case 90:return[1-e/i,t/a];case 180:return[1-t/i,1-e/a];case 270:return[e/i,1-t/a];default:return[t/i,e/a]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,a,r,o){return[(t+5*i)/6,(e+5*a)/6,(5*i+r)/6,(5*a+o)/6,(i+r)/2,(a+o)/2]}}Wt(re,"PRECISION",1e-4);var cr,Ro,Xg,Wg,Il,Qe,xd,Ed,qm,Um,Kg,$g,Nh,Hm,Mv,Ov,is,x0,vx,bx,yx,Ax,wx,Sx;const Tc=class Tc{constructor({x:t,y:e},i,a,r,o,u=0){I(this,is);I(this,cr);I(this,Ro,[]);I(this,Xg);I(this,Wg);I(this,Il,[]);I(this,Qe,new Float32Array(18));I(this,xd);I(this,Ed);I(this,qm);I(this,Um);I(this,Kg);I(this,$g);I(this,Nh,[]);R(this,cr,i),R(this,$g,r*a),R(this,Wg,o),d(this,Qe).set([NaN,NaN,NaN,NaN,t,e],6),R(this,Xg,u),R(this,Um,d(Tc,Hm)*a),R(this,qm,d(Tc,Ov)*a),R(this,Kg,a),d(this,Nh).push(t,e)}isEmpty(){return isNaN(d(this,Qe)[8])}add({x:t,y:e}){var ut;R(this,xd,t),R(this,Ed,e);const[i,a,r,o]=d(this,cr);let[u,h,p,m]=d(this,Qe).subarray(8,12);const A=t-p,w=e-m,y=Math.hypot(A,w);if(y<d(this,qm))return!1;const N=y-d(this,Um),E=N/y,T=E*A,L=E*w;let M=u,j=h;u=p,h=m,p+=T,m+=L,(ut=d(this,Nh))==null||ut.push(t,e);const $=-L/N,K=T/N,at=$*d(this,$g),tt=K*d(this,$g);return d(this,Qe).set(d(this,Qe).subarray(2,8),0),d(this,Qe).set([p+at,m+tt],4),d(this,Qe).set(d(this,Qe).subarray(14,18),12),d(this,Qe).set([p-at,m-tt],16),isNaN(d(this,Qe)[6])?(d(this,Il).length===0&&(d(this,Qe).set([u+at,h+tt],2),d(this,Il).push(NaN,NaN,NaN,NaN,(u+at-i)/r,(h+tt-a)/o),d(this,Qe).set([u-at,h-tt],14),d(this,Ro).push(NaN,NaN,NaN,NaN,(u-at-i)/r,(h-tt-a)/o)),d(this,Qe).set([M,j,u,h,p,m],6),!this.isEmpty()):(d(this,Qe).set([M,j,u,h,p,m],6),Math.abs(Math.atan2(j-h,M-u)-Math.atan2(L,T))<Math.PI/2?([u,h,p,m]=d(this,Qe).subarray(2,6),d(this,Il).push(NaN,NaN,NaN,NaN,((u+p)/2-i)/r,((h+m)/2-a)/o),[u,h,M,j]=d(this,Qe).subarray(14,18),d(this,Ro).push(NaN,NaN,NaN,NaN,((M+u)/2-i)/r,((j+h)/2-a)/o),!0):([M,j,u,h,p,m]=d(this,Qe).subarray(0,6),d(this,Il).push(((M+5*u)/6-i)/r,((j+5*h)/6-a)/o,((5*u+p)/6-i)/r,((5*h+m)/6-a)/o,((u+p)/2-i)/r,((h+m)/2-a)/o),[p,m,u,h,M,j]=d(this,Qe).subarray(12,18),d(this,Ro).push(((M+5*u)/6-i)/r,((j+5*h)/6-a)/o,((5*u+p)/6-i)/r,((5*h+m)/6-a)/o,((u+p)/2-i)/r,((h+m)/2-a)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=d(this,Il),e=d(this,Ro);if(isNaN(d(this,Qe)[6])&&!this.isEmpty())return F(this,is,vx).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?i.push(`L${t[a+4]} ${t[a+5]}`):i.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);F(this,is,yx).call(this,i);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?i.push(`L${e[a+4]} ${e[a+5]}`):i.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return F(this,is,bx).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,a,r,o){return new _x(t,e,i,a,r,o)}getOutlines(){var A;const t=d(this,Il),e=d(this,Ro),i=d(this,Qe),[a,r,o,u]=d(this,cr),h=new Float32Array((((A=d(this,Nh))==null?void 0:A.length)??0)+2);for(let w=0,y=h.length-2;w<y;w+=2)h[w]=(d(this,Nh)[w]-a)/o,h[w+1]=(d(this,Nh)[w+1]-r)/u;if(h[h.length-2]=(d(this,xd)-a)/o,h[h.length-1]=(d(this,Ed)-r)/u,isNaN(i[6])&&!this.isEmpty())return F(this,is,Ax).call(this,h);const p=new Float32Array(d(this,Il).length+24+d(this,Ro).length);let m=t.length;for(let w=0;w<m;w+=2){if(isNaN(t[w])){p[w]=p[w+1]=NaN;continue}p[w]=t[w],p[w+1]=t[w+1]}m=F(this,is,Sx).call(this,p,m);for(let w=e.length-6;w>=6;w-=6)for(let y=0;y<6;y+=2){if(isNaN(e[w+y])){p[m]=p[m+1]=NaN,m+=2;continue}p[m]=e[w+y],p[m+1]=e[w+y+1],m+=2}return F(this,is,wx).call(this,p,m),this.newFreeDrawOutline(p,h,d(this,cr),d(this,Kg),d(this,Xg),d(this,Wg))}};cr=new WeakMap,Ro=new WeakMap,Xg=new WeakMap,Wg=new WeakMap,Il=new WeakMap,Qe=new WeakMap,xd=new WeakMap,Ed=new WeakMap,qm=new WeakMap,Um=new WeakMap,Kg=new WeakMap,$g=new WeakMap,Nh=new WeakMap,Hm=new WeakMap,Mv=new WeakMap,Ov=new WeakMap,is=new WeakSet,x0=function(){const t=d(this,Qe).subarray(4,6),e=d(this,Qe).subarray(16,18),[i,a,r,o]=d(this,cr);return[(d(this,xd)+(t[0]-e[0])/2-i)/r,(d(this,Ed)+(t[1]-e[1])/2-a)/o,(d(this,xd)+(e[0]-t[0])/2-i)/r,(d(this,Ed)+(e[1]-t[1])/2-a)/o]},vx=function(){const[t,e,i,a]=d(this,cr),[r,o,u,h]=F(this,is,x0).call(this);return`M${(d(this,Qe)[2]-t)/i} ${(d(this,Qe)[3]-e)/a} L${(d(this,Qe)[4]-t)/i} ${(d(this,Qe)[5]-e)/a} L${r} ${o} L${u} ${h} L${(d(this,Qe)[16]-t)/i} ${(d(this,Qe)[17]-e)/a} L${(d(this,Qe)[14]-t)/i} ${(d(this,Qe)[15]-e)/a} Z`},bx=function(t){const e=d(this,Ro);t.push(`L${e[4]} ${e[5]} Z`)},yx=function(t){const[e,i,a,r]=d(this,cr),o=d(this,Qe).subarray(4,6),u=d(this,Qe).subarray(16,18),[h,p,m,A]=F(this,is,x0).call(this);t.push(`L${(o[0]-e)/a} ${(o[1]-i)/r} L${h} ${p} L${m} ${A} L${(u[0]-e)/a} ${(u[1]-i)/r}`)},Ax=function(t){const e=d(this,Qe),[i,a,r,o]=d(this,cr),[u,h,p,m]=F(this,is,x0).call(this),A=new Float32Array(36);return A.set([NaN,NaN,NaN,NaN,(e[2]-i)/r,(e[3]-a)/o,NaN,NaN,NaN,NaN,(e[4]-i)/r,(e[5]-a)/o,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(e[16]-i)/r,(e[17]-a)/o,NaN,NaN,NaN,NaN,(e[14]-i)/r,(e[15]-a)/o],0),this.newFreeDrawOutline(A,t,d(this,cr),d(this,Kg),d(this,Xg),d(this,Wg))},wx=function(t,e){const i=d(this,Ro);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},Sx=function(t,e){const i=d(this,Qe).subarray(4,6),a=d(this,Qe).subarray(16,18),[r,o,u,h]=d(this,cr),[p,m,A,w]=F(this,is,x0).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-r)/u,(i[1]-o)/h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,A,w,NaN,NaN,NaN,NaN,(a[0]-r)/u,(a[1]-o)/h],e),e+=24},I(Tc,Hm,8),I(Tc,Mv,2),I(Tc,Ov,d(Tc,Hm)+d(Tc,Mv));let hv=Tc;var Qg,Nd,$c,Gm,ur,Vm,On,Dv,xx;class _x extends re{constructor(e,i,a,r,o,u){super();I(this,Dv);I(this,Qg);I(this,Nd,new Float32Array(4));I(this,$c);I(this,Gm);I(this,ur);I(this,Vm);I(this,On);R(this,On,e),R(this,ur,i),R(this,Qg,a),R(this,Vm,r),R(this,$c,o),R(this,Gm,u),this.lastPoint=[NaN,NaN],F(this,Dv,xx).call(this,u);const[h,p,m,A]=d(this,Nd);for(let w=0,y=e.length;w<y;w+=2)e[w]=(e[w]-h)/m,e[w+1]=(e[w+1]-p)/A;for(let w=0,y=i.length;w<y;w+=2)i[w]=(i[w]-h)/m,i[w+1]=(i[w+1]-p)/A}toSVGPath(){const e=[`M${d(this,On)[4]} ${d(this,On)[5]}`];for(let i=6,a=d(this,On).length;i<a;i+=6){if(isNaN(d(this,On)[i])){e.push(`L${d(this,On)[i+4]} ${d(this,On)[i+5]}`);continue}e.push(`C${d(this,On)[i]} ${d(this,On)[i+1]} ${d(this,On)[i+2]} ${d(this,On)[i+3]} ${d(this,On)[i+4]} ${d(this,On)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,a,r],o){const u=a-e,h=r-i;let p,m;switch(o){case 0:p=re._rescale(d(this,On),e,r,u,-h),m=re._rescale(d(this,ur),e,r,u,-h);break;case 90:p=re._rescaleAndSwap(d(this,On),e,i,u,h),m=re._rescaleAndSwap(d(this,ur),e,i,u,h);break;case 180:p=re._rescale(d(this,On),a,i,-u,h),m=re._rescale(d(this,ur),a,i,-u,h);break;case 270:p=re._rescaleAndSwap(d(this,On),a,r,-u,-h),m=re._rescaleAndSwap(d(this,ur),a,r,-u,-h);break}return{outline:Array.from(p),points:[Array.from(m)]}}get box(){return d(this,Nd)}newOutliner(e,i,a,r,o,u=0){return new hv(e,i,a,r,o,u)}getNewOutline(e,i){const[a,r,o,u]=d(this,Nd),[h,p,m,A]=d(this,Qg),w=o*m,y=u*A,N=a*m+h,E=r*A+p,T=this.newOutliner({x:d(this,ur)[0]*w+N,y:d(this,ur)[1]*y+E},d(this,Qg),d(this,Vm),e,d(this,Gm),i??d(this,$c));for(let L=2;L<d(this,ur).length;L+=2)T.add({x:d(this,ur)[L]*w+N,y:d(this,ur)[L+1]*y+E});return T.getOutlines()}}Qg=new WeakMap,Nd=new WeakMap,$c=new WeakMap,Gm=new WeakMap,ur=new WeakMap,Vm=new WeakMap,On=new WeakMap,Dv=new WeakSet,xx=function(e){const i=d(this,On);let a=i[4],r=i[5];const o=[a,r,a,r];let u=a,h=r;const p=e?Math.max:Math.min;for(let A=6,w=i.length;A<w;A+=6){const y=i[A+4],N=i[A+5];if(isNaN(i[A]))de.pointBoundingBox(y,N,o),h<N?(u=y,h=N):h===N&&(u=p(u,y));else{const E=[1/0,1/0,-1/0,-1/0];de.bezierBoundingBox(a,r,...i.slice(A,A+6),E),de.rectBoundingBox(...E,o),h<E[3]?(u=E[2],h=E[3]):h===E[3]&&(u=p(u,E[2]))}a=y,r=N}const m=d(this,Nd);m[0]=o[0]-d(this,$c),m[1]=o[1]-d(this,$c),m[2]=o[2]-o[0]+2*d(this,$c),m[3]=o[3]-o[1]+2*d(this,$c),this.lastPoint=[u,h]};var Ym,Xm,Lh,Mo,Sa,Ex,H5,Nx,Lx,dA;class fA{constructor(t,e=0,i=0,a=!0){I(this,Sa);I(this,Ym);I(this,Xm);I(this,Lh,[]);I(this,Mo,[]);const r=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:y,y:N,width:E,height:T}of t){const L=Math.floor((y-e)/o)*o,M=Math.ceil((y+E+e)/o)*o,j=Math.floor((N-e)/o)*o,$=Math.ceil((N+T+e)/o)*o,K=[L,j,$,!0],at=[M,j,$,!1];d(this,Lh).push(K,at),de.rectBoundingBox(L,j,M,$,r)}const u=r[2]-r[0]+2*i,h=r[3]-r[1]+2*i,p=r[0]-i,m=r[1]-i,A=d(this,Lh).at(a?-1:-2),w=[A[0],A[2]];for(const y of d(this,Lh)){const[N,E,T]=y;y[0]=(N-p)/u,y[1]=(E-m)/h,y[2]=(T-m)/h}R(this,Ym,new Float32Array([p,m,u,h])),R(this,Xm,w)}getOutlines(){d(this,Lh).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of d(this,Lh))e[3]?(t.push(...F(this,Sa,dA).call(this,e)),F(this,Sa,Nx).call(this,e)):(F(this,Sa,Lx).call(this,e),t.push(...F(this,Sa,dA).call(this,e)));return F(this,Sa,Ex).call(this,t)}}Ym=new WeakMap,Xm=new WeakMap,Lh=new WeakMap,Mo=new WeakMap,Sa=new WeakSet,Ex=function(t){const e=[],i=new Set;for(const o of t){const[u,h,p]=o;e.push([u,h,o],[u,p,o])}e.sort((o,u)=>o[1]-u[1]||o[0]-u[0]);for(let o=0,u=e.length;o<u;o+=2){const h=e[o][2],p=e[o+1][2];h.push(p),p.push(h),i.add(h),i.add(p)}const a=[];let r;for(;i.size>0;){const o=i.values().next().value;let[u,h,p,m,A]=o;i.delete(o);let w=u,y=h;for(r=[u,p],a.push(r);;){let N;if(i.has(m))N=m;else if(i.has(A))N=A;else break;i.delete(N),[u,h,p,m,A]=N,w!==u&&(r.push(w,y,u,y===h?h:p),w=u),y=y===h?p:h}r.push(w,y)}return new bC(a,d(this,Ym),d(this,Xm))},H5=function(t){const e=d(this,Mo);let i=0,a=e.length-1;for(;i<=a;){const r=i+a>>1,o=e[r][0];if(o===t)return r;o<t?i=r+1:a=r-1}return a+1},Nx=function([,t,e]){const i=F(this,Sa,H5).call(this,t);d(this,Mo).splice(i,0,[t,e])},Lx=function([,t,e]){const i=F(this,Sa,H5).call(this,t);for(let a=i;a<d(this,Mo).length;a++){const[r,o]=d(this,Mo)[a];if(r!==t)break;if(r===t&&o===e){d(this,Mo).splice(a,1);return}}for(let a=i-1;a>=0;a--){const[r,o]=d(this,Mo)[a];if(r!==t)break;if(r===t&&o===e){d(this,Mo).splice(a,1);return}}},dA=function(t){const[e,i,a]=t,r=[[e,i,a]],o=F(this,Sa,H5).call(this,a);for(let u=0;u<o;u++){const[h,p]=d(this,Mo)[u];for(let m=0,A=r.length;m<A;m++){const[,w,y]=r[m];if(!(p<=w||y<=h)){if(w>=h){if(y>p)r[m][1]=p;else{if(A===1)return[];r.splice(m,1),m--,A--}continue}r[m][2]=h,y>p&&r.push([e,p,y])}}}return r};var Wm,Zg;class bC extends re{constructor(e,i,a){super();I(this,Wm);I(this,Zg);R(this,Zg,e),R(this,Wm,i),this.lastPoint=a}toSVGPath(){const e=[];for(const i of d(this,Zg)){let[a,r]=i;e.push(`M${a} ${r}`);for(let o=2;o<i.length;o+=2){const u=i[o],h=i[o+1];u===a?(e.push(`V${h}`),r=h):h===r&&(e.push(`H${u}`),a=u)}e.push("Z")}return e.join(" ")}serialize([e,i,a,r],o){const u=[],h=a-e,p=r-i;for(const m of d(this,Zg)){const A=new Array(m.length);for(let w=0;w<m.length;w+=2)A[w]=e+m[w]*h,A[w+1]=r-m[w+1]*p;u.push(A)}return u}get box(){return d(this,Wm)}get classNamesForOutlining(){return["highlightOutline"]}}Wm=new WeakMap,Zg=new WeakMap;class pA extends hv{newFreeDrawOutline(t,e,i,a,r,o){return new yC(t,e,i,a,r,o)}}class yC extends _x{newOutliner(t,e,i,a,r,o=0){return new pA(t,e,i,a,r,o)}}var Oo,Ld,Jg,es,Km,t1,$m,Qm,Ch,Do,e1,Zm,ki,gA,mA,vA,kf,Cx,eh;const ka=class ka{constructor({editor:t=null,uiManager:e=null}){I(this,ki);I(this,Oo,null);I(this,Ld,null);I(this,Jg);I(this,es,null);I(this,Km,!1);I(this,t1,!1);I(this,$m,null);I(this,Qm);I(this,Ch,null);I(this,Do,null);I(this,e1);var i;t?(R(this,t1,!1),R(this,e1,ri.HIGHLIGHT_COLOR),R(this,$m,t)):(R(this,t1,!0),R(this,e1,ri.HIGHLIGHT_DEFAULT_COLOR)),R(this,Do,(t==null?void 0:t._uiManager)||e),R(this,Qm,d(this,Do)._eventBus),R(this,Jg,(t==null?void 0:t.color)||((i=d(this,Do))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),d(ka,Zm)||R(ka,Zm,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ni(this,"_keyboardManager",new u2([[["Escape","mac+Escape"],ka.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ka.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ka.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ka.prototype._moveToPrevious],[["Home","mac+Home"],ka.prototype._moveToBeginning],[["End","mac+End"],ka.prototype._moveToEnd]]))}renderButton(){const t=R(this,Oo,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=d(this,Do)._signal;t.addEventListener("click",F(this,ki,kf).bind(this),{signal:e}),t.addEventListener("keydown",F(this,ki,vA).bind(this),{signal:e});const i=R(this,Ld,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=d(this,Jg),t.append(i),t}renderMainDropdown(){const t=R(this,es,F(this,ki,gA).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===d(this,Oo)){F(this,ki,kf).call(this,t);return}const e=t.target.getAttribute("data-color");e&&F(this,ki,mA).call(this,e,t)}_moveToNext(t){var e,i;if(!d(this,ki,eh)){F(this,ki,kf).call(this,t);return}if(t.target===d(this,Oo)){(e=d(this,es).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=d(this,es))==null?void 0:e.firstChild)||t.target===d(this,Oo)){d(this,ki,eh)&&this._hideDropdownFromKeyboard();return}d(this,ki,eh)||F(this,ki,kf).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!d(this,ki,eh)){F(this,ki,kf).call(this,t);return}(e=d(this,es).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!d(this,ki,eh)){F(this,ki,kf).call(this,t);return}(e=d(this,es).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=d(this,es))==null||t.classList.add("hidden"),(e=d(this,Ch))==null||e.abort(),R(this,Ch,null)}_hideDropdownFromKeyboard(){var t;if(!d(this,t1)){if(!d(this,ki,eh)){(t=d(this,$m))==null||t.unselect();return}this.hideDropdown(),d(this,Oo).focus({preventScroll:!0,focusVisible:d(this,Km)})}}updateColor(t){if(d(this,Ld)&&(d(this,Ld).style.backgroundColor=t),!d(this,es))return;const e=d(this,Do).highlightColors.values();for(const i of d(this,es).children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=d(this,Oo))==null||t.remove(),R(this,Oo,null),R(this,Ld,null),(e=d(this,es))==null||e.remove(),R(this,es,null)}};Oo=new WeakMap,Ld=new WeakMap,Jg=new WeakMap,es=new WeakMap,Km=new WeakMap,t1=new WeakMap,$m=new WeakMap,Qm=new WeakMap,Ch=new WeakMap,Do=new WeakMap,e1=new WeakMap,Zm=new WeakMap,ki=new WeakSet,gA=function(){const t=document.createElement("div"),e=d(this,Do)._signal;t.addEventListener("contextmenu",Bo,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,a]of d(this,Do).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",a),r.title=i,r.setAttribute("data-l10n-id",d(ka,Zm)[i]);const o=document.createElement("span");r.append(o),o.className="swatch",o.style.backgroundColor=a,r.setAttribute("aria-selected",a===d(this,Jg)),r.addEventListener("click",F(this,ki,mA).bind(this,a),{signal:e}),t.append(r)}return t.addEventListener("keydown",F(this,ki,vA).bind(this),{signal:e}),t},mA=function(t,e){e.stopPropagation(),d(this,Qm).dispatch("switchannotationeditorparams",{source:this,type:d(this,e1),value:t})},vA=function(t){ka._keyboardManager.exec(this,t)},kf=function(t){if(d(this,ki,eh)){this.hideDropdown();return}if(R(this,Km,t.detail===0),d(this,Ch)||(R(this,Ch,new AbortController),window.addEventListener("pointerdown",F(this,ki,Cx).bind(this),{signal:d(this,Do).combinedSignal(d(this,Ch))})),d(this,es)){d(this,es).classList.remove("hidden");return}const e=R(this,es,F(this,ki,gA).call(this));d(this,Oo).append(e)},Cx=function(t){var e;(e=d(this,es))!=null&&e.contains(t.target)||this.hideDropdown()},eh=function(){return d(this,es)&&!d(this,es).classList.contains("hidden")},I(ka,Zm,null);let fv=ka;var i1,Jm,Qc,Cd,n1,Fa,t2,e2,Td,Ur,hr,Cs,s1,Zc,Js,a1,Hr,i2,Ue,bA,G5,Tx,Rx,Mx,yA,Pf,Yr,Wp,Ox,V5,E0,Dx,kx,Px,Ix,Fx;const yi=class yi extends Gi{constructor(e){super({...e,name:"highlightEditor"});I(this,Ue);I(this,i1,null);I(this,Jm,0);I(this,Qc);I(this,Cd,null);I(this,n1,null);I(this,Fa,null);I(this,t2,null);I(this,e2,0);I(this,Td,null);I(this,Ur,null);I(this,hr,null);I(this,Cs,!1);I(this,s1,null);I(this,Zc);I(this,Js,null);I(this,a1,"");I(this,Hr);I(this,i2,"");this.color=e.color||yi._defaultColor,R(this,Hr,e.thickness||yi._defaultThickness),R(this,Zc,e.opacity||yi._defaultOpacity),R(this,Qc,e.boxes||null),R(this,i2,e.methodOfCreation||""),R(this,a1,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(R(this,Cs,!0),F(this,Ue,G5).call(this,e),F(this,Ue,Pf).call(this)):d(this,Qc)&&(R(this,i1,e.anchorNode),R(this,Jm,e.anchorOffset),R(this,t2,e.focusNode),R(this,e2,e.focusOffset),F(this,Ue,bA).call(this),F(this,Ue,Pf).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=yi.prototype;return ni(this,"_keyboardManager",new u2([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,Cs)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:d(this,Hr),methodOfCreation:d(this,i2)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var a;Gi.initialize(e,i),yi._defaultColor||(yi._defaultColor=((a=i.highlightColors)==null?void 0:a.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case ri.HIGHLIGHT_DEFAULT_COLOR:yi._defaultColor=i;break;case ri.HIGHLIGHT_THICKNESS:yi._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return d(this,s1)}updateParams(e,i){switch(e){case ri.HIGHLIGHT_COLOR:F(this,Ue,Tx).call(this,i);break;case ri.HIGHLIGHT_THICKNESS:F(this,Ue,Rx).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ri.HIGHLIGHT_DEFAULT_COLOR,yi._defaultColor],[ri.HIGHLIGHT_THICKNESS,yi._defaultThickness]]}get propertiesToUpdate(){return[[ri.HIGHLIGHT_COLOR,this.color||yi._defaultColor],[ri.HIGHLIGHT_THICKNESS,d(this,Hr)||yi._defaultThickness],[ri.HIGHLIGHT_FREE,d(this,Cs)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(R(this,n1,new fv({editor:this})),e.addColorPicker(d(this,n1))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(F(this,Ue,E0).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,F(this,Ue,E0).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){F(this,Ue,yA).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,Ue,Pf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var a;let i=!1;this.parent&&!e?F(this,Ue,yA).call(this):e&&(F(this,Ue,Pf).call(this,e),i=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var r,o,u;const{drawLayer:i}=this.parent;let a;d(this,Cs)?(e=(e-this.rotation+360)%360,a=F(r=yi,Yr,Wp).call(r,d(this,Ur).box,e)):a=F(o=yi,Yr,Wp).call(o,[this.x,this.y,this.width,this.height],e),i.updateProperties(d(this,hr),{bbox:a,root:{"data-main-rotation":e}}),i.updateProperties(d(this,Js),{bbox:F(u=yi,Yr,Wp).call(u,d(this,Fa).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();d(this,a1)&&(e.setAttribute("aria-label",d(this,a1)),e.setAttribute("role","mark")),d(this,Cs)?e.classList.add("free"):this.div.addEventListener("keydown",F(this,Ue,Ox).bind(this),{signal:this._uiManager._signal});const i=R(this,Td,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=d(this,Cd);const[a,r]=this.parentDimensions;return this.setDims(this.width*a,this.height*r),nw(this,d(this,Td),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(d(this,Js),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(d(this,Js),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:F(this,Ue,V5).call(this,!0);break;case 1:case 3:F(this,Ue,V5).call(this,!1);break}}select(){var e;super.select(),d(this,Js)&&((e=this.parent)==null||e.drawLayer.updateProperties(d(this,Js),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),d(this,Js)&&((e=this.parent)==null||e.drawLayer.updateProperties(d(this,Js),{rootClass:{selected:!1}}),d(this,Cs)||F(this,Ue,V5).call(this,!1))}get _mustFixPosition(){return!d(this,Cs)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(d(this,hr),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(d(this,Js),{rootClass:{hidden:!e}}))}static startHighlighting(e,i,{target:a,x:r,y:o}){const{x:u,y:h,width:p,height:m}=a.getBoundingClientRect(),A=new AbortController,w=e.combinedSignal(A),y=N=>{A.abort(),F(this,Yr,Ix).call(this,e,N)};window.addEventListener("blur",y,{signal:w}),window.addEventListener("pointerup",y,{signal:w}),window.addEventListener("pointerdown",Yn,{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",Bo,{signal:w}),a.addEventListener("pointermove",F(this,Yr,Px).bind(this,e),{signal:w}),this._freeHighlight=new pA({x:r,y:o},[u,h,p,m],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,i,a){var E,T,L,M;let r=null;if(e instanceof ux){const{data:{quadPoints:j,rect:$,rotation:K,id:at,color:tt,opacity:Z,popupRef:ut},parent:{page:{pageNumber:At}}}=e;r=e={annotationType:Fe.HIGHLIGHT,color:Array.from(tt),opacity:Z,quadPoints:j,boxes:null,pageIndex:At-1,rect:$.slice(0),rotation:K,id:at,deleted:!1,popupRef:ut}}else if(e instanceof ow){const{data:{inkLists:j,rect:$,rotation:K,id:at,color:tt,borderStyle:{rawWidth:Z},popupRef:ut},parent:{page:{pageNumber:At}}}=e;r=e={annotationType:Fe.HIGHLIGHT,color:Array.from(tt),thickness:Z,inkLists:j,boxes:null,pageIndex:At-1,rect:$.slice(0),rotation:K,id:at,deleted:!1,popupRef:ut}}const{color:o,quadPoints:u,inkLists:h,opacity:p}=e,m=await super.deserialize(e,i,a);m.color=de.makeHexColor(...o),R(m,Zc,p||1),h&&R(m,Hr,e.thickness),m.annotationElementId=e.id||null,m._initialData=r;const[A,w]=m.pageDimensions,[y,N]=m.pageTranslation;if(u){const j=R(m,Qc,[]);for(let $=0;$<u.length;$+=8)j.push({x:(u[$]-y)/A,y:1-(u[$+1]-N)/w,width:(u[$+2]-u[$])/A,height:(u[$+1]-u[$+5])/w});F(E=m,Ue,bA).call(E),F(T=m,Ue,Pf).call(T),m.rotate(m.rotation)}else if(h){R(m,Cs,!0);const j=h[0],$={x:j[0]-y,y:w-(j[1]-N)},K=new pA($,[0,0,A,w],1,d(m,Hr)/2,!0,.001);for(let Z=0,ut=j.length;Z<ut;Z+=2)$.x=j[Z]-y,$.y=w-(j[Z+1]-N),K.add($);const{id:at,clipPathId:tt}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:m.color,"fill-opacity":m._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:K.toSVGPath()}},!0,!0);F(L=m,Ue,G5).call(L,{highlightOutlines:K.getOutlines(),highlightId:at,clipPathId:tt}),F(M=m,Ue,Pf).call(M),m.rotate(m.parentRotation)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),a=Gi._colorManager.convert(this.color),r={annotationType:Fe.HIGHLIGHT,color:a,opacity:d(this,Zc),thickness:d(this,Hr),quadPoints:F(this,Ue,Dx).call(this),outlines:F(this,Ue,kx).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:F(this,Ue,E0).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!F(this,Ue,Fx).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};i1=new WeakMap,Jm=new WeakMap,Qc=new WeakMap,Cd=new WeakMap,n1=new WeakMap,Fa=new WeakMap,t2=new WeakMap,e2=new WeakMap,Td=new WeakMap,Ur=new WeakMap,hr=new WeakMap,Cs=new WeakMap,s1=new WeakMap,Zc=new WeakMap,Js=new WeakMap,a1=new WeakMap,Hr=new WeakMap,i2=new WeakMap,Ue=new WeakSet,bA=function(){const e=new fA(d(this,Qc),.001);R(this,Ur,e.getOutlines()),[this.x,this.y,this.width,this.height]=d(this,Ur).box;const i=new fA(d(this,Qc),.0025,.001,this._uiManager.direction==="ltr");R(this,Fa,i.getOutlines());const{lastPoint:a}=d(this,Fa);R(this,s1,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},G5=function({highlightOutlines:e,highlightId:i,clipPathId:a}){var A,w;if(R(this,Ur,e),R(this,Fa,e.getNewOutline(d(this,Hr)/2+1.5,.0025)),i>=0)R(this,hr,i),R(this,Cd,a),this.parent.drawLayer.finalizeDraw(i,{bbox:e.box,path:{d:e.toSVGPath()}}),R(this,Js,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:d(this,Fa).box,path:{d:d(this,Fa).toSVGPath()}},!0));else if(this.parent){const y=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(d(this,hr),{bbox:F(A=yi,Yr,Wp).call(A,d(this,Ur).box,(y-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(d(this,Js),{bbox:F(w=yi,Yr,Wp).call(w,d(this,Fa).box,y),path:{d:d(this,Fa).toSVGPath()}})}const[o,u,h,p]=e.box;switch(this.rotation){case 0:this.x=o,this.y=u,this.width=h,this.height=p;break;case 90:{const[y,N]=this.parentDimensions;this.x=u,this.y=1-o,this.width=h*N/y,this.height=p*y/N;break}case 180:this.x=1-o,this.y=1-u,this.width=h,this.height=p;break;case 270:{const[y,N]=this.parentDimensions;this.x=1-u,this.y=o,this.width=h*N/y,this.height=p*y/N;break}}const{lastPoint:m}=d(this,Fa);R(this,s1,[(m[0]-o)/h,(m[1]-u)/p])},Tx=function(e){const i=(o,u)=>{var h,p;this.color=o,R(this,Zc,u),(h=this.parent)==null||h.drawLayer.updateProperties(d(this,hr),{root:{fill:o,"fill-opacity":u}}),(p=d(this,n1))==null||p.updateColor(o)},a=this.color,r=d(this,Zc);this.addCommands({cmd:i.bind(this,e,yi._defaultOpacity),undo:i.bind(this,a,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ri.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},Rx=function(e){const i=d(this,Hr),a=r=>{R(this,Hr,r),F(this,Ue,Mx).call(this,r)};this.addCommands({cmd:a.bind(this,e),undo:a.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ri.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},Mx=function(e){if(!d(this,Cs))return;F(this,Ue,G5).call(this,{highlightOutlines:d(this,Ur).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,a]=this.parentDimensions;this.setDims(this.width*i,this.height*a)},yA=function(){d(this,hr)===null||!this.parent||(this.parent.drawLayer.remove(d(this,hr)),R(this,hr,null),this.parent.drawLayer.remove(d(this,Js)),R(this,Js,null))},Pf=function(e=this.parent){d(this,hr)===null&&({id:pa(this,hr)._,clipPathId:pa(this,Cd)._}=e.drawLayer.draw({bbox:d(this,Ur).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":d(this,Zc)},rootClass:{highlight:!0,free:d(this,Cs)},path:{d:d(this,Ur).toSVGPath()}},!1,!0),R(this,Js,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:d(this,Cs)},bbox:d(this,Fa).box,path:{d:d(this,Fa).toSVGPath()}},d(this,Cs))),d(this,Td)&&(d(this,Td).style.clipPath=d(this,Cd)))},Yr=new WeakSet,Wp=function([e,i,a,r],o){switch(o){case 90:return[1-i-r,e,r,a];case 180:return[1-e-a,1-i-r,a,r];case 270:return[i,1-e-a,r,a]}return[e,i,a,r]},Ox=function(e){yi._keyboardManager.exec(this,e)},V5=function(e){if(!d(this,i1))return;const i=window.getSelection();e?i.setPosition(d(this,i1),d(this,Jm)):i.setPosition(d(this,t2),d(this,e2))},E0=function(){return d(this,Cs)?this.rotation:0},Dx=function(){if(d(this,Cs))return null;const[e,i]=this.pageDimensions,[a,r]=this.pageTranslation,o=d(this,Qc),u=new Float32Array(o.length*8);let h=0;for(const{x:p,y:m,width:A,height:w}of o){const y=p*e+a,N=(1-m)*i+r;u[h]=u[h+4]=y,u[h+1]=u[h+3]=N,u[h+2]=u[h+6]=y+A*e,u[h+5]=u[h+7]=N-w*i,h+=8}return u},kx=function(e){return d(this,Ur).serialize(e,F(this,Ue,E0).call(this))},Px=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Ix=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Fx=function(e){const{color:i}=this._initialData;return e.color.some((a,r)=>a!==i[r])},I(yi,Yr),Wt(yi,"_defaultColor",null),Wt(yi,"_defaultOpacity",1),Wt(yi,"_defaultThickness",12),Wt(yi,"_type","highlight"),Wt(yi,"_editorType",Fe.HIGHLIGHT),Wt(yi,"_freeHighlightId",-1),Wt(yi,"_freeHighlight",null),Wt(yi,"_freeHighlightClipId","");let dv=yi;var Rd;class Bx{constructor(){I(this,Rd,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){d(this,Rd)[t]=e}toSVGProperties(){const t=d(this,Rd);return R(this,Rd,Object.create(null)),{root:t}}reset(){R(this,Rd,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){Pi("Not implemented")}}Rd=new WeakMap;var fr,r1,ds,Md,Od,Th,Rh,Mh,Dd,fi,AA,wA,SA,N0,jx,Y5,L0,Kp;const oe=class oe extends Gi{constructor(e){super(e);I(this,fi);I(this,fr,null);I(this,r1);Wt(this,"_drawId",null);R(this,r1,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(F(this,fi,AA).call(this,e),F(this,fi,N0).call(this))}static _mergeSVGProperties(e,i){const a=new Set(Object.keys(e));for(const[r,o]of Object.entries(i))a.has(r)?Object.assign(e[r],o):e[r]=o;return e}static getDefaultDrawingOptions(e){Pi("Not implemented")}static get typesMap(){Pi("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){const a=this.typesMap.get(e);a&&this._defaultDrawingOptions.updateProperty(a,i),this._currentParent&&(d(oe,ds).updateProperty(a,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){const a=this.constructor.typesMap.get(e);a&&this._updateProperty(e,a,i)}static get defaultPropertiesToUpdate(){const e=[],i=this._defaultDrawingOptions;for(const[a,r]of this.typesMap)e.push([a,i[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:i}=this;for(const[a,r]of this.constructor.typesMap)e.push([a,i[r]]);return e}_updateProperty(e,i,a){const r=this._drawingOptions,o=r[i],u=h=>{var m;r.updateProperty(i,h);const p=d(this,fr).updateProperty(i,h);p&&F(this,fi,L0).call(this,p),(m=this.parent)==null||m.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:u.bind(this,a),undo:u.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,oe._mergeSVGProperties(d(this,fr).getPathResizingSVGProperties(F(this,fi,Y5).call(this)),{bbox:F(this,fi,Kp).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,oe._mergeSVGProperties(d(this,fr).getPathResizedSVGProperties(F(this,fi,Y5).call(this)),{bbox:F(this,fi,Kp).call(this)}))}_onTranslating(e,i){var a;(a=this.parent)==null||a.drawLayer.updateProperties(this._drawId,{bbox:F(this,fi,Kp).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,oe._mergeSVGProperties(d(this,fr).getPathTranslatedSVGProperties(F(this,fi,Y5).call(this),this.parentDimensions),{bbox:F(this,fi,Kp).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,d(this,r1)&&(R(this,r1,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){F(this,fi,SA).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,fi,N0).call(this),F(this,fi,L0).call(this,d(this,fr).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var a;let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),F(this,fi,SA).call(this)):e&&(this._uiManager.addShouldRescale(this),F(this,fi,N0).call(this,e),i=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(e),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,oe._mergeSVGProperties({bbox:F(this,fi,Kp).call(this)},d(this,fr).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&F(this,fi,L0).call(this,d(this,fr).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,i;this._isCopy&&(e=this.x,i=this.y);const a=super.render();a.classList.add("draw");const r=document.createElement("div");a.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[o,u]=this.parentDimensions;return this.setDims(this.width*o,this.height*u),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,i),a}static createDrawerInstance(e,i,a,r,o){Pi("Not implemented")}static startDrawing(e,i,a,r){var T;const{target:o,offsetX:u,offsetY:h,pointerId:p,pointerType:m}=r;if(d(oe,Rh)&&d(oe,Rh)!==m)return;const{viewport:{rotation:A}}=e,{width:w,height:y}=o.getBoundingClientRect(),N=R(oe,Md,new AbortController),E=e.combinedSignal(N);if(d(oe,Th)||R(oe,Th,p),d(oe,Rh)??R(oe,Rh,m),window.addEventListener("pointerup",L=>{var M;d(oe,Th)===L.pointerId?this._endDraw(L):(M=d(oe,Mh))==null||M.delete(L.pointerId)},{signal:E}),window.addEventListener("pointercancel",L=>{var M;d(oe,Th)===L.pointerId?this._currentParent.endDrawingSession():(M=d(oe,Mh))==null||M.delete(L.pointerId)},{signal:E}),window.addEventListener("pointerdown",L=>{d(oe,Rh)===L.pointerType&&((d(oe,Mh)||R(oe,Mh,new Set)).add(L.pointerId),d(oe,ds).isCancellable()&&(d(oe,ds).removeLastElement(),d(oe,ds).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:E}),window.addEventListener("contextmenu",Bo,{signal:E}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:E}),o.addEventListener("touchmove",L=>{L.timeStamp===d(oe,Dd)&&Yn(L)},{signal:E}),e.toggleDrawing(),(T=i._editorUndoBar)==null||T.hide(),d(oe,ds)){e.drawLayer.updateProperties(this._currentDrawId,d(oe,ds).startNew(u,h,w,y,A));return}i.updateUIForDefaultProperties(this),R(oe,ds,this.createDrawerInstance(u,h,w,y,A)),R(oe,Od,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(d(oe,Od).toSVGProperties(),d(oe,ds).defaultSVGProperties),!0,!1)}static _drawMove(e){var o;if(R(oe,Dd,-1),!d(oe,ds))return;const{offsetX:i,offsetY:a,pointerId:r}=e;if(d(oe,Th)===r){if(((o=d(oe,Mh))==null?void 0:o.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,d(oe,ds).add(i,a)),R(oe,Dd,e.timeStamp),Yn(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,R(oe,ds,null),R(oe,Od,null),R(oe,Rh,null),R(oe,Dd,NaN)),d(oe,Md)&&(d(oe,Md).abort(),R(oe,Md,null),R(oe,Th,NaN),R(oe,Mh,null))}static _endDraw(e){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,d(oe,ds).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const a=d(oe,ds),r=this._currentDrawId,o=a.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(r,a.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(r,a.removeLastElement())},mustExec:!1,type:ri.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(ri.DRAW_STEP),!d(oe,ds).isEmpty()){const{pageDimensions:[a,r],scale:o}=i,u=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:d(oe,ds).getOutlines(a*o,r*o,o,this._INNER_MARGIN),drawingOptions:d(oe,Od),mustBeCommitted:!e});return this._cleanup(!0),u}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,a,r,o,u){Pi("Not implemented")}static async deserialize(e,i,a){var A,w;const{rawDims:{pageWidth:r,pageHeight:o,pageX:u,pageY:h}}=i.viewport,p=this.deserializeDraw(u,h,r,o,this._INNER_MARGIN,e),m=await super.deserialize(e,i,a);return m.createDrawingOptions(e),F(A=m,fi,AA).call(A,{drawOutlines:p}),F(w=m,fi,N0).call(w),m.onScaleChanging(),m.rotate(),m}serializeDraw(e){const[i,a]=this.pageTranslation,[r,o]=this.pageDimensions;return d(this,fr).serialize([i,a,r,o],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};fr=new WeakMap,r1=new WeakMap,ds=new WeakMap,Md=new WeakMap,Od=new WeakMap,Th=new WeakMap,Rh=new WeakMap,Mh=new WeakMap,Dd=new WeakMap,fi=new WeakSet,AA=function({drawOutlines:e,drawId:i,drawingOptions:a}){R(this,fr,e),this._drawingOptions||(this._drawingOptions=a),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=F(this,fi,wA).call(this,e,this.parent),F(this,fi,L0).call(this,e.box)},wA=function(e,i){const{id:a}=i.drawLayer.draw(oe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return a},SA=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},N0=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=F(this,fi,wA).call(this,d(this,fr),e)}},jx=function([e,i,a,r]){const{parentDimensions:[o,u],rotation:h}=this;switch(h){case 90:return[i,1-e,a*(u/o),r*(o/u)];case 180:return[1-e,1-i,a,r];case 270:return[1-i,e,a*(u/o),r*(o/u)];default:return[e,i,a,r]}},Y5=function(){const{x:e,y:i,width:a,height:r,parentDimensions:[o,u],rotation:h}=this;switch(h){case 90:return[1-i,e,a*(o/u),r*(u/o)];case 180:return[1-e,1-i,a,r];case 270:return[i,1-e,a*(o/u),r*(u/o)];default:return[e,i,a,r]}},L0=function(e){if([this.x,this.y,this.width,this.height]=F(this,fi,jx).call(this,e),this.div){this.fixAndSetPosition();const[i,a]=this.parentDimensions;this.setDims(this.width*i,this.height*a)}this._onResized()},Kp=function(){const{x:e,y:i,width:a,height:r,rotation:o,parentRotation:u,parentDimensions:[h,p]}=this;switch((o*4+u)/90){case 1:return[1-i-r,e,r,a];case 2:return[1-e-a,1-i-r,a,r];case 3:return[i,1-e-a,r,a];case 4:return[e,i-a*(h/p),r*(p/h),a*(h/p)];case 5:return[1-i,e,a*(h/p),r*(p/h)];case 6:return[1-e-r*(p/h),1-i,r*(p/h),a*(h/p)];case 7:return[i-a*(h/p),1-e-r*(p/h),a*(h/p),r*(p/h)];case 8:return[e-a,i-r,a,r];case 9:return[1-i,e-a,r,a];case 10:return[1-e,1-i,a,r];case 11:return[i-r,1-e,r,a];case 12:return[e-r*(p/h),i,r*(p/h),a*(h/p)];case 13:return[1-i-a*(h/p),e-r*(p/h),a*(h/p),r*(p/h)];case 14:return[1-e,1-i-a*(h/p),r*(p/h),a*(h/p)];case 15:return[i,1-e,a*(h/p),r*(p/h)];default:return[e,i,a,r]}},Wt(oe,"_currentDrawId",-1),Wt(oe,"_currentParent",null),I(oe,ds,null),I(oe,Md,null),I(oe,Od,null),I(oe,Th,NaN),I(oe,Rh,null),I(oe,Mh,null),I(oe,Dd,NaN),Wt(oe,"_INNER_MARGIN",3);let pv=oe;var Fl,ps,gs,kd,o1,va,Ts,Gr,Pd,Id,Fd,l1,X5;class AC{constructor(t,e,i,a,r,o){I(this,l1);I(this,Fl,new Float64Array(6));I(this,ps);I(this,gs);I(this,kd);I(this,o1);I(this,va);I(this,Ts,"");I(this,Gr,0);I(this,Pd,new d2);I(this,Id);I(this,Fd);R(this,Id,i),R(this,Fd,a),R(this,kd,r),R(this,o1,o),[t,e]=F(this,l1,X5).call(this,t,e);const u=R(this,ps,[NaN,NaN,NaN,NaN,t,e]);R(this,va,[t,e]),R(this,gs,[{line:u,points:d(this,va)}]),d(this,Fl).set(u,0)}updateProperty(t,e){t==="stroke-width"&&R(this,o1,e)}isEmpty(){return!d(this,gs)||d(this,gs).length===0}isCancellable(){return d(this,va).length<=10}add(t,e){[t,e]=F(this,l1,X5).call(this,t,e);const[i,a,r,o]=d(this,Fl).subarray(2,6),u=t-r,h=e-o;return Math.hypot(d(this,Id)*u,d(this,Fd)*h)<=2?null:(d(this,va).push(t,e),isNaN(i)?(d(this,Fl).set([r,o,t,e],2),d(this,ps).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(d(this,Fl)[0])&&d(this,ps).splice(6,6),d(this,Fl).set([i,a,r,o,t,e],0),d(this,ps).push(...re.createBezierPoints(i,a,r,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(d(this,va).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,a,r){R(this,Id,i),R(this,Fd,a),R(this,kd,r),[t,e]=F(this,l1,X5).call(this,t,e);const o=R(this,ps,[NaN,NaN,NaN,NaN,t,e]);R(this,va,[t,e]);const u=d(this,gs).at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),d(this,gs).push({line:o,points:d(this,va)}),d(this,Fl).set(o,0),R(this,Gr,0),this.toSVGPath(),null}getLastElement(){return d(this,gs).at(-1)}setLastElement(t){return d(this,gs)?(d(this,gs).push(t),R(this,ps,t.line),R(this,va,t.points),R(this,Gr,0),{path:{d:this.toSVGPath()}}):d(this,Pd).setLastElement(t)}removeLastElement(){if(!d(this,gs))return d(this,Pd).removeLastElement();d(this,gs).pop(),R(this,Ts,"");for(let t=0,e=d(this,gs).length;t<e;t++){const{line:i,points:a}=d(this,gs)[t];R(this,ps,i),R(this,va,a),R(this,Gr,0),this.toSVGPath()}return{path:{d:d(this,Ts)}}}toSVGPath(){const t=re.svgRound(d(this,ps)[4]),e=re.svgRound(d(this,ps)[5]);if(d(this,va).length===2)return R(this,Ts,`${d(this,Ts)} M ${t} ${e} Z`),d(this,Ts);if(d(this,va).length<=6){const a=d(this,Ts).lastIndexOf("M");R(this,Ts,`${d(this,Ts).slice(0,a)} M ${t} ${e}`),R(this,Gr,6)}if(d(this,va).length===4){const a=re.svgRound(d(this,ps)[10]),r=re.svgRound(d(this,ps)[11]);return R(this,Ts,`${d(this,Ts)} L ${a} ${r}`),R(this,Gr,12),d(this,Ts)}const i=[];d(this,Gr)===0&&(i.push(`M ${t} ${e}`),R(this,Gr,6));for(let a=d(this,Gr),r=d(this,ps).length;a<r;a+=6){const[o,u,h,p,m,A]=d(this,ps).slice(a,a+6).map(re.svgRound);i.push(`C${o} ${u} ${h} ${p} ${m} ${A}`)}return R(this,Ts,d(this,Ts)+i.join(" ")),R(this,Gr,d(this,ps).length),d(this,Ts)}getOutlines(t,e,i,a){const r=d(this,gs).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),d(this,Pd).build(d(this,gs),t,e,i,d(this,kd),d(this,o1),a),R(this,Fl,null),R(this,ps,null),R(this,gs,null),R(this,Ts,null),d(this,Pd)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Fl=new WeakMap,ps=new WeakMap,gs=new WeakMap,kd=new WeakMap,o1=new WeakMap,va=new WeakMap,Ts=new WeakMap,Gr=new WeakMap,Pd=new WeakMap,Id=new WeakMap,Fd=new WeakMap,l1=new WeakSet,X5=function(t,e){return re._normalizePoint(t,e,d(this,Id),d(this,Fd),d(this,kd))};var ba,n2,s2,dr,Bl,jl,c1,u1,Bd,Ms,Lc,zx,qx,Ux;class d2 extends re{constructor(){super(...arguments);I(this,Ms);I(this,ba);I(this,n2,0);I(this,s2);I(this,dr);I(this,Bl);I(this,jl);I(this,c1);I(this,u1);I(this,Bd)}build(e,i,a,r,o,u,h){R(this,Bl,i),R(this,jl,a),R(this,c1,r),R(this,u1,o),R(this,Bd,u),R(this,s2,h??0),R(this,dr,e),F(this,Ms,qx).call(this)}get thickness(){return d(this,Bd)}setLastElement(e){return d(this,dr).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return d(this,dr).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:i}of d(this,dr)){if(e.push(`M${re.svgRound(i[4])} ${re.svgRound(i[5])}`),i.length===6){e.push("Z");continue}if(i.length===12&&isNaN(i[6])){e.push(`L${re.svgRound(i[10])} ${re.svgRound(i[11])}`);continue}for(let a=6,r=i.length;a<r;a+=6){const[o,u,h,p,m,A]=i.subarray(a,a+6).map(re.svgRound);e.push(`C${o} ${u} ${h} ${p} ${m} ${A}`)}}return e.join("")}serialize([e,i,a,r],o){const u=[],h=[],[p,m,A,w]=F(this,Ms,zx).call(this);let y,N,E,T,L,M,j,$,K;switch(d(this,u1)){case 0:K=re._rescale,y=e,N=i+r,E=a,T=-r,L=e+p*a,M=i+(1-m-w)*r,j=e+(p+A)*a,$=i+(1-m)*r;break;case 90:K=re._rescaleAndSwap,y=e,N=i,E=a,T=r,L=e+m*a,M=i+p*r,j=e+(m+w)*a,$=i+(p+A)*r;break;case 180:K=re._rescale,y=e+a,N=i,E=-a,T=r,L=e+(1-p-A)*a,M=i+m*r,j=e+(1-p)*a,$=i+(m+w)*r;break;case 270:K=re._rescaleAndSwap,y=e+a,N=i+r,E=-a,T=-r,L=e+(1-m-w)*a,M=i+(1-p-A)*r,j=e+(1-m)*a,$=i+(1-p)*r;break}for(const{line:at,points:tt}of d(this,dr))u.push(K(at,y,N,E,T,o?new Array(at.length):null)),h.push(K(tt,y,N,E,T,o?new Array(tt.length):null));return{lines:u,points:h,rect:[L,M,j,$]}}static deserialize(e,i,a,r,o,{paths:{lines:u,points:h},rotation:p,thickness:m}){const A=[];let w,y,N,E,T;switch(p){case 0:T=re._rescale,w=-e/a,y=i/r+1,N=1/a,E=-1/r;break;case 90:T=re._rescaleAndSwap,w=-i/r,y=-e/a,N=1/r,E=1/a;break;case 180:T=re._rescale,w=e/a+1,y=-i/r,N=-1/a,E=1/r;break;case 270:T=re._rescaleAndSwap,w=i/r+1,y=e/a+1,N=-1/r,E=-1/a;break}if(!u){u=[];for(const M of h){const j=M.length;if(j===2){u.push(new Float32Array([NaN,NaN,NaN,NaN,M[0],M[1]]));continue}if(j===4){u.push(new Float32Array([NaN,NaN,NaN,NaN,M[0],M[1],NaN,NaN,NaN,NaN,M[2],M[3]]));continue}const $=new Float32Array(3*(j-2));u.push($);let[K,at,tt,Z]=M.subarray(0,4);$.set([NaN,NaN,NaN,NaN,K,at],0);for(let ut=4;ut<j;ut+=2){const At=M[ut],z=M[ut+1];$.set(re.createBezierPoints(K,at,tt,Z,At,z),(ut-2)*3),[K,at,tt,Z]=[tt,Z,At,z]}}}for(let M=0,j=u.length;M<j;M++)A.push({line:T(u[M].map($=>$??NaN),w,y,N,E),points:T(h[M].map($=>$??NaN),w,y,N,E)});const L=new this.prototype.constructor;return L.build(A,a,r,1,p,m,o),L}get box(){return d(this,ba)}updateProperty(e,i){return e==="stroke-width"?F(this,Ms,Ux).call(this,i):null}updateParentDimensions([e,i],a){const[r,o]=F(this,Ms,Lc).call(this);R(this,Bl,e),R(this,jl,i),R(this,c1,a);const[u,h]=F(this,Ms,Lc).call(this),p=u-r,m=h-o,A=d(this,ba);return A[0]-=p,A[1]-=m,A[2]+=2*p,A[3]+=2*m,A}updateRotation(e){return R(this,n2,e),{path:{transform:this.rotationTransform}}}get viewBox(){return d(this,ba).map(re.svgRound).join(" ")}get defaultProperties(){const[e,i]=d(this,ba);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${re.svgRound(e)} ${re.svgRound(i)}`}}}get rotationTransform(){const[,,e,i]=d(this,ba);let a=0,r=0,o=0,u=0,h=0,p=0;switch(d(this,n2)){case 90:r=i/e,o=-e/i,h=e;break;case 180:a=-1,u=-1,h=e,p=i;break;case 270:r=-i/e,o=e/i,p=i;break;default:return""}return`matrix(${a} ${r} ${o} ${u} ${re.svgRound(h)} ${re.svgRound(p)})`}getPathResizingSVGProperties([e,i,a,r]){const[o,u]=F(this,Ms,Lc).call(this),[h,p,m,A]=d(this,ba);if(Math.abs(m-o)<=re.PRECISION||Math.abs(A-u)<=re.PRECISION){const T=e+a/2-(h+m/2),L=i+r/2-(p+A/2);return{path:{"transform-origin":`${re.svgRound(e)} ${re.svgRound(i)}`,transform:`${this.rotationTransform} translate(${T} ${L})`}}}const w=(a-2*o)/(m-2*o),y=(r-2*u)/(A-2*u),N=m/a,E=A/r;return{path:{"transform-origin":`${re.svgRound(h)} ${re.svgRound(p)}`,transform:`${this.rotationTransform} scale(${N} ${E}) translate(${re.svgRound(o)} ${re.svgRound(u)}) scale(${w} ${y}) translate(${re.svgRound(-o)} ${re.svgRound(-u)})`}}}getPathResizedSVGProperties([e,i,a,r]){const[o,u]=F(this,Ms,Lc).call(this),h=d(this,ba),[p,m,A,w]=h;if(h[0]=e,h[1]=i,h[2]=a,h[3]=r,Math.abs(A-o)<=re.PRECISION||Math.abs(w-u)<=re.PRECISION){const L=e+a/2-(p+A/2),M=i+r/2-(m+w/2);for(const{line:j,points:$}of d(this,dr))re._translate(j,L,M,j),re._translate($,L,M,$);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${re.svgRound(e)} ${re.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(a-2*o)/(A-2*o),N=(r-2*u)/(w-2*u),E=-y*(p+o)+e+o,T=-N*(m+u)+i+u;if(y!==1||N!==1||E!==0||T!==0)for(const{line:L,points:M}of d(this,dr))re._rescale(L,E,T,y,N,L),re._rescale(M,E,T,y,N,M);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${re.svgRound(e)} ${re.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,i],a){const[r,o]=a,u=d(this,ba),h=e-u[0],p=i-u[1];if(d(this,Bl)===r&&d(this,jl)===o)for(const{line:m,points:A}of d(this,dr))re._translate(m,h,p,m),re._translate(A,h,p,A);else{const m=d(this,Bl)/r,A=d(this,jl)/o;R(this,Bl,r),R(this,jl,o);for(const{line:w,points:y}of d(this,dr))re._rescale(w,h,p,m,A,w),re._rescale(y,h,p,m,A,y);u[2]*=m,u[3]*=A}return u[0]=e,u[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${re.svgRound(e)} ${re.svgRound(i)}`}}}get defaultSVGProperties(){const e=d(this,ba);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${re.svgRound(e[0])} ${re.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}ba=new WeakMap,n2=new WeakMap,s2=new WeakMap,dr=new WeakMap,Bl=new WeakMap,jl=new WeakMap,c1=new WeakMap,u1=new WeakMap,Bd=new WeakMap,Ms=new WeakSet,Lc=function(e=d(this,Bd)){const i=d(this,s2)+e/2*d(this,c1);return d(this,u1)%180===0?[i/d(this,Bl),i/d(this,jl)]:[i/d(this,jl),i/d(this,Bl)]},zx=function(){const[e,i,a,r]=d(this,ba),[o,u]=F(this,Ms,Lc).call(this,0);return[e+o,i+u,a-2*o,r-2*u]},qx=function(){const e=R(this,ba,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of d(this,dr)){if(r.length<=12){for(let h=4,p=r.length;h<p;h+=6)de.pointBoundingBox(r[h],r[h+1],e);continue}let o=r[4],u=r[5];for(let h=6,p=r.length;h<p;h+=6){const[m,A,w,y,N,E]=r.subarray(h,h+6);de.bezierBoundingBox(o,u,m,A,w,y,N,E,e),o=N,u=E}}const[i,a]=F(this,Ms,Lc).call(this);e[0]=wa(e[0]-i,0,1),e[1]=wa(e[1]-a,0,1),e[2]=wa(e[2]+i,0,1),e[3]=wa(e[3]+a,0,1),e[2]-=e[0],e[3]-=e[1]},Ux=function(e){const[i,a]=F(this,Ms,Lc).call(this);R(this,Bd,e);const[r,o]=F(this,Ms,Lc).call(this),[u,h]=[r-i,o-a],p=d(this,ba);return p[0]-=u,p[1]-=h,p[2]+=2*u,p[3]+=2*h,p};class qv extends Bx{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Gi._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new qv(this._viewParameters);return t.updateAll(this),t}}var kv,Hx;const eg=class eg extends pv{constructor(e){super({...e,name:"inkEditor"});I(this,kv);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,i){Gi.initialize(e,i),this._defaultDrawingOptions=new qv(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return ni(this,"typesMap",new Map([[ri.INK_THICKNESS,"stroke-width"],[ri.INK_COLOR,"stroke"],[ri.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,i,a,r,o){return new AC(e,i,a,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,i,a,r,o,u){return d2.deserialize(e,i,a,r,o,u)}static async deserialize(e,i,a){let r=null;if(e instanceof ow){const{data:{inkLists:u,rect:h,rotation:p,id:m,color:A,opacity:w,borderStyle:{rawWidth:y},popupRef:N},parent:{page:{pageNumber:E}}}=e;r=e={annotationType:Fe.INK,color:Array.from(A),thickness:y,opacity:w,paths:{points:u},boxes:null,pageIndex:E-1,rect:h.slice(0),rotation:p,id:m,deleted:!1,popupRef:N}}const o=await super.deserialize(e,i,a);return o.annotationElementId=e.id||null,o._initialData=r,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:i,parent:a}=this;i.updateSVGProperty("stroke-width"),a.drawLayer.updateProperties(e,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:i,opacity:a}){this._drawingOptions=eg.getDefaultDrawingOptions({stroke:de.makeHexColor(...e),"stroke-width":i,"stroke-opacity":a})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:a,rect:r}=this.serializeDraw(e),{_drawingOptions:{stroke:o,"stroke-opacity":u,"stroke-width":h}}=this,p={annotationType:Fe.INK,color:Gi._colorManager.convert(o),opacity:u,thickness:h,paths:{lines:i,points:a},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(p.isCopy=!0,p):this.annotationElementId&&!F(this,kv,Hx).call(this,p)?null:(p.id=this.annotationElementId,p)}renderAnnotationElement(e){const{points:i,rect:a}=this.serializeDraw(!1);return e.updateEdited({rect:a,thickness:this._drawingOptions["stroke-width"],points:i}),null}};kv=new WeakSet,Hx=function(e){const{color:i,thickness:a,opacity:r,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((u,h)=>u!==i[h])||e.thickness!==a||e.opacity!==r||e.pageIndex!==o},Wt(eg,"_type","ink"),Wt(eg,"_editorType",Fe.INK),Wt(eg,"_defaultDrawingOptions",null);let _A=eg;class xA extends d2{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const v5=8,u0=3;var jd,wi,EA,ko,Gx,Vx,NA,W5,Yx,Xx,Wx,LA,CA,Kx;class su{static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:a},r,o,u,h){let p=new OffscreenCanvas(1,1),m=p.getContext("2d",{alpha:!1});const A=200,w=m.font=`${i} ${a} ${A}px ${e}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:N,actualBoundingBoxAscent:E,actualBoundingBoxDescent:T,fontBoundingBoxAscent:L,fontBoundingBoxDescent:M,width:j}=m.measureText(t),$=1.5,K=Math.ceil(Math.max(Math.abs(y)+Math.abs(N)||0,j)*$),at=Math.ceil(Math.max(Math.abs(E)+Math.abs(T)||A,Math.abs(L)+Math.abs(M)||A)*$);p=new OffscreenCanvas(K,at),m=p.getContext("2d",{alpha:!0,willReadFrequently:!0}),m.font=w,m.filter="grayscale(1)",m.fillStyle="white",m.fillRect(0,0,K,at),m.fillStyle="black",m.fillText(t,K*($-1)/2,at*(3-$)/2);const tt=F(this,wi,LA).call(this,m.getImageData(0,0,K,at).data),Z=F(this,wi,Wx).call(this,tt),ut=F(this,wi,CA).call(this,Z),At=F(this,wi,NA).call(this,tt,K,at,ut);return this.processDrawnLines({lines:{curves:At,width:K,height:at},pageWidth:r,pageHeight:o,rotation:u,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,i,a,r){const[o,u,h]=F(this,wi,Kx).call(this,t),[p,m]=F(this,wi,Xx).call(this,o,u,h,Math.hypot(u,h)*d(this,jd).sigmaSFactor,d(this,jd).sigmaR,d(this,jd).kernelSize),A=F(this,wi,CA).call(this,m),w=F(this,wi,NA).call(this,p,u,h,A);return this.processDrawnLines({lines:{curves:w,width:u,height:h},pageWidth:e,pageHeight:i,rotation:a,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:a,innerMargin:r,mustSmooth:o,areContours:u}){a%180!==0&&([e,i]=[i,e]);const{curves:h,width:p,height:m}=t,A=t.thickness??0,w=[],y=Math.min(e/p,i/m),N=y/e,E=y/i,T=[];for(const{points:M}of h){const j=o?F(this,wi,Yx).call(this,M):M;if(!j)continue;T.push(j);const $=j.length,K=new Float32Array($),at=new Float32Array(3*($===2?2:$-2));if(w.push({line:at,points:K}),$===2){K[0]=j[0]*N,K[1]=j[1]*E,at.set([NaN,NaN,NaN,NaN,K[0],K[1]],0);continue}let[tt,Z,ut,At]=j;tt*=N,Z*=E,ut*=N,At*=E,K.set([tt,Z,ut,At],0),at.set([NaN,NaN,NaN,NaN,tt,Z],0);for(let z=4;z<$;z+=2){const X=K[z]=j[z]*N,ot=K[z+1]=j[z+1]*E;at.set(re.createBezierPoints(tt,Z,ut,At,X,ot),(z-2)*3),[tt,Z,ut,At]=[ut,At,X,ot]}}if(w.length===0)return null;const L=u?new xA:new d2;return L.build(w,e,i,1,a,u?0:A,r),{outline:L,newCurves:T,areContours:u,thickness:A,width:p,height:m}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:a,height:r}){let o=1/0,u=-1/0,h=0;for(const j of t){h+=j.length;for(let $=2,K=j.length;$<K;$++){const at=j[$]-j[$-2];o=Math.min(o,at),u=Math.max(u,at)}}let p;o>=-128&&u<=127?p=Int8Array:o>=-32768&&u<=32767?p=Int16Array:p=Int32Array;const m=t.length,A=v5+u0*m,w=new Uint32Array(A);let y=0;w[y++]=A*Uint32Array.BYTES_PER_ELEMENT+(h-2*m)*p.BYTES_PER_ELEMENT,w[y++]=0,w[y++]=a,w[y++]=r,w[y++]=e?0:1,w[y++]=Math.max(0,Math.floor(i??0)),w[y++]=m,w[y++]=p.BYTES_PER_ELEMENT;for(const j of t)w[y++]=j.length-2,w[y++]=j[0],w[y++]=j[1];const N=new CompressionStream("deflate-raw"),E=N.writable.getWriter();await E.ready,E.write(w);const T=p.prototype.constructor;for(const j of t){const $=new T(j.length-2);for(let K=2,at=j.length;K<at;K++)$[K-2]=j[K]-j[K-2];E.write($)}E.close();const L=await new Response(N.readable).arrayBuffer(),M=new Uint8Array(L);return Q_(M)}static async decompressSignature(t){try{const e=VN(t),{readable:i,writable:a}=new DecompressionStream("deflate-raw"),r=a.getWriter();await r.ready,r.write(e).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let o=null,u=0;for await(const j of i)o||(o=new Uint8Array(new Uint32Array(j.buffer,0,4)[0])),o.set(j,u),u+=j.length;const h=new Uint32Array(o.buffer,0,o.length>>2),p=h[1];if(p!==0)throw new Error(`Invalid version: ${p}`);const m=h[2],A=h[3],w=h[4]===0,y=h[5],N=h[6],E=h[7],T=[],L=(v5+u0*N)*Uint32Array.BYTES_PER_ELEMENT;let M;switch(E){case Int8Array.BYTES_PER_ELEMENT:M=new Int8Array(o.buffer,L);break;case Int16Array.BYTES_PER_ELEMENT:M=new Int16Array(o.buffer,L);break;case Int32Array.BYTES_PER_ELEMENT:M=new Int32Array(o.buffer,L);break}u=0;for(let j=0;j<N;j++){const $=h[u0*j+v5],K=new Float32Array($+2);T.push(K);for(let at=0;at<u0-1;at++)K[at]=h[u0*j+v5+at+1];for(let at=0;at<$;at++)K[at+2]=K[at]+M[u++]}return{areContours:w,thickness:y,outlines:T,width:m,height:A}}catch(e){return ze(`decompressSignature: ${e}`),null}}}jd=new WeakMap,wi=new WeakSet,EA=function(t,e,i,a){return i-=t,a-=e,i===0?a>0?0:4:i===1?a+6:2-a},ko=new WeakMap,Gx=function(t,e,i,a,r,o,u){const h=F(this,wi,EA).call(this,i,a,r,o);for(let p=0;p<8;p++){const m=(-p+h-u+16)%8,A=d(this,ko)[2*m],w=d(this,ko)[2*m+1];if(t[(i+A)*e+(a+w)]!==0)return m}return-1},Vx=function(t,e,i,a,r,o,u){const h=F(this,wi,EA).call(this,i,a,r,o);for(let p=0;p<8;p++){const m=(p+h+u+16)%8,A=d(this,ko)[2*m],w=d(this,ko)[2*m+1];if(t[(i+A)*e+(a+w)]!==0)return m}return-1},NA=function(t,e,i,a){const r=t.length,o=new Int32Array(r);for(let m=0;m<r;m++)o[m]=t[m]<=a?1:0;for(let m=1;m<i-1;m++)o[m*e]=o[m*e+e-1]=0;for(let m=0;m<e;m++)o[m]=o[e*i-1-m]=0;let u=1,h;const p=[];for(let m=1;m<i-1;m++){h=1;for(let A=1;A<e-1;A++){const w=m*e+A,y=o[w];if(y===0)continue;let N=m,E=A;if(y===1&&o[w-1]===0)u+=1,E-=1;else if(y>=1&&o[w+1]===0)u+=1,E+=1,y>1&&(h=y);else{y!==1&&(h=Math.abs(y));continue}const T=[A,m],L=E===A+1,M={isHole:L,points:T,id:u,parent:0};p.push(M);let j;for(const z of p)if(z.id===h){j=z;break}j?j.isHole?M.parent=L?j.parent:h:M.parent=L?h:j.parent:M.parent=L?h:0;const $=F(this,wi,Gx).call(this,o,e,m,A,N,E,0);if($===-1){o[w]=-u,o[w]!==1&&(h=Math.abs(o[w]));continue}let K=d(this,ko)[2*$],at=d(this,ko)[2*$+1];const tt=m+K,Z=A+at;N=tt,E=Z;let ut=m,At=A;for(;;){const z=F(this,wi,Vx).call(this,o,e,ut,At,N,E,1);K=d(this,ko)[2*z],at=d(this,ko)[2*z+1];const X=ut+K,ot=At+at;T.push(ot,X);const nt=ut*e+At;if(o[nt+1]===0?o[nt]=-u:o[nt]===1&&(o[nt]=u),X===m&&ot===A&&ut===tt&&At===Z){o[w]!==1&&(h=Math.abs(o[w]));break}else N=ut,E=At,ut=X,At=ot}}}return p},W5=function(t,e,i,a){if(i-e<=4){for(let tt=e;tt<i-2;tt+=2)a.push(t[tt],t[tt+1]);return}const r=t[e],o=t[e+1],u=t[i-4]-r,h=t[i-3]-o,p=Math.hypot(u,h),m=u/p,A=h/p,w=m*o-A*r,y=h/u,N=1/p,E=Math.atan(y),T=Math.cos(E),L=Math.sin(E),M=N*(Math.abs(T)+Math.abs(L)),j=N*(1-M+M**2),$=Math.max(Math.atan(Math.abs(L+T)*j),Math.atan(Math.abs(L-T)*j));let K=0,at=e;for(let tt=e+2;tt<i-2;tt+=2){const Z=Math.abs(w-m*t[tt+1]+A*t[tt]);Z>K&&(at=tt,K=Z)}K>(p*$)**2?(F(this,wi,W5).call(this,t,e,at+2,a),F(this,wi,W5).call(this,t,at,i,a)):a.push(r,o)},Yx=function(t){const e=[],i=t.length;return F(this,wi,W5).call(this,t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e},Xx=function(t,e,i,a,r,o){const u=new Float32Array(o**2),h=-2*a**2,p=o>>1;for(let E=0;E<o;E++){const T=(E-p)**2;for(let L=0;L<o;L++)u[E*o+L]=Math.exp((T+(L-p)**2)/h)}const m=new Float32Array(256),A=-2*r**2;for(let E=0;E<256;E++)m[E]=Math.exp(E**2/A);const w=t.length,y=new Uint8Array(w),N=new Uint32Array(256);for(let E=0;E<i;E++)for(let T=0;T<e;T++){const L=E*e+T,M=t[L];let j=0,$=0;for(let at=0;at<o;at++){const tt=E+at-p;if(!(tt<0||tt>=i))for(let Z=0;Z<o;Z++){const ut=T+Z-p;if(ut<0||ut>=e)continue;const At=t[tt*e+ut],z=u[at*o+Z]*m[Math.abs(At-M)];j+=At*z,$+=z}}const K=y[L]=Math.round(j/$);N[K]++}return[y,N]},Wx=function(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e},LA=function(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let a=-1/0,r=1/0;for(let u=0,h=i.length;u<h;u++){if(t[(u<<2)+3]===0){a=i[u]=255;continue}const m=i[u]=t[u<<2];m>a&&(a=m),m<r&&(r=m)}const o=255/(a-r);for(let u=0;u<e;u++)i[u]=(i[u]-r)*o;return i},CA=function(t){let e,i=-1/0,a=-1/0;const r=t.findIndex(h=>h!==0);let o=r,u=r;for(e=r;e<256;e++){const h=t[e];h>i&&(e-o>a&&(a=e-o,u=e-1),i=h,o=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e},Kx=function(t){const e=t,{width:i,height:a}=t,{maxDim:r}=d(this,jd);let o=i,u=a;if(i>r||a>r){let w=i,y=a,N=Math.log2(Math.max(i,a)/r);const E=Math.floor(N);N=N===E?E-1:E;for(let L=0;L<N;L++){o=w,u=y,o>r&&(o=Math.ceil(o/2)),u>r&&(u=Math.ceil(u/2));const M=new OffscreenCanvas(o,u);M.getContext("2d").drawImage(t,0,0,w,y,0,0,o,u),w=o,y=u,t!==e&&t.close(),t=M.transferToImageBitmap()}const T=Math.min(r/o,r/u);o=Math.round(o*T),u=Math.round(u*T)}const p=new OffscreenCanvas(o,u).getContext("2d",{willReadFrequently:!0});p.filter="grayscale(1)",p.drawImage(t,0,0,t.width,t.height,0,0,o,u);const m=p.getImageData(0,0,o,u).data;return[F(this,wi,LA).call(this,m),o,u]},I(su,wi),I(su,jd,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),I(su,ko,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class lw extends Bx{constructor(){super(),super.updateProperties({fill:Gi._defaultLineColor,"stroke-width":0})}clone(){const t=new lw;return t.updateAll(this),t}}class cw extends qv{constructor(t){super(t),super.updateProperties({stroke:Gi._defaultLineColor,"stroke-width":1})}clone(){const t=new cw(this._viewParameters);return t.updateAll(this),t}}var Oh,pr,Dh,kh;const ir=class ir extends pv{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});I(this,Oh,!1);I(this,pr,null);I(this,Dh,null);I(this,kh,null);this._willKeepAspectRatio=!0,R(this,Dh,e.signatureData||null),R(this,pr,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,i){Gi.initialize(e,i),this._defaultDrawingOptions=new lw,this._defaultDrawnSignatureOptions=new cw(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return ni(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!d(this,pr)}}static computeTelemetryFinalData(e){const i=e.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,i;const{_isCopy:a}=this;if(a&&(this._isCopy=!1,e=this.x,i=this.y),super.render(),this._drawId===null)if(d(this,Dh)){const{lines:r,mustSmooth:o,areContours:u,description:h,uuid:p,heightInPage:m}=d(this,Dh),{rawDims:{pageWidth:A,pageHeight:w},rotation:y}=this.parent.viewport,N=su.processDrawnLines({lines:r,pageWidth:A,pageHeight:w,rotation:y,innerMargin:ir._INNER_MARGIN,mustSmooth:o,areContours:u});this.addSignature(N,m,h,p)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return a&&(this._isCopy=!0,this._moveAfterPaste(e,i)),this.div}setUuid(e){R(this,kh,e),this.addEditToolbar()}getUuid(){return d(this,kh)}get description(){return d(this,pr)}set description(e){R(this,pr,e),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:i,thickness:a,width:r,height:o}=d(this,Dh),u=Math.max(r,o),h=su.processDrawnLines({lines:{curves:e.map(p=>({points:p})),thickness:a,width:r,height:o},pageWidth:u,pageHeight:u,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:h.outline}}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.signatureManager&&d(this,pr)!==null&&(await e.addEditSignatureButton(this._uiManager.signatureManager,d(this,kh),d(this,pr)),e.show()),e):null}addSignature(e,i,a,r){const{x:o,y:u}=this,{outline:h}=R(this,Dh,e);R(this,Oh,h instanceof xA),R(this,pr,a),this.div.setAttribute("data-l10n-args",JSON.stringify({description:a}));let p;d(this,Oh)?p=ir.getDefaultDrawingOptions():(p=ir._defaultDrawnSignatureOptions.clone(),p.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:p});const[m,A]=this.parentDimensions,[,w]=this.pageDimensions;let y=i/w;y=y>=1?.5:y,this.width*=y/this.height,this.width>=1&&(y*=.9/this.width,this.width=.9),this.height=y,this.setDims(m*this.width,A*this.height),this.x=o,this.y=u,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!a}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:i,pageHeight:a},rotation:r}=this.parent.viewport;return su.process(e,i,a,r,ir._INNER_MARGIN)}getFromText(e,i){const{rawDims:{pageWidth:a,pageHeight:r},rotation:o}=this.parent.viewport;return su.extractContoursFromText(e,i,a,r,o,ir._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:i,pageHeight:a},rotation:r}=this.parent.viewport;return su.processDrawnLines({lines:e,pageWidth:i,pageHeight:a,rotation:r,innerMargin:ir._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:i}){e?this._drawingOptions=ir.getDefaultDrawingOptions():(this._drawingOptions=ir._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:i,points:a,rect:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":o}}=this,u={annotationType:Fe.SIGNATURE,isSignature:!0,areContours:d(this,Oh),color:[0,0,0],thickness:d(this,Oh)?0:o,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(u.paths={lines:i,points:a},u.uuid=d(this,kh),u.isCopy=!0):u.lines=i,d(this,pr)&&(u.accessibilityData={type:"Figure",alt:d(this,pr)}),u}static deserializeDraw(e,i,a,r,o,u){return u.areContours?xA.deserialize(e,i,a,r,o,u):d2.deserialize(e,i,a,r,o,u)}static async deserialize(e,i,a){var o;const r=await super.deserialize(e,i,a);return R(r,Oh,e.areContours),R(r,pr,((o=e.accessibilityData)==null?void 0:o.alt)||""),R(r,kh,e.uuid),r}};Oh=new WeakMap,pr=new WeakMap,Dh=new WeakMap,kh=new WeakMap,Wt(ir,"_type","signature"),Wt(ir,"_editorType",Fe.SIGNATURE),Wt(ir,"_defaultDrawingOptions",null);let TA=ir;var an,ms,Ph,Jc,Ih,h1,tu,zd,zl,gr,f1,di,C0,T0,K5,$5,Q5,MA,Z5,$x;class RA extends Gi{constructor(e){super({...e,name:"stampEditor"});I(this,di);I(this,an,null);I(this,ms,null);I(this,Ph,null);I(this,Jc,null);I(this,Ih,null);I(this,h1,"");I(this,tu,null);I(this,zd,!1);I(this,zl,null);I(this,gr,!1);I(this,f1,!1);R(this,Jc,e.bitmapUrl),R(this,Ih,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,i){Gi.initialize(e,i)}static isHandlingMimeForPasting(e){return _y.includes(e)}static paste(e,i){i.pasteEditor(Fe.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:a}=this._uiManager;if(!a)throw new Error("No ML.");if(!await a.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:u}=e||this.copyCanvas(null,null,!0).imageData,h=await a.guess({name:"altText",request:{data:r,width:o,height:u,channels:r.length/(o*u)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const p=h.output;return await this.setGuessedAltText(p),i&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var e;d(this,ms)&&(R(this,an,null),this._uiManager.imageManager.deleteId(d(this,ms)),(e=d(this,tu))==null||e.remove(),R(this,tu,null),d(this,zl)&&(clearTimeout(d(this,zl)),R(this,zl,null))),super.remove()}rebuild(){if(!this.parent){d(this,ms)&&F(this,di,K5).call(this);return}super.rebuild(),this.div!==null&&(d(this,ms)&&d(this,tu)===null&&F(this,di,K5).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(d(this,Ph)||d(this,an)||d(this,Jc)||d(this,Ih)||d(this,ms)||d(this,zd))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;return this._isCopy&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),d(this,zd)||(d(this,an)?F(this,di,$5).call(this):F(this,di,K5).call(this)),this._isCopy&&this._moveAfterPaste(e,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,i){const{id:a,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,i);i.remove(),a&&this._uiManager.imageManager.isValidId(a)&&(R(this,ms,a),r&&R(this,an,r),R(this,zd,!1),F(this,di,$5).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;d(this,zl)!==null&&clearTimeout(d(this,zl)),R(this,zl,setTimeout(()=>{R(this,zl,null),F(this,di,MA).call(this)},200))}copyCanvas(e,i,a=!1){var y;e||(e=224);const{width:r,height:o}=d(this,an),u=new ou;let h=d(this,an),p=r,m=o,A=null;if(i){if(r>i||o>i){const Z=Math.min(i/r,i/o);p=Math.floor(r*Z),m=Math.floor(o*Z)}A=document.createElement("canvas");const N=A.width=Math.ceil(p*u.sx),E=A.height=Math.ceil(m*u.sy);d(this,gr)||(h=F(this,di,Q5).call(this,N,E));const T=A.getContext("2d");T.filter=this._uiManager.hcmFilter;let L="white",M="#cfcfd8";this._uiManager.hcmFilter!=="none"?M="black":(y=window.matchMedia)!=null&&y.call(window,"(prefers-color-scheme: dark)").matches&&(L="#8f8f9d",M="#42414d");const j=15,$=j*u.sx,K=j*u.sy,at=new OffscreenCanvas($*2,K*2),tt=at.getContext("2d");tt.fillStyle=L,tt.fillRect(0,0,$*2,K*2),tt.fillStyle=M,tt.fillRect(0,0,$,K),tt.fillRect($,K,$,K),T.fillStyle=T.createPattern(at,"repeat"),T.fillRect(0,0,N,E),T.drawImage(h,0,0,h.width,h.height,0,0,N,E)}let w=null;if(a){let N,E;if(u.symmetric&&h.width<e&&h.height<e)N=h.width,E=h.height;else if(h=d(this,an),r>e||o>e){const M=Math.min(e/r,e/o);N=Math.floor(r*M),E=Math.floor(o*M),d(this,gr)||(h=F(this,di,Q5).call(this,N,E))}const L=new OffscreenCanvas(N,E).getContext("2d",{willReadFrequently:!0});L.drawImage(h,0,0,h.width,h.height,0,0,N,E),w={width:N,height:E,data:L.getImageData(0,0,N,E).data}}return{canvas:A,width:p,height:m,imageData:w}}static async deserialize(e,i,a){var T;let r=null,o=!1;if(e instanceof hx){const{data:{rect:L,rotation:M,id:j,structParent:$,popupRef:K},container:at,parent:{page:{pageNumber:tt}},canvas:Z}=e;let ut,At;Z?(delete e.canvas,{id:ut,bitmap:At}=a.imageManager.getFromCanvas(at.id,Z),Z.remove()):(o=!0,e._hasNoCanvas=!0);const z=((T=await i._structTree.getAriaAttributes(`${ZA}${j}`))==null?void 0:T.get("aria-label"))||"";r=e={annotationType:Fe.STAMP,bitmapId:ut,bitmap:At,pageIndex:tt-1,rect:L.slice(0),rotation:M,id:j,deleted:!1,accessibilityData:{decorative:!1,altText:z},isSvg:!1,structParent:$,popupRef:K}}const u=await super.deserialize(e,i,a),{rect:h,bitmap:p,bitmapUrl:m,bitmapId:A,isSvg:w,accessibilityData:y}=e;o?(a.addMissingCanvas(e.id,u),R(u,zd,!0)):A&&a.imageManager.isValidId(A)?(R(u,ms,A),p&&R(u,an,p)):R(u,Jc,m),R(u,gr,w);const[N,E]=u.pageDimensions;return u.width=(h[2]-h[0])/N,u.height=(h[3]-h[1])/E,u.annotationElementId=e.id||null,y&&(u.altTextData=y),u._initialData=r,R(u,f1,!!r),u}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a={annotationType:Fe.STAMP,bitmapId:d(this,ms),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:d(this,gr),structTreeParentId:this._structTreeParentId};if(e)return a.bitmapUrl=F(this,di,Z5).call(this,!0),a.accessibilityData=this.serializeAltText(!0),a.isCopy=!0,a;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(a.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const h=F(this,di,$x).call(this,a);if(h.isSame)return null;h.isSameAltText?delete a.accessibilityData:a.accessibilityData.structParent=this._initialData.structParent??-1}if(a.id=this.annotationElementId,i===null)return a;i.stamps||(i.stamps=new Map);const u=d(this,gr)?(a.rect[2]-a.rect[0])*(a.rect[3]-a.rect[1]):null;if(!i.stamps.has(d(this,ms)))i.stamps.set(d(this,ms),{area:u,serialized:a}),a.bitmap=F(this,di,Z5).call(this,!1);else if(d(this,gr)){const h=i.stamps.get(d(this,ms));u>h.area&&(h.area=u,h.serialized.bitmap.close(),h.serialized.bitmap=F(this,di,Z5).call(this,!1))}return a}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}an=new WeakMap,ms=new WeakMap,Ph=new WeakMap,Jc=new WeakMap,Ih=new WeakMap,h1=new WeakMap,tu=new WeakMap,zd=new WeakMap,zl=new WeakMap,gr=new WeakMap,f1=new WeakMap,di=new WeakSet,C0=function(e,i=!1){if(!e){this.remove();return}R(this,an,e.bitmap),i||(R(this,ms,e.id),R(this,gr,e.isSvg)),e.file&&R(this,h1,e.file.name),F(this,di,$5).call(this)},T0=function(){if(R(this,Ph,null),this._uiManager.enableWaiting(!1),!!d(this,tu)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,an)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,an)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},K5=function(){if(d(this,ms)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,ms)).then(a=>F(this,di,C0).call(this,a,!0)).finally(()=>F(this,di,T0).call(this));return}if(d(this,Jc)){const a=d(this,Jc);R(this,Jc,null),this._uiManager.enableWaiting(!0),R(this,Ph,this._uiManager.imageManager.getFromUrl(a).then(r=>F(this,di,C0).call(this,r)).finally(()=>F(this,di,T0).call(this)));return}if(d(this,Ih)){const a=d(this,Ih);R(this,Ih,null),this._uiManager.enableWaiting(!0),R(this,Ph,this._uiManager.imageManager.getFromFile(a).then(r=>F(this,di,C0).call(this,r)).finally(()=>F(this,di,T0).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=_y.join(",");const i=this._uiManager._signal;R(this,Ph,new Promise(a=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),F(this,di,C0).call(this,r)}a()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),a()},{signal:i})}).finally(()=>F(this,di,T0).call(this))),e.click()},$5=function(){var A;const{div:e}=this;let{width:i,height:a}=d(this,an);const[r,o]=this.pageDimensions,u=.75;if(this.width)i=this.width*r,a=this.height*o;else if(i>u*r||a>u*o){const w=Math.min(u*r/i,u*o/a);i*=w,a*=w}const[h,p]=this.parentDimensions;this.setDims(i*h/r,a*p/o),this._uiManager.enableWaiting(!1);const m=R(this,tu,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),this.width=i/r,this.height=a/o,(A=this._initialOptions)!=null&&A.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),F(this,di,MA).call(this),d(this,f1)||(this.parent.addUndoableEditor(this),R(this,f1,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,h1)&&this.div.setAttribute("aria-description",d(this,h1))},Q5=function(e,i){const{width:a,height:r}=d(this,an);let o=a,u=r,h=d(this,an);for(;o>2*e||u>2*i;){const p=o,m=u;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),u>2*i&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const A=new OffscreenCanvas(o,u);A.getContext("2d").drawImage(h,0,0,p,m,0,0,o,u),h=A.transferToImageBitmap()}return h},MA=function(){const[e,i]=this.parentDimensions,{width:a,height:r}=this,o=new ou,u=Math.ceil(a*e*o.sx),h=Math.ceil(r*i*o.sy),p=d(this,tu);if(!p||p.width===u&&p.height===h)return;p.width=u,p.height=h;const m=d(this,gr)?d(this,an):F(this,di,Q5).call(this,u,h),A=p.getContext("2d");A.filter=this._uiManager.hcmFilter,A.drawImage(m,0,0,m.width,m.height,0,0,u,h)},Z5=function(e){if(e){if(d(this,gr)){const r=this._uiManager.imageManager.getSvgUrl(d(this,ms));if(r)return r}const i=document.createElement("canvas");return{width:i.width,height:i.height}=d(this,an),i.getContext("2d").drawImage(d(this,an),0,0),i.toDataURL()}if(d(this,gr)){const[i,a]=this.pageDimensions,r=Math.round(this.width*i*Hh.PDF_TO_CSS_UNITS),o=Math.round(this.height*a*Hh.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(r,o);return u.getContext("2d").drawImage(d(this,an),0,0,d(this,an).width,d(this,an).height,0,0,r,o),u.transferToImageBitmap()}return structuredClone(d(this,an))},$x=function(e){var u;const{pageIndex:i,accessibilityData:{altText:a}}=this._initialData,r=e.pageIndex===i,o=(((u=e.accessibilityData)==null?void 0:u.alt)||"")===a;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}},Wt(RA,"_type","stamp"),Wt(RA,"_editorType",Fe.STAMP);var qd,d1,ql,Fh,eu,Vr,Bh,p1,Ud,Po,iu,ta,nu,ge,jh,rn,Qx,xl,DA,kA,J5;const _o=class _o{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:a,accessibilityManager:r,annotationLayer:o,drawLayer:u,textLayer:h,viewport:p,l10n:m}){I(this,rn);I(this,qd);I(this,d1,!1);I(this,ql,null);I(this,Fh,null);I(this,eu,null);I(this,Vr,new Map);I(this,Bh,!1);I(this,p1,!1);I(this,Ud,!1);I(this,Po,null);I(this,iu,null);I(this,ta,null);I(this,nu,null);I(this,ge);const A=[...d(_o,jh).values()];if(!_o._initialized){_o._initialized=!0;for(const w of A)w.initialize(m,t)}t.registerEditorTypes(A),R(this,ge,t),this.pageIndex=e,this.div=i,R(this,qd,r),R(this,ql,o),this.viewport=p,R(this,ta,h),this.drawLayer=u,this._structTree=a,d(this,ge).addLayer(this)}get isEmpty(){return d(this,Vr).size===0}get isInvisible(){return this.isEmpty&&d(this,ge).getMode()===Fe.NONE}updateToolbar(t){d(this,ge).updateToolbar(t)}updateMode(t=d(this,ge).getMode()){switch(F(this,rn,J5).call(this),t){case Fe.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Fe.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Fe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of d(_o,jh).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=d(this,ta))==null?void 0:e.div)}setEditingState(t){d(this,ge).setEditingState(t)}addCommands(t){d(this,ge).addCommands(t)}cleanUndoStack(t){d(this,ge).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=d(this,ql))==null||e.div.classList.toggle("disabled",!t)}async enable(){R(this,Ud,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of d(this,Vr).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(d(this,ge).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!d(this,ql)){R(this,Ud,!1);return}const e=d(this,ql).getEditableAnnotations();for(const i of e){if(i.hide(),d(this,ge).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}R(this,Ud,!1)}disable(){var a;R(this,p1,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const r of d(this,Vr).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);(a=this.getEditableAnnotation(r.annotationElementId))==null||a.show(),r.remove()}if(d(this,ql)){const r=d(this,ql).getEditableAnnotations();for(const o of r){const{id:u}=o.data;if(d(this,ge).isDeletedAnnotationElement(u))continue;let h=e.get(u);if(h){h.resetAnnotationElement(o),h.show(!1),o.show();continue}h=t.get(u),h&&(d(this,ge).addChangedExistingAnnotation(h),h.renderAnnotationElement(o)&&h.show(!1)),o.show()}}F(this,rn,J5).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of d(_o,jh).values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),R(this,p1,!1)}getEditableAnnotation(t){var e;return((e=d(this,ql))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){d(this,ge).getActive()!==t&&d(this,ge).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=d(this,ta))!=null&&t.div&&!d(this,nu)){R(this,nu,new AbortController);const e=d(this,ge).combinedSignal(d(this,nu));d(this,ta).div.addEventListener("pointerdown",F(this,rn,Qx).bind(this),{signal:e}),d(this,ta).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=d(this,ta))!=null&&t.div&&d(this,nu)&&(d(this,nu).abort(),R(this,nu,null),d(this,ta).div.classList.remove("highlighting"))}enableClick(){if(d(this,Fh))return;R(this,Fh,new AbortController);const t=d(this,ge).combinedSignal(d(this,Fh));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=d(this,Fh))==null||t.abort(),R(this,Fh,null)}attach(t){d(this,Vr).set(t.id,t);const{annotationElementId:e}=t;e&&d(this,ge).isDeletedAnnotationElement(e)&&d(this,ge).removeDeletedAnnotationElement(t)}detach(t){var e;d(this,Vr).delete(t.id),(e=d(this,qd))==null||e.removePointerInTextLayer(t.contentDiv),!d(this,p1)&&t.annotationElementId&&d(this,ge).addDeletedAnnotationElement(t)}remove(t){this.detach(t),d(this,ge).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(d(this,ge).addDeletedAnnotationElement(t.annotationElementId),Gi.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),d(this,ge).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!d(this,Ud)),d(this,ge).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!d(this,eu)&&(t._focusEventsAllowed=!1,R(this,eu,setTimeout(()=>{R(this,eu,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:d(this,ge)._signal}),e.focus())},0))),t._structTreeParentId=(i=d(this,qd))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return d(this,ge).getId()}combinedSignal(t){return d(this,ge).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=d(this,rn,xl))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){d(this,ge).updateToolbar(t),await d(this,ge).updateMode(t);const{offsetX:i,offsetY:a}=F(this,rn,kA).call(this),r=this.getNextId(),o=F(this,rn,DA).call(this,{parent:this,id:r,x:i,y:a,uiManager:d(this,ge),isCentered:!0,...e});o&&this.add(o)}async deserialize(t){var e;return await((e=d(_o,jh).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,d(this,ge)))||null}createAndAddNewEditor(t,e,i={}){const a=this.getNextId(),r=F(this,rn,DA).call(this,{parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:d(this,ge),isCentered:e,...i});return r&&this.add(r),r}addNewEditor(t={}){this.createAndAddNewEditor(F(this,rn,kA).call(this),!0,t)}setSelected(t){d(this,ge).setSelected(t)}toggleSelected(t){d(this,ge).toggleSelected(t)}unselect(t){d(this,ge).unselect(t)}pointerup(t){var a;const{isMac:e}=Ds.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!d(this,Bh)||(R(this,Bh,!1),(a=d(this,rn,xl))!=null&&a.isDrawer&&d(this,rn,xl).supportMultipleDrawings))return;if(!d(this,d1)){R(this,d1,!0);return}const i=d(this,ge).getMode();if(i===Fe.STAMP||i===Fe.SIGNATURE){d(this,ge).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var a;if(d(this,ge).getMode()===Fe.HIGHLIGHT&&this.enableTextSelection(),d(this,Bh)){R(this,Bh,!1);return}const{isMac:e}=Ds.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(R(this,Bh,!0),(a=d(this,rn,xl))!=null&&a.isDrawer){this.startDrawingSession(t);return}const i=d(this,ge).getActive();R(this,d1,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),d(this,Po)){d(this,rn,xl).startDrawing(this,d(this,ge),!1,t);return}d(this,ge).setCurrentDrawingSession(this),R(this,Po,new AbortController);const e=d(this,ge).combinedSignal(d(this,Po));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(R(this,iu,null),this.commitOrRemove())},{signal:e}),d(this,rn,xl).startDrawing(this,d(this,ge),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&R(this,iu,e);return}d(this,iu)&&setTimeout(()=>{var e;(e=d(this,iu))==null||e.focus(),R(this,iu,null)},0)}endDrawingSession(t=!1){return d(this,Po)?(d(this,ge).setCurrentDrawingSession(null),d(this,Po).abort(),R(this,Po,null),R(this,iu,null),d(this,rn,xl).endDrawing(t)):null}findNewParent(t,e,i){const a=d(this,ge).findParent(e,i);return a===null||a===this?!1:(a.changeParent(t),!0)}commitOrRemove(){return d(this,Po)?(this.endDrawingSession(),!0):!1}onScaleChanging(){d(this,Po)&&d(this,rn,xl).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=d(this,ge).getActive())==null?void 0:t.parent)===this&&(d(this,ge).commitOrRemove(),d(this,ge).setActiveEditor(null)),d(this,eu)&&(clearTimeout(d(this,eu)),R(this,eu,null));for(const i of d(this,Vr).values())(e=d(this,qd))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,d(this,Vr).clear(),d(this,ge).removeLayer(this)}render({viewport:t}){this.viewport=t,Xd(this.div,t);for(const e of d(this,ge).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){d(this,ge).commitOrRemove(),F(this,rn,J5).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Xd(this.div,{rotation:i}),e!==i)for(const a of d(this,Vr).values())a.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return d(this,ge).viewParameters.realScale}};qd=new WeakMap,d1=new WeakMap,ql=new WeakMap,Fh=new WeakMap,eu=new WeakMap,Vr=new WeakMap,Bh=new WeakMap,p1=new WeakMap,Ud=new WeakMap,Po=new WeakMap,iu=new WeakMap,ta=new WeakMap,nu=new WeakMap,ge=new WeakMap,jh=new WeakMap,rn=new WeakSet,Qx=function(t){d(this,ge).unselectAll();const{target:e}=t;if(e===d(this,ta).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&d(this,ta).div.contains(e)){const{isMac:i}=Ds.platform;if(t.button!==0||t.ctrlKey&&i)return;d(this,ge).showAllEditors("highlight",!0,!0),d(this,ta).div.classList.add("free"),this.toggleDrawing(),dv.startHighlighting(this,d(this,ge).direction==="ltr",{target:d(this,ta).div,x:t.x,y:t.y}),d(this,ta).div.addEventListener("pointerup",()=>{d(this,ta).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,ge)._signal}),t.preventDefault()}},xl=function(){return d(_o,jh).get(d(this,ge).getMode())},DA=function(t){const e=d(this,rn,xl);return e?new e.prototype.constructor(t):null},kA=function(){const{x:t,y:e,width:i,height:a}=this.div.getBoundingClientRect(),r=Math.max(0,t),o=Math.max(0,e),u=Math.min(window.innerWidth,t+i),h=Math.min(window.innerHeight,e+a),p=(r+u)/2-t,m=(o+h)/2-e,[A,w]=this.viewport.rotation%180===0?[p,m]:[m,p];return{offsetX:A,offsetY:w}},J5=function(){for(const t of d(this,Vr).values())t.isEmpty()&&t.remove()},Wt(_o,"_initialized",!1),I(_o,jh,new Map([uA,_A,RA,dv,TA].map(t=>[t._editorType,t])));let OA=_o;var Io,ya,Hd,a2,Pv,Zx,Vl,IA,Jx,FA;const Jn=class Jn{constructor({pageIndex:t}){I(this,Vl);I(this,Io,null);I(this,ya,new Map);I(this,Hd,new Map);this.pageIndex=t}setParent(t){if(!d(this,Io)){R(this,Io,t);return}if(d(this,Io)!==t){if(d(this,ya).size>0)for(const e of d(this,ya).values())e.remove(),t.append(e);R(this,Io,t)}}static get _svgFactory(){return ni(this,"_svgFactory",new uv)}draw(t,e=!1,i=!1){const a=pa(Jn,a2)._++,r=F(this,Vl,IA).call(this),o=Jn._svgFactory.createElement("defs");r.append(o);const u=Jn._svgFactory.createElement("path");o.append(u);const h=`path_p${this.pageIndex}_${a}`;u.setAttribute("id",h),u.setAttribute("vector-effect","non-scaling-stroke"),e&&d(this,Hd).set(a,u);const p=i?F(this,Vl,Jx).call(this,o,h):null,m=Jn._svgFactory.createElement("use");return r.append(m),m.setAttribute("href",`#${h}`),this.updateProperties(r,t),d(this,ya).set(a,r),{id:a,clipPathId:`url(#${p})`}}drawOutline(t,e){const i=pa(Jn,a2)._++,a=F(this,Vl,IA).call(this),r=Jn._svgFactory.createElement("defs");a.append(r);const o=Jn._svgFactory.createElement("path");r.append(o);const u=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",u),o.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const A=Jn._svgFactory.createElement("mask");r.append(A),h=`mask_p${this.pageIndex}_${i}`,A.setAttribute("id",h),A.setAttribute("maskUnits","objectBoundingBox");const w=Jn._svgFactory.createElement("rect");A.append(w),w.setAttribute("width","1"),w.setAttribute("height","1"),w.setAttribute("fill","white");const y=Jn._svgFactory.createElement("use");A.append(y),y.setAttribute("href",`#${u}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const p=Jn._svgFactory.createElement("use");a.append(p),p.setAttribute("href",`#${u}`),h&&p.setAttribute("mask",`url(#${h})`);const m=p.cloneNode();return a.append(m),p.classList.add("mainOutline"),m.classList.add("secondaryOutline"),this.updateProperties(a,t),d(this,ya).set(i,a),i}finalizeDraw(t,e){d(this,Hd).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var h;if(!e)return;const{root:i,bbox:a,rootClass:r,path:o}=e,u=typeof t=="number"?d(this,ya).get(t):t;if(u){if(i&&F(this,Vl,FA).call(this,u,i),a&&F(h=Jn,Pv,Zx).call(h,u,a),r){const{classList:p}=u;for(const[m,A]of Object.entries(r))p.toggle(m,A)}if(o){const m=u.firstChild.firstChild;F(this,Vl,FA).call(this,m,o)}}}updateParent(t,e){if(e===this)return;const i=d(this,ya).get(t);i&&(d(e,Io).append(i),d(this,ya).delete(t),d(e,ya).set(t,i))}remove(t){d(this,Hd).delete(t),d(this,Io)!==null&&(d(this,ya).get(t).remove(),d(this,ya).delete(t))}destroy(){R(this,Io,null);for(const t of d(this,ya).values())t.remove();d(this,ya).clear(),d(this,Hd).clear()}};Io=new WeakMap,ya=new WeakMap,Hd=new WeakMap,a2=new WeakMap,Pv=new WeakSet,Zx=function(t,[e,i,a,r]){const{style:o}=t;o.top=`${100*i}%`,o.left=`${100*e}%`,o.width=`${100*a}%`,o.height=`${100*r}%`},Vl=new WeakSet,IA=function(){const t=Jn._svgFactory.create(1,1,!0);return d(this,Io).append(t),t.setAttribute("aria-hidden",!0),t},Jx=function(t,e){const i=Jn._svgFactory.createElement("clipPath");t.append(i);const a=`clip_${e}`;i.setAttribute("id",a),i.setAttribute("clipPathUnits","objectBoundingBox");const r=Jn._svgFactory.createElement("use");return i.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),a},FA=function(t,e){for(const[i,a]of Object.entries(e))a===null?t.removeAttribute(i):t.setAttribute(i,a)},I(Jn,Pv),I(Jn,a2,0);let PA=Jn;globalThis.pdfjsTestingUtils={HighlightOutliner:fA};globalThis.pdfjsLib={AbortException:Uh,AnnotationEditorLayer:OA,AnnotationEditorParamsType:ri,AnnotationEditorType:Fe,AnnotationEditorUIManager:Wd,AnnotationLayer:oA,AnnotationMode:nh,AnnotationType:Vn,build:JL,ColorPicker:fv,createValidAbsoluteUrl:X_,DOMSVGFactory:uv,DrawLayer:PA,FeatureTest:Ds,fetchData:l2,getDocument:$4,getFilenameFromUrl:YN,getPdfFilenameFromUrl:XN,getUuid:$_,getXfaPageViewport:WN,GlobalWorkerOptions:Ul,ImageKind:_5,InvalidPDFException:wy,isDataScheme:jv,isPdfFile:tw,isValidExplicitDest:YL,MathClamp:wa,noContextMenu:Bo,normalizeUnicode:HN,OPS:rv,OutputScale:ou,PasswordResponses:kN,PDFDataRangeTransport:Q4,PDFDateString:ew,PDFWorker:ng,PermissionFlag:DN,PixelsPerInch:Hh,RenderingCancelledException:JA,ResponseException:ov,setLayerDimensions:Xd,shadow:ni,SignatureExtractor:su,stopEvent:Yn,SupportedImageMimeTypes:_y,TextLayer:k0,TouchManager:cv,updateUrlHash:W_,Util:de,VerbosityLevel:Iv,version:ZL,XfaLayer:J4};const wC="modulepreload",SC=function(c){return"/SnapScript/"+c},p_={},BA=function(t,e,i){let a=Promise.resolve();if(e&&e.length>0){let o=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=o(e.map(p=>{if(p=SC(p),p in p_)return;p_[p]=!0;const m=p.endsWith(".css"),A=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${A}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":wC,m||(w.as="script"),w.crossOrigin="",w.href=p,h&&w.setAttribute("nonce",h),document.head.appendChild(w),m)return new Promise((y,N)=>{w.addEventListener("load",y),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function r(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return a.then(o=>{for(const u of o||[])u.status==="rejected"&&r(u.reason);return t().catch(r)})};function Ci(c){"@babel/helpers - typeof";return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ci(c)}var ia=Uint8Array,yr=Uint16Array,uw=Int32Array,Uv=new ia([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hv=new ia([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jA=new ia([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tE=function(c,t){for(var e=new yr(31),i=0;i<31;++i)e[i]=t+=1<<c[i-1];for(var a=new uw(e[30]),i=1;i<30;++i)for(var r=e[i];r<e[i+1];++r)a[r]=r-e[i]<<5|i;return{b:e,r:a}},eE=tE(Uv,2),iE=eE.b,zA=eE.r;iE[28]=258,zA[258]=28;var nE=tE(Hv,0),_C=nE.b,g_=nE.r,qA=new yr(32768);for(var $i=0;$i<32768;++$i){var Ju=($i&43690)>>1|($i&21845)<<1;Ju=(Ju&52428)>>2|(Ju&13107)<<2,Ju=(Ju&61680)>>4|(Ju&3855)<<4,qA[$i]=((Ju&65280)>>8|(Ju&255)<<8)>>1}var Gl=function(c,t,e){for(var i=c.length,a=0,r=new yr(t);a<i;++a)c[a]&&++r[c[a]-1];var o=new yr(t);for(a=1;a<t;++a)o[a]=o[a-1]+r[a-1]<<1;var u;if(e){u=new yr(1<<t);var h=15-t;for(a=0;a<i;++a)if(c[a])for(var p=a<<4|c[a],m=t-c[a],A=o[c[a]-1]++<<m,w=A|(1<<m)-1;A<=w;++A)u[qA[A]>>h]=p}else for(u=new yr(i),a=0;a<i;++a)c[a]&&(u[a]=qA[o[c[a]-1]++]>>15-c[a]);return u},Gh=new ia(288);for(var $i=0;$i<144;++$i)Gh[$i]=8;for(var $i=144;$i<256;++$i)Gh[$i]=9;for(var $i=256;$i<280;++$i)Gh[$i]=7;for(var $i=280;$i<288;++$i)Gh[$i]=8;var I0=new ia(32);for(var $i=0;$i<32;++$i)I0[$i]=5;var xC=Gl(Gh,9,0),EC=Gl(Gh,9,1),NC=Gl(I0,5,0),LC=Gl(I0,5,1),hy=function(c){for(var t=c[0],e=1;e<c.length;++e)c[e]>t&&(t=c[e]);return t},wo=function(c,t,e){var i=t/8|0;return(c[i]|c[i+1]<<8)>>(t&7)&e},fy=function(c,t){var e=t/8|0;return(c[e]|c[e+1]<<8|c[e+2]<<16)>>(t&7)},hw=function(c){return(c+7)/8|0},sE=function(c,t,e){return(e==null||e>c.length)&&(e=c.length),new ia(c.subarray(t,e))},CC=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],xo=function(c,t,e){var i=new Error(t||CC[c]);if(i.code=c,Error.captureStackTrace&&Error.captureStackTrace(i,xo),!e)throw i;return i},TC=function(c,t,e,i){var a=c.length,r=0;if(!a||t.f&&!t.l)return e||new ia(0);var o=!e,u=o||t.i!=2,h=t.i;o&&(e=new ia(a*3));var p=function(Ht){var Xt=e.length;if(Ht>Xt){var Kt=new ia(Math.max(Xt*2,Ht));Kt.set(e),e=Kt}},m=t.f||0,A=t.p||0,w=t.b||0,y=t.l,N=t.d,E=t.m,T=t.n,L=a*8;do{if(!y){m=wo(c,A,1);var M=wo(c,A+1,3);if(A+=3,M)if(M==1)y=EC,N=LC,E=9,T=5;else if(M==2){var at=wo(c,A,31)+257,tt=wo(c,A+10,15)+4,Z=at+wo(c,A+5,31)+1;A+=14;for(var ut=new ia(Z),At=new ia(19),z=0;z<tt;++z)At[jA[z]]=wo(c,A+z*3,7);A+=tt*3;for(var X=hy(At),ot=(1<<X)-1,nt=Gl(At,X,1),z=0;z<Z;){var Et=nt[wo(c,A,ot)];A+=Et&15;var j=Et>>4;if(j<16)ut[z++]=j;else{var U=0,J=0;for(j==16?(J=3+wo(c,A,3),A+=2,U=ut[z-1]):j==17?(J=3+wo(c,A,7),A+=3):j==18&&(J=11+wo(c,A,127),A+=7);J--;)ut[z++]=U}}var ht=ut.subarray(0,at),yt=ut.subarray(at);E=hy(ht),T=hy(yt),y=Gl(ht,E,1),N=Gl(yt,T,1)}else xo(1);else{var j=hw(A)+4,$=c[j-4]|c[j-3]<<8,K=j+$;if(K>a){h&&xo(0);break}u&&p(w+$),e.set(c.subarray(j,K),w),t.b=w+=$,t.p=A=K*8,t.f=m;continue}if(A>L){h&&xo(0);break}}u&&p(w+131072);for(var V=(1<<E)-1,ft=(1<<T)-1,O=A;;O=A){var U=y[fy(c,A)&V],H=U>>4;if(A+=U&15,A>L){h&&xo(0);break}if(U||xo(2),H<256)e[w++]=H;else if(H==256){O=A,y=null;break}else{var Q=H-254;if(H>264){var z=H-257,rt=Uv[z];Q=wo(c,A,(1<<rt)-1)+iE[z],A+=rt}var st=N[fy(c,A)&ft],mt=st>>4;st||xo(3),A+=st&15;var yt=_C[mt];if(mt>3){var rt=Hv[mt];yt+=fy(c,A)&(1<<rt)-1,A+=rt}if(A>L){h&&xo(0);break}u&&p(w+131072);var St=w+Q;if(w<yt){var Ct=r-yt,Vt=Math.min(yt,St);for(Ct+w<0&&xo(3);w<Vt;++w)e[w]=i[Ct+w]}for(;w<St;++w)e[w]=e[w-yt]}}t.l=y,t.p=O,t.b=w,t.f=m,y&&(m=1,t.m=E,t.d=N,t.n=T)}while(!m);return w!=e.length&&o?sE(e,0,w):e.subarray(0,w)},xc=function(c,t,e){e<<=t&7;var i=t/8|0;c[i]|=e,c[i+1]|=e>>8},h0=function(c,t,e){e<<=t&7;var i=t/8|0;c[i]|=e,c[i+1]|=e>>8,c[i+2]|=e>>16},dy=function(c,t){for(var e=[],i=0;i<c.length;++i)c[i]&&e.push({s:i,f:c[i]});var a=e.length,r=e.slice();if(!a)return{t:rE,l:0};if(a==1){var o=new ia(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(K,at){return K.f-at.f}),e.push({s:-1,f:25001});var u=e[0],h=e[1],p=0,m=1,A=2;for(e[0]={s:-1,f:u.f+h.f,l:u,r:h};m!=a-1;)u=e[e[p].f<e[A].f?p++:A++],h=e[p!=m&&e[p].f<e[A].f?p++:A++],e[m++]={s:-1,f:u.f+h.f,l:u,r:h};for(var w=r[0].s,i=1;i<a;++i)r[i].s>w&&(w=r[i].s);var y=new yr(w+1),N=UA(e[m-1],y,0);if(N>t){var i=0,E=0,T=N-t,L=1<<T;for(r.sort(function(at,tt){return y[tt.s]-y[at.s]||at.f-tt.f});i<a;++i){var M=r[i].s;if(y[M]>t)E+=L-(1<<N-y[M]),y[M]=t;else break}for(E>>=T;E>0;){var j=r[i].s;y[j]<t?E-=1<<t-y[j]++-1:++i}for(;i>=0&&E;--i){var $=r[i].s;y[$]==t&&(--y[$],++E)}N=t}return{t:new ia(y),l:N}},UA=function(c,t,e){return c.s==-1?Math.max(UA(c.l,t,e+1),UA(c.r,t,e+1)):t[c.s]=e},m_=function(c){for(var t=c.length;t&&!c[--t];);for(var e=new yr(++t),i=0,a=c[0],r=1,o=function(h){e[i++]=h},u=1;u<=t;++u)if(c[u]==a&&u!=t)++r;else{if(!a&&r>2){for(;r>138;r-=138)o(32754);r>2&&(o(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(o(a),--r;r>6;r-=6)o(8304);r>2&&(o(r-3<<5|8208),r=0)}for(;r--;)o(a);r=1,a=c[u]}return{c:e.subarray(0,i),n:t}},f0=function(c,t){for(var e=0,i=0;i<t.length;++i)e+=c[i]*t[i];return e},aE=function(c,t,e){var i=e.length,a=hw(t+2);c[a]=i&255,c[a+1]=i>>8,c[a+2]=c[a]^255,c[a+3]=c[a+1]^255;for(var r=0;r<i;++r)c[a+r+4]=e[r];return(a+4+i)*8},v_=function(c,t,e,i,a,r,o,u,h,p,m){xc(t,m++,e),++a[256];for(var A=dy(a,15),w=A.t,y=A.l,N=dy(r,15),E=N.t,T=N.l,L=m_(w),M=L.c,j=L.n,$=m_(E),K=$.c,at=$.n,tt=new yr(19),Z=0;Z<M.length;++Z)++tt[M[Z]&31];for(var Z=0;Z<K.length;++Z)++tt[K[Z]&31];for(var ut=dy(tt,7),At=ut.t,z=ut.l,X=19;X>4&&!At[jA[X-1]];--X);var ot=p+5<<3,nt=f0(a,Gh)+f0(r,I0)+o,Et=f0(a,w)+f0(r,E)+o+14+3*X+f0(tt,At)+2*tt[16]+3*tt[17]+7*tt[18];if(h>=0&&ot<=nt&&ot<=Et)return aE(t,m,c.subarray(h,h+p));var U,J,ht,yt;if(xc(t,m,1+(Et<nt)),m+=2,Et<nt){U=Gl(w,y,0),J=w,ht=Gl(E,T,0),yt=E;var V=Gl(At,z,0);xc(t,m,j-257),xc(t,m+5,at-1),xc(t,m+10,X-4),m+=14;for(var Z=0;Z<X;++Z)xc(t,m+3*Z,At[jA[Z]]);m+=3*X;for(var ft=[M,K],O=0;O<2;++O)for(var H=ft[O],Z=0;Z<H.length;++Z){var Q=H[Z]&31;xc(t,m,V[Q]),m+=At[Q],Q>15&&(xc(t,m,H[Z]>>5&127),m+=H[Z]>>12)}}else U=xC,J=Gh,ht=NC,yt=I0;for(var Z=0;Z<u;++Z){var rt=i[Z];if(rt>255){var Q=rt>>18&31;h0(t,m,U[Q+257]),m+=J[Q+257],Q>7&&(xc(t,m,rt>>23&31),m+=Uv[Q]);var st=rt&31;h0(t,m,ht[st]),m+=yt[st],st>3&&(h0(t,m,rt>>5&8191),m+=Hv[st])}else h0(t,m,U[rt]),m+=J[rt]}return h0(t,m,U[256]),m+J[256]},RC=new uw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),rE=new ia(0),MC=function(c,t,e,i,a,r){var o=r.z||c.length,u=new ia(i+o+5*(1+Math.ceil(o/7e3))+a),h=u.subarray(i,u.length-a),p=r.l,m=(r.r||0)&7;if(t){m&&(h[0]=r.r>>3);for(var A=RC[t-1],w=A>>13,y=A&8191,N=(1<<e)-1,E=r.p||new yr(32768),T=r.h||new yr(N+1),L=Math.ceil(e/3),M=2*L,j=function(be){return(c[be]^c[be+1]<<L^c[be+2]<<M)&N},$=new uw(25e3),K=new yr(288),at=new yr(32),tt=0,Z=0,ut=r.i||0,At=0,z=r.w||0,X=0;ut+2<o;++ut){var ot=j(ut),nt=ut&32767,Et=T[ot];if(E[nt]=Et,T[ot]=nt,z<=ut){var U=o-ut;if((tt>7e3||At>24576)&&(U>423||!p)){m=v_(c,h,0,$,K,at,Z,At,X,ut-X,m),At=tt=Z=0,X=ut;for(var J=0;J<286;++J)K[J]=0;for(var J=0;J<30;++J)at[J]=0}var ht=2,yt=0,V=y,ft=nt-Et&32767;if(U>2&&ot==j(ut-ft))for(var O=Math.min(w,U)-1,H=Math.min(32767,ut),Q=Math.min(258,U);ft<=H&&--V&&nt!=Et;){if(c[ut+ht]==c[ut+ht-ft]){for(var rt=0;rt<Q&&c[ut+rt]==c[ut+rt-ft];++rt);if(rt>ht){if(ht=rt,yt=ft,rt>O)break;for(var st=Math.min(ft,rt-2),mt=0,J=0;J<st;++J){var St=ut-ft+J&32767,Ct=E[St],Vt=St-Ct&32767;Vt>mt&&(mt=Vt,Et=St)}}}nt=Et,Et=E[nt],ft+=nt-Et&32767}if(yt){$[At++]=268435456|zA[ht]<<18|g_[yt];var Ht=zA[ht]&31,Xt=g_[yt]&31;Z+=Uv[Ht]+Hv[Xt],++K[257+Ht],++at[Xt],z=ut+ht,++tt}else $[At++]=c[ut],++K[c[ut]]}}for(ut=Math.max(ut,z);ut<o;++ut)$[At++]=c[ut],++K[c[ut]];m=v_(c,h,p,$,K,at,Z,At,X,ut-X,m),p||(r.r=m&7|h[m/8|0]<<3,m-=7,r.h=T,r.p=E,r.i=ut,r.w=z)}else{for(var ut=r.w||0;ut<o+p;ut+=65535){var Kt=ut+65535;Kt>=o&&(h[m/8|0]=p,Kt=o),m=aE(h,m+1,c.subarray(ut,Kt))}r.i=o}return sE(u,0,i+hw(m)+a)},oE=function(){var c=1,t=0;return{p:function(e){for(var i=c,a=t,r=e.length|0,o=0;o!=r;){for(var u=Math.min(o+2655,r);o<u;++o)a+=i+=e[o];i=(i&65535)+15*(i>>16),a=(a&65535)+15*(a>>16)}c=i,t=a},d:function(){return c%=65521,t%=65521,(c&255)<<24|(c&65280)<<8|(t&255)<<8|t>>8}}},OC=function(c,t,e,i,a){if(!a&&(a={l:1},t.dictionary)){var r=t.dictionary.subarray(-32768),o=new ia(r.length+c.length);o.set(r),o.set(c,r.length),c=o,a.w=r.length}return MC(c,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(c.length)))*1.5):20:12+t.mem,e,i,a)},lE=function(c,t,e){for(;e;++t)c[t]=e,e>>>=8},DC=function(c,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(c[0]=120,c[1]=i<<6|(t.dictionary&&32),c[1]|=31-(c[0]<<8|c[1])%31,t.dictionary){var a=oE();a.p(t.dictionary),lE(c,2,a.d())}},kC=function(c,t){return((c[0]&15)!=8||c[0]>>4>7||(c[0]<<8|c[1])%31)&&xo(6,"invalid zlib data"),(c[1]>>5&1)==1&&xo(6,"invalid zlib data: "+(c[1]&32?"need":"unexpected")+" dictionary"),(c[1]>>3&4)+2};function HA(c,t){t||(t={});var e=oE();e.p(c);var i=OC(c,t,t.dictionary?6:2,4);return DC(i,t),lE(i,i.length-4,e.d()),i}function PC(c,t){return TC(c.subarray(kC(c),-4),{i:2},t,t)}var IC=typeof TextDecoder<"u"&&new TextDecoder,FC=0;try{IC.decode(rE,{stream:!0}),FC=1}catch{}var Ce=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function py(){Ce.console&&typeof Ce.console.log=="function"&&Ce.console.log.apply(Ce.console,arguments)}var ji={log:py,warn:function(c){Ce.console&&(typeof Ce.console.warn=="function"?Ce.console.warn.apply(Ce.console,arguments):py.call(null,arguments))},error:function(c){Ce.console&&(typeof Ce.console.error=="function"?Ce.console.error.apply(Ce.console,arguments):py(c))}};function gy(c,t,e){var i=new XMLHttpRequest;i.open("GET",c),i.responseType="blob",i.onload=function(){If(i.response,t,e)},i.onerror=function(){ji.error("could not download file")},i.send()}function b_(c){var t=new XMLHttpRequest;t.open("HEAD",c,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function b5(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(t)}}var M0,GA,If=Ce.saveAs||((typeof window>"u"?"undefined":Ci(window))!=="object"||window!==Ce?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(c,t,e){var i=Ce.URL||Ce.webkitURL,a=document.createElement("a");t=t||c.name||"download",a.download=t,a.rel="noopener",typeof c=="string"?(a.href=c,a.origin!==location.origin?b_(a.href)?gy(c,t,e):b5(a,a.target="_blank"):b5(a)):(a.href=i.createObjectURL(c),setTimeout(function(){i.revokeObjectURL(a.href)},4e4),setTimeout(function(){b5(a)},0))}:"msSaveOrOpenBlob"in navigator?function(c,t,e){if(t=t||c.name||"download",typeof c=="string")if(b_(c))gy(c,t,e);else{var i=document.createElement("a");i.href=c,i.target="_blank",setTimeout(function(){b5(i)})}else navigator.msSaveOrOpenBlob(function(a,r){return r===void 0?r={autoBom:!1}:Ci(r)!=="object"&&(ji.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(c,e),t)}:function(c,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof c=="string")return gy(c,t,e);var a=c.type==="application/octet-stream",r=/constructor/i.test(Ce.HTMLElement)||Ce.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&r)&&(typeof FileReader>"u"?"undefined":Ci(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var m=u.result;m=o?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=m:location=m,i=null},u.readAsDataURL(c)}else{var h=Ce.URL||Ce.webkitURL,p=h.createObjectURL(c);i?i.location=p:location.href=p,i=null,setTimeout(function(){h.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function cE(c){var t;c=c||"",this.ok=!1,c.charAt(0)=="#"&&(c=c.substr(1,6)),c={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[c=(c=c.replace(/ /g,"")).toLowerCase()]||c;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<e.length;i++){var a=e[i].re,r=e[i].process,o=a.exec(c);o&&(t=r(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),p=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),p.length==1&&(p="0"+p),"#"+u+h+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function my(c,t){var e=c[0],i=c[1],a=c[2],r=c[3];e=Vs(e,i,a,r,t[0],7,-680876936),r=Vs(r,e,i,a,t[1],12,-389564586),a=Vs(a,r,e,i,t[2],17,606105819),i=Vs(i,a,r,e,t[3],22,-1044525330),e=Vs(e,i,a,r,t[4],7,-176418897),r=Vs(r,e,i,a,t[5],12,1200080426),a=Vs(a,r,e,i,t[6],17,-1473231341),i=Vs(i,a,r,e,t[7],22,-45705983),e=Vs(e,i,a,r,t[8],7,1770035416),r=Vs(r,e,i,a,t[9],12,-1958414417),a=Vs(a,r,e,i,t[10],17,-42063),i=Vs(i,a,r,e,t[11],22,-1990404162),e=Vs(e,i,a,r,t[12],7,1804603682),r=Vs(r,e,i,a,t[13],12,-40341101),a=Vs(a,r,e,i,t[14],17,-1502002290),e=Ys(e,i=Vs(i,a,r,e,t[15],22,1236535329),a,r,t[1],5,-165796510),r=Ys(r,e,i,a,t[6],9,-1069501632),a=Ys(a,r,e,i,t[11],14,643717713),i=Ys(i,a,r,e,t[0],20,-373897302),e=Ys(e,i,a,r,t[5],5,-701558691),r=Ys(r,e,i,a,t[10],9,38016083),a=Ys(a,r,e,i,t[15],14,-660478335),i=Ys(i,a,r,e,t[4],20,-405537848),e=Ys(e,i,a,r,t[9],5,568446438),r=Ys(r,e,i,a,t[14],9,-1019803690),a=Ys(a,r,e,i,t[3],14,-187363961),i=Ys(i,a,r,e,t[8],20,1163531501),e=Ys(e,i,a,r,t[13],5,-1444681467),r=Ys(r,e,i,a,t[2],9,-51403784),a=Ys(a,r,e,i,t[7],14,1735328473),e=Xs(e,i=Ys(i,a,r,e,t[12],20,-1926607734),a,r,t[5],4,-378558),r=Xs(r,e,i,a,t[8],11,-2022574463),a=Xs(a,r,e,i,t[11],16,1839030562),i=Xs(i,a,r,e,t[14],23,-35309556),e=Xs(e,i,a,r,t[1],4,-1530992060),r=Xs(r,e,i,a,t[4],11,1272893353),a=Xs(a,r,e,i,t[7],16,-155497632),i=Xs(i,a,r,e,t[10],23,-1094730640),e=Xs(e,i,a,r,t[13],4,681279174),r=Xs(r,e,i,a,t[0],11,-358537222),a=Xs(a,r,e,i,t[3],16,-722521979),i=Xs(i,a,r,e,t[6],23,76029189),e=Xs(e,i,a,r,t[9],4,-640364487),r=Xs(r,e,i,a,t[12],11,-421815835),a=Xs(a,r,e,i,t[15],16,530742520),e=Ws(e,i=Xs(i,a,r,e,t[2],23,-995338651),a,r,t[0],6,-198630844),r=Ws(r,e,i,a,t[7],10,1126891415),a=Ws(a,r,e,i,t[14],15,-1416354905),i=Ws(i,a,r,e,t[5],21,-57434055),e=Ws(e,i,a,r,t[12],6,1700485571),r=Ws(r,e,i,a,t[3],10,-1894986606),a=Ws(a,r,e,i,t[10],15,-1051523),i=Ws(i,a,r,e,t[1],21,-2054922799),e=Ws(e,i,a,r,t[8],6,1873313359),r=Ws(r,e,i,a,t[15],10,-30611744),a=Ws(a,r,e,i,t[6],15,-1560198380),i=Ws(i,a,r,e,t[13],21,1309151649),e=Ws(e,i,a,r,t[4],6,-145523070),r=Ws(r,e,i,a,t[11],10,-1120210379),a=Ws(a,r,e,i,t[2],15,718787259),i=Ws(i,a,r,e,t[9],21,-343485551),c[0]=zh(e,c[0]),c[1]=zh(i,c[1]),c[2]=zh(a,c[2]),c[3]=zh(r,c[3])}function Gv(c,t,e,i,a,r){return t=zh(zh(t,c),zh(i,r)),zh(t<<a|t>>>32-a,e)}function Vs(c,t,e,i,a,r,o){return Gv(t&e|~t&i,c,t,a,r,o)}function Ys(c,t,e,i,a,r,o){return Gv(t&i|e&~i,c,t,a,r,o)}function Xs(c,t,e,i,a,r,o){return Gv(t^e^i,c,t,a,r,o)}function Ws(c,t,e,i,a,r,o){return Gv(e^(t|~i),c,t,a,r,o)}function uE(c){var t,e=c.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c.length;t+=64)my(i,BC(c.substring(t-64,t)));c=c.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<c.length;t++)a[t>>2]|=c.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(my(i,a),t=0;t<16;t++)a[t]=0;return a[14]=8*e,my(i,a),i}function BC(c){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=c.charCodeAt(t)+(c.charCodeAt(t+1)<<8)+(c.charCodeAt(t+2)<<16)+(c.charCodeAt(t+3)<<24);return e}M0=Ce.atob.bind(Ce),GA=Ce.btoa.bind(Ce);var y_="0123456789abcdef".split("");function jC(c){for(var t="",e=0;e<4;e++)t+=y_[c>>8*e+4&15]+y_[c>>8*e&15];return t}function zC(c){return String.fromCharCode((255&c)>>0,(65280&c)>>8,(16711680&c)>>16,(4278190080&c)>>24)}function VA(c){return uE(c).map(zC).join("")}var qC=function(c){for(var t=0;t<c.length;t++)c[t]=jC(c[t]);return c.join("")}(uE("hello"))!="5d41402abc4b2a76b9719d911017c592";function zh(c,t){if(qC){var e=(65535&c)+(65535&t);return(c>>16)+(t>>16)+(e>>16)<<16|65535&e}return c+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function YA(c,t){var e,i,a,r;if(c!==e){for(var o=(a=c,r=1+(256/c.length>>0),new Array(r+1).join(a)),u=[],h=0;h<256;h++)u[h]=h;var p=0;for(h=0;h<256;h++){var m=u[h];p=(p+m+o.charCodeAt(h))%256,u[h]=u[p],u[p]=m}e=c,i=u}else u=i;var A=t.length,w=0,y=0,N="";for(h=0;h<A;h++)y=(y+(m=u[w=(w+1)%256]))%256,u[w]=u[y],u[y]=m,o=u[(u[w]+u[y])%256],N+=String.fromCharCode(t.charCodeAt(h)^o);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var A_={print:4,modify:8,copy:16,"annot-forms":32};function $p(c,t,e,i){this.v=1,this.r=2;var a=192;c.forEach(function(u){if(A_.perm!==void 0)throw new Error("Invalid permission: "+u);a+=A_[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var r=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(r,o),this.P=-(1+(255^a)),this.encryptionKey=VA(r+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=YA(this.encryptionKey,this.padding)}function Qp(c){if(/[^\u0000-\u00ff]/.test(c))throw new Error("Invalid PDF Name Object: "+c+", Only accept ASCII characters.");for(var t="",e=c.length,i=0;i<e;i++){var a=c.charCodeAt(i);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=c[i]}return t}function w_(c){if(Ci(c)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,a){if(a=a||!1,typeof e!="string"||typeof i!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var r=Math.random().toString(35);return t[e][r]=[i,!!a],r},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var r in t[e]){var o=t[e][r];try{o[0].apply(c,i)}catch(u){Ce.console&&ji.error("jsPDF PubSub Error",u.message,u)}o[1]&&a.push(r)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function gv(c){if(!(this instanceof gv))return new gv(c);var t="opacity,stroke-opacity".split(",");for(var e in c)c.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=c[e]);this.id="",this.objectNumber=-1}function hE(c,t){this.gState=c,this.matrix=t,this.id="",this.objectNumber=-1}function Ff(c,t,e,i,a){if(!(this instanceof Ff))return new Ff(c,t,e,i,a);this.type=c==="axial"?2:3,this.coords=t,this.colors=e,hE.call(this,i,a)}function Jp(c,t,e,i,a){if(!(this instanceof Jp))return new Jp(c,t,e,i,a);this.boundingBox=c,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,hE.call(this,i,a)}function Ne(c){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],a=arguments[2],r=arguments[3],o=[],u=1,h=16,p="S",m=null;Ci(c=c||{})==="object"&&(e=c.orientation,i=c.unit||i,a=c.format||a,r=c.compress||c.compressPdf||r,(m=c.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),u=typeof c.userUnit=="number"?Math.abs(c.userUnit):1,c.precision!==void 0&&(t=c.precision),c.floatPrecision!==void 0&&(h=c.floatPrecision),p=c.defaultPathOperation||"S"),o=c.filters||(r===!0?["FlateEncode"]:o),i=i||"mm",e=(""+(e||"P")).toLowerCase();var A=c.putOnlyUsedFonts||!1,w={},y={internal:{},__private__:{}};y.__private__.PubSub=w_;var N="1.3",E=y.__private__.getPdfVersion=function(){return N};y.__private__.setPdfVersion=function(_){N=_};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return T};var L=y.__private__.getPageFormat=function(_){return T[_]};a=a||"a4";var M={COMPAT:"compat",ADVANCED:"advanced"},j=M.COMPAT;function $(){this.saveGraphicsState(),lt(new pe(ne,0,0,-ne,0,Zo()*ne).toString()+" cm"),this.setFontSize(this.getFontSize()/ne),p="n",j=M.ADVANCED}function K(){this.restoreGraphicsState(),p="S",j=M.COMPAT}var at=y.__private__.combineFontStyleAndFontWeight=function(_,P){if(_=="bold"&&P=="normal"||_=="bold"&&P==400||_=="normal"&&P=="italic"||_=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(_=P==400||P==="normal"?_==="italic"?"italic":"normal":P!=700&&P!=="bold"||_!=="normal"?(P==700?"bold":P)+""+_:"bold"),_};y.advancedAPI=function(_){var P=j===M.COMPAT;return P&&$.call(this),typeof _!="function"||(_(this),P&&K.call(this)),this},y.compatAPI=function(_){var P=j===M.ADVANCED;return P&&K.call(this),typeof _!="function"||(_(this),P&&$.call(this)),this},y.isAdvancedAPI=function(){return j===M.ADVANCED};var tt,Z=function(_){if(j!==M.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ut=y.roundToPrecision=y.__private__.roundToPrecision=function(_,P){var it=t||P;if(isNaN(_)||isNaN(it))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(it).replace(/0+$/,"")};tt=y.hpf=y.__private__.hpf=typeof h=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ut(_,h)}:h==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ut(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ut(_,16)};var At=y.f2=y.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return ut(_,2)},z=y.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return ut(_,3)},X=y.scale=y.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return j===M.COMPAT?_*ne:j===M.ADVANCED?_:void 0},ot=function(_){return j===M.COMPAT?Zo()-_:j===M.ADVANCED?_:void 0},nt=function(_){return X(ot(_))};y.__private__.setPrecision=y.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(t=parseInt(_,10))};var Et,U="00000000000000000000000000000000",J=y.__private__.getFileId=function(){return U},ht=y.__private__.setFileId=function(_){return U=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Bn=new $p(m.userPermissions,m.userPassword,m.ownerPassword,U)),U};y.setFileId=function(_){return ht(_),this},y.getFileId=function(){return J()};var yt=y.__private__.convertDateToPDFDate=function(_){var P=_.getTimezoneOffset(),it=P<0?"+":"-",dt=Math.floor(Math.abs(P/60)),xt=Math.abs(P%60),kt=[it,Q(dt),"'",Q(xt),"'"].join("");return["D:",_.getFullYear(),Q(_.getMonth()+1),Q(_.getDate()),Q(_.getHours()),Q(_.getMinutes()),Q(_.getSeconds()),kt].join("")},V=y.__private__.convertPDFDateToDate=function(_){var P=parseInt(_.substr(2,4),10),it=parseInt(_.substr(6,2),10)-1,dt=parseInt(_.substr(8,2),10),xt=parseInt(_.substr(10,2),10),kt=parseInt(_.substr(12,2),10),Gt=parseInt(_.substr(14,2),10);return new Date(P,it,dt,xt,kt,Gt,0)},ft=y.__private__.setCreationDate=function(_){var P;if(_===void 0&&(_=new Date),_ instanceof Date)P=yt(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=_}return Et=P},O=y.__private__.getCreationDate=function(_){var P=Et;return _==="jsDate"&&(P=V(Et)),P};y.setCreationDate=function(_){return ft(_),this},y.getCreationDate=function(_){return O(_)};var H,Q=y.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},rt=y.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},st=0,mt=[],St=[],Ct=0,Vt=[],Ht=[],Xt=!1,Kt=St,be=function(){st=0,Ct=0,St=[],mt=[],Vt=[],ra=mn(),oa=mn()};y.__private__.setCustomOutputDestination=function(_){Xt=!0,Kt=_};var Pt=function(_){Xt||(Kt=_)};y.__private__.resetCustomOutputDestination=function(){Xt=!1,Kt=St};var lt=y.__private__.out=function(_){return _=_.toString(),Ct+=_.length+1,Kt.push(_),Kt},we=y.__private__.write=function(_){return lt(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},ue=y.__private__.getArrayBuffer=function(_){for(var P=_.length,it=new ArrayBuffer(P),dt=new Uint8Array(it);P--;)dt[P]=_.charCodeAt(P);return it},Yt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Yt};var Qt=c.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(_){return Qt=j===M.ADVANCED?_/ne:_,this};var Jt,te=y.__private__.getFontSize=y.getFontSize=function(){return j===M.COMPAT?Qt:Qt*ne},me=c.R2L||!1;y.__private__.setR2L=y.setR2L=function(_){return me=_,this},y.__private__.getR2L=y.getR2L=function(){return me};var ke,qe=y.__private__.setZoomMode=function(_){var P=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))Jt=_;else if(isNaN(_)){if(P.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');Jt=_}else Jt=parseInt(_,10)};y.__private__.getZoomMode=function(){return Jt};var Be,Me=y.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');ke=_};y.__private__.getPageMode=function(){return ke};var Ze=y.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Be=_};y.__private__.getLayoutMode=function(){return Be},y.__private__.setDisplayMode=y.setDisplayMode=function(_,P,it){return qe(_),Ze(P),Me(it),this};var he={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(_){if(Object.keys(he).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return he[_]},y.__private__.getDocumentProperties=function(){return he},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(_){for(var P in he)he.hasOwnProperty(P)&&_[P]&&(he[P]=_[P]);return this},y.__private__.setDocumentProperty=function(_,P){if(Object.keys(he).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return he[_]=P};var Xe,ne,ns,Je,ks,si={},Si={},Ps=[],pi={},Uo={},Vi={},na={},sa=null,Qi=0,Oe=[],ui=new w_(y),Wr=c.hotfixes||[],_n={},za={},wr=[],pe=function _(P,it,dt,xt,kt,Gt){if(!(this instanceof _))return new _(P,it,dt,xt,kt,Gt);isNaN(P)&&(P=1),isNaN(it)&&(it=0),isNaN(dt)&&(dt=0),isNaN(xt)&&(xt=1),isNaN(kt)&&(kt=0),isNaN(Gt)&&(Gt=0),this._matrix=[P,it,dt,xt,kt,Gt]};Object.defineProperty(pe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(pe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(pe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(pe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(pe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(pe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(pe.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(pe.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(pe.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(pe.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(pe.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(pe.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(pe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pe.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(tt).join(_)},pe.prototype.multiply=function(_){var P=_.sx*this.sx+_.shy*this.shx,it=_.sx*this.shy+_.shy*this.sy,dt=_.shx*this.sx+_.sy*this.shx,xt=_.shx*this.shy+_.sy*this.sy,kt=_.tx*this.sx+_.ty*this.shx+this.tx,Gt=_.tx*this.shy+_.ty*this.sy+this.ty;return new pe(P,it,dt,xt,kt,Gt)},pe.prototype.decompose=function(){var _=this.sx,P=this.shy,it=this.shx,dt=this.sy,xt=this.tx,kt=this.ty,Gt=Math.sqrt(_*_+P*P),ie=(_/=Gt)*it+(P/=Gt)*dt;it-=_*ie,dt-=P*ie;var fe=Math.sqrt(it*it+dt*dt);return ie/=fe,_*(dt/=fe)<P*(it/=fe)&&(_=-_,P=-P,ie=-ie,Gt=-Gt),{scale:new pe(Gt,0,0,fe,0,0),translate:new pe(1,0,0,1,xt,kt),rotate:new pe(_,P,-P,_,0,0),skew:new pe(1,0,ie,1,0,0)}},pe.prototype.toString=function(_){return this.join(" ")},pe.prototype.inversed=function(){var _=this.sx,P=this.shy,it=this.shx,dt=this.sy,xt=this.tx,kt=this.ty,Gt=1/(_*dt-P*it),ie=dt*Gt,fe=-P*Gt,Ie=-it*Gt,De=_*Gt;return new pe(ie,fe,Ie,De,-ie*xt-Ie*kt,-fe*xt-De*kt)},pe.prototype.applyToPoint=function(_){var P=_.x*this.sx+_.y*this.shx+this.tx,it=_.x*this.shy+_.y*this.sy+this.ty;return new yu(P,it)},pe.prototype.applyToRectangle=function(_){var P=this.applyToPoint(_),it=this.applyToPoint(new yu(_.x+_.w,_.y+_.h));return new of(P.x,P.y,it.x-P.x,it.y-P.y)},pe.prototype.clone=function(){var _=this.sx,P=this.shy,it=this.shx,dt=this.sy,xt=this.tx,kt=this.ty;return new pe(_,P,it,dt,xt,kt)},y.Matrix=pe;var Ti=y.matrixMult=function(_,P){return P.multiply(_)},Yi=new pe(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Yi;var xn=function(_,P){if(!Uo[_]){var it=(P instanceof Ff?"Sh":"P")+(Object.keys(pi).length+1).toString(10);P.id=it,Uo[_]=it,pi[it]=P,ui.publish("addPattern",P)}};y.ShadingPattern=Ff,y.TilingPattern=Jp,y.addShadingPattern=function(_,P){return Z("addShadingPattern()"),xn(_,P),this},y.beginTilingPattern=function(_){Z("beginTilingPattern()"),Au(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},y.endTilingPattern=function(_,P){Z("endTilingPattern()"),P.stream=Ht[H].join(`
`),xn(_,P),ui.publish("endTilingPattern",P),wr.pop().restore()};var on=y.__private__.newObject=function(){var _=mn();return aa(_,!0),_},mn=y.__private__.newObjectDeferred=function(){return st++,mt[st]=function(){return Ct},st},aa=function(_,P){return P=typeof P=="boolean"&&P,mt[_]=Ct,P&&lt(_+" 0 obj"),_},Xl=y.__private__.newAdditionalObject=function(){var _={objId:mn(),content:""};return Vt.push(_),_},ra=mn(),oa=mn(),ss=y.__private__.decodeColorString=function(_){var P=_.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length===5&&(P[4]==="k"||P[4]==="K")&&(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var it=parseFloat(P[0]);P=[it,it,it,"r"]}for(var dt="#",xt=0;xt<3;xt++)dt+=("0"+Math.floor(255*parseFloat(P[xt])).toString(16)).slice(-2);return dt},as=y.__private__.encodeColorString=function(_){var P;typeof _=="string"&&(_={ch1:_});var it=_.ch1,dt=_.ch2,xt=_.ch3,kt=_.ch4,Gt=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof it=="string"&&it.charAt(0)!=="#"){var ie=new cE(it);if(ie.ok)it=ie.toHex();else if(!/^\d*\.?\d*$/.test(it))throw new Error('Invalid color "'+it+'" passed to jsPDF.encodeColorString.')}if(typeof it=="string"&&/^#[0-9A-Fa-f]{3}$/.test(it)&&(it="#"+it[1]+it[1]+it[2]+it[2]+it[3]+it[3]),typeof it=="string"&&/^#[0-9A-Fa-f]{6}$/.test(it)){var fe=parseInt(it.substr(1),16);it=fe>>16&255,dt=fe>>8&255,xt=255&fe}if(dt===void 0||kt===void 0&&it===dt&&dt===xt)if(typeof it=="string")P=it+" "+Gt[0];else switch(_.precision){case 2:P=At(it/255)+" "+Gt[0];break;case 3:default:P=z(it/255)+" "+Gt[0]}else if(kt===void 0||Ci(kt)==="object"){if(kt&&!isNaN(kt.a)&&kt.a===0)return P=["1.","1.","1.",Gt[1]].join(" ");if(typeof it=="string")P=[it,dt,xt,Gt[1]].join(" ");else switch(_.precision){case 2:P=[At(it/255),At(dt/255),At(xt/255),Gt[1]].join(" ");break;default:case 3:P=[z(it/255),z(dt/255),z(xt/255),Gt[1]].join(" ")}}else if(typeof it=="string")P=[it,dt,xt,kt,Gt[2]].join(" ");else switch(_.precision){case 2:P=[At(it),At(dt),At(xt),At(kt),Gt[2]].join(" ");break;case 3:default:P=[z(it),z(dt),z(xt),z(kt),Gt[2]].join(" ")}return P},Is=y.__private__.getFilters=function(){return o},Kn=y.__private__.putStream=function(_){var P=(_=_||{}).data||"",it=_.filters||Is(),dt=_.alreadyAppliedFilters||[],xt=_.addLength1||!1,kt=P.length,Gt=_.objectId,ie=function(cn){return cn};if(m!==null&&Gt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(ie=Bn.encryptor(Gt,0));var fe={};it===!0&&(it=["FlateEncode"]);var Ie=_.additionalKeyValues||[],De=(fe=Ne.API.processDataByFilters!==void 0?Ne.API.processDataByFilters(P,it):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(dt)?dt.join(" "):dt.toString());if(fe.data.length!==0&&(Ie.push({key:"Length",value:fe.data.length}),xt===!0&&Ie.push({key:"Length1",value:kt})),De.length!=0)if(De.split("/").length-1==1)Ie.push({key:"Filter",value:De});else{Ie.push({key:"Filter",value:"["+De+"]"});for(var ti=0;ti<Ie.length;ti+=1)if(Ie[ti].key==="DecodeParms"){for(var zi=[],Xi=0;Xi<fe.reverseChain.split("/").length-1;Xi+=1)zi.push("null");zi.push(Ie[ti].value),Ie[ti].value="["+zi.join(" ")+"]"}}lt("<<");for(var ln=0;ln<Ie.length;ln++)lt("/"+Ie[ln].key+" "+Ie[ln].value);lt(">>"),fe.data.length!==0&&(lt("stream"),lt(ie(fe.data)),lt("endstream"))},_i=y.__private__.putPage=function(_){var P=_.number,it=_.data,dt=_.objId,xt=_.contentsObjId;aa(dt,!0),lt("<</Type /Page"),lt("/Parent "+_.rootDictionaryObjId+" 0 R"),lt("/Resources "+_.resourceDictionaryObjId+" 0 R"),lt("/MediaBox ["+parseFloat(tt(_.mediaBox.bottomLeftX))+" "+parseFloat(tt(_.mediaBox.bottomLeftY))+" "+tt(_.mediaBox.topRightX)+" "+tt(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&lt("/CropBox ["+tt(_.cropBox.bottomLeftX)+" "+tt(_.cropBox.bottomLeftY)+" "+tt(_.cropBox.topRightX)+" "+tt(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&lt("/BleedBox ["+tt(_.bleedBox.bottomLeftX)+" "+tt(_.bleedBox.bottomLeftY)+" "+tt(_.bleedBox.topRightX)+" "+tt(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&lt("/TrimBox ["+tt(_.trimBox.bottomLeftX)+" "+tt(_.trimBox.bottomLeftY)+" "+tt(_.trimBox.topRightX)+" "+tt(_.trimBox.topRightY)+"]"),_.artBox!==null&&lt("/ArtBox ["+tt(_.artBox.bottomLeftX)+" "+tt(_.artBox.bottomLeftY)+" "+tt(_.artBox.topRightX)+" "+tt(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&lt("/UserUnit "+_.userUnit),ui.publish("putPage",{objId:dt,pageContext:Oe[P],pageNumber:P,page:it}),lt("/Contents "+xt+" 0 R"),lt(">>"),lt("endobj");var kt=it.join(`
`);return j===M.ADVANCED&&(kt+=`
Q`),aa(xt,!0),Kn({data:kt,filters:Is(),objectId:xt}),lt("endobj"),dt},Ho=y.__private__.putPages=function(){var _,P,it=[];for(_=1;_<=Qi;_++)Oe[_].objId=mn(),Oe[_].contentsObjId=mn();for(_=1;_<=Qi;_++)it.push(_i({number:_,data:Ht[_],objId:Oe[_].objId,contentsObjId:Oe[_].contentsObjId,mediaBox:Oe[_].mediaBox,cropBox:Oe[_].cropBox,bleedBox:Oe[_].bleedBox,trimBox:Oe[_].trimBox,artBox:Oe[_].artBox,userUnit:Oe[_].userUnit,rootDictionaryObjId:ra,resourceDictionaryObjId:oa}));aa(ra,!0),lt("<</Type /Pages");var dt="/Kids [";for(P=0;P<Qi;P++)dt+=it[P]+" 0 R ";lt(dt+"]"),lt("/Count "+Qi),lt(">>"),lt("endobj"),ui.publish("postPutPages")},Wl=function(_){ui.publish("putFont",{font:_,out:lt,newObject:on,putStream:Kn}),_.isAlreadyPutted!==!0&&(_.objectNumber=on(),lt("<<"),lt("/Type /Font"),lt("/BaseFont /"+Qp(_.postScriptName)),lt("/Subtype /Type1"),typeof _.encoding=="string"&&lt("/Encoding /"+_.encoding),lt("/FirstChar 32"),lt("/LastChar 255"),lt(">>"),lt("endobj"))},_a=function(){for(var _ in si)si.hasOwnProperty(_)&&(A===!1||A===!0&&w.hasOwnProperty(_))&&Wl(si[_])},qa=function(_){_.objectNumber=on();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[tt(_.x),tt(_.y),tt(_.x+_.width),tt(_.y+_.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var it=_.pages[1].join(`
`);Kn({data:it,additionalKeyValues:P,objectId:_.objectNumber}),lt("endobj")},cu=function(){for(var _ in _n)_n.hasOwnProperty(_)&&qa(_n[_])},Kh=function(_,P){var it,dt=[],xt=1/(P-1);for(it=0;it<1;it+=xt)dt.push(it);if(dt.push(1),_[0].offset!=0){var kt={offset:0,color:_[0].color};_.unshift(kt)}if(_[_.length-1].offset!=1){var Gt={offset:1,color:_[_.length-1].color};_.push(Gt)}for(var ie="",fe=0,Ie=0;Ie<dt.length;Ie++){for(it=dt[Ie];it>_[fe+1].offset;)fe++;var De=_[fe].offset,ti=(it-De)/(_[fe+1].offset-De),zi=_[fe].color,Xi=_[fe+1].color;ie+=rt(Math.round((1-ti)*zi[0]+ti*Xi[0]).toString(16))+rt(Math.round((1-ti)*zi[1]+ti*Xi[1]).toString(16))+rt(Math.round((1-ti)*zi[2]+ti*Xi[2]).toString(16))}return ie.trim()},Jd=function(_,P){P||(P=21);var it=on(),dt=Kh(_.colors,P),xt=[];xt.push({key:"FunctionType",value:"0"}),xt.push({key:"Domain",value:"[0.0 1.0]"}),xt.push({key:"Size",value:"["+P+"]"}),xt.push({key:"BitsPerSample",value:"8"}),xt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Kn({data:dt,additionalKeyValues:xt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:it}),lt("endobj"),_.objectNumber=on(),lt("<< /ShadingType "+_.type),lt("/ColorSpace /DeviceRGB");var kt="/Coords ["+tt(parseFloat(_.coords[0]))+" "+tt(parseFloat(_.coords[1]))+" ";_.type===2?kt+=tt(parseFloat(_.coords[2]))+" "+tt(parseFloat(_.coords[3])):kt+=tt(parseFloat(_.coords[2]))+" "+tt(parseFloat(_.coords[3]))+" "+tt(parseFloat(_.coords[4]))+" "+tt(parseFloat(_.coords[5])),lt(kt+="]"),_.matrix&&lt("/Matrix ["+_.matrix.toString()+"]"),lt("/Function "+it+" 0 R"),lt("/Extend [true true]"),lt(">>"),lt("endobj")},g1=function(_,P){var it=mn(),dt=on();P.push({resourcesOid:it,objectOid:dt}),_.objectNumber=dt;var xt=[];xt.push({key:"Type",value:"/Pattern"}),xt.push({key:"PatternType",value:"1"}),xt.push({key:"PaintType",value:"1"}),xt.push({key:"TilingType",value:"1"}),xt.push({key:"BBox",value:"["+_.boundingBox.map(tt).join(" ")+"]"}),xt.push({key:"XStep",value:tt(_.xStep)}),xt.push({key:"YStep",value:tt(_.yStep)}),xt.push({key:"Resources",value:it+" 0 R"}),_.matrix&&xt.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Kn({data:_.stream,additionalKeyValues:xt,objectId:_.objectNumber}),lt("endobj")},Kr=function(_){var P;for(P in pi)pi.hasOwnProperty(P)&&(pi[P]instanceof Ff?Jd(pi[P]):pi[P]instanceof Jp&&g1(pi[P],_))},Kl=function(_){for(var P in _.objectNumber=on(),lt("<<"),_)switch(P){case"opacity":lt("/ca "+At(_[P]));break;case"stroke-opacity":lt("/CA "+At(_[P]))}lt(">>"),lt("endobj")},Ua=function(){var _;for(_ in Vi)Vi.hasOwnProperty(_)&&Kl(Vi[_])},$l=function(){for(var _ in lt("/XObject <<"),_n)_n.hasOwnProperty(_)&&_n[_].objectNumber>=0&&lt("/"+_+" "+_n[_].objectNumber+" 0 R");ui.publish("putXobjectDict"),lt(">>")},tp=function(){Bn.oid=on(),lt("<<"),lt("/Filter /Standard"),lt("/V "+Bn.v),lt("/R "+Bn.r),lt("/U <"+Bn.toHexString(Bn.U)+">"),lt("/O <"+Bn.toHexString(Bn.O)+">"),lt("/P "+Bn.P),lt(">>"),lt("endobj")},$r=function(){for(var _ in lt("/Font <<"),si)si.hasOwnProperty(_)&&(A===!1||A===!0&&w.hasOwnProperty(_))&&lt("/"+_+" "+si[_].objectNumber+" 0 R");lt(">>")},$h=function(){if(Object.keys(pi).length>0){for(var _ in lt("/Shading <<"),pi)pi.hasOwnProperty(_)&&pi[_]instanceof Ff&&pi[_].objectNumber>=0&&lt("/"+_+" "+pi[_].objectNumber+" 0 R");ui.publish("putShadingPatternDict"),lt(">>")}},Go=function(_){if(Object.keys(pi).length>0){for(var P in lt("/Pattern <<"),pi)pi.hasOwnProperty(P)&&pi[P]instanceof y.TilingPattern&&pi[P].objectNumber>=0&&pi[P].objectNumber<_&&lt("/"+P+" "+pi[P].objectNumber+" 0 R");ui.publish("putTilingPatternDict"),lt(">>")}},m1=function(){if(Object.keys(Vi).length>0){var _;for(_ in lt("/ExtGState <<"),Vi)Vi.hasOwnProperty(_)&&Vi[_].objectNumber>=0&&lt("/"+_+" "+Vi[_].objectNumber+" 0 R");ui.publish("putGStateDict"),lt(">>")}},Zi=function(_){aa(_.resourcesOid,!0),lt("<<"),lt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),$r(),$h(),Go(_.objectOid),m1(),$l(),lt(">>"),lt("endobj")},bs=function(){var _=[];_a(),Ua(),cu(),Kr(_),ui.publish("putResources"),_.forEach(Zi),Zi({resourcesOid:oa,objectOid:Number.MAX_SAFE_INTEGER}),ui.publish("postPutResources")},Qh=function(){ui.publish("putAdditionalObjects");for(var _=0;_<Vt.length;_++){var P=Vt[_];aa(P.objId,!0),lt(P.content),lt("endobj")}ui.publish("postPutAdditionalObjects")},ep=function(_){Si[_.fontName]=Si[_.fontName]||{},Si[_.fontName][_.fontStyle]=_.id},Vo=function(_,P,it,dt,xt){var kt={id:"F"+(Object.keys(si).length+1).toString(10),postScriptName:_,fontName:P,fontStyle:it,encoding:dt,isStandardFont:xt||!1,metadata:{}};return ui.publish("addFont",{font:kt,instance:this}),si[kt.id]=kt,ep(kt),kt.id},ip=function(_){for(var P=0,it=Yt.length;P<it;P++){var dt=Vo.call(this,_[P][0],_[P][1],_[P][2],Yt[P][3],!0);A===!1&&(w[dt]=!0);var xt=_[P][0].split("-");ep({id:dt,fontName:xt[0],fontStyle:xt[1]||""})}ui.publish("addFonts",{fonts:si,dictionary:Si})},Fs=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(dt){var P=dt.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var it="Error in function "+P.split(`
`)[0].split("<")[0]+": "+dt.message;if(!Ce.console)throw new Error(it);Ce.console.error(it,dt),Ce.alert&&alert(it)}},_.foo.bar=_,_.foo},uu=function(_,P){var it,dt,xt,kt,Gt,ie,fe,Ie,De;if(xt=(P=P||{}).sourceEncoding||"Unicode",Gt=P.outputEncoding,(P.autoencode||Gt)&&si[Xe].metadata&&si[Xe].metadata[xt]&&si[Xe].metadata[xt].encoding&&(kt=si[Xe].metadata[xt].encoding,!Gt&&si[Xe].encoding&&(Gt=si[Xe].encoding),!Gt&&kt.codePages&&(Gt=kt.codePages[0]),typeof Gt=="string"&&(Gt=kt[Gt]),Gt)){for(fe=!1,ie=[],it=0,dt=_.length;it<dt;it++)(Ie=Gt[_.charCodeAt(it)])?ie.push(String.fromCharCode(Ie)):ie.push(_[it]),ie[it].charCodeAt(0)>>8&&(fe=!0);_=ie.join("")}for(it=_.length;fe===void 0&&it!==0;)_.charCodeAt(it-1)>>8&&(fe=!0),it--;if(!fe)return _;for(ie=P.noBOM?[]:[254,255],it=0,dt=_.length;it<dt;it++){if((De=(Ie=_.charCodeAt(it))>>8)>>8)throw new Error("Character at position "+it+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ie.push(De),ie.push(Ie-(De<<8))}return String.fromCharCode.apply(void 0,ie)},Fi=y.__private__.pdfEscape=y.pdfEscape=function(_,P){return uu(_,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ql=y.__private__.beginPage=function(_){Ht[++Qi]=[],Oe[Qi]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Qr(Qi),Pt(Ht[H])},Zh=function(_,P){var it,dt,xt;switch(e=P||e,typeof _=="string"&&(it=L(_.toLowerCase()),Array.isArray(it)&&(dt=it[0],xt=it[1])),Array.isArray(_)&&(dt=_[0]*ne,xt=_[1]*ne),isNaN(dt)&&(dt=a[0],xt=a[1]),(dt>14400||xt>14400)&&(ji.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),dt=Math.min(14400,dt),xt=Math.min(14400,xt)),a=[dt,xt],e.substr(0,1)){case"l":xt>dt&&(a=[xt,dt]);break;case"p":dt>xt&&(a=[xt,dt])}Ql(a),lp(Ko),lt(Ha),rf!==0&&lt(rf+" J"),bu!==0&&lt(bu+" j"),ui.publish("addPage",{pageNumber:Qi})},Jh=function(_){_>0&&_<=Qi&&(Ht.splice(_,1),Oe.splice(_,1),Qi--,H>Qi&&(H=Qi),this.setPage(H))},Qr=function(_){_>0&&_<=Qi&&(H=_)},np=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Ht.length-1},tf=function(_,P,it){var dt,xt=void 0;return it=it||{},_=_!==void 0?_:si[Xe].fontName,P=P!==void 0?P:si[Xe].fontStyle,dt=_.toLowerCase(),Si[dt]!==void 0&&Si[dt][P]!==void 0?xt=Si[dt][P]:Si[_]!==void 0&&Si[_][P]!==void 0?xt=Si[_][P]:it.disableWarning===!1&&ji.warn("Unable to look up font label for font '"+_+"', '"+P+"'. Refer to getFontList() for available fonts."),xt||it.noFallback||(xt=Si.times[P])==null&&(xt=Si.times.normal),xt},Yo=y.__private__.putInfo=function(){var _=on(),P=function(dt){return dt};for(var it in m!==null&&(P=Bn.encryptor(_,0)),lt("<<"),lt("/Producer ("+Fi(P("jsPDF "+Ne.version))+")"),he)he.hasOwnProperty(it)&&he[it]&&lt("/"+it.substr(0,1).toUpperCase()+it.substr(1)+" ("+Fi(P(he[it]))+")");lt("/CreationDate ("+Fi(P(Et))+")"),lt(">>"),lt("endobj")},ef=y.__private__.putCatalog=function(_){var P=(_=_||{}).rootDictionaryObjId||ra;switch(on(),lt("<<"),lt("/Type /Catalog"),lt("/Pages "+P+" 0 R"),Jt||(Jt="fullwidth"),Jt){case"fullwidth":lt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":lt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":lt("/OpenAction [3 0 R /Fit]");break;case"original":lt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var it=""+Jt;it.substr(it.length-1)==="%"&&(Jt=parseInt(Jt)/100),typeof Jt=="number"&&lt("/OpenAction [3 0 R /XYZ null null "+At(Jt)+"]")}switch(Be||(Be="continuous"),Be){case"continuous":lt("/PageLayout /OneColumn");break;case"single":lt("/PageLayout /SinglePage");break;case"two":case"twoleft":lt("/PageLayout /TwoColumnLeft");break;case"tworight":lt("/PageLayout /TwoColumnRight")}ke&&lt("/PageMode /"+ke),ui.publish("putCatalog"),lt(">>"),lt("endobj")},sp=y.__private__.putTrailer=function(){lt("trailer"),lt("<<"),lt("/Size "+(st+1)),lt("/Root "+st+" 0 R"),lt("/Info "+(st-1)+" 0 R"),m!==null&&lt("/Encrypt "+Bn.oid+" 0 R"),lt("/ID [ <"+U+"> <"+U+"> ]"),lt(">>")},ap=y.__private__.putHeader=function(){lt("%PDF-"+N),lt("%")},nf=y.__private__.putXRef=function(){var _="0000000000";lt("xref"),lt("0 "+(st+1)),lt("0000000000 65535 f ");for(var P=1;P<=st;P++)typeof mt[P]=="function"?lt((_+mt[P]()).slice(-10)+" 00000 n "):mt[P]!==void 0?lt((_+mt[P]).slice(-10)+" 00000 n "):lt("0000000000 00000 n ")},Zr=y.__private__.buildDocument=function(){be(),Pt(St),ui.publish("buildDocument"),ap(),Ho(),Qh(),bs(),m!==null&&tp(),Yo(),ef();var _=Ct;return nf(),sp(),lt("startxref"),lt(""+_),lt("%%EOF"),Pt(Ht[H]),St.join(`
`)},hu=y.__private__.getBlob=function(_){return new Blob([ue(_)],{type:"application/pdf"})},Jr=y.output=y.__private__.output=Fs(function(_,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",_){case void 0:return Zr();case"save":y.save(P.filename);break;case"arraybuffer":return ue(Zr());case"blob":return hu(Zr());case"bloburi":case"bloburl":if(Ce.URL!==void 0&&typeof Ce.URL.createObjectURL=="function")return Ce.URL&&Ce.URL.createObjectURL(hu(Zr()))||void 0;ji.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var it="",dt=Zr();try{it=GA(dt)}catch{it=GA(unescape(encodeURIComponent(dt)))}return"data:application/pdf;filename="+P.filename+";base64,"+it;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ce)==="[object Window]"){var xt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",kt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(xt=P.pdfObjectUrl,kt="");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xt+'"'+kt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",ie=Ce.open();return ie!==null&&ie.document.write(Gt),ie}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ce)==="[object Window]"){var fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Ie=Ce.open();if(Ie!==null){Ie.document.write(fe);var De=this;Ie.document.documentElement.querySelector("#pdfViewer").onload=function(){Ie.document.title=P.filename,Ie.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(De.output("bloburl"))}}return Ie}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ce)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ti='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',zi=Ce.open();if(zi!==null&&(zi.document.write(ti),zi.document.title=P.filename),zi||typeof safari>"u")return zi;break;case"datauri":case"dataurl":return Ce.document.location.href=this.output("datauristring",P);default:return null}}),fu=function(_){return Array.isArray(Wr)===!0&&Wr.indexOf(_)>-1};switch(i){case"pt":ne=1;break;case"mm":ne=72/25.4;break;case"cm":ne=72/2.54;break;case"in":ne=72;break;case"px":ne=fu("px_scaling")==1?.75:96/72;break;case"pc":case"em":ne=12;break;case"ex":ne=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);ne=i}var Bn=null;ft(),ht();var Xo=function(_){return m!==null?Bn.encryptor(_,0):function(P){return P}},to=y.__private__.getPageInfo=y.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Oe[_].objId,pageNumber:_,pageContext:Oe[_]}},Te=y.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in Oe)if(Oe[P].objId===_)break;return to(P)},sf=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Oe[H].objId,pageNumber:H,pageContext:Oe[H]}};y.addPage=function(){return Zh.apply(this,arguments),this},y.setPage=function(){return Qr.apply(this,arguments),Pt.call(this,Ht[H]),this},y.insertPage=function(_){return this.addPage(),this.movePage(H,_),this},y.movePage=function(_,P){var it,dt;if(_>P){it=Ht[_],dt=Oe[_];for(var xt=_;xt>P;xt--)Ht[xt]=Ht[xt-1],Oe[xt]=Oe[xt-1];Ht[P]=it,Oe[P]=dt,this.setPage(P)}else if(_<P){it=Ht[_],dt=Oe[_];for(var kt=_;kt<P;kt++)Ht[kt]=Ht[kt+1],Oe[kt]=Oe[kt+1];Ht[P]=it,Oe[P]=dt,this.setPage(P)}return this},y.deletePage=function(){return Jh.apply(this,arguments),this},y.__private__.text=y.text=function(_,P,it,dt,xt){var kt,Gt,ie,fe,Ie,De,ti,zi,Xi,ln=(dt=dt||{}).scope||this;if(typeof _=="number"&&typeof P=="number"&&(typeof it=="string"||Array.isArray(it))){var cn=it;it=P,P=_,_=cn}if(arguments[3]instanceof pe?(Z("The transform parameter of text() with a Matrix value"),Xi=xt):(ie=arguments[4],fe=arguments[5],Ci(ti=arguments[3])==="object"&&ti!==null||(typeof ie=="string"&&(fe=ie,ie=null),typeof ti=="string"&&(fe=ti,ti=null),typeof ti=="number"&&(ie=ti,ti=null),dt={flags:ti,angle:ie,align:fe})),isNaN(P)||isNaN(it)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return ln;var jn="",Ga=!1,ua=typeof dt.lineHeightFactor=="number"?dt.lineHeightFactor:la,Va=ln.internal.scaleFactor;function uf(We){return We=We.split("	").join(Array(dt.TabLen||9).join(" ")),Fi(We,ti)}function io(We){for(var Ke,Ri=We.concat(),un=[],La=Ri.length;La--;)typeof(Ke=Ri.shift())=="string"?un.push(Ke):Array.isArray(We)&&(Ke.length===1||Ke[1]===void 0&&Ke[2]===void 0)?un.push(Ke[0]):un.push([Ke[0],Ke[1],Ke[2]]);return un}function no(We,Ke){var Ri;if(typeof We=="string")Ri=Ke(We)[0];else if(Array.isArray(We)){for(var un,La,ll=We.concat(),cl=[],ro=ll.length;ro--;)typeof(un=ll.shift())=="string"?cl.push(Ke(un)[0]):Array.isArray(un)&&typeof un[0]=="string"&&(La=Ke(un[0],un[1],un[2]),cl.push([La[0],La[1],La[2]]));Ri=cl}return Ri}var _u=!1,Jo=!0;if(typeof _=="string")_u=!0;else if(Array.isArray(_)){var xu=_.concat();Gt=[];for(var ec,En=xu.length;En--;)(typeof(ec=xu.shift())!="string"||Array.isArray(ec)&&typeof ec[0]!="string")&&(Jo=!1);_u=Jo}if(_u===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var tl=Qt/ln.internal.scaleFactor,ic=tl*(ua-1);switch(dt.baseline){case"bottom":it-=ic;break;case"top":it+=tl-ic;break;case"hanging":it+=tl-2*ic;break;case"middle":it+=tl/2-ic}if((De=dt.maxWidth||0)>0&&(typeof _=="string"?_=ln.splitTextToSize(_,De):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(We,Ke){return We.concat(ln.splitTextToSize(Ke,De))},[]))),kt={text:_,x:P,y:it,options:dt,mutex:{pdfEscape:Fi,activeFontKey:Xe,fonts:si,activeFontSize:Qt}},ui.publish("preProcessText",kt),_=kt.text,ie=(dt=kt.options).angle,!(Xi instanceof pe)&&ie&&typeof ie=="number"){ie*=Math.PI/180,dt.rotationDirection===0&&(ie=-ie),j===M.ADVANCED&&(ie=-ie);var nc=Math.cos(ie),Eu=Math.sin(ie);Xi=new pe(nc,Eu,-Eu,nc,0,0)}else ie&&ie instanceof pe&&(Xi=ie);j!==M.ADVANCED||Xi||(Xi=Yi),(Ie=dt.charSpace||vu)!==void 0&&(jn+=tt(X(Ie))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zi=dt.horizontalScale)!==void 0&&(jn+=tt(100*zi)+` Tz
`),dt.lang;var js=-1,w1=dt.renderingMode!==void 0?dt.renderingMode:dt.stroke,hf=ln.internal.getCurrentPageInfo().pageContext;switch(w1){case 0:case!1:case"fill":js=0;break;case 1:case!0:case"stroke":js=1;break;case 2:case"fillThenStroke":js=2;break;case 3:case"invisible":js=3;break;case 4:case"fillAndAddForClipping":js=4;break;case 5:case"strokeAndAddPathForClipping":js=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":js=6;break;case 7:case"addToPathForClipping":js=7}var up=hf.usedRenderingMode!==void 0?hf.usedRenderingMode:-1;js!==-1?jn+=js+` Tr
`:up!==-1&&(jn+=`0 Tr
`),js!==-1&&(hf.usedRenderingMode=js),fe=dt.align||"left";var Na,zn=Qt*ua,el=ln.internal.pageSize.getWidth(),ff=si[Xe];Ie=dt.charSpace||vu,De=dt.maxWidth||0,ti=Object.assign({autoencode:!0,noBOM:!0},dt.flags);var so=[],il=function(We){return ln.getStringUnitWidth(We,{font:ff,charSpace:Ie,fontSize:Qt,doKerning:!1})*Qt/Va};if(Object.prototype.toString.call(_)==="[object Array]"){var ys;Gt=io(_),fe!=="left"&&(Na=Gt.map(il));var $n,nl=0;if(fe==="right"){P-=Na[0],_=[],En=Gt.length;for(var zs=0;zs<En;zs++)zs===0?($n=ca(P),ys=Er(it)):($n=X(nl-Na[zs]),ys=-zn),_.push([Gt[zs],$n,ys]),nl=Na[zs]}else if(fe==="center"){P-=Na[0]/2,_=[],En=Gt.length;for(var Ya=0;Ya<En;Ya++)Ya===0?($n=ca(P),ys=Er(it)):($n=X((nl-Na[Ya])/2),ys=-zn),_.push([Gt[Ya],$n,ys]),nl=Na[Ya]}else if(fe==="left"){_=[],En=Gt.length;for(var Nr=0;Nr<En;Nr++)_.push(Gt[Nr])}else if(fe==="justify"&&ff.encoding==="Identity-H"){_=[],En=Gt.length,De=De!==0?De:el;for(var Xa=0,Ji=0;Ji<En;Ji++)if(ys=Ji===0?Er(it):-zn,$n=Ji===0?ca(P):Xa,Ji<En-1){var Wa=X((De-Na[Ji])/(Gt[Ji].split(" ").length-1)),vn=Gt[Ji].split(" ");_.push([vn[0]+" ",$n,ys]),Xa=0;for(var qs=1;qs<vn.length;qs++){var sc=(il(vn[qs-1]+" "+vn[qs])-il(vn[qs]))*Va+Wa;qs==vn.length-1?_.push([vn[qs],sc,0]):_.push([vn[qs]+" ",sc,0]),Xa-=sc}}else _.push([Gt[Ji],$n,ys]);_.push(["",Xa,0])}else{if(fe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],En=Gt.length,De=De!==0?De:el,Ji=0;Ji<En;Ji++)ys=Ji===0?Er(it):-zn,$n=Ji===0?ca(P):0,Ji<En-1?so.push(tt(X((De-Na[Ji])/(Gt[Ji].split(" ").length-1)))):so.push(0),_.push([Gt[Ji],$n,ys])}}var Lr=typeof dt.R2L=="boolean"?dt.R2L:me;Lr===!0&&(_=no(_,function(We,Ke,Ri){return[We.split("").reverse().join(""),Ke,Ri]})),kt={text:_,x:P,y:it,options:dt,mutex:{pdfEscape:Fi,activeFontKey:Xe,fonts:si,activeFontSize:Qt}},ui.publish("postProcessText",kt),_=kt.text,Ga=kt.mutex.isHex||!1;var Nu=si[Xe].encoding;Nu!=="WinAnsiEncoding"&&Nu!=="StandardEncoding"||(_=no(_,function(We,Ke,Ri){return[uf(We),Ke,Ri]})),Gt=io(_),_=[];for(var sl,al,rl,ac=0,Lu=1,ol=Array.isArray(Gt[0])?Lu:ac,ao="",rc=function(We,Ke,Ri){var un="";return Ri instanceof pe?(Ri=typeof dt.angle=="number"?Ti(Ri,new pe(1,0,0,1,We,Ke)):Ti(new pe(1,0,0,1,We,Ke),Ri),j===M.ADVANCED&&(Ri=Ti(new pe(1,0,0,-1,0,0),Ri)),un=Ri.join(" ")+` Tm
`):un=tt(We)+" "+tt(Ke)+` Td
`,un},tn=0;tn<Gt.length;tn++){switch(ao="",ol){case Lu:rl=(Ga?"<":"(")+Gt[tn][0]+(Ga?">":")"),sl=parseFloat(Gt[tn][1]),al=parseFloat(Gt[tn][2]);break;case ac:rl=(Ga?"<":"(")+Gt[tn]+(Ga?">":")"),sl=ca(P),al=Er(it)}so!==void 0&&so[tn]!==void 0&&(ao=so[tn]+` Tw
`),tn===0?_.push(ao+rc(sl,al,Xi)+rl):ol===ac?_.push(ao+rl):ol===Lu&&_.push(ao+rc(sl,al,Xi)+rl)}_=ol===ac?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var ha=`BT
/`;return ha+=Xe+" "+Qt+` Tf
`,ha+=tt(Qt*ua)+` TL
`,ha+=Jl+`
`,ha+=jn,ha+=_,lt(ha+="ET"),w[Xe]=!0,ln};var rp=y.__private__.clip=y.clip=function(_){return lt(_==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return rp("evenodd")},y.__private__.discardPath=y.discardPath=function(){return lt("n"),this};var Bs=y.__private__.isValidStyle=function(_){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(P=!0),P};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(_){return Bs(_)&&(p=_),this};var xa=y.__private__.getStyle=y.getStyle=function(_){var P=p;switch(_){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=_}return P},du=y.close=function(){return lt("h"),this};y.stroke=function(){return lt("S"),this},y.fill=function(_){return Sr("f",_),this},y.fillEvenOdd=function(_){return Sr("f*",_),this},y.fillStroke=function(_){return Sr("B",_),this},y.fillStrokeEvenOdd=function(_){return Sr("B*",_),this};var Sr=function(_,P){Ci(P)==="object"?pu(P,_):lt(_)},Ea=function(_){_===null||j===M.ADVANCED&&_===void 0||(_=xa(_),lt(_))};function af(_,P,it,dt,xt){var kt=new Jp(P||this.boundingBox,it||this.xStep,dt||this.yStep,this.gState,xt||this.matrix);kt.stream=this.stream;var Gt=_+"$$"+this.cloneIndex+++"$$";return xn(Gt,kt),kt}var pu=function(_,P){var it=Uo[_.key],dt=pi[it];if(dt instanceof Ff)lt("q"),lt(op(P)),dt.gState&&y.setGState(dt.gState),lt(_.matrix.toString()+" cm"),lt("/"+it+" sh"),lt("Q");else if(dt instanceof Jp){var xt=new pe(1,0,0,-1,0,Zo());_.matrix&&(xt=xt.multiply(_.matrix||Yi),it=af.call(dt,_.key,_.boundingBox,_.xStep,_.yStep,xt).id),lt("q"),lt("/Pattern cs"),lt("/"+it+" scn"),dt.gState&&y.setGState(dt.gState),lt(P),lt("Q")}},op=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Wo=y.moveTo=function(_,P){return lt(tt(X(_))+" "+tt(nt(P))+" m"),this},_r=y.lineTo=function(_,P){return lt(tt(X(_))+" "+tt(nt(P))+" l"),this},eo=y.curveTo=function(_,P,it,dt,xt,kt){return lt([tt(X(_)),tt(nt(P)),tt(X(it)),tt(nt(dt)),tt(X(xt)),tt(nt(kt)),"c"].join(" ")),this};y.__private__.line=y.line=function(_,P,it,dt,xt){if(isNaN(_)||isNaN(P)||isNaN(it)||isNaN(dt)||!Bs(xt))throw new Error("Invalid arguments passed to jsPDF.line");return j===M.COMPAT?this.lines([[it-_,dt-P]],_,P,[1,1],xt||"S"):this.lines([[it-_,dt-P]],_,P,[1,1]).stroke()},y.__private__.lines=y.lines=function(_,P,it,dt,xt,kt){var Gt,ie,fe,Ie,De,ti,zi,Xi,ln,cn,jn,Ga;if(typeof _=="number"&&(Ga=it,it=P,P=_,_=Ga),dt=dt||[1,1],kt=kt||!1,isNaN(P)||isNaN(it)||!Array.isArray(_)||!Array.isArray(dt)||!Bs(xt)||typeof kt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wo(P,it),Gt=dt[0],ie=dt[1],Ie=_.length,cn=P,jn=it,fe=0;fe<Ie;fe++)(De=_[fe]).length===2?(cn=De[0]*Gt+cn,jn=De[1]*ie+jn,_r(cn,jn)):(ti=De[0]*Gt+cn,zi=De[1]*ie+jn,Xi=De[2]*Gt+cn,ln=De[3]*ie+jn,cn=De[4]*Gt+cn,jn=De[5]*ie+jn,eo(ti,zi,Xi,ln,cn,jn));return kt&&du(),Ea(xt),this},y.path=function(_){for(var P=0;P<_.length;P++){var it=_[P],dt=it.c;switch(it.op){case"m":Wo(dt[0],dt[1]);break;case"l":_r(dt[0],dt[1]);break;case"c":eo.apply(this,dt);break;case"h":du()}}return this},y.__private__.rect=y.rect=function(_,P,it,dt,xt){if(isNaN(_)||isNaN(P)||isNaN(it)||isNaN(dt)||!Bs(xt))throw new Error("Invalid arguments passed to jsPDF.rect");return j===M.COMPAT&&(dt=-dt),lt([tt(X(_)),tt(nt(P)),tt(X(it)),tt(X(dt)),"re"].join(" ")),Ea(xt),this},y.__private__.triangle=y.triangle=function(_,P,it,dt,xt,kt,Gt){if(isNaN(_)||isNaN(P)||isNaN(it)||isNaN(dt)||isNaN(xt)||isNaN(kt)||!Bs(Gt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[it-_,dt-P],[xt-it,kt-dt],[_-xt,P-kt]],_,P,[1,1],Gt,!0),this},y.__private__.roundedRect=y.roundedRect=function(_,P,it,dt,xt,kt,Gt){if(isNaN(_)||isNaN(P)||isNaN(it)||isNaN(dt)||isNaN(xt)||isNaN(kt)||!Bs(Gt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ie=4/3*(Math.SQRT2-1);return xt=Math.min(xt,.5*it),kt=Math.min(kt,.5*dt),this.lines([[it-2*xt,0],[xt*ie,0,xt,kt-kt*ie,xt,kt],[0,dt-2*kt],[0,kt*ie,-xt*ie,kt,-xt,kt],[2*xt-it,0],[-xt*ie,0,-xt,-kt*ie,-xt,-kt],[0,2*kt-dt],[0,-kt*ie,xt*ie,-kt,xt,-kt]],_+xt,P,[1,1],Gt,!0),this},y.__private__.ellipse=y.ellipse=function(_,P,it,dt,xt){if(isNaN(_)||isNaN(P)||isNaN(it)||isNaN(dt)||!Bs(xt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var kt=4/3*(Math.SQRT2-1)*it,Gt=4/3*(Math.SQRT2-1)*dt;return Wo(_+it,P),eo(_+it,P-Gt,_+kt,P-dt,_,P-dt),eo(_-kt,P-dt,_-it,P-Gt,_-it,P),eo(_-it,P+Gt,_-kt,P+dt,_,P+dt),eo(_+kt,P+dt,_+it,P+Gt,_+it,P),Ea(xt),this},y.__private__.circle=y.circle=function(_,P,it,dt){if(isNaN(_)||isNaN(P)||isNaN(it)||!Bs(dt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,P,it,it,dt)},y.setFont=function(_,P,it){return it&&(P=at(P,it)),Xe=tf(_,P,{disableWarning:!1}),this};var rs=y.__private__.getFont=y.getFont=function(){return si[tf.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var _,P,it={};for(_ in Si)if(Si.hasOwnProperty(_))for(P in it[_]=[],Si[_])Si[_].hasOwnProperty(P)&&it[_].push(P);return it},y.addFont=function(_,P,it,dt,xt){var kt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&kt.indexOf(arguments[3])!==-1?xt=arguments[3]:arguments[3]&&kt.indexOf(arguments[3])==-1&&(it=at(it,dt)),xt=xt||"Identity-H",Vo.call(this,_,P,it,xt)};var la,Ko=c.lineWidth||.200025,xr=y.__private__.getLineWidth=y.getLineWidth=function(){return Ko},lp=y.__private__.setLineWidth=y.setLineWidth=function(_){return Ko=_,lt(tt(X(_))+" w"),this};y.__private__.setLineDash=Ne.API.setLineDash=Ne.API.setLineDashPattern=function(_,P){if(_=_||[],P=P||0,isNaN(P)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(it){return tt(X(it))}).join(" "),P=tt(X(P)),lt("["+_+"] "+P+" d"),this};var gu=y.__private__.getLineHeight=y.getLineHeight=function(){return Qt*la};y.__private__.getLineHeight=y.getLineHeight=function(){return Qt*la};var mu=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(la=_),this},$o=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return la};mu(c.lineHeight);var ca=y.__private__.getHorizontalCoordinate=function(_){return X(_)},Er=y.__private__.getVerticalCoordinate=function(_){return j===M.ADVANCED?_:Oe[H].mediaBox.topRightY-Oe[H].mediaBox.bottomLeftY-X(_)},v1=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(_){return tt(ca(_))},Qo=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(_){return tt(Er(_))},Ha=c.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return ss(Ha)},y.__private__.setStrokeColor=y.setDrawColor=function(_,P,it,dt){return Ha=as({ch1:_,ch2:P,ch3:it,ch4:dt,pdfColorType:"draw",precision:2}),lt(Ha),this};var Zl=c.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return ss(Zl)},y.__private__.setFillColor=y.setFillColor=function(_,P,it,dt){return Zl=as({ch1:_,ch2:P,ch3:it,ch4:dt,pdfColorType:"fill",precision:2}),lt(Zl),this};var Jl=c.textColor||"0 g",b1=y.__private__.getTextColor=y.getTextColor=function(){return ss(Jl)};y.__private__.setTextColor=y.setTextColor=function(_,P,it,dt){return Jl=as({ch1:_,ch2:P,ch3:it,ch4:dt,pdfColorType:"text",precision:3}),this};var vu=c.charSpace,y1=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(vu||0)};y.__private__.setCharSpace=y.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vu=_,this};var rf=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(_){var P=y.CapJoinStyles[_];if(P===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rf=P,lt(P+" J"),this};var bu=0;y.__private__.setLineJoin=y.setLineJoin=function(_){var P=y.CapJoinStyles[_];if(P===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bu=P,lt(P+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return lt(tt(X(_))+" M"),this},y.GState=gv,y.setGState=function(_){(_=typeof _=="string"?Vi[na[_]]:cp(null,_)).equals(sa)||(lt("/"+_.id+" gs"),sa=_)};var cp=function(_,P){if(!_||!na[_]){var it=!1;for(var dt in Vi)if(Vi.hasOwnProperty(dt)&&Vi[dt].equals(P)){it=!0;break}if(it)P=Vi[dt];else{var xt="GS"+(Object.keys(Vi).length+1).toString(10);Vi[xt]=P,P.id=xt}return _&&(na[_]=P.id),ui.publish("addGState",P),P}};y.addGState=function(_,P){return cp(_,P),this},y.saveGraphicsState=function(){return lt("q"),Ps.push({key:Xe,size:Qt,color:Jl}),this},y.restoreGraphicsState=function(){lt("Q");var _=Ps.pop();return Xe=_.key,Qt=_.size,Jl=_.color,sa=null,this},y.setCurrentTransformationMatrix=function(_){return lt(_.toString()+" cm"),this},y.comment=function(_){return lt("#"+_),this};var yu=function(_,P){var it=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return it},set:function(kt){isNaN(kt)||(it=parseFloat(kt))}});var dt=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return dt},set:function(kt){isNaN(kt)||(dt=parseFloat(kt))}});var xt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xt},set:function(kt){xt=kt.toString()}}),this},of=function(_,P,it,dt){yu.call(this,_,P),this.type="rect";var xt=it||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xt},set:function(Gt){isNaN(Gt)||(xt=parseFloat(Gt))}});var kt=dt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return kt},set:function(Gt){isNaN(Gt)||(kt=parseFloat(Gt))}}),this},lf=function(){this.page=Qi,this.currentPage=H,this.pages=Ht.slice(0),this.pagesContext=Oe.slice(0),this.x=ns,this.y=Je,this.matrix=ks,this.width=tc(H),this.height=Zo(H),this.outputDestination=Kt,this.id="",this.objectNumber=-1};lf.prototype.restore=function(){Qi=this.page,H=this.currentPage,Oe=this.pagesContext,Ht=this.pages,ns=this.x,Je=this.y,ks=this.matrix,Su(H,this.width),cf(H,this.height),Kt=this.outputDestination};var Au=function(_,P,it,dt,xt){wr.push(new lf),Qi=H=0,Ht=[],ns=_,Je=P,ks=xt,Ql([it,dt])},A1=function(_){if(za[_])wr.pop().restore();else{var P=new lf,it="Xo"+(Object.keys(_n).length+1).toString(10);P.id=it,za[_]=it,_n[it]=P,ui.publish("addFormObject",P),wr.pop().restore()}};for(var wu in y.beginFormObject=function(_,P,it,dt,xt){return Au(_,P,it,dt,xt),this},y.endFormObject=function(_){return A1(_),this},y.doFormObject=function(_,P){var it=_n[za[_]];return lt("q"),lt(P.toString()+" cm"),lt("/"+it.id+" Do"),lt("Q"),this},y.getFormObject=function(_){var P=_n[za[_]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},y.save=function(_,P){return _=_||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(If(hu(Zr()),_),typeof If.unload=="function"&&Ce.setTimeout&&setTimeout(If.unload,911),this):new Promise(function(it,dt){try{var xt=If(hu(Zr()),_);typeof If.unload=="function"&&Ce.setTimeout&&setTimeout(If.unload,911),it(xt)}catch(kt){dt(kt.message)}})},Ne.API)Ne.API.hasOwnProperty(wu)&&(wu==="events"&&Ne.API.events.length?function(_,P){var it,dt,xt;for(xt=P.length-1;xt!==-1;xt--)it=P[xt][0],dt=P[xt][1],_.subscribe.apply(_,[it].concat(typeof dt=="function"?[dt]:dt))}(ui,Ne.API.events):y[wu]=Ne.API[wu]);var tc=y.getPageWidth=function(_){return(Oe[_=_||H].mediaBox.topRightX-Oe[_].mediaBox.bottomLeftX)/ne},Su=y.setPageWidth=function(_,P){Oe[_].mediaBox.topRightX=P*ne+Oe[_].mediaBox.bottomLeftX},Zo=y.getPageHeight=function(_){return(Oe[_=_||H].mediaBox.topRightY-Oe[_].mediaBox.bottomLeftY)/ne},cf=y.setPageHeight=function(_,P){Oe[_].mediaBox.topRightY=P*ne+Oe[_].mediaBox.bottomLeftY};return y.internal={pdfEscape:Fi,getStyle:xa,getFont:rs,getFontSize:te,getCharSpace:y1,getTextColor:b1,getLineHeight:gu,getLineHeightFactor:$o,getLineWidth:xr,write:we,getHorizontalCoordinate:ca,getVerticalCoordinate:Er,getCoordinateString:v1,getVerticalCoordinateString:Qo,collections:{},newObject:on,newAdditionalObject:Xl,newObjectDeferred:mn,newObjectDeferredBegin:aa,getFilters:Is,putStream:Kn,events:ui,scaleFactor:ne,pageSize:{getWidth:function(){return tc(H)},setWidth:function(_){Su(H,_)},getHeight:function(){return Zo(H)},setHeight:function(_){cf(H,_)}},encryptionOptions:m,encryption:Bn,getEncryptor:Xo,output:Jr,getNumberOfPages:np,pages:Ht,out:lt,f2:At,f3:z,getPageInfo:to,getPageInfoByObjId:Te,getCurrentPageInfo:sf,getPDFVersion:E,Point:yu,Rectangle:of,Matrix:pe,hasHotfix:fu},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return tc(H)},set:function(_){Su(H,_)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Zo(H)},set:function(_){cf(H,_)},enumerable:!0,configurable:!0}),ip.call(y,Yt),Xe="F1",Zh(a,e),ui.publish("initialized"),y}$p.prototype.lsbFirstWord=function(c){return String.fromCharCode(c>>0&255,c>>8&255,c>>16&255,c>>24&255)},$p.prototype.toHexString=function(c){return c.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},$p.prototype.hexToBytes=function(c){for(var t=[],e=0;e<c.length;e+=2)t.push(String.fromCharCode(parseInt(c.substr(e,2),16)));return t.join("")},$p.prototype.processOwnerPassword=function(c,t){return YA(VA(t).substr(0,5),c)},$p.prototype.encryptor=function(c,t){var e=VA(this.encryptionKey+String.fromCharCode(255&c,c>>8&255,c>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return YA(e,i)}},gv.prototype.equals=function(c){var t,e="id,objectNumber,equals";if(!c||Ci(c)!==Ci(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!c.hasOwnProperty(t)||this[t]!==c[t])return!1;i++}for(t in c)c.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},Ne.API={events:[]},Ne.version="3.0.1";var Sn=Ne.API,fw=1,Zd=function(c){return c.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zp=function(c){return c.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},je=function(c){return c.toFixed(2)},th=function(c){return c.toFixed(5)};Sn.__acroform__={};var ja=function(c,t){c.prototype=Object.create(t.prototype),c.prototype.constructor=c},S_=function(c){return c*fw},El=function(c){var t=new dE,e=ce.internal.getHeight(c)||0,i=ce.internal.getWidth(c)||0;return t.BBox=[0,0,Number(je(i)),Number(je(e))],t},UC=Sn.__acroform__.setBit=function(c,t){if(c=c||0,t=t||0,isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return c|=1<<t},HC=Sn.__acroform__.clearBit=function(c,t){if(c=c||0,t=t||0,isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return c&=~(1<<t)},GC=Sn.__acroform__.getBit=function(c,t){if(isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(c&1<<t)==0?0:1},kn=Sn.__acroform__.getBitForPdf=function(c,t){if(isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return GC(c,t-1)},Pn=Sn.__acroform__.setBitForPdf=function(c,t){if(isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return UC(c,t-1)},In=Sn.__acroform__.clearBitForPdf=function(c,t){if(isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return HC(c,t-1)},VC=Sn.__acroform__.calculateCoordinates=function(c,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,a=c[0],r=c[1],o=c[2],u=c[3],h={};return h.lowerLeft_X=e(a)||0,h.lowerLeft_Y=i(r+u)||0,h.upperRight_X=e(a+o)||0,h.upperRight_Y=i(r)||0,[Number(je(h.lowerLeft_X)),Number(je(h.lowerLeft_Y)),Number(je(h.upperRight_X)),Number(je(h.upperRight_Y))]},YC=function(c){if(c.appearanceStreamContent)return c.appearanceStreamContent;if(c.V||c.DV){var t=[],e=c._V||c.DV,i=XA(c,e),a=c.scope.internal.getFont(c.fontName,c.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(c.scope.__private__.encodeColorString(c.color)),t.push("/"+a+" "+je(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var r=El(c);return r.scope=c.scope,r.stream=t.join(`
`),r}},XA=function(c,t){var e=c.fontSize===0?c.maxFontSize:c.fontSize,i={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=c.multiline?a.map(function(z){return z.split(`
`)}):a.map(function(z){return[z]});var r=e,o=ce.internal.getHeight(c)||0;o=o<0?-o:o;var u=ce.internal.getWidth(c)||0;u=u<0?-u:u;var h=function(z,X,ot){if(z+1<a.length){var nt=X+" "+a[z+1][0];return y5(nt,c,ot).width<=u-4}return!1};r++;t:for(;r>0;){t="",r--;var p,m,A=y5("3",c,r).height,w=c.multiline?o-r:(o-A)/2,y=w+=2,N=0,E=0,T=0;if(r<=0){t=`(...) Tj
`,t+="% Width of Text: "+y5(t,c,r=12).width+", FieldWidth:"+u+`
`;break}for(var L="",M=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var $=!1;if(a[j].length!==1&&T!==a[j].length-1){if((A+2)*(M+2)+2>o)continue t;L+=a[j][T],$=!0,E=j,j--}else{L=(L+=a[j][T]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var K=parseInt(j),at=h(K,L,r),tt=j>=a.length-1;if(at&&!tt){L+=" ",T=0;continue}if(at||tt){if(tt)E=K;else if(c.multiline&&(A+2)*(M+2)+2>o)continue t}else{if(!c.multiline||(A+2)*(M+2)+2>o)continue t;E=K}}for(var Z="",ut=N;ut<=E;ut++){var At=a[ut];if(c.multiline){if(ut===E){Z+=At[T]+" ",T=(T+1)%At.length;continue}if(ut===N){Z+=At[At.length-1]+" ";continue}}Z+=At[0]+" "}switch(Z=Z.substr(Z.length-1)==" "?Z.substr(0,Z.length-1):Z,m=y5(Z,c,r).width,c.textAlign){case"right":p=u-m-2;break;case"center":p=(u-m)/2;break;case"left":default:p=2}t+=je(p)+" "+je(y)+` Td
`,t+="("+Zd(Z)+`) Tj
`,t+=-je(p)+` 0 Td
`,y=-(r+2),m=0,N=$?E:E+1,M++,L=""}break}return i.text=t,i.fontSize=r,i},y5=function(c,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(c,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:a}},XC={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},WC=function(c,t){var e={type:"reference",object:c};t.internal.getPageInfo(c.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(c.page).pageContext.annotations.push(e)},KC=function(c,t){for(var e in c)if(c.hasOwnProperty(e)){var i=e,a=c[e];t.internal.newObjectDeferredBegin(a.objId,!0),Ci(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete c[i]}},$C=function(c,t){if(t.scope=c,c.internal!==void 0&&(c.internal.acroformPlugin===void 0||c.internal.acroformPlugin.isInitialized===!1)){if(zo.FieldNum=0,c.internal.acroformPlugin=JSON.parse(JSON.stringify(XC)),c.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");fw=c.internal.scaleFactor,c.internal.acroformPlugin.acroFormDictionaryRoot=new pE,c.internal.acroformPlugin.acroFormDictionaryRoot.scope=c,c.internal.acroformPlugin.acroFormDictionaryRoot._eventID=c.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(c)}),c.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in i)if(i.hasOwnProperty(a)){var r=i[a];r.objId=void 0,r.hasAnnotation&&WC(r,e)}})(c)}),c.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(c)}),c.internal.events.subscribe("postPutPages",function(e){(function(i,a){var r=!i;for(var o in i||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var u=i[o],h=[],p=u.Rect;if(u.Rect&&(u.Rect=VC(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=ce.createDefaultAppearanceStream(u),Ci(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=p,u.hasAppearanceStream&&!u.appearanceStreamContent){var m=YC(u);h.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(u.appearanceStreamContent){var A="";for(var w in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(w)){var y=u.appearanceStreamContent[w];if(A+="/"+w+" ",A+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var o in y)if(y.hasOwnProperty(o)){var N=y[o];typeof N=="function"&&(N=N.call(a,u)),A+="/"+o+" "+N+" ",a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N)}}else typeof(N=y)=="function"&&(N=N.call(a,u)),A+="/"+o+" "+N,a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N);A+=">>"}h.push({key:"AP",value:`<<
`+A+">>"})}a.internal.putStream({additionalKeyValues:h,objectId:u.objId}),a.internal.out("endobj")}r&&KC(a.internal.acroformPlugin.xForms,a)})(e,c)}),c.internal.acroformPlugin.isInitialized=!0}},fE=Sn.__acroform__.arrayToPdfArray=function(c,t,e){var i=function(o){return o};if(Array.isArray(c)){for(var a="[",r=0;r<c.length;r++)switch(r!==0&&(a+=" "),Ci(c[r])){case"boolean":case"number":case"object":a+=c[r].toString();break;case"string":c[r].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),a+="("+Zd(i(c[r].toString()))+")"):a+=c[r].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},vy=function(c,t,e){var i=function(a){return a};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(c=c||"").toString(),c="("+Zd(i(c))+")"},Hl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(c){this._objId=c}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Hl.prototype.toString=function(){return this.objId+" 0 R"},Hl.prototype.putStream=function(){var c=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:c,objectId:this.objId}),this.scope.internal.out("endobj")},Hl.prototype.getKeyValueListForStream=function(){var c=[],t=Object.getOwnPropertyNames(this).filter(function(r){return r!="content"&&r!="appearanceStreamContent"&&r!="scope"&&r!="objId"&&r.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],a=this[i];a&&(Array.isArray(a)?c.push({key:i,value:fE(a,this.objId,this.scope)}):a instanceof Hl?(a.scope=this.scope,c.push({key:i,value:a.objId+" 0 R"})):typeof a!="function"&&c.push({key:i,value:a}))}return c};var dE=function(){Hl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var c,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){c=e.trim()},get:function(){return c||null}})};ja(dE,Hl);var pE=function(){Hl.call(this);var c,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(c){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Zd(e(c))+")"}},set:function(e){c=e}})};ja(pE,Hl);var zo=function c(){Hl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');t=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!kn(t,3)},set:function(L){L?this.F=Pn(t,3):this.F=In(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');e=L}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(L){i=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(L){i[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(L){i[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(L){i[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(L){i[3]=L}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var r=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!r||r.length<1){if(this instanceof mv)return;r="FieldObject"+c.FieldNum++}var L=function(M){return M};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+Zd(L(r))+")"},set:function(L){r=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return r},set:function(L){r=L}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(L){o=L}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(L){u=L}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(L){h=L}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/fw:p},set:function(L){p=L}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(L){m=L}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof mv||this instanceof Vd))return vy(A,this.objId,this.scope)},set:function(L){L=L.toString(),A=L}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof vs?w:vy(w,this.objId,this.scope)},set:function(L){L=L.toString(),w=this instanceof vs?L:L.substr(0,1)==="("?zp(L.substr(1,L.length-2)):zp(L)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof vs?zp(w.substr(1,w.length-1)):w},set:function(L){L=L.toString(),w=this instanceof vs?"/"+L:L}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof vs?y:vy(y,this.objId,this.scope)},set:function(L){L=L.toString(),y=this instanceof vs?L:L.substr(0,1)==="("?zp(L.substr(1,L.length-2)):zp(L)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof vs?zp(y.substr(1,y.length-1)):y},set:function(L){L=L.toString(),y=this instanceof vs?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(L){L=!!L,E=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(L){N=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,1)},set:function(L){L?this.Ff=Pn(this.Ff,1):this.Ff=In(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,2)},set:function(L){L?this.Ff=Pn(this.Ff,2):this.Ff=In(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,3)},set:function(L){L?this.Ff=Pn(this.Ff,3):this.Ff=In(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');T=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(T){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:T=2;break;case"center":case 1:T=1;break;case"left":case 0:default:T=0}}})};ja(zo,Hl);var sg=function(){zo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var c=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){c=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fE(t,this.objId,this.scope)},set:function(e){var i,a;a=[],typeof(i=e)=="string"&&(a=function(r,o,u){u||(u=1);for(var h,p=[];h=o.exec(r);)p.push(h[u]);return p}(i,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,18)},set:function(e){e?this.Ff=Pn(this.Ff,18):this.Ff=In(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Pn(this.Ff,19):this.Ff=In(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,20)},set:function(e){e?(this.Ff=Pn(this.Ff,20),t.sort()):this.Ff=In(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,22)},set:function(e){e?this.Ff=Pn(this.Ff,22):this.Ff=In(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,23)},set:function(e){e?this.Ff=Pn(this.Ff,23):this.Ff=In(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,27)},set:function(e){e?this.Ff=Pn(this.Ff,27):this.Ff=In(this.Ff,27)}}),this.hasAppearanceStream=!1};ja(sg,zo);var ag=function(){sg.call(this),this.fontName="helvetica",this.combo=!1};ja(ag,sg);var rg=function(){ag.call(this),this.combo=!0};ja(rg,ag);var tv=function(){rg.call(this),this.edit=!0};ja(tv,rg);var vs=function(){zo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,15)},set:function(e){e?this.Ff=Pn(this.Ff,15):this.Ff=In(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,16)},set:function(e){e?this.Ff=Pn(this.Ff,16):this.Ff=In(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,17)},set:function(e){e?this.Ff=Pn(this.Ff,17):this.Ff=In(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,26)},set:function(e){e?this.Ff=Pn(this.Ff,26):this.Ff=In(this.Ff,26)}});var c,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(r){return r};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,a=[];for(i in a.push("<<"),t)a.push("/"+i+" ("+Zd(e(t[i]))+")");return a.push(">>"),a.join(`
`)}},set:function(e){Ci(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return c.substr(1,c.length-1)},set:function(e){c="/"+e}})};ja(vs,zo);var ev=function(){vs.call(this),this.pushButton=!0};ja(ev,vs);var og=function(){vs.call(this),this.radio=!0,this.pushButton=!1;var c=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return c},set:function(t){c=t!==void 0?t:[]}})};ja(og,vs);var mv=function(){var c,t;zo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return c},set:function(a){c=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var r,o=[];for(r in o.push("<<"),i)o.push("/"+r+" ("+Zd(a(i[r]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Ci(a)==="object"&&(i=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(a){typeof a=="string"&&(i.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ce.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ja(mv,zo),og.prototype.setAppearance=function(c){if(!("createAppearanceStream"in c)||!("getCA"in c))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=c.createAppearanceStream(e.optionName),e.caption=c.getCA()}},og.prototype.createOption=function(c){var t=new mv;return t.Parent=this,t.optionName=c,this.Kids.push(t),QC.call(this.scope,t),t};var iv=function(){vs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ce.CheckBox.createAppearanceStream()};ja(iv,vs);var Vd=function(){zo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,13)},set:function(t){t?this.Ff=Pn(this.Ff,13):this.Ff=In(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,21)},set:function(t){t?this.Ff=Pn(this.Ff,21):this.Ff=In(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,23)},set:function(t){t?this.Ff=Pn(this.Ff,23):this.Ff=In(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,24)},set:function(t){t?this.Ff=Pn(this.Ff,24):this.Ff=In(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,25)},set:function(t){t?this.Ff=Pn(this.Ff,25):this.Ff=In(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,26)},set:function(t){t?this.Ff=Pn(this.Ff,26):this.Ff=In(this.Ff,26)}});var c=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return c},set:function(t){c=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return c},set:function(t){Number.isInteger(t)&&(c=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ja(Vd,zo);var nv=function(){Vd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,14)},set:function(c){c?this.Ff=Pn(this.Ff,14):this.Ff=In(this.Ff,14)}}),this.password=!0};ja(nv,Vd);var ce={CheckBox:{createAppearanceStream:function(){return{N:{On:ce.CheckBox.YesNormal},D:{On:ce.CheckBox.YesPushDown,Off:ce.CheckBox.OffPushDown}}},YesPushDown:function(c){var t=El(c);t.scope=c.scope;var e=[],i=c.scope.internal.getFont(c.fontName,c.fontStyle).id,a=c.scope.__private__.encodeColorString(c.color),r=XA(c,c.caption);return e.push("0.749023 g"),e.push("0 0 "+je(ce.internal.getWidth(c))+" "+je(ce.internal.getHeight(c))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+je(r.fontSize)+" Tf "+a),e.push("BT"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(c){var t=El(c);t.scope=c.scope;var e=c.scope.internal.getFont(c.fontName,c.fontStyle).id,i=c.scope.__private__.encodeColorString(c.color),a=[],r=ce.internal.getHeight(c),o=ce.internal.getWidth(c),u=XA(c,c.caption);return a.push("1 g"),a.push("0 0 "+je(o)+" "+je(r)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+je(o-1)+" "+je(r-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+e+" "+je(u.fontSize)+" Tf "+i),a.push(u.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(c){var t=El(c);t.scope=c.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+je(ce.internal.getWidth(c))+" "+je(ce.internal.getHeight(c))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(c){var t={D:{Off:ce.RadioButton.Circle.OffPushDown},N:{}};return t.N[c]=ce.RadioButton.Circle.YesNormal,t.D[c]=ce.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(c){var t=El(c);t.scope=c.scope;var e=[],i=ce.internal.getWidth(c)<=ce.internal.getHeight(c)?ce.internal.getWidth(c)/4:ce.internal.getHeight(c)/4;i=Number((.9*i).toFixed(5));var a=ce.internal.Bezier_C,r=Number((i*a).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+th(ce.internal.getWidth(c)/2)+" "+th(ce.internal.getHeight(c)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+r+" "+r+" "+i+" 0 "+i+" c"),e.push("-"+r+" "+i+" -"+i+" "+r+" -"+i+" 0 c"),e.push("-"+i+" -"+r+" -"+r+" -"+i+" 0 -"+i+" c"),e.push(r+" -"+i+" "+i+" -"+r+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(c){var t=El(c);t.scope=c.scope;var e=[],i=ce.internal.getWidth(c)<=ce.internal.getHeight(c)?ce.internal.getWidth(c)/4:ce.internal.getHeight(c)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),r=Number((a*ce.internal.Bezier_C).toFixed(5)),o=Number((i*ce.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+th(ce.internal.getWidth(c)/2)+" "+th(ce.internal.getHeight(c)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+r+" "+r+" "+a+" 0 "+a+" c"),e.push("-"+r+" "+a+" -"+a+" "+r+" -"+a+" 0 c"),e.push("-"+a+" -"+r+" -"+r+" -"+a+" 0 -"+a+" c"),e.push(r+" -"+a+" "+a+" -"+r+" "+a+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+th(ce.internal.getWidth(c)/2)+" "+th(ce.internal.getHeight(c)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(c){var t=El(c);t.scope=c.scope;var e=[],i=ce.internal.getWidth(c)<=ce.internal.getHeight(c)?ce.internal.getWidth(c)/4:ce.internal.getHeight(c)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),r=Number((a*ce.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+th(ce.internal.getWidth(c)/2)+" "+th(ce.internal.getHeight(c)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+r+" "+r+" "+a+" 0 "+a+" c"),e.push("-"+r+" "+a+" -"+a+" "+r+" -"+a+" 0 c"),e.push("-"+a+" -"+r+" -"+r+" -"+a+" 0 -"+a+" c"),e.push(r+" -"+a+" "+a+" -"+r+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(c){var t={D:{Off:ce.RadioButton.Cross.OffPushDown},N:{}};return t.N[c]=ce.RadioButton.Cross.YesNormal,t.D[c]=ce.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(c){var t=El(c);t.scope=c.scope;var e=[],i=ce.internal.calculateCross(c);return e.push("q"),e.push("1 1 "+je(ce.internal.getWidth(c)-2)+" "+je(ce.internal.getHeight(c)-2)+" re"),e.push("W"),e.push("n"),e.push(je(i.x1.x)+" "+je(i.x1.y)+" m"),e.push(je(i.x2.x)+" "+je(i.x2.y)+" l"),e.push(je(i.x4.x)+" "+je(i.x4.y)+" m"),e.push(je(i.x3.x)+" "+je(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(c){var t=El(c);t.scope=c.scope;var e=ce.internal.calculateCross(c),i=[];return i.push("0.749023 g"),i.push("0 0 "+je(ce.internal.getWidth(c))+" "+je(ce.internal.getHeight(c))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+je(ce.internal.getWidth(c)-2)+" "+je(ce.internal.getHeight(c)-2)+" re"),i.push("W"),i.push("n"),i.push(je(e.x1.x)+" "+je(e.x1.y)+" m"),i.push(je(e.x2.x)+" "+je(e.x2.y)+" l"),i.push(je(e.x4.x)+" "+je(e.x4.y)+" m"),i.push(je(e.x3.x)+" "+je(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(c){var t=El(c);t.scope=c.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+je(ce.internal.getWidth(c))+" "+je(ce.internal.getHeight(c))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(c){var t=c.scope.internal.getFont(c.fontName,c.fontStyle).id,e=c.scope.__private__.encodeColorString(c.color);return"/"+t+" "+c.fontSize+" Tf "+e}};ce.internal={Bezier_C:.551915024494,calculateCross:function(c){var t=ce.internal.getWidth(c),e=ce.internal.getHeight(c),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},ce.internal.getWidth=function(c){var t=0;return Ci(c)==="object"&&(t=S_(c.Rect[2])),t},ce.internal.getHeight=function(c){var t=0;return Ci(c)==="object"&&(t=S_(c.Rect[3])),t};var QC=Sn.addField=function(c){if($C(this,c),!(c instanceof zo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=c).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),c.page=c.scope.internal.getCurrentPageInfo().pageNumber,this};Sn.AcroFormChoiceField=sg,Sn.AcroFormListBox=ag,Sn.AcroFormComboBox=rg,Sn.AcroFormEditBox=tv,Sn.AcroFormButton=vs,Sn.AcroFormPushButton=ev,Sn.AcroFormRadioButton=og,Sn.AcroFormCheckBox=iv,Sn.AcroFormTextField=Vd,Sn.AcroFormPasswordField=nv,Sn.AcroFormAppearance=ce,Sn.AcroForm={ChoiceField:sg,ListBox:ag,ComboBox:rg,EditBox:tv,Button:vs,PushButton:ev,RadioButton:og,CheckBox:iv,TextField:Vd,PasswordField:nv,Appearance:ce},Ne.AcroForm={ChoiceField:sg,ListBox:ag,ComboBox:rg,EditBox:tv,Button:vs,PushButton:ev,RadioButton:og,CheckBox:iv,TextField:Vd,PasswordField:nv,Appearance:ce};Ne.AcroForm;function gE(c){return c.reduce(function(t,e,i){return t[e]=i,t},{})}(function(c){c.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=c.__addimage__.getImageFileTypeByImageData=function(z,X){var ot,nt,Et,U,J,ht=t;if((X=X||t)==="RGBA"||z.data!==void 0&&z.data instanceof Uint8ClampedArray&&"height"in z&&"width"in z)return"RGBA";if(at(z))for(J in e)for(Et=e[J],ot=0;ot<Et.length;ot+=1){for(U=!0,nt=0;nt<Et[ot].length;nt+=1)if(Et[ot][nt]!==void 0&&Et[ot][nt]!==z[nt]){U=!1;break}if(U===!0){ht=J;break}}else for(J in e)for(Et=e[J],ot=0;ot<Et.length;ot+=1){for(U=!0,nt=0;nt<Et[ot].length;nt+=1)if(Et[ot][nt]!==void 0&&Et[ot][nt]!==z.charCodeAt(nt)){U=!1;break}if(U===!0){ht=J;break}}return ht===t&&X!==t&&(ht=X),ht},a=function z(X){for(var ot=this.internal.write,nt=this.internal.putStream,Et=(0,this.internal.getFilters)();Et.indexOf("FlateEncode")!==-1;)Et.splice(Et.indexOf("FlateEncode"),1);X.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:X.width}),U.push({key:"Height",value:X.height}),X.colorSpace===T.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(X.palette.length/3-1)+" "+("sMask"in X&&X.sMask!==void 0?X.objectId+2:X.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+X.colorSpace}),X.colorSpace===T.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:X.bitsPerComponent}),"decodeParameters"in X&&X.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+X.decodeParameters+">>"}),"transparency"in X&&Array.isArray(X.transparency)){for(var J="",ht=0,yt=X.transparency.length;ht<yt;ht++)J+=X.transparency[ht]+" "+X.transparency[ht]+" ";U.push({key:"Mask",value:"["+J+"]"})}X.sMask!==void 0&&U.push({key:"SMask",value:X.objectId+1+" 0 R"});var V=X.filter!==void 0?["/"+X.filter]:void 0;if(nt({data:X.data,additionalKeyValues:U,alreadyAppliedFilters:V,objectId:X.objectId}),ot("endobj"),"sMask"in X&&X.sMask!==void 0){var ft="/Predictor "+X.predictor+" /Colors 1 /BitsPerComponent "+X.bitsPerComponent+" /Columns "+X.width,O={width:X.width,height:X.height,colorSpace:"DeviceGray",bitsPerComponent:X.bitsPerComponent,decodeParameters:ft,data:X.sMask};"filter"in X&&(O.filter=X.filter),z.call(this,O)}if(X.colorSpace===T.INDEXED){var H=this.internal.newObject();nt({data:Z(new Uint8Array(X.palette)),objectId:H}),ot("endobj")}},r=function(){var z=this.internal.collections.addImage_images;for(var X in z)a.call(this,z[X])},o=function(){var z,X=this.internal.collections.addImage_images,ot=this.internal.write;for(var nt in X)ot("/I"+(z=X[nt]).index,z.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",r),this.internal.events.subscribe("putXobjectDict",o))},h=function(){var z=this.internal.collections.addImage_images;return u.call(this),z},p=function(){return Object.keys(this.internal.collections.addImage_images).length},m=function(z){return typeof c["process"+z.toUpperCase()]=="function"},A=function(z){return Ci(z)==="object"&&z.nodeType===1},w=function(z,X){if(z.nodeName==="IMG"&&z.hasAttribute("src")){var ot=""+z.getAttribute("src");if(ot.indexOf("data:image/")===0)return M0(unescape(ot).split("base64,").pop());var nt=c.loadFile(ot,!0);if(nt!==void 0)return nt}if(z.nodeName==="CANVAS"){if(z.width===0||z.height===0)throw new Error("Given canvas must have data. Canvas width: "+z.width+", height: "+z.height);var Et;switch(X){case"PNG":Et="image/png";break;case"WEBP":Et="image/webp";break;case"JPEG":case"JPG":default:Et="image/jpeg"}return M0(z.toDataURL(Et,1).split("base64,").pop())}},y=function(z){var X=this.internal.collections.addImage_images;if(X){for(var ot in X)if(z===X[ot].alias)return X[ot]}},N=function(z,X,ot){return z||X||(z=-96,X=-96),z<0&&(z=-1*ot.width*72/z/this.internal.scaleFactor),X<0&&(X=-1*ot.height*72/X/this.internal.scaleFactor),z===0&&(z=X*ot.width/ot.height),X===0&&(X=z*ot.height/ot.width),[z,X]},E=function(z,X,ot,nt,Et,U){var J=N.call(this,ot,nt,Et),ht=this.internal.getCoordinateString,yt=this.internal.getVerticalCoordinateString,V=h.call(this);if(ot=J[0],nt=J[1],V[Et.index]=Et,U){U*=Math.PI/180;var ft=Math.cos(U),O=Math.sin(U),H=function(rt){return rt.toFixed(4)},Q=[H(ft),H(O),H(-1*O),H(ft),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,ht(z),yt(X+nt),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([ht(ot),"0","0",ht(nt),"0","0","cm"].join(" "))):this.internal.write([ht(ot),"0","0",ht(nt),ht(z),yt(X+nt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Et.index+" Do"),this.internal.write("Q")},T=c.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};c.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=c.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=c.__addimage__.sHashCode=function(z){var X,ot,nt=0;if(typeof z=="string")for(ot=z.length,X=0;X<ot;X++)nt=(nt<<5)-nt+z.charCodeAt(X),nt|=0;else if(at(z))for(ot=z.byteLength/2,X=0;X<ot;X++)nt=(nt<<5)-nt+z[X],nt|=0;return nt},j=c.__addimage__.validateStringAsBase64=function(z){(z=z||"").toString().trim();var X=!0;return z.length===0&&(X=!1),z.length%4!=0&&(X=!1),/^[A-Za-z0-9+/]+$/.test(z.substr(0,z.length-2))===!1&&(X=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2))===!1&&(X=!1),X},$=c.__addimage__.extractImageFromDataUrl=function(z){if(z==null||!(z=z.trim()).startsWith("data:"))return null;var X=z.indexOf(",");return X<0?null:z.substring(0,X).trim().endsWith("base64")?z.substring(X+1):null},K=c.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};c.__addimage__.isArrayBuffer=function(z){return K()&&z instanceof ArrayBuffer};var at=c.__addimage__.isArrayBufferView=function(z){return K()&&typeof Uint32Array<"u"&&(z instanceof Int8Array||z instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&z instanceof Uint8ClampedArray||z instanceof Int16Array||z instanceof Uint16Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Float32Array||z instanceof Float64Array)},tt=c.__addimage__.binaryStringToUint8Array=function(z){for(var X=z.length,ot=new Uint8Array(X),nt=0;nt<X;nt++)ot[nt]=z.charCodeAt(nt);return ot},Z=c.__addimage__.arrayBufferToBinaryString=function(z){for(var X="",ot=at(z)?z:new Uint8Array(z),nt=0;nt<ot.length;nt+=8192)X+=String.fromCharCode.apply(null,ot.subarray(nt,nt+8192));return X};c.addImage=function(){var z,X,ot,nt,Et,U,J,ht,yt;if(typeof arguments[1]=="number"?(X=t,ot=arguments[1],nt=arguments[2],Et=arguments[3],U=arguments[4],J=arguments[5],ht=arguments[6],yt=arguments[7]):(X=arguments[1],ot=arguments[2],nt=arguments[3],Et=arguments[4],U=arguments[5],J=arguments[6],ht=arguments[7],yt=arguments[8]),Ci(z=arguments[0])==="object"&&!A(z)&&"imageData"in z){var V=z;z=V.imageData,X=V.format||X||t,ot=V.x||ot||0,nt=V.y||nt||0,Et=V.w||V.width||Et,U=V.h||V.height||U,J=V.alias||J,ht=V.compression||ht,yt=V.rotation||V.angle||yt}var ft=this.internal.getFilters();if(ht===void 0&&ft.indexOf("FlateEncode")!==-1&&(ht="SLOW"),isNaN(ot)||isNaN(nt))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var O=ut.call(this,z,X,J,ht);return E.call(this,ot,nt,Et,U,O,yt),this};var ut=function(z,X,ot,nt){var Et,U,J;if(typeof z=="string"&&i(z)===t){z=unescape(z);var ht=At(z,!1);(ht!==""||(ht=c.loadFile(z,!0))!==void 0)&&(z=ht)}if(A(z)&&(z=w(z,X)),X=i(z,X),!m(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(((J=ot)==null||J.length===0)&&(ot=function(yt){return typeof yt=="string"||at(yt)?M(yt):at(yt.data)?M(yt.data):null}(z)),(Et=y.call(this,ot))||(K()&&(z instanceof Uint8Array||X==="RGBA"||(U=z,z=tt(z))),Et=this["process"+X.toUpperCase()](z,p.call(this),ot,function(yt){return yt&&typeof yt=="string"&&(yt=yt.toUpperCase()),yt in c.image_compression?yt:L.NONE}(nt),U)),!Et)throw new Error("An unknown error occurred whilst processing the image.");return Et},At=c.__addimage__.convertBase64ToBinaryString=function(z,X){X=typeof X!="boolean"||X;var ot,nt="";if(typeof z=="string"){var Et;ot=(Et=$(z))!==null&&Et!==void 0?Et:z;try{nt=M0(ot)}catch(U){if(X)throw j(ot)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return nt};c.getImageProperties=function(z){var X,ot,nt="";if(A(z)&&(z=w(z)),typeof z=="string"&&i(z)===t&&((nt=At(z,!1))===""&&(nt=c.loadFile(z)||""),z=nt),ot=i(z),!m(ot))throw new Error("addImage does not support files of type '"+ot+"', please ensure that a plugin for '"+ot+"' support is added.");if(!K()||z instanceof Uint8Array||(z=tt(z)),!(X=this["process"+ot.toUpperCase()](z)))throw new Error("An unknown error occurred whilst processing the image");return X.fileType=ot,X}})(Ne.API),function(c){var t=function(e){if(e!==void 0&&e!="")return!0};Ne.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),c.events.push(["putPage",function(e){for(var i,a,r,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(e.objId),p=e.pageContext.annotations,m=!1,A=0;A<p.length&&!m;A++)switch((i=p[A]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var w=0;w<p.length;w++){i=p[w];var y=this.internal.pdfEscape,N=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(E.objId),M=i.title||"Note";r="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(i.bounds.x)+" "+u(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y)+"] ")+"/Contents ("+y(L(i.contents))+")",r+=" /Popup "+T.objId+" 0 R",r+=" /P "+h.objId+" 0 R",r+=" /T ("+y(L(M))+") >>",E.content=r;var j=E.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(i.bounds.x+30)+" "+u(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+u(i.bounds.y)+"] ")+" /Parent "+j,i.open&&(r+=" /Open true"),r+=" >>",T.content=r,this.internal.write(E.objId,"0 R",T.objId,"0 R");break;case"freetext":a="/Rect ["+o(i.bounds.x)+" "+u(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y+i.bounds.h)+"] ";var $=i.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+y(N(i.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+$+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(i.options.name){var K=this.annotations._nameMap[i.options.name];i.options.pageNumber=K.page,i.options.top=K.y}else i.options.top||(i.options.top=0);if(a="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",r="",i.options.url)r="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+y(N(i.options.url))+") >>";else if(i.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,r+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var at=u(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),r+=" /XYZ "+i.options.left+" "+at+" "+i.options.zoom+"]"}r!=""&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),c.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},c.link=function(e,i,a,r,o){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(e),y:p(i),w:h(e+a),h:p(i+r)},options:o,type:"link"})},c.textWithLink=function(e,i,a,r){var o,u,h=this.getTextWidth(e),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(r.maxWidth!==void 0){u=r.maxWidth;var m=this.splitTextToSize(e,u).length;o=Math.ceil(p*m)}else u=h,o=p;return this.text(e,i,a,r),a+=.2*p,r.align==="center"&&(i-=h/2),r.align==="right"&&(i-=h),this.link(i,a-p,u,o,r),h},c.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(Ne.API),function(c){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];c.__arabicParser__={};var r=c.__arabicParser__.isInArabicSubstitutionA=function(E){return t[E.charCodeAt(0)]!==void 0},o=c.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},u=c.__arabicParser__.isArabicEndLetter=function(E){return o(E)&&r(E)&&t[E.charCodeAt(0)].length<=2},h=c.__arabicParser__.isArabicAlfLetter=function(E){return o(E)&&a.indexOf(E.charCodeAt(0))>=0};c.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return o(E)&&r(E)&&t[E.charCodeAt(0)].length>=1};var p=c.__arabicParser__.arabicLetterHasFinalForm=function(E){return o(E)&&r(E)&&t[E.charCodeAt(0)].length>=2};c.__arabicParser__.arabicLetterHasInitialForm=function(E){return o(E)&&r(E)&&t[E.charCodeAt(0)].length>=3};var m=c.__arabicParser__.arabicLetterHasMedialForm=function(E){return o(E)&&r(E)&&t[E.charCodeAt(0)].length==4},A=c.__arabicParser__.resolveLigatures=function(E){var T=0,L=e,M="",j=0;for(T=0;T<E.length;T+=1)L[E.charCodeAt(T)]!==void 0?(j++,typeof(L=L[E.charCodeAt(T)])=="number"&&(M+=String.fromCharCode(L),L=e,j=0),T===E.length-1&&(L=e,M+=E.charAt(T-(j-1)),T-=j-1,j=0)):(L=e,M+=E.charAt(T-j),T-=j,j=0);return M};c.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&i[E.charCodeAt(0)]!==void 0};var w=c.__arabicParser__.getCorrectForm=function(E,T,L){return o(E)?r(E)===!1?-1:!p(E)||!o(T)&&!o(L)||!o(L)&&u(T)||u(E)&&!o(T)||u(E)&&h(T)||u(E)&&u(T)?0:m(E)&&o(T)&&!u(T)&&o(L)&&p(L)?3:u(E)||!o(L)?1:2:-1},y=function(E){var T=0,L=0,M=0,j="",$="",K="",at=(E=E||"").split("\\s+"),tt=[];for(T=0;T<at.length;T+=1){for(tt.push(""),L=0;L<at[T].length;L+=1)j=at[T][L],$=at[T][L-1],K=at[T][L+1],o(j)?(M=w(j,$,K),tt[T]+=M!==-1?String.fromCharCode(t[j.charCodeAt(0)][M]):j):tt[T]+=j;tt[T]=A(tt[T])}return tt.join(" ")},N=c.__arabicParser__.processArabic=c.processArabic=function(){var E,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(T)){var M=0;for(L=[],M=0;M<T.length;M+=1)Array.isArray(T[M])?L.push([y(T[M][0]),T[M][1],T[M][2]]):L.push([y(T[M])]);E=L}else E=y(T);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};c.events.push(["preProcessText",N])}(Ne.API),Ne.API.autoPrint=function(c){var t;switch((c=c||{}).variant=c.variant||"non-conform",c.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(c){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(u){e=u}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(u){r=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var a;if((e=e||"2d")!=="2d")return null;for(a in i)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=i[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},c.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ne.API),function(c){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new r,this.internal.__cell__.pages=1},r=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(E){A=E}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(E){w=E}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(E){N=E}}),this};r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},r.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},c.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},c.getTextDimensions=function(h,p){i.call(this);var m=(p=p||{}).fontSize||this.getFontSize(),A=p.font||this.getFont(),w=p.scaleFactor||this.internal.scaleFactor,y=0,N=0,E=0,T=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var L=p.maxWidth;L>0?typeof h=="string"?h=this.splitTextToSize(h,L):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(j,$){return j.concat(T.splitTextToSize($,L))},[])):h=Array.isArray(h)?h:[h];for(var M=0;M<h.length;M++)y<(E=this.getStringUnitWidth(h[M],{font:A})*m)&&(y=E);return y!==0&&(N=h.length),{w:y/=w,h:Math.max((N*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/w,0)}},c.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new r(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=c.cell=function(){var h;h=arguments[0]instanceof r?arguments[0]:new r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var p=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===h.lineNumber?(h.x=(p.x||0)+(p.width||0),h.y=p.y||0):p.y+p.height+h.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=A.top,y&&w&&(this.printHeaderRow(h.lineNumber,!0),h.y+=w[0].height)):h.y=p.y+p.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,e===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-m,h.y+m,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+m,{align:"center",baseline:"top",maxWidth:h.width-m-m}):this.text(h.text,h.x+m,h.y+m,{align:"left",baseline:"top",maxWidth:h.width-m-m})),this.internal.__cell__.lastCell=h,this};c.table=function(h,p,m,A,w){if(i.call(this),!m)throw new Error("No data for PDF table.");var y,N,E,T,L=[],M=[],j=[],$={},K={},at=[],tt=[],Z=(w=w||{}).autoSize||!1,ut=w.printHeaders!==!1,At=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,z=w.margins||Object.assign({width:this.getPageWidth()},t),X=typeof w.padding=="number"?w.padding:3,ot=w.headerBackgroundColor||"#c8c8c8",nt=w.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=ut,this.internal.__cell__.margins=z,this.internal.__cell__.table_font_size=At,this.internal.__cell__.padding=X,this.internal.__cell__.headerBackgroundColor=ot,this.internal.__cell__.headerTextColor=nt,this.setFontSize(At),A==null)M=L=Object.keys(m[0]),j=L.map(function(){return"left"});else if(Array.isArray(A)&&Ci(A[0])==="object")for(L=A.map(function(V){return V.name}),M=A.map(function(V){return V.prompt||V.name||""}),j=A.map(function(V){return V.align||"left"}),y=0;y<A.length;y+=1)K[A[y].name]=A[y].width*(19.049976/25.4);else Array.isArray(A)&&typeof A[0]=="string"&&(M=L=A,j=L.map(function(){return"left"}));if(Z||Array.isArray(A)&&typeof A[0]=="string")for(y=0;y<L.length;y+=1){for($[T=L[y]]=m.map(function(V){return V[T]}),this.setFont(void 0,"bold"),at.push(this.getTextDimensions(M[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=$[T],this.setFont(void 0,"normal"),E=0;E<N.length;E+=1)at.push(this.getTextDimensions(N[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);K[T]=Math.max.apply(null,at)+X+X,at=[]}if(ut){var Et={};for(y=0;y<L.length;y+=1)Et[L[y]]={},Et[L[y]].text=M[y],Et[L[y]].align=j[y];var U=u.call(this,Et,K);tt=L.map(function(V){return new r(h,p,K[V],U,Et[V].text,void 0,Et[V].align)}),this.setTableHeaderRow(tt),this.printHeaderRow(1,!1)}var J=A.reduce(function(V,ft){return V[ft.name]=ft.align,V},{});for(y=0;y<m.length;y+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:y,data:m[y]},this);var ht=u.call(this,m[y],K);for(E=0;E<L.length;E+=1){var yt=m[y][L[E]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:y,col:E,data:yt},this),o.call(this,new r(h,p,K[L[E]],ht,yt,y+2,J[L[E]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=p,this};var u=function(h,p){var m=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(h).map(function(y){var N=h[y];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,p[y]-m-m)},this).map(function(y){return this.getLineHeightFactor()*y.length*A/w+m+m},this).reduce(function(y,N){return Math.max(y,N)},0)};c.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},c.printHeaderRow=function(h,p){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new r(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){m=this.internal.__cell__.tableHeaderRow[y].clone(),p&&(m.y=this.internal.__cell__.margins.top||0,w.push(m)),m.lineNumber=h;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,m),this.setTextColor(N)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),e=!1}}(Ne.API);var mE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],WA=gE(vE),bE=[100,200,300,400,500,600,700,800,900],ZC=gE(bE);function KA(c){var t=c.family.replace(/"|'/g,"").toLowerCase(),e=function(r){return mE[r=r||"normal"]?r:"normal"}(c.style),i=function(r){if(!r)return 400;if(typeof r=="number")return r>=100&&r<=900&&r%100==0?r:400;if(/^\d00$/.test(r))return parseInt(r);switch(r){case"bold":return 700;case"normal":default:return 400}}(c.weight),a=function(r){return typeof WA[r=r||"normal"]=="number"?r:"normal"}(c.stretch);return{family:t,style:e,weight:i,stretch:a,src:c.src||[],ref:c.ref||{name:t,style:[a,e,i].join(" ")}}}function __(c,t,e,i){var a;for(a=e;a>=0&&a<t.length;a+=i)if(c[t[a]])return c[t[a]];for(a=e;a>=0&&a<t.length;a-=i)if(c[t[a]])return c[t[a]]}var JC={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},x_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function E_(c){return[c.stretch,c.style,c.weight,c.family].join(" ")}function t8(c,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",a=Object.assign({},JC,e.genericFontFamilies||{}),r=null,o=null,u=0;u<t.length;++u)if(a[(r=KA(t[u])).family]&&(r.family=a[r.family]),c.hasOwnProperty(r.family)){o=c[r.family];break}if(!(o=o||c[i]))throw new Error("Could not find a font-family for the rule '"+E_(r)+"' and default family '"+i+"'.");if(o=function(h,p){if(p[h])return p[h];var m=WA[h],A=m<=WA.normal?-1:1,w=__(p,vE,m,A);if(!w)throw new Error("Could not find a matching font-stretch value for "+h);return w}(r.stretch,o),o=function(h,p){if(p[h])return p[h];for(var m=mE[h],A=0;A<m.length;++A)if(p[m[A]])return p[m[A]];throw new Error("Could not find a matching font-style for "+h)}(r.style,o),!(o=function(h,p){if(p[h])return p[h];if(h===400&&p[500])return p[500];if(h===500&&p[400])return p[400];var m=ZC[h],A=__(p,bE,m,h<400?-1:1);if(!A)throw new Error("Could not find a matching font-weight for value "+h);return A}(r.weight,o)))throw new Error("Failed to resolve a font for the rule '"+E_(r)+"'.");return o}function N_(c){return c.trimLeft()}function e8(c,t){for(var e=0;e<c.length;){if(c.charAt(e)===t)return[c.substring(0,e),c.substring(e+1)];e+=1}return null}function i8(c){var t=c.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],c.substring(t[0].length)]}var A5,L_,C_,by=["times"];(function(c){var t,e,i,a,r,o,u,h,p,m=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new h,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new o,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new o,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};c.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,r=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,p=new m}]);var A=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=O;Object.defineProperty(this,"pdf",{get:function(){return H}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(Pt){Q=!!Pt}});var rt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return rt},set:function(Pt){rt=!!Pt}});var st=0;Object.defineProperty(this,"posX",{get:function(){return st},set:function(Pt){isNaN(Pt)||(st=Pt)}});var mt=0;Object.defineProperty(this,"posY",{get:function(){return mt},set:function(Pt){isNaN(Pt)||(mt=Pt)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Pt){var lt;typeof Pt=="number"?lt=[Pt,Pt,Pt,Pt]:((lt=new Array(4))[0]=Pt[0],lt[1]=Pt.length>=2?Pt[1]:lt[0],lt[2]=Pt.length>=3?Pt[2]:lt[0],lt[3]=Pt.length>=4?Pt[3]:lt[1]),p.margin=lt}});var St=!1;Object.defineProperty(this,"autoPaging",{get:function(){return St},set:function(Pt){St=Pt}});var Ct=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ct},set:function(Pt){Ct=Pt}});var Vt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Vt},set:function(Pt){Vt=Pt}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Pt){Pt instanceof m&&(p=Pt)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Pt){p.path=Pt}});var Ht=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ht},set:function(Pt){Ht=Pt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Pt){var lt;lt=w(Pt),this.ctx.fillStyle=lt.style,this.ctx.isFillTransparent=lt.a===0,this.ctx.fillOpacity=lt.a,this.pdf.setFillColor(lt.r,lt.g,lt.b,{a:lt.a}),this.pdf.setTextColor(lt.r,lt.g,lt.b,{a:lt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Pt){var lt=w(Pt);this.ctx.strokeStyle=lt.style,this.ctx.isStrokeTransparent=lt.a===0,this.ctx.strokeOpacity=lt.a,lt.a===0?this.pdf.setDrawColor(255,255,255):(lt.a,this.pdf.setDrawColor(lt.r,lt.g,lt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Pt){["butt","round","square"].indexOf(Pt)!==-1&&(this.ctx.lineCap=Pt,this.pdf.setLineCap(Pt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Pt){isNaN(Pt)||(this.ctx.lineWidth=Pt,this.pdf.setLineWidth(Pt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Pt){["bevel","round","miter"].indexOf(Pt)!==-1&&(this.ctx.lineJoin=Pt,this.pdf.setLineJoin(Pt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Pt){isNaN(Pt)||(this.ctx.miterLimit=Pt,this.pdf.setMiterLimit(Pt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Pt){this.ctx.textBaseline=Pt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Pt){["right","end","center","left","start"].indexOf(Pt)!==-1&&(this.ctx.textAlign=Pt)}});var Xt=null;function Kt(Pt,lt){if(Xt===null){var we=function(ue){var Yt=[];return Object.keys(ue).forEach(function(Qt){ue[Qt].forEach(function(Jt){var te=null;switch(Jt){case"bold":te={family:Qt,weight:"bold"};break;case"italic":te={family:Qt,style:"italic"};break;case"bolditalic":te={family:Qt,weight:"bold",style:"italic"};break;case"":case"normal":te={family:Qt}}te!==null&&(te.ref={name:Qt,style:Jt},Yt.push(te))})}),Yt}(Pt.getFontList());Xt=function(ue){for(var Yt={},Qt=0;Qt<ue.length;++Qt){var Jt=KA(ue[Qt]),te=Jt.family,me=Jt.stretch,ke=Jt.style,qe=Jt.weight;Yt[te]=Yt[te]||{},Yt[te][me]=Yt[te][me]||{},Yt[te][me][ke]=Yt[te][me][ke]||{},Yt[te][me][ke][qe]=Jt}return Yt}(we.concat(lt))}return Xt}var be=null;Object.defineProperty(this,"fontFaces",{get:function(){return be},set:function(Pt){Xt=null,be=Pt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Pt){var lt;if(this.ctx.font=Pt,(lt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Pt))!==null){var we=lt[1];lt[2];var ue=lt[3],Yt=lt[4];lt[5];var Qt=lt[6],Jt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Yt)[2];Yt=Math.floor(Jt==="px"?parseFloat(Yt)*this.pdf.internal.scaleFactor:Jt==="em"?parseFloat(Yt)*this.pdf.getFontSize():parseFloat(Yt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Yt);var te=function(he){var Xe,ne,ns=[],Je=he.trim();if(Je==="")return by;if(Je in x_)return[x_[Je]];for(;Je!=="";){switch(ne=null,Xe=(Je=N_(Je)).charAt(0)){case'"':case"'":ne=e8(Je.substring(1),Xe);break;default:ne=i8(Je)}if(ne===null||(ns.push(ne[0]),(Je=N_(ne[1]))!==""&&Je.charAt(0)!==","))return by;Je=Je.replace(/^,/,"")}return ns}(Qt);if(this.fontFaces){var me=t8(Kt(this.pdf,this.fontFaces),te.map(function(he){return{family:he,stretch:"normal",weight:ue,style:we}}));this.pdf.setFont(me.ref.name,me.ref.style)}else{var ke="";(ue==="bold"||parseInt(ue,10)>=700||we==="bold")&&(ke="bold"),we==="italic"&&(ke+="italic"),ke.length===0&&(ke="normal");for(var qe="",Be={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Me=0;Me<te.length;Me++){if(this.pdf.internal.getFont(te[Me],ke,{noFallback:!0,disableWarning:!0})!==void 0){qe=te[Me];break}if(ke==="bolditalic"&&this.pdf.internal.getFont(te[Me],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qe=te[Me],ke="bold";else if(this.pdf.internal.getFont(te[Me],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qe=te[Me],ke="normal";break}}if(qe===""){for(var Ze=0;Ze<te.length;Ze++)if(Be[te[Ze]]){qe=Be[te[Ze]];break}}qe=qe===""?"Times":qe,this.pdf.setFont(qe,ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Pt){this.ctx.globalCompositeOperation=Pt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Pt){this.ctx.globalAlpha=Pt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Pt){this.ctx.lineDashOffset=Pt,ft.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Pt){this.ctx.lineDash=Pt,ft.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Pt){this.ctx.ignoreClearRect=!!Pt}})};A.prototype.setLineDash=function(O){this.lineDash=O},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){$.call(this,"fill",!1)},A.prototype.stroke=function(){$.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(O,H){if(isNaN(O)||isNaN(H))throw ji.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(O,H));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(O,H)},A.prototype.closePath=function(){var O=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Ci(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){O=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(O.x,O.y)},A.prototype.lineTo=function(O,H){if(isNaN(O)||isNaN(H))throw ji.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(O,H));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),$.call(this,null,!0)},A.prototype.quadraticCurveTo=function(O,H,Q,rt){if(isNaN(Q)||isNaN(rt)||isNaN(O)||isNaN(H))throw ji.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var st=this.ctx.transform.applyToPoint(new o(Q,rt)),mt=this.ctx.transform.applyToPoint(new o(O,H));this.path.push({type:"qct",x1:mt.x,y1:mt.y,x:st.x,y:st.y}),this.ctx.lastPoint=new o(st.x,st.y)},A.prototype.bezierCurveTo=function(O,H,Q,rt,st,mt){if(isNaN(st)||isNaN(mt)||isNaN(O)||isNaN(H)||isNaN(Q)||isNaN(rt))throw ji.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var St=this.ctx.transform.applyToPoint(new o(st,mt)),Ct=this.ctx.transform.applyToPoint(new o(O,H)),Vt=this.ctx.transform.applyToPoint(new o(Q,rt));this.path.push({type:"bct",x1:Ct.x,y1:Ct.y,x2:Vt.x,y2:Vt.y,x:St.x,y:St.y}),this.ctx.lastPoint=new o(St.x,St.y)},A.prototype.arc=function(O,H,Q,rt,st,mt){if(isNaN(O)||isNaN(H)||isNaN(Q)||isNaN(rt)||isNaN(st))throw ji.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(mt=!!mt,!this.ctx.transform.isIdentity){var St=this.ctx.transform.applyToPoint(new o(O,H));O=St.x,H=St.y;var Ct=this.ctx.transform.applyToPoint(new o(0,Q)),Vt=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(Ct.x-Vt.x,2)+Math.pow(Ct.y-Vt.y,2))}Math.abs(st-rt)>=2*Math.PI&&(rt=0,st=2*Math.PI),this.path.push({type:"arc",x:O,y:H,radius:Q,startAngle:rt,endAngle:st,counterclockwise:mt})},A.prototype.arcTo=function(O,H,Q,rt,st){throw new Error("arcTo not implemented.")},A.prototype.rect=function(O,H,Q,rt){if(isNaN(O)||isNaN(H)||isNaN(Q)||isNaN(rt))throw ji.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,H),this.lineTo(O+Q,H),this.lineTo(O+Q,H+rt),this.lineTo(O,H+rt),this.lineTo(O,H),this.lineTo(O+Q,H),this.lineTo(O,H)},A.prototype.fillRect=function(O,H,Q,rt){if(isNaN(O)||isNaN(H)||isNaN(Q)||isNaN(rt))throw ji.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var st={};this.lineCap!=="butt"&&(st.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(st.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,H,Q,rt),this.fill(),st.hasOwnProperty("lineCap")&&(this.lineCap=st.lineCap),st.hasOwnProperty("lineJoin")&&(this.lineJoin=st.lineJoin)}},A.prototype.strokeRect=function(O,H,Q,rt){if(isNaN(O)||isNaN(H)||isNaN(Q)||isNaN(rt))throw ji.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(O,H,Q,rt),this.stroke())},A.prototype.clearRect=function(O,H,Q,rt){if(isNaN(O)||isNaN(H)||isNaN(Q)||isNaN(rt))throw ji.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,H,Q,rt))},A.prototype.save=function(O){O=typeof O!="boolean"||O;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var rt=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=rt}},A.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(H),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(O){var H,Q,rt,st;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))H=0,Q=0,rt=0,st=0;else{var mt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(mt!==null)H=parseInt(mt[1]),Q=parseInt(mt[2]),rt=parseInt(mt[3]),st=1;else if((mt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)H=parseInt(mt[1]),Q=parseInt(mt[2]),rt=parseInt(mt[3]),st=parseFloat(mt[4]);else{if(st=1,typeof O=="string"&&O.charAt(0)!=="#"){var St=new cE(O);O=St.ok?St.toHex():"#000000"}O.length===4?(H=O.substring(1,2),H+=H,Q=O.substring(2,3),Q+=Q,rt=O.substring(3,4),rt+=rt):(H=O.substring(1,3),Q=O.substring(3,5),rt=O.substring(5,7)),H=parseInt(H,16),Q=parseInt(Q,16),rt=parseInt(rt,16)}}return{r:H,g:Q,b:rt,a:st,style:O}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(O,H,Q,rt){if(isNaN(H)||isNaN(Q)||typeof O!="string")throw ji.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(rt=isNaN(rt)?void 0:rt,!y.call(this)){var st=ht(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;X.call(this,{text:O,x:H,y:Q,scale:mt,angle:st,align:this.textAlign,maxWidth:rt})}},A.prototype.strokeText=function(O,H,Q,rt){if(isNaN(H)||isNaN(Q)||typeof O!="string")throw ji.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){rt=isNaN(rt)?void 0:rt;var st=ht(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;X.call(this,{text:O,x:H,y:Q,scale:mt,renderingMode:"stroke",angle:st,align:this.textAlign,maxWidth:rt})}},A.prototype.measureText=function(O){if(typeof O!="string")throw ji.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,Q=this.pdf.internal.scaleFactor,rt=H.internal.getFontSize(),st=H.getStringUnitWidth(O)*rt/H.internal.scaleFactor,mt=function(St){var Ct=(St=St||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ct}}),this};return new mt({width:st*=Math.round(96*Q/72*1e4)/1e4})},A.prototype.scale=function(O,H){if(isNaN(O)||isNaN(H))throw ji.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new h(O,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},A.prototype.rotate=function(O){if(isNaN(O))throw ji.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new h(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},A.prototype.translate=function(O,H){if(isNaN(O)||isNaN(H))throw ji.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new h(1,0,0,1,O,H);this.ctx.transform=this.ctx.transform.multiply(Q)},A.prototype.transform=function(O,H,Q,rt,st,mt){if(isNaN(O)||isNaN(H)||isNaN(Q)||isNaN(rt)||isNaN(st)||isNaN(mt))throw ji.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var St=new h(O,H,Q,rt,st,mt);this.ctx.transform=this.ctx.transform.multiply(St)},A.prototype.setTransform=function(O,H,Q,rt,st,mt){O=isNaN(O)?1:O,H=isNaN(H)?0:H,Q=isNaN(Q)?0:Q,rt=isNaN(rt)?1:rt,st=isNaN(st)?0:st,mt=isNaN(mt)?0:mt,this.ctx.transform=new h(O,H,Q,rt,st,mt)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(O,H,Q,rt,st,mt,St,Ct,Vt){var Ht=this.pdf.getImageProperties(O),Xt=1,Kt=1,be=1,Pt=1;rt!==void 0&&Ct!==void 0&&(be=Ct/rt,Pt=Vt/st,Xt=Ht.width/rt*Ct/rt,Kt=Ht.height/st*Vt/st),mt===void 0&&(mt=H,St=Q,H=0,Q=0),rt!==void 0&&Ct===void 0&&(Ct=rt,Vt=st),rt===void 0&&Ct===void 0&&(Ct=Ht.width,Vt=Ht.height);for(var lt,we=this.ctx.transform.decompose(),ue=ht(we.rotate.shx),Yt=new h,Qt=(Yt=(Yt=(Yt=Yt.multiply(we.translate)).multiply(we.skew)).multiply(we.scale)).applyToRectangle(new u(mt-H*be,St-Q*Pt,rt*Xt,st*Kt)),Jt=T.call(this,Qt),te=[],me=0;me<Jt.length;me+=1)te.indexOf(Jt[me])===-1&&te.push(Jt[me]);if(j(te),this.autoPaging)for(var ke=te[0],qe=te[te.length-1],Be=ke;Be<qe+1;Be++){this.pdf.setPage(Be);var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=Be===1?this.posY+this.margin[0]:this.margin[0],he=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ne=Be===1?0:he+(Be-2)*Xe;if(this.ctx.clip_path.length!==0){var ns=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(lt,this.posX+this.margin[3],-ne+Ze+this.ctx.prevPageLastElemOffset),K.call(this,"fill",!0),this.path=ns}var Je=JSON.parse(JSON.stringify(Qt));Je=M([Je],this.posX+this.margin[3],-ne+Ze+this.ctx.prevPageLastElemOffset)[0];var ks=(Be>ke||Be<qe)&&E.call(this);ks&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,Xe,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,ue),ks&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,ue)};var T=function(O,H,Q){var rt=[];H=H||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var st=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":rt.push(Math.floor((O.y+st)/Q)+1);break;case"arc":rt.push(Math.floor((O.y+st-O.radius)/Q)+1),rt.push(Math.floor((O.y+st+O.radius)/Q)+1);break;case"qct":var mt=yt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);rt.push(Math.floor((mt.y+st)/Q)+1),rt.push(Math.floor((mt.y+mt.h+st)/Q)+1);break;case"bct":var St=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);rt.push(Math.floor((St.y+st)/Q)+1),rt.push(Math.floor((St.y+St.h+st)/Q)+1);break;case"rect":rt.push(Math.floor((O.y+st)/Q)+1),rt.push(Math.floor((O.y+O.h+st)/Q)+1)}for(var Ct=0;Ct<rt.length;Ct+=1)for(;this.pdf.internal.getNumberOfPages()<rt[Ct];)L.call(this);return rt},L=function(){var O=this.fillStyle,H=this.strokeStyle,Q=this.font,rt=this.lineCap,st=this.lineWidth,mt=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=H,this.font=Q,this.lineCap=rt,this.lineWidth=st,this.lineJoin=mt},M=function(O,H,Q){for(var rt=0;rt<O.length;rt++)switch(O[rt].type){case"bct":O[rt].x2+=H,O[rt].y2+=Q;case"qct":O[rt].x1+=H,O[rt].y1+=Q;case"mt":case"lt":case"arc":default:O[rt].x+=H,O[rt].y+=Q}return O},j=function(O){return O.sort(function(H,Q){return H-Q})},$=function(O,H){for(var Q,rt,st=this.fillStyle,mt=this.strokeStyle,St=this.lineCap,Ct=this.lineWidth,Vt=Math.abs(Ct*this.ctx.transform.scaleX),Ht=this.lineJoin,Xt=JSON.parse(JSON.stringify(this.path)),Kt=JSON.parse(JSON.stringify(this.path)),be=[],Pt=0;Pt<Kt.length;Pt++)if(Kt[Pt].x!==void 0)for(var lt=T.call(this,Kt[Pt]),we=0;we<lt.length;we+=1)be.indexOf(lt[we])===-1&&be.push(lt[we]);for(var ue=0;ue<be.length;ue++)for(;this.pdf.internal.getNumberOfPages()<be[ue];)L.call(this);if(j(be),this.autoPaging)for(var Yt=be[0],Qt=be[be.length-1],Jt=Yt;Jt<Qt+1;Jt++){this.pdf.setPage(Jt),this.fillStyle=st,this.strokeStyle=mt,this.lineCap=St,this.lineWidth=Vt,this.lineJoin=Ht;var te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],me=Jt===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=Jt===1?0:ke+(Jt-2)*qe;if(this.ctx.clip_path.length!==0){var Me=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(Q,this.posX+this.margin[3],-Be+me+this.ctx.prevPageLastElemOffset),K.call(this,O,!0),this.path=Me}if(rt=JSON.parse(JSON.stringify(Xt)),this.path=M(rt,this.posX+this.margin[3],-Be+me+this.ctx.prevPageLastElemOffset),H===!1||Jt===0){var Ze=(Jt>Yt||Jt<Qt)&&E.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],te,qe,null).clip().discardPath()),K.call(this,O,H),Ze&&this.pdf.restoreGraphicsState()}this.lineWidth=Ct}else this.lineWidth=Vt,K.call(this,O,H),this.lineWidth=Ct;this.path=Xt},K=function(O,H){if((O!=="stroke"||H||!N.call(this))&&(O==="stroke"||H||!y.call(this))){for(var Q,rt,st=[],mt=this.path,St=0;St<mt.length;St++){var Ct=mt[St];switch(Ct.type){case"begin":st.push({begin:!0});break;case"close":st.push({close:!0});break;case"mt":st.push({start:Ct,deltas:[],abs:[]});break;case"lt":var Vt=st.length;if(mt[St-1]&&!isNaN(mt[St-1].x)&&(Q=[Ct.x-mt[St-1].x,Ct.y-mt[St-1].y],Vt>0)){for(;Vt>=0;Vt--)if(st[Vt-1].close!==!0&&st[Vt-1].begin!==!0){st[Vt-1].deltas.push(Q),st[Vt-1].abs.push(Ct);break}}break;case"bct":Q=[Ct.x1-mt[St-1].x,Ct.y1-mt[St-1].y,Ct.x2-mt[St-1].x,Ct.y2-mt[St-1].y,Ct.x-mt[St-1].x,Ct.y-mt[St-1].y],st[st.length-1].deltas.push(Q);break;case"qct":var Ht=mt[St-1].x+2/3*(Ct.x1-mt[St-1].x),Xt=mt[St-1].y+2/3*(Ct.y1-mt[St-1].y),Kt=Ct.x+2/3*(Ct.x1-Ct.x),be=Ct.y+2/3*(Ct.y1-Ct.y),Pt=Ct.x,lt=Ct.y;Q=[Ht-mt[St-1].x,Xt-mt[St-1].y,Kt-mt[St-1].x,be-mt[St-1].y,Pt-mt[St-1].x,lt-mt[St-1].y],st[st.length-1].deltas.push(Q);break;case"arc":st.push({deltas:[],abs:[],arc:!0}),Array.isArray(st[st.length-1].abs)&&st[st.length-1].abs.push(Ct)}}rt=H?null:O==="stroke"?"stroke":"fill";for(var we=!1,ue=0;ue<st.length;ue++)if(st[ue].arc)for(var Yt=st[ue].abs,Qt=0;Qt<Yt.length;Qt++){var Jt=Yt[Qt];Jt.type==="arc"?Z.call(this,Jt.x,Jt.y,Jt.radius,Jt.startAngle,Jt.endAngle,Jt.counterclockwise,void 0,H,!we):ot.call(this,Jt.x,Jt.y),we=!0}else if(st[ue].close===!0)this.pdf.internal.out("h"),we=!1;else if(st[ue].begin!==!0){var te=st[ue].start.x,me=st[ue].start.y;nt.call(this,st[ue].deltas,te,me),we=!0}rt&&ut.call(this,rt),H&&At.call(this)}},at=function(O){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-Q;case"top":return O+H-Q;case"hanging":return O+H-2*Q;case"middle":return O+H/2-Q;case"ideographic":return O;case"alphabetic":default:return O}},tt=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(H,Q){this.colorStops.push([H,Q])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Z=function(O,H,Q,rt,st,mt,St,Ct,Vt){for(var Ht=U.call(this,Q,rt,st,mt),Xt=0;Xt<Ht.length;Xt++){var Kt=Ht[Xt];Xt===0&&(Vt?z.call(this,Kt.x1+O,Kt.y1+H):ot.call(this,Kt.x1+O,Kt.y1+H)),Et.call(this,O,H,Kt.x2,Kt.y2,Kt.x3,Kt.y3,Kt.x4,Kt.y4)}Ct?At.call(this):ut.call(this,St)},ut=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},At=function(){this.pdf.clip(),this.pdf.discardPath()},z=function(O,H){this.pdf.internal.out(e(O)+" "+i(H)+" m")},X=function(O){var H;switch(O.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var Q=this.pdf.getTextDimensions(O.text),rt=at.call(this,O.y),st=tt.call(this,rt)-Q.h,mt=this.ctx.transform.applyToPoint(new o(O.x,rt)),St=this.ctx.transform.decompose(),Ct=new h;Ct=(Ct=(Ct=Ct.multiply(St.translate)).multiply(St.skew)).multiply(St.scale);for(var Vt,Ht,Xt,Kt=this.ctx.transform.applyToRectangle(new u(O.x,rt,Q.w,Q.h)),be=Ct.applyToRectangle(new u(O.x,st,Q.w,Q.h)),Pt=T.call(this,be),lt=[],we=0;we<Pt.length;we+=1)lt.indexOf(Pt[we])===-1&&lt.push(Pt[we]);if(j(lt),this.autoPaging)for(var ue=lt[0],Yt=lt[lt.length-1],Qt=ue;Qt<Yt+1;Qt++){this.pdf.setPage(Qt);var Jt=Qt===1?this.posY+this.margin[0]:this.margin[0],te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],me=this.pdf.internal.pageSize.height-this.margin[2],ke=me-this.margin[0],qe=this.pdf.internal.pageSize.width-this.margin[1],Be=qe-this.margin[3],Me=Qt===1?0:te+(Qt-2)*ke;if(this.ctx.clip_path.length!==0){var Ze=this.path;Vt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(Vt,this.posX+this.margin[3],-1*Me+Jt),K.call(this,"fill",!0),this.path=Ze}var he=M([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-Me+Jt+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(Ht=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ht*O.scale),Xt=this.lineWidth,this.lineWidth=Xt*O.scale);var Xe=this.autoPaging!=="text";if(Xe||he.y+he.h<=me){if(Xe||he.y>=Jt&&he.x<=qe){var ne=Xe?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||qe-he.x)[0],ns=M([JSON.parse(JSON.stringify(Kt))],this.posX+this.margin[3],-Me+Jt+this.ctx.prevPageLastElemOffset)[0],Je=Xe&&(Qt>ue||Qt<Yt)&&E.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,ke,null).clip().discardPath()),this.pdf.text(ne,ns.x,ns.y,{angle:O.angle,align:H,renderingMode:O.renderingMode}),Je&&this.pdf.restoreGraphicsState()}}else he.y<me&&(this.ctx.prevPageLastElemOffset+=me-he.y);O.scale>=.01&&(this.pdf.setFontSize(Ht),this.lineWidth=Xt)}else O.scale>=.01&&(Ht=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ht*O.scale),Xt=this.lineWidth,this.lineWidth=Xt*O.scale),this.pdf.text(O.text,mt.x+this.posX,mt.y+this.posY,{angle:O.angle,align:H,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(Ht),this.lineWidth=Xt)},ot=function(O,H,Q,rt){Q=Q||0,rt=rt||0,this.pdf.internal.out(e(O+Q)+" "+i(H+rt)+" l")},nt=function(O,H,Q){return this.pdf.lines(O,H,Q,null,null)},Et=function(O,H,Q,rt,st,mt,St,Ct){this.pdf.internal.out([t(a(Q+O)),t(r(rt+H)),t(a(st+O)),t(r(mt+H)),t(a(St+O)),t(r(Ct+H)),"c"].join(" "))},U=function(O,H,Q,rt){for(var st=2*Math.PI,mt=Math.PI/2;H>Q;)H-=st;var St=Math.abs(Q-H);St<st&&rt&&(St=st-St);for(var Ct=[],Vt=rt?-1:1,Ht=H;St>1e-5;){var Xt=Ht+Vt*Math.min(St,mt);Ct.push(J.call(this,O,Ht,Xt)),St-=Math.abs(Xt-Ht),Ht=Xt}return Ct},J=function(O,H,Q){var rt=(Q-H)/2,st=O*Math.cos(rt),mt=O*Math.sin(rt),St=st,Ct=-mt,Vt=St*St+Ct*Ct,Ht=Vt+St*st+Ct*mt,Xt=4/3*(Math.sqrt(2*Vt*Ht)-Ht)/(St*mt-Ct*st),Kt=St-Xt*Ct,be=Ct+Xt*St,Pt=Kt,lt=-be,we=rt+H,ue=Math.cos(we),Yt=Math.sin(we);return{x1:O*Math.cos(H),y1:O*Math.sin(H),x2:Kt*ue-be*Yt,y2:Kt*Yt+be*ue,x3:Pt*ue-lt*Yt,y3:Pt*Yt+lt*ue,x4:O*Math.cos(Q),y4:O*Math.sin(Q)}},ht=function(O){return 180*O/Math.PI},yt=function(O,H,Q,rt,st,mt){var St=O+.5*(Q-O),Ct=H+.5*(rt-H),Vt=st+.5*(Q-st),Ht=mt+.5*(rt-mt),Xt=Math.min(O,st,St,Vt),Kt=Math.max(O,st,St,Vt),be=Math.min(H,mt,Ct,Ht),Pt=Math.max(H,mt,Ct,Ht);return new u(Xt,be,Kt-Xt,Pt-be)},V=function(O,H,Q,rt,st,mt,St,Ct){var Vt,Ht,Xt,Kt,be,Pt,lt,we,ue,Yt,Qt,Jt,te,me,ke=Q-O,qe=rt-H,Be=st-Q,Me=mt-rt,Ze=St-st,he=Ct-mt;for(Ht=0;Ht<41;Ht++)ue=(lt=(Xt=O+(Vt=Ht/40)*ke)+Vt*((be=Q+Vt*Be)-Xt))+Vt*(be+Vt*(st+Vt*Ze-be)-lt),Yt=(we=(Kt=H+Vt*qe)+Vt*((Pt=rt+Vt*Me)-Kt))+Vt*(Pt+Vt*(mt+Vt*he-Pt)-we),Ht==0?(Qt=ue,Jt=Yt,te=ue,me=Yt):(Qt=Math.min(Qt,ue),Jt=Math.min(Jt,Yt),te=Math.max(te,ue),me=Math.max(me,Yt));return new u(Math.round(Qt),Math.round(Jt),Math.round(te-Qt),Math.round(me-Jt))},ft=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,H,Q=(O=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:H}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Ne.API),function(c){var t=function(r){var o,u,h,p,m,A,w,y,N,E;for(u=[],h=0,p=(r+=o="\0\0\0\0".slice(r.length%4||4)).length;p>h;h+=4)(m=(r.charCodeAt(h)<<24)+(r.charCodeAt(h+1)<<16)+(r.charCodeAt(h+2)<<8)+r.charCodeAt(h+3))!==0?(A=(m=((m=((m=((m=(m-(E=m%85))/85)-(N=m%85))/85)-(y=m%85))/85)-(w=m%85))/85)%85,u.push(A+33,w+33,y+33,N+33,E+33)):u.push(122);return function(T,L){for(var M=L;M>0;M--)T.pop()}(u,o.length),String.fromCharCode.apply(String,u)+"~>"},e=function(r){var o,u,h,p,m,A=String,w="length",y=255,N="charCodeAt",E="slice",T="replace";for(r[E](-2),r=r[E](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),h=[],p=0,m=(r+=o="uuuuu"[E](r[w]%5||5))[w];m>p;p+=5)u=52200625*(r[N](p)-33)+614125*(r[N](p+1)-33)+7225*(r[N](p+2)-33)+85*(r[N](p+3)-33)+(r[N](p+4)-33),h.push(y&u>>24,y&u>>16,y&u>>8,y&u);return function(L,M){for(var j=M;j>0;j--)L.pop()}(h,o[w]),A.fromCharCode.apply(A,h)},i=function(r){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((r=r.replace(/\s/g,"")).indexOf(">")!==-1&&(r=r.substr(0,r.indexOf(">"))),r.length%2&&(r+="0"),o.test(r)===!1)return"";for(var u="",h=0;h<r.length;h+=2)u+=String.fromCharCode("0x"+(r[h]+r[h+1]));return u},a=function(r){for(var o=new Uint8Array(r.length),u=r.length;u--;)o[u]=r.charCodeAt(u);return r=(o=HA(o)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};c.processDataByFilters=function(r,o){var u=0,h=r||"",p=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":h=e(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(m){return("0"+m.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=a(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}}(Ne.API),function(c){c.loadFile=function(t,e,i){return function(a,r,o){r=r!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=function(h,p,m){var A=new XMLHttpRequest,w=0,y=function(N){var E=N.length,T=[],L=String.fromCharCode;for(w=0;w<E;w+=1)T.push(L(255&N.charCodeAt(w)));return T.join("")};if(A.open("GET",h,!p),A.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(A.onload=function(){A.status===200?m(y(this.responseText)):m(void 0)}),A.send(null),p&&A.status===200)return y(A.responseText)}(a,r,o)}catch{}return u}(t,e,i)},c.loadImageFile=c.loadFile}(Ne.API),function(c){function t(){return(Ce.html2canvas?Promise.resolve(Ce.html2canvas):BA(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(Ce.DOMPurify?Promise.resolve(Ce.DOMPurify):BA(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var u=Ci(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(o,u){var h=document.createElement(o);for(var p in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[p]=u.style[p];return h},r=function o(u){var h=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),p=o.convert(Promise.resolve(),h);return p=(p=p.setProgress(1,o,1,[o])).set(u)};(r.prototype=Object.create(Promise.prototype)).constructor=r,r.convert=function(o,u){return o.__proto__=u||r.prototype,o},r.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},r.prototype.from=function(o,u){return this.then(function(){switch(u=u||function(h){switch(i(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(h){return this.set({src:a("div",{innerHTML:o,dompurify:h})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},r.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},r.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function h(p,m){for(var A=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),w=p.firstChild;w;w=w.nextSibling)m!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||A.appendChild(h(w,m));return p.nodeType===1&&(p.nodeName==="CANVAS"?(A.width=p.width,A.height=p.height,A.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(A.value=p.value),A.addEventListener("load",function(){A.scrollTop=p.scrollTop,A.scrollLeft=p.scrollLeft},!0)),A}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},r.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},r.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var h=this.opt.jsPDF,p=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var w=0;w<p.length;++w){var y=p[w],N=y.src.find(function(E){return E.format==="truetype"});N&&h.addFont(N.url,y.ref.name,y.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,h.context2d.save(!0),u(this.prop.container,A)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},r.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},r.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},r.prototype.output=function(o,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},r.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},r.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},r.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},r.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},r.prototype.set=function(o){if(i(o)!=="object")return this;var u=Object.keys(o||{}).map(function(h){if(h in r.template.prop)return function(){this.prop[h]=o[h]};switch(h){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[h]=o[h]}}},this);return this.then(function(){return this.thenList(u)})},r.prototype.get=function(o,u){return this.then(function(){var h=o in r.template.prop?this.prop[o]:this.opt[o];return u?u(h):h})},r.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},r.prototype.setPageSize=function(o){function u(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(o=o||Ne.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},r.prototype.setProgress=function(o,u,h,p){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},r.prototype.updateProgress=function(o,u,h,p){return this.setProgress(o?this.progress.val+o:null,u||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},r.prototype.then=function(o,u){var h=this;return this.thenCore(o,u,function(p,m){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(A){return h.updateProgress(null,p),A}).then(p,m).then(function(A){return h.updateProgress(1),A})})},r.prototype.thenCore=function(o,u,h){h=h||Promise.prototype.then,o&&(o=o.bind(this)),u&&(u=u.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:r.convert(Object.assign({},this),Promise.prototype),m=h.call(p,o,u);return r.convert(m,this.__proto__)},r.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},r.prototype.thenList=function(o){var u=this;return o.forEach(function(h){u=u.thenCore(h)}),u},r.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return r.convert(u,this)},r.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},r.prototype.error=function(o){return this.then(function(){throw new Error(o)})},r.prototype.using=r.prototype.set,r.prototype.saveAs=r.prototype.save,r.prototype.export=r.prototype.output,r.prototype.run=r.prototype.then,Ne.getPageSize=function(o,u,h){if(Ci(o)==="object"){var p=o;o=p.orientation,u=p.unit||u,h=p.format||h}u=u||"mm",h=h||"a4",o=(""+(o||"P")).toLowerCase();var m,A=(""+h).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var y,N=0,E=0;if(w.hasOwnProperty(A))N=w[A][1]/m,E=w[A][0]/m;else try{N=h[1],E=h[0]}catch{throw new Error("Invalid format: "+h)}if(o==="p"||o==="portrait")o="p",E>N&&(y=E,E=N,N=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",N>E&&(y=E,E=N,N=y)}return{width:E,height:N,unit:u,k:m,orientation:o}},c.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(KA):null;var h=new r(u);return u.worker?h:h.from(o).doCallback()}}(Ne.API),Ne.API.addJS=function(c){return C_=c,this.internal.events.subscribe("postPutResources",function(){A5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(A5+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),L_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+C_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){A5!==void 0&&L_!==void 0&&this.internal.out("/Names <</JavaScript "+A5+" 0 R>>")}),this},function(c){var t;c.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=e.outline.render().split(/\r\n/),r=0;r<a.length;r++){var o=a[r],u=i.exec(o);if(u!=null){var h=u[1];e.internal.newObjectDeferredBegin(h,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,m=[];for(r=0;r<p;r++){var A=e.internal.newObject();m.push(A);var w=e.internal.getPageInfo(r+1);e.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var y=e.internal.newObject();for(e.internal.write("<< /Names [ "),r=0;r<m.length;r++)e.internal.write("(page_"+(r+1)+")"+m[r]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+y+" 0 R"),e.internal.write(">>","endobj")}}]),c.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),c.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,a,r){var o={title:a,options:r,children:[]};return i==null&&(i=this.root),i.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var a=0;a<i.children.length;a++)this.genIds_r(i.children[a])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<i.children.length;r++){var o=i.children[r];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),r>0&&this.line("/Prev "+this.makeRef(i.children[r-1])),r<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[r+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var h=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var p=0;p<i.children.length;p++)this.renderItems(i.children[p])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,a){for(var r=0;r<a.children.length;r++)i.count++,this.count_r(i,a.children[r]);return i.count}}])}(Ne.API),function(c){var t=[192,193,194,195,196,197,198,199];c.processJPEG=function(e,i,a,r,o,u){var h,p=this.decode.DCT_DECODE,m=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(h=function(A){for(var w,y=256*A.charCodeAt(4)+A.charCodeAt(5),N=A.length,E={width:0,height:0,numcomponents:1},T=4;T<N;T+=2){if(T+=y,t.indexOf(A.charCodeAt(T+1))!==-1){w=256*A.charCodeAt(T+5)+A.charCodeAt(T+6),E={width:256*A.charCodeAt(T+7)+A.charCodeAt(T+8),height:w,numcomponents:A.charCodeAt(T+9)};break}y=256*A.charCodeAt(T+2)+A.charCodeAt(T+3)}return E}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}m={data:e,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:p,index:i,alias:a}}return m}}(Ne.API);var qp,w5,T_,R_,M_,n8=function(){var c,t,e;function i(r){var o,u,h,p,m,A,w,y,N,E,T,L,M,j;for(this.data=r,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},A=null;;){switch(o=this.readUInt32(),N=(function(){var $,K;for(K=[],$=0;$<4;++$)K.push(String.fromCharCode(this.data[this.pos++]));return K}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":A&&this.animation.frames.push(A),this.pos+=4,A={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},m=this.readUInt16(),p=this.readUInt16()||100,A.delay=1e3*m/p,A.disposeOp=this.data[this.pos++],A.blendOp=this.data[this.pos++],A.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,o-=4),r=(A!=null?A.data:void 0)||this.imgData,L=0;0<=o?L<o:L>o;0<=o?++L:--L)r.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((E=h-this.transparency.indexed.length)>0)for(M=0;0<=E?M<E:M>E;0<=E?++M:--M)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":w=(T=this.read(o)).indexOf(0),y=String.fromCharCode.apply(String,T.slice(0,w)),this.text[y]=String.fromCharCode.apply(String,T.slice(w+1));break;case"IEND":return A&&this.animation.frames.push(A),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(r){var o,u;for(u=[],o=0;0<=r?o<r:o>r;0<=r?++o:--o)u.push(this.data[this.pos++]);return u},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(r){var o=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*o),h=0,p=this;if(r==null&&(r=this.imgData),r.length===0)return new Uint8Array(0);function m(A,w,y,N){var E,T,L,M,j,$,K,at,tt,Z,ut,At,z,X,ot,nt,Et,U,J,ht,yt,V=Math.ceil((p.width-A)/y),ft=Math.ceil((p.height-w)/N),O=p.width==V&&p.height==ft;for(X=o*V,At=O?u:new Uint8Array(X*ft),$=r.length,z=0,T=0;z<ft&&h<$;){switch(r[h++]){case 0:for(M=Et=0;Et<X;M=Et+=1)At[T++]=r[h++];break;case 1:for(M=U=0;U<X;M=U+=1)E=r[h++],j=M<o?0:At[T-o],At[T++]=(E+j)%256;break;case 2:for(M=J=0;J<X;M=J+=1)E=r[h++],L=(M-M%o)/o,ot=z&&At[(z-1)*X+L*o+M%o],At[T++]=(ot+E)%256;break;case 3:for(M=ht=0;ht<X;M=ht+=1)E=r[h++],L=(M-M%o)/o,j=M<o?0:At[T-o],ot=z&&At[(z-1)*X+L*o+M%o],At[T++]=(E+Math.floor((j+ot)/2))%256;break;case 4:for(M=yt=0;yt<X;M=yt+=1)E=r[h++],L=(M-M%o)/o,j=M<o?0:At[T-o],z===0?ot=nt=0:(ot=At[(z-1)*X+L*o+M%o],nt=L&&At[(z-1)*X+(L-1)*o+M%o]),K=j+ot-nt,at=Math.abs(K-j),Z=Math.abs(K-ot),ut=Math.abs(K-nt),tt=at<=Z&&at<=ut?j:Z<=ut?ot:nt,At[T++]=(E+tt)%256;break;default:throw new Error("Invalid filter algorithm: "+r[h-1])}if(!O){var H=((w+z*N)*p.width+A)*o,Q=z*X;for(M=0;M<V;M+=1){for(var rt=0;rt<o;rt+=1)u[H++]=At[Q++];H+=(y-1)*o}}z++}}return r=PC(r),p.interlaceMethod==1?(m(0,0,8,8),m(4,0,8,8),m(0,4,4,8),m(2,0,4,4),m(0,2,2,4),m(1,0,2,2),m(0,1,1,2)):m(0,0,1,1),u},i.prototype.decodePalette=function(){var r,o,u,h,p,m,A,w,y;for(u=this.palette,m=this.transparency.indexed||[],p=new Uint8Array((m.length||0)+u.length),h=0,r=0,o=A=0,w=u.length;A<w;o=A+=3)p[h++]=u[o],p[h++]=u[o+1],p[h++]=u[o+2],p[h++]=(y=m[r++])!=null?y:255;return p},i.prototype.copyToImageData=function(r,o){var u,h,p,m,A,w,y,N,E,T,L;if(h=this.colors,E=null,u=this.hasAlphaChannel,this.palette.length&&(E=(L=this._decodedPalette)!=null?L:this._decodedPalette=this.decodePalette(),h=4,u=!0),N=(p=r.data||r).length,A=E||o,m=w=0,h===1)for(;m<N;)y=E?4*o[m/4]:w,T=A[y++],p[m++]=T,p[m++]=T,p[m++]=T,p[m++]=u?A[y++]:255,w=y;else for(;m<N;)y=E?4*o[m/4]:w,p[m++]=A[y++],p[m++]=A[y++],p[m++]=A[y++],p[m++]=u?A[y++]:255,w=y},i.prototype.decode=function(){var r;return r=new Uint8Array(this.width*this.height*4),this.copyToImageData(r,this.decodePixels()),r};var a=function(){if(Object.prototype.toString.call(Ce)==="[object Window]"){try{t=Ce.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),c=function(r){var o;if(a()===!0)return e.width=r.width,e.height=r.height,e.clearRect(0,0,r.width,r.height),e.putImageData(r,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(r){var o,u,h,p,m,A,w,y;if(this.animation){for(y=[],u=m=0,A=(w=this.animation.frames).length;m<A;u=++m)o=w[u],h=r.createImageData(o.width,o.height),p=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(h,p),o.imageData=h,y.push(o.image=c(h));return y}},i.prototype.renderFrame=function(r,o){var u,h,p;return u=(h=this.animation.frames)[o],p=h[o-1],o===0&&r.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?r.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&r.putImageData(p.imageData,p.xOffset,p.yOffset),u.blendOp===0&&r.clearRect(u.xOffset,u.yOffset,u.width,u.height),r.drawImage(u.image,u.xOffset,u.yOffset)},i.prototype.animate=function(r){var o,u,h,p,m,A,w=this;return u=0,A=this.animation,p=A.numFrames,h=A.frames,m=A.numPlays,(o=function(){var y,N;if(y=u++%p,N=h[y],w.renderFrame(r,y),p>1&&u/p<m)return w.animation._timeout=setTimeout(o,N.delay)})()},i.prototype.stopAnimation=function(){var r;return clearTimeout((r=this.animation)!=null?r._timeout:void 0)},i.prototype.render=function(r){var o,u;return r._png&&r._png.stopAnimation(),r._png=this,r.width=this.width,r.height=this.height,o=r.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(u=o.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),o.putImageData(u,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function s8(c){var t=0;if(c[t++]!==71||c[t++]!==73||c[t++]!==70||c[t++]!==56||(c[t++]+1&253)!=56||c[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=c[t++]|c[t++]<<8,i=c[t++]|c[t++]<<8,a=c[t++],r=a>>7,o=1<<(7&a)+1;c[t++],c[t++];var u=null,h=null;r&&(u=t,h=o,t+=3*o);var p=!0,m=[],A=0,w=null,y=0,N=null;for(this.width=e,this.height=i;p&&t<c.length;)switch(c[t++]){case 33:switch(c[t++]){case 255:if(c[t]!==11||c[t+1]==78&&c[t+2]==69&&c[t+3]==84&&c[t+4]==83&&c[t+5]==67&&c[t+6]==65&&c[t+7]==80&&c[t+8]==69&&c[t+9]==50&&c[t+10]==46&&c[t+11]==48&&c[t+12]==3&&c[t+13]==1&&c[t+16]==0)t+=14,N=c[t++]|c[t++]<<8,t++;else for(t+=12;;){if(!((z=c[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}break;case 249:if(c[t++]!==4||c[t+4]!==0)throw new Error("Invalid graphics extension block.");var E=c[t++];A=c[t++]|c[t++]<<8,w=c[t++],(1&E)==0&&(w=null),y=E>>2&7,t++;break;case 254:for(;;){if(!((z=c[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}break;default:throw new Error("Unknown graphic control label: 0x"+c[t-1].toString(16))}break;case 44:var T=c[t++]|c[t++]<<8,L=c[t++]|c[t++]<<8,M=c[t++]|c[t++]<<8,j=c[t++]|c[t++]<<8,$=c[t++],K=$>>6&1,at=1<<(7&$)+1,tt=u,Z=h,ut=!1;$>>7&&(ut=!0,tt=t,Z=at,t+=3*at);var At=t;for(t++;;){var z;if(!((z=c[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}m.push({x:T,y:L,width:M,height:j,has_local_palette:ut,palette_offset:tt,palette_size:Z,data_offset:At,data_length:t-At,transparent_index:w,interlaced:!!K,delay:A,disposal:y});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+c[t-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return N},this.frameInfo=function(X){if(X<0||X>=m.length)throw new Error("Frame index out of range.");return m[X]},this.decodeAndBlitFrameBGRA=function(X,ot){var nt=this.frameInfo(X),Et=nt.width*nt.height,U=new Uint8Array(Et);O_(c,nt.data_offset,U,Et);var J=nt.palette_offset,ht=nt.transparent_index;ht===null&&(ht=256);var yt=nt.width,V=e-yt,ft=yt,O=4*(nt.y*e+nt.x),H=4*((nt.y+nt.height)*e+nt.x),Q=O,rt=4*V;nt.interlaced===!0&&(rt+=4*e*7);for(var st=8,mt=0,St=U.length;mt<St;++mt){var Ct=U[mt];if(ft===0&&(ft=yt,(Q+=rt)>=H&&(rt=4*V+4*e*(st-1),Q=O+(yt+V)*(st<<1),st>>=1)),Ct===ht)Q+=4;else{var Vt=c[J+3*Ct],Ht=c[J+3*Ct+1],Xt=c[J+3*Ct+2];ot[Q++]=Xt,ot[Q++]=Ht,ot[Q++]=Vt,ot[Q++]=255}--ft}},this.decodeAndBlitFrameRGBA=function(X,ot){var nt=this.frameInfo(X),Et=nt.width*nt.height,U=new Uint8Array(Et);O_(c,nt.data_offset,U,Et);var J=nt.palette_offset,ht=nt.transparent_index;ht===null&&(ht=256);var yt=nt.width,V=e-yt,ft=yt,O=4*(nt.y*e+nt.x),H=4*((nt.y+nt.height)*e+nt.x),Q=O,rt=4*V;nt.interlaced===!0&&(rt+=4*e*7);for(var st=8,mt=0,St=U.length;mt<St;++mt){var Ct=U[mt];if(ft===0&&(ft=yt,(Q+=rt)>=H&&(rt=4*V+4*e*(st-1),Q=O+(yt+V)*(st<<1),st>>=1)),Ct===ht)Q+=4;else{var Vt=c[J+3*Ct],Ht=c[J+3*Ct+1],Xt=c[J+3*Ct+2];ot[Q++]=Vt,ot[Q++]=Ht,ot[Q++]=Xt,ot[Q++]=255}--ft}}}function O_(c,t,e,i){for(var a=c[t++],r=1<<a,o=r+1,u=o+1,h=a+1,p=(1<<h)-1,m=0,A=0,w=0,y=c[t++],N=new Int32Array(4096),E=null;;){for(;m<16&&y!==0;)A|=c[t++]<<m,m+=8,y===1?y=c[t++]:--y;if(m<h)break;var T=A&p;if(A>>=h,m-=h,T!==r){if(T===o)break;for(var L=T<u?T:E,M=0,j=L;j>r;)j=N[j]>>8,++M;var $=j;if(w+M+(L!==T?1:0)>i)return void ji.log("Warning, gif stream longer than expected.");e[w++]=$;var K=w+=M;for(L!==T&&(e[w++]=$),j=L;M--;)j=N[j],e[--K]=255&j,j>>=8;E!==null&&u<4096&&(N[u++]=E<<8|$,u>=p+1&&h<12&&(++h,p=p<<1|1)),E=T}else u=o+1,p=(1<<(h=a+1))-1,E=null}return w!==i&&ji.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function yy(c){var t,e,i,a,r,o=Math.floor,u=new Array(64),h=new Array(64),p=new Array(64),m=new Array(64),A=new Array(65535),w=new Array(65535),y=new Array(64),N=new Array(64),E=[],T=0,L=7,M=new Array(64),j=new Array(64),$=new Array(64),K=new Array(256),at=new Array(2048),tt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ut=[0,1,2,3,4,5,6,7,8,9,10,11],At=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],X=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ot=[0,1,2,3,4,5,6,7,8,9,10,11],nt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Et=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(O,H){for(var Q=0,rt=0,st=new Array,mt=1;mt<=16;mt++){for(var St=1;St<=O[mt];St++)st[H[rt]]=[],st[H[rt]][0]=Q,st[H[rt]][1]=mt,rt++,Q++;Q*=2}return st}function J(O){for(var H=O[0],Q=O[1]-1;Q>=0;)H&1<<Q&&(T|=1<<L),Q--,--L<0&&(T==255?(ht(255),ht(0)):ht(T),L=7,T=0)}function ht(O){E.push(O)}function yt(O){ht(O>>8&255),ht(255&O)}function V(O,H,Q,rt,st){for(var mt,St=st[0],Ct=st[240],Vt=function(Yt,Qt){var Jt,te,me,ke,qe,Be,Me,Ze,he,Xe,ne=0;for(he=0;he<8;++he){Jt=Yt[ne],te=Yt[ne+1],me=Yt[ne+2],ke=Yt[ne+3],qe=Yt[ne+4],Be=Yt[ne+5],Me=Yt[ne+6];var ns=Jt+(Ze=Yt[ne+7]),Je=Jt-Ze,ks=te+Me,si=te-Me,Si=me+Be,Ps=me-Be,pi=ke+qe,Uo=ke-qe,Vi=ns+pi,na=ns-pi,sa=ks+Si,Qi=ks-Si;Yt[ne]=Vi+sa,Yt[ne+4]=Vi-sa;var Oe=.707106781*(Qi+na);Yt[ne+2]=na+Oe,Yt[ne+6]=na-Oe;var ui=.382683433*((Vi=Uo+Ps)-(Qi=si+Je)),Wr=.5411961*Vi+ui,_n=1.306562965*Qi+ui,za=.707106781*(sa=Ps+si),wr=Je+za,pe=Je-za;Yt[ne+5]=pe+Wr,Yt[ne+3]=pe-Wr,Yt[ne+1]=wr+_n,Yt[ne+7]=wr-_n,ne+=8}for(ne=0,he=0;he<8;++he){Jt=Yt[ne],te=Yt[ne+8],me=Yt[ne+16],ke=Yt[ne+24],qe=Yt[ne+32],Be=Yt[ne+40],Me=Yt[ne+48];var Ti=Jt+(Ze=Yt[ne+56]),Yi=Jt-Ze,xn=te+Me,on=te-Me,mn=me+Be,aa=me-Be,Xl=ke+qe,ra=ke-qe,oa=Ti+Xl,ss=Ti-Xl,as=xn+mn,Is=xn-mn;Yt[ne]=oa+as,Yt[ne+32]=oa-as;var Kn=.707106781*(Is+ss);Yt[ne+16]=ss+Kn,Yt[ne+48]=ss-Kn;var _i=.382683433*((oa=ra+aa)-(Is=on+Yi)),Ho=.5411961*oa+_i,Wl=1.306562965*Is+_i,_a=.707106781*(as=aa+on),qa=Yi+_a,cu=Yi-_a;Yt[ne+40]=cu+Ho,Yt[ne+24]=cu-Ho,Yt[ne+8]=qa+Wl,Yt[ne+56]=qa-Wl,ne++}for(he=0;he<64;++he)Xe=Yt[he]*Qt[he],y[he]=Xe>0?Xe+.5|0:Xe-.5|0;return y}(O,H),Ht=0;Ht<64;++Ht)N[tt[Ht]]=Vt[Ht];var Xt=N[0]-Q;Q=N[0],Xt==0?J(rt[0]):(J(rt[w[mt=32767+Xt]]),J(A[mt]));for(var Kt=63;Kt>0&&N[Kt]==0;)Kt--;if(Kt==0)return J(St),Q;for(var be,Pt=1;Pt<=Kt;){for(var lt=Pt;N[Pt]==0&&Pt<=Kt;)++Pt;var we=Pt-lt;if(we>=16){be=we>>4;for(var ue=1;ue<=be;++ue)J(Ct);we&=15}mt=32767+N[Pt],J(st[(we<<4)+w[mt]]),J(A[mt]),Pt++}return Kt!=63&&J(St),Q}function ft(O){O=Math.min(Math.max(O,1),100),r!=O&&(function(H){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],rt=0;rt<64;rt++){var st=o((Q[rt]*H+50)/100);st=Math.min(Math.max(st,1),255),u[tt[rt]]=st}for(var mt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],St=0;St<64;St++){var Ct=o((mt[St]*H+50)/100);Ct=Math.min(Math.max(Ct,1),255),h[tt[St]]=Ct}for(var Vt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ht=0,Xt=0;Xt<8;Xt++)for(var Kt=0;Kt<8;Kt++)p[Ht]=1/(u[tt[Ht]]*Vt[Xt]*Vt[Kt]*8),m[Ht]=1/(h[tt[Ht]]*Vt[Xt]*Vt[Kt]*8),Ht++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),r=O)}this.encode=function(O,H){H&&ft(H),E=new Array,T=0,L=7,yt(65496),yt(65504),yt(16),ht(74),ht(70),ht(73),ht(70),ht(0),ht(1),ht(1),ht(0),yt(1),yt(1),ht(0),ht(0),function(){yt(65499),yt(132),ht(0);for(var te=0;te<64;te++)ht(u[te]);ht(1);for(var me=0;me<64;me++)ht(h[me])}(),function(te,me){yt(65472),yt(17),ht(8),yt(me),yt(te),ht(3),ht(1),ht(17),ht(0),ht(2),ht(17),ht(1),ht(3),ht(17),ht(1)}(O.width,O.height),function(){yt(65476),yt(418),ht(0);for(var te=0;te<16;te++)ht(Z[te+1]);for(var me=0;me<=11;me++)ht(ut[me]);ht(16);for(var ke=0;ke<16;ke++)ht(At[ke+1]);for(var qe=0;qe<=161;qe++)ht(z[qe]);ht(1);for(var Be=0;Be<16;Be++)ht(X[Be+1]);for(var Me=0;Me<=11;Me++)ht(ot[Me]);ht(17);for(var Ze=0;Ze<16;Ze++)ht(nt[Ze+1]);for(var he=0;he<=161;he++)ht(Et[he])}(),yt(65498),yt(12),ht(3),ht(1),ht(0),ht(2),ht(17),ht(3),ht(17),ht(0),ht(63),ht(0);var Q=0,rt=0,st=0;T=0,L=7,this.encode.displayName="_encode_";for(var mt,St,Ct,Vt,Ht,Xt,Kt,be,Pt,lt=O.data,we=O.width,ue=O.height,Yt=4*we,Qt=0;Qt<ue;){for(mt=0;mt<Yt;){for(Ht=Yt*Qt+mt,Kt=-1,be=0,Pt=0;Pt<64;Pt++)Xt=Ht+(be=Pt>>3)*Yt+(Kt=4*(7&Pt)),Qt+be>=ue&&(Xt-=Yt*(Qt+1+be-ue)),mt+Kt>=Yt&&(Xt-=mt+Kt-Yt+4),St=lt[Xt++],Ct=lt[Xt++],Vt=lt[Xt++],M[Pt]=(at[St]+at[Ct+256>>0]+at[Vt+512>>0]>>16)-128,j[Pt]=(at[St+768>>0]+at[Ct+1024>>0]+at[Vt+1280>>0]>>16)-128,$[Pt]=(at[St+1280>>0]+at[Ct+1536>>0]+at[Vt+1792>>0]>>16)-128;Q=V(M,p,Q,t,i),rt=V(j,m,rt,e,a),st=V($,m,st,e,a),mt+=32}Qt+=8}if(L>=0){var Jt=[];Jt[1]=L+1,Jt[0]=(1<<L+1)-1,J(Jt)}return yt(65497),new Uint8Array(E)},c=c||50,function(){for(var O=String.fromCharCode,H=0;H<256;H++)K[H]=O(H)}(),t=U(Z,ut),e=U(X,ot),i=U(At,z),a=U(nt,Et),function(){for(var O=1,H=2,Q=1;Q<=15;Q++){for(var rt=O;rt<H;rt++)w[32767+rt]=Q,A[32767+rt]=[],A[32767+rt][1]=Q,A[32767+rt][0]=rt;for(var st=-(H-1);st<=-O;st++)w[32767+st]=Q,A[32767+st]=[],A[32767+st][1]=Q,A[32767+st][0]=H-1+st;O<<=1,H<<=1}}(),function(){for(var O=0;O<256;O++)at[O]=19595*O,at[O+256>>0]=38470*O,at[O+512>>0]=7471*O+32768,at[O+768>>0]=-11059*O,at[O+1024>>0]=-21709*O,at[O+1280>>0]=32768*O+8421375,at[O+1536>>0]=-27439*O,at[O+1792>>0]=-5329*O}(),ft(c)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function So(c,t){if(this.pos=0,this.buffer=c,this.datav=new DataView(c.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function D_(c){function t(Z){if(!Z)throw Error("assert :P")}function e(Z,ut,At){for(var z=0;4>z;z++)if(Z[ut+z]!=At.charCodeAt(z))return!0;return!1}function i(Z,ut,At,z,X){for(var ot=0;ot<X;ot++)Z[ut+ot]=At[z+ot]}function a(Z,ut,At,z){for(var X=0;X<z;X++)Z[ut+X]=At}function r(Z){return new Int32Array(Z)}function o(Z,ut){for(var At=[],z=0;z<Z;z++)At.push(new ut);return At}function u(Z,ut){var At=[];return function z(X,ot,nt){for(var Et=nt[ot],U=0;U<Et&&(X.push(nt.length>ot+1?[]:new ut),!(nt.length<ot+1));U++)z(X[U],ot+1,nt)}(At,0,Z),At}var h=function(){var Z=this;function ut(g,b){for(var x=1<<b-1>>>0;g&x;)x>>>=1;return x?(g&x-1)+x:g}function At(g,b,x,C,k){t(!(C%x));do g[b+(C-=x)]=k;while(0<C)}function z(g,b,x,C,k){if(t(2328>=k),512>=k)var B=r(512);else if((B=r(k))==null)return 0;return function(q,G,W,et,pt,Tt){var Nt,wt,zt=G,Dt=1<<W,gt=r(16),bt=r(16);for(t(pt!=0),t(et!=null),t(q!=null),t(0<W),wt=0;wt<pt;++wt){if(15<et[wt])return 0;++gt[et[wt]]}if(gt[0]==pt)return 0;for(bt[1]=0,Nt=1;15>Nt;++Nt){if(gt[Nt]>1<<Nt)return 0;bt[Nt+1]=bt[Nt]+gt[Nt]}for(wt=0;wt<pt;++wt)Nt=et[wt],0<et[wt]&&(Tt[bt[Nt]++]=wt);if(bt[15]==1)return(et=new X).g=0,et.value=Tt[0],At(q,zt,1,Dt,et),Dt;var It,qt=-1,Bt=Dt-1,se=0,$t=1,ve=1,Zt=1<<W;for(wt=0,Nt=1,pt=2;Nt<=W;++Nt,pt<<=1){if($t+=ve<<=1,0>(ve-=gt[Nt]))return 0;for(;0<gt[Nt];--gt[Nt])(et=new X).g=Nt,et.value=Tt[wt++],At(q,zt+se,pt,Zt,et),se=ut(se,Nt)}for(Nt=W+1,pt=2;15>=Nt;++Nt,pt<<=1){if($t+=ve<<=1,0>(ve-=gt[Nt]))return 0;for(;0<gt[Nt];--gt[Nt]){if(et=new X,(se&Bt)!=qt){for(zt+=Zt,It=1<<(qt=Nt)-W;15>qt&&!(0>=(It-=gt[qt]));)++qt,It<<=1;Dt+=Zt=1<<(It=qt-W),q[G+(qt=se&Bt)].g=It+W,q[G+qt].value=zt-G-qt}et.g=Nt-W,et.value=Tt[wt++],At(q,zt+(se>>W),pt,Zt,et),se=ut(se,Nt)}}return $t!=2*bt[15]-1?0:Dt}(g,b,x,C,k,B)}function X(){this.value=this.g=0}function ot(){this.value=this.g=0}function nt(){this.G=o(5,X),this.H=r(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(En,ot)}function Et(g,b,x,C){t(g!=null),t(b!=null),t(2147483648>C),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=b,g.pa=x,g.Jd=b,g.Yc=x+C,g.Zc=4<=C?x+C-4+1:x,mt(g)}function U(g,b){for(var x=0;0<b--;)x|=Ct(g,128)<<b;return x}function J(g,b){var x=U(g,b);return St(g)?-x:x}function ht(g,b,x,C){var k,B=0;for(t(g!=null),t(b!=null),t(4294967288>C),g.Sb=C,g.Ra=0,g.u=0,g.h=0,4<C&&(C=4),k=0;k<C;++k)B+=b[x+k]<<8*k;g.Ra=B,g.bb=C,g.oa=b,g.pa=x}function yt(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<nc-8>>>0,++g.bb,g.u-=8;Q(g)&&(g.h=1,g.u=0)}function V(g,b){if(t(0<=b),!g.h&&b<=ic){var x=H(g)&tl[b];return g.u+=b,yt(g),x}return g.h=1,g.u=0}function ft(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(g){return g.Ra>>>(g.u&nc-1)>>>0}function Q(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>nc}function rt(g,b){g.u=b,g.h=Q(g)}function st(g){g.u>=Eu&&(t(g.u>=Eu),yt(g))}function mt(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function St(g){return U(g,1)}function Ct(g,b){var x=g.Ca;0>g.b&&mt(g);var C=g.b,k=x*b>>>8,B=(g.I>>>C>k)+0;for(B?(x-=k,g.I-=k+1<<C>>>0):x=k+1,C=x,k=0;256<=C;)k+=8,C>>=8;return C=7^k+js[C],g.b-=C,g.Ca=(x<<C)-1,B}function Vt(g,b,x){g[b+0]=x>>24&255,g[b+1]=x>>16&255,g[b+2]=x>>8&255,g[b+3]=x>>0&255}function Ht(g,b){return g[b+0]<<0|g[b+1]<<8}function Xt(g,b){return Ht(g,b)|g[b+2]<<16}function Kt(g,b){return Ht(g,b)|Ht(g,b+2)<<16}function be(g,b){var x=1<<b;return t(g!=null),t(0<b),g.X=r(x),g.X==null?0:(g.Mb=32-b,g.Xa=b,1)}function Pt(g,b){t(g!=null),t(b!=null),t(g.Xa==b.Xa),i(b.X,0,g.X,0,1<<b.Xa)}function lt(){this.X=[],this.Xa=this.Mb=0}function we(g,b,x,C){t(x!=null),t(C!=null);var k=x[0],B=C[0];return k==0&&(k=(g*B+b/2)/b),B==0&&(B=(b*k+g/2)/g),0>=k||0>=B?0:(x[0]=k,C[0]=B,1)}function ue(g,b){return g+(1<<b)-1>>>b}function Yt(g,b){return((4278255360&g)+(4278255360&b)>>>0&4278255360)+((16711935&g)+(16711935&b)>>>0&16711935)>>>0}function Qt(g,b){Z[b]=function(x,C,k,B,q,G,W){var et;for(et=0;et<q;++et){var pt=Z[g](G[W+et-1],k,B+et);G[W+et]=Yt(x[C+et],pt)}}}function Jt(){this.ud=this.hd=this.jd=0}function te(g,b){return((4278124286&(g^b))>>>1)+(g&b)>>>0}function me(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function ke(g,b){return me(g+(g-b+.5>>1))}function qe(g,b,x){return Math.abs(b-x)-Math.abs(g-x)}function Be(g,b,x,C,k,B,q){for(C=B[q-1],x=0;x<k;++x)B[q+x]=C=Yt(g[b+x],C)}function Me(g,b,x,C,k){var B;for(B=0;B<x;++B){var q=g[b+B],G=q>>8&255,W=16711935&(W=(W=16711935&q)+((G<<16)+G));C[k+B]=(4278255360&q)+W>>>0}}function Ze(g,b){b.jd=g>>0&255,b.hd=g>>8&255,b.ud=g>>16&255}function he(g,b,x,C,k,B){var q;for(q=0;q<C;++q){var G=b[x+q],W=G>>>8,et=G,pt=255&(pt=(pt=G>>>16)+((g.jd<<24>>24)*(W<<24>>24)>>>5));et=255&(et=(et=et+((g.hd<<24>>24)*(W<<24>>24)>>>5))+((g.ud<<24>>24)*(pt<<24>>24)>>>5)),k[B+q]=(4278255360&G)+(pt<<16)+et}}function Xe(g,b,x,C,k){Z[b]=function(B,q,G,W,et,pt,Tt,Nt,wt){for(W=Tt;W<Nt;++W)for(Tt=0;Tt<wt;++Tt)et[pt++]=k(G[C(B[q++])])},Z[g]=function(B,q,G,W,et,pt,Tt){var Nt=8>>B.b,wt=B.Ea,zt=B.K[0],Dt=B.w;if(8>Nt)for(B=(1<<B.b)-1,Dt=(1<<Nt)-1;q<G;++q){var gt,bt=0;for(gt=0;gt<wt;++gt)gt&B||(bt=C(W[et++])),pt[Tt++]=k(zt[bt&Dt]),bt>>=Nt}else Z["VP8LMapColor"+x](W,et,zt,Dt,pt,Tt,q,G,wt)}}function ne(g,b,x,C,k){for(x=b+x;b<x;){var B=g[b++];C[k++]=B>>16&255,C[k++]=B>>8&255,C[k++]=B>>0&255}}function ns(g,b,x,C,k){for(x=b+x;b<x;){var B=g[b++];C[k++]=B>>16&255,C[k++]=B>>8&255,C[k++]=B>>0&255,C[k++]=B>>24&255}}function Je(g,b,x,C,k){for(x=b+x;b<x;){var B=(q=g[b++])>>16&240|q>>12&15,q=q>>0&240|q>>28&15;C[k++]=B,C[k++]=q}}function ks(g,b,x,C,k){for(x=b+x;b<x;){var B=(q=g[b++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;C[k++]=B,C[k++]=q}}function si(g,b,x,C,k){for(x=b+x;b<x;){var B=g[b++];C[k++]=B>>0&255,C[k++]=B>>8&255,C[k++]=B>>16&255}}function Si(g,b,x,C,k,B){if(B==0)for(x=b+x;b<x;)Vt(C,((B=g[b++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),k+=32;else i(C,k,g,b,x)}function Ps(g,b){Z[b][0]=Z[g+"0"],Z[b][1]=Z[g+"1"],Z[b][2]=Z[g+"2"],Z[b][3]=Z[g+"3"],Z[b][4]=Z[g+"4"],Z[b][5]=Z[g+"5"],Z[b][6]=Z[g+"6"],Z[b][7]=Z[g+"7"],Z[b][8]=Z[g+"8"],Z[b][9]=Z[g+"9"],Z[b][10]=Z[g+"10"],Z[b][11]=Z[g+"11"],Z[b][12]=Z[g+"12"],Z[b][13]=Z[g+"13"],Z[b][14]=Z[g+"0"],Z[b][15]=Z[g+"0"]}function pi(g){return g==pf||g==ul||g==lo||g==Tu}function Uo(){this.eb=[],this.size=this.A=this.fb=0}function Vi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function na(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Uo,this.f.kb=new Vi,this.sd=null}function sa(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Oe(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function ui(g,b){var x=g.T,C=b.ba.f.RGBA,k=C.eb,B=C.fb+g.ka*C.A,q=Un[b.ba.S],G=g.y,W=g.O,et=g.f,pt=g.N,Tt=g.ea,Nt=g.W,wt=b.cc,zt=b.dc,Dt=b.Mc,gt=b.Nc,bt=g.ka,It=g.ka+g.T,qt=g.U,Bt=qt+1>>1;for(bt==0?q(G,W,null,null,et,pt,Tt,Nt,et,pt,Tt,Nt,k,B,null,null,qt):(q(b.ec,b.fc,G,W,wt,zt,Dt,gt,et,pt,Tt,Nt,k,B-C.A,k,B,qt),++x);bt+2<It;bt+=2)wt=et,zt=pt,Dt=Tt,gt=Nt,pt+=g.Rc,Nt+=g.Rc,B+=2*C.A,q(G,(W+=2*g.fa)-g.fa,G,W,wt,zt,Dt,gt,et,pt,Tt,Nt,k,B-C.A,k,B,qt);return W+=g.fa,g.j+It<g.o?(i(b.ec,b.fc,G,W,qt),i(b.cc,b.dc,et,pt,Bt),i(b.Mc,b.Nc,Tt,Nt,Bt),x--):1&It||q(G,W,null,null,et,pt,Tt,Nt,et,pt,Tt,Nt,k,B+C.A,null,null,qt),x}function Wr(g,b,x){var C=g.F,k=[g.J];if(C!=null){var B=g.U,q=b.ba.S,G=q==lc||q==lo;b=b.ba.f.RGBA;var W=[0],et=g.ka;W[0]=g.T,g.Kb&&(et==0?--W[0]:(--et,k[0]-=g.width),g.j+g.ka+g.T==g.o&&(W[0]=g.o-g.j-et));var pt=b.eb;et=b.fb+et*b.A,g=Ke(C,k[0],g.width,B,W,pt,et+(G?0:3),b.A),t(x==W),g&&pi(q)&&ha(pt,et,G,B,W,b.A)}return 0}function _n(g){var b=g.ma,x=b.ba.S,C=11>x,k=x==Cu||x==df||x==lc||x==oo||x==12||pi(x);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Jo(b.Oa,g,k?11:12))return 0;if(k&&pi(x)&&Gt(),g.da)alert("todo:use_scaling");else{if(C){if(b.Ib=Oe,g.Kb){if(x=g.U+1>>1,b.memory=r(g.U+2*x),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+g.U,b.Mc=b.cc,b.Nc=b.dc+x,b.Ib=ui,Gt()}}else alert("todo:EmitYUV");k&&(b.Jb=Wr,C&&xt())}if(C&&!v2){for(g=0;256>g;++g)Yv[g]=89858*(g-128)+Ln>>Or,vf[g]=-22014*(g-128)+Ln,_1[g]=-45773*(g-128),Cn[g]=113618*(g-128)+Ln>>Or;for(g=dl;g<vp;++g)b=76283*(g-16)+Ln>>Or,bf[g-dl]=ua(b,255),x1[g-dl]=ua(b+8>>4,15);v2=1}return 1}function za(g){var b=g.ma,x=g.U,C=g.T;return t(!(1&g.ka)),0>=x||0>=C?0:(x=b.Ib(g,b),b.Jb!=null&&b.Jb(g,b,x),b.Dc+=x,1)}function wr(g){g.ma.memory=null}function pe(g,b,x,C){return V(g,8)!=47?0:(b[0]=V(g,14)+1,x[0]=V(g,14)+1,C[0]=V(g,1),V(g,3)!=0?0:!g.h)}function Ti(g,b){if(4>g)return g+1;var x=g-2>>1;return(2+(1&g)<<x)+V(b,x)+1}function Yi(g,b){return 120<b?b-120:1<=(x=((x=uo[b-1])>>4)*g+(8-(15&x)))?x:1;var x}function xn(g,b,x){var C=H(x),k=g[b+=255&C].g-8;return 0<k&&(rt(x,x.u+8),C=H(x),b+=g[b].value,b+=C&(1<<k)-1),rt(x,x.u+g[b].g),g[b].value}function on(g,b,x){return x.g+=g.g,x.value+=g.value<<b>>>0,t(8>=x.g),g.g}function mn(g,b,x){var C=g.xc;return t((b=C==0?0:g.vc[g.md*(x>>C)+(b>>C)])<g.Wb),g.Ya[b]}function aa(g,b,x,C){var k=g.ab,B=g.c*b,q=g.C;b=q+b;var G=x,W=C;for(C=g.Ta,x=g.Ua;0<k--;){var et=g.gc[k],pt=q,Tt=b,Nt=G,wt=W,zt=(W=C,G=x,et.Ea);switch(t(pt<Tt),t(Tt<=et.nc),et.hc){case 2:up(Nt,wt,(Tt-pt)*zt,W,G);break;case 0:var Dt=pt,gt=Tt,bt=W,It=G,qt=(Zt=et).Ea;Dt==0&&(w1(Nt,wt,null,null,1,bt,It),Be(Nt,wt+1,0,0,qt-1,bt,It+1),wt+=qt,It+=qt,++Dt);for(var Bt=1<<Zt.b,se=Bt-1,$t=ue(qt,Zt.b),ve=Zt.K,Zt=Zt.w+(Dt>>Zt.b)*$t;Dt<gt;){var oi=ve,gi=Zt,Ve=1;for(hf(Nt,wt,bt,It-qt,1,bt,It);Ve<qt;){var He=(Ve&~se)+Bt;He>qt&&(He=qt),(0,so[oi[gi++]>>8&15])(Nt,wt+ +Ve,bt,It+Ve-qt,He-Ve,bt,It+Ve),Ve=He}wt+=qt,It+=qt,++Dt&se||(Zt+=$t)}Tt!=et.nc&&i(W,G-zt,W,G+(Tt-pt-1)*zt,zt);break;case 1:for(zt=Nt,gt=wt,qt=(Nt=et.Ea)-(It=Nt&~(bt=(wt=1<<et.b)-1)),Dt=ue(Nt,et.b),Bt=et.K,et=et.w+(pt>>et.b)*Dt;pt<Tt;){for(se=Bt,$t=et,ve=new Jt,Zt=gt+It,oi=gt+Nt;gt<Zt;)Ze(se[$t++],ve),il(ve,zt,gt,wt,W,G),gt+=wt,G+=wt;gt<oi&&(Ze(se[$t++],ve),il(ve,zt,gt,qt,W,G),gt+=qt,G+=qt),++pt&bt||(et+=Dt)}break;case 3:if(Nt==W&&wt==G&&0<et.b){for(gt=W,Nt=zt=G+(Tt-pt)*zt-(It=(Tt-pt)*ue(et.Ea,et.b)),wt=W,bt=G,Dt=[],It=(qt=It)-1;0<=It;--It)Dt[It]=wt[bt+It];for(It=qt-1;0<=It;--It)gt[Nt+It]=Dt[It];Na(et,pt,Tt,W,zt,W,G)}else Na(et,pt,Tt,Nt,wt,W,G)}G=C,W=x}W!=x&&i(C,x,G,W,B)}function Xl(g,b){var x=g.V,C=g.Ba+g.c*g.C,k=b-g.C;if(t(b<=g.l.o),t(16>=k),0<k){var B=g.l,q=g.Ta,G=g.Ua,W=B.width;if(aa(g,k,x,C),k=G=[G],t((x=g.C)<(C=b)),t(B.v<B.va),C>B.o&&(C=B.o),x<B.j){var et=B.j-x;x=B.j,k[0]+=et*W}if(x>=C?x=0:(k[0]+=4*B.v,B.ka=x-B.j,B.U=B.va-B.v,B.T=C-x,x=1),x){if(G=G[0],11>(x=g.ca).S){var pt=x.f.RGBA,Tt=(C=x.S,k=B.U,B=B.T,et=pt.eb,pt.A),Nt=B;for(pt=pt.fb+g.Ma*pt.A;0<Nt--;){var wt=q,zt=G,Dt=k,gt=et,bt=pt;switch(C){case os:ys(wt,zt,Dt,gt,bt);break;case Cu:$n(wt,zt,Dt,gt,bt);break;case pf:$n(wt,zt,Dt,gt,bt),ha(gt,bt,0,Dt,1,0);break;case Cr:Ya(wt,zt,Dt,gt,bt);break;case df:Si(wt,zt,Dt,gt,bt,1);break;case ul:Si(wt,zt,Dt,gt,bt,1),ha(gt,bt,0,Dt,1,0);break;case lc:Si(wt,zt,Dt,gt,bt,0);break;case lo:Si(wt,zt,Dt,gt,bt,0),ha(gt,bt,1,Dt,1,0);break;case oo:nl(wt,zt,Dt,gt,bt);break;case Tu:nl(wt,zt,Dt,gt,bt),We(gt,bt,Dt,1,0);break;case fp:zs(wt,zt,Dt,gt,bt);break;default:t(0)}G+=W,pt+=Tt}g.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=x.height)}}g.C=b,t(g.C<=g.i)}function ra(g){var b;if(0<g.ua)return 0;for(b=0;b<g.Wb;++b){var x=g.Ya[b].G,C=g.Ya[b].H;if(0<x[1][C[1]+0].g||0<x[2][C[2]+0].g||0<x[3][C[3]+0].g)return 0}return 1}function oa(g,b,x,C,k,B){if(g.Z!=0){var q=g.qd,G=g.rd;for(t(Rr[g.Z]!=null);b<x;++b)Rr[g.Z](q,G,C,k,C,k,B),q=C,G=k,k+=B;g.qd=q,g.rd=G}}function ss(g,b){var x=g.l.ma,C=x.Z==0||x.Z==1?g.l.j:g.C;if(C=g.C<C?C:g.C,t(b<=g.l.o),b>C){var k=g.l.width,B=x.ca,q=x.tb+k*C,G=g.V,W=g.Ba+g.c*C,et=g.gc;t(g.ab==1),t(et[0].hc==3),el(et[0],C,b,G,W,B,q),oa(x,C,b,B,q,k)}g.C=g.Ma=b}function as(g,b,x,C,k,B,q){var G=g.$/C,W=g.$%C,et=g.m,pt=g.s,Tt=x+g.$,Nt=Tt;k=x+C*k;var wt=x+C*B,zt=280+pt.ua,Dt=g.Pb?G:16777216,gt=0<pt.ua?pt.Wa:null,bt=pt.wc,It=Tt<wt?mn(pt,W,G):null;t(g.C<B),t(wt<=k);var qt=!1;t:for(;;){for(;qt||Tt<wt;){var Bt=0;if(G>=Dt){var se=Tt-x;t((Dt=g).Pb),Dt.wd=Dt.m,Dt.xd=se,0<Dt.s.ua&&Pt(Dt.s.Wa,Dt.s.vb),Dt=G+p2}if(W&bt||(It=mn(pt,W,G)),t(It!=null),It.Qb&&(b[Tt]=It.qb,qt=!0),!qt)if(st(et),It.jc){Bt=et,se=b;var $t=Tt,ve=It.pd[H(Bt)&En-1];t(It.jc),256>ve.g?(rt(Bt,Bt.u+ve.g),se[$t]=ve.value,Bt=0):(rt(Bt,Bt.u+ve.g-256),t(256<=ve.value),Bt=ve.value),Bt==0&&(qt=!0)}else Bt=xn(It.G[0],It.H[0],et);if(et.h)break;if(qt||256>Bt){if(!qt)if(It.nd)b[Tt]=(It.qb|Bt<<8)>>>0;else{if(st(et),qt=xn(It.G[1],It.H[1],et),st(et),se=xn(It.G[2],It.H[2],et),$t=xn(It.G[3],It.H[3],et),et.h)break;b[Tt]=($t<<24|qt<<16|Bt<<8|se)>>>0}if(qt=!1,++Tt,++W>=C&&(W=0,++G,q!=null&&G<=B&&!(G%16)&&q(g,G),gt!=null))for(;Nt<Tt;)Bt=b[Nt++],gt.X[(506832829*Bt&4294967295)>>>gt.Mb]=Bt}else if(280>Bt){if(Bt=Ti(Bt-256,et),se=xn(It.G[4],It.H[4],et),st(et),se=Yi(C,se=Ti(se,et)),et.h)break;if(Tt-x<se||k-Tt<Bt)break t;for($t=0;$t<Bt;++$t)b[Tt+$t]=b[Tt+$t-se];for(Tt+=Bt,W+=Bt;W>=C;)W-=C,++G,q!=null&&G<=B&&!(G%16)&&q(g,G);if(t(Tt<=k),W&bt&&(It=mn(pt,W,G)),gt!=null)for(;Nt<Tt;)Bt=b[Nt++],gt.X[(506832829*Bt&4294967295)>>>gt.Mb]=Bt}else{if(!(Bt<zt))break t;for(qt=Bt-280,t(gt!=null);Nt<Tt;)Bt=b[Nt++],gt.X[(506832829*Bt&4294967295)>>>gt.Mb]=Bt;Bt=Tt,t(!(qt>>>(se=gt).Xa)),b[Bt]=se.X[qt],qt=!0}qt||t(et.h==Q(et))}if(g.Pb&&et.h&&Tt<k)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Pt(g.s.vb,g.s.Wa);else{if(et.h)break t;q!=null&&q(g,G>B?B:G),g.a=0,g.$=Tt-x}return 1}return g.a=3,0}function Is(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var b=g.Wa;b!=null&&(b.X=null),g.vb=null,t(g!=null)}function Kn(){var g=new A1;return g==null?null:(g.a=0,g.xb=Ru,Ps("Predictor","VP8LPredictors"),Ps("Predictor","VP8LPredictors_C"),Ps("PredictorAdd","VP8LPredictorsAdd"),Ps("PredictorAdd","VP8LPredictorsAdd_C"),up=Me,il=he,ys=ne,$n=ns,nl=Je,zs=ks,Ya=si,Z.VP8LMapColor32b=zn,Z.VP8LMapColor8b=ff,g)}function _i(g,b,x,C,k){var B=1,q=[g],G=[b],W=C.m,et=C.s,pt=null,Tt=0;t:for(;;){if(x)for(;B&&V(W,1);){var Nt=q,wt=G,zt=C,Dt=1,gt=zt.m,bt=zt.gc[zt.ab],It=V(gt,2);if(zt.Oc&1<<It)B=0;else{switch(zt.Oc|=1<<It,bt.hc=It,bt.Ea=Nt[0],bt.nc=wt[0],bt.K=[null],++zt.ab,t(4>=zt.ab),It){case 0:case 1:bt.b=V(gt,3)+2,Dt=_i(ue(bt.Ea,bt.b),ue(bt.nc,bt.b),0,zt,bt.K),bt.K=bt.K[0];break;case 3:var qt,Bt=V(gt,8)+1,se=16<Bt?0:4<Bt?1:2<Bt?2:3;if(Nt[0]=ue(bt.Ea,se),bt.b=se,qt=Dt=_i(Bt,1,0,zt,bt.K)){var $t,ve=Bt,Zt=bt,oi=1<<(8>>Zt.b),gi=r(oi);if(gi==null)qt=0;else{var Ve=Zt.K[0],He=Zt.w;for(gi[0]=Zt.K[0][0],$t=1;$t<1*ve;++$t)gi[$t]=Yt(Ve[He+$t],gi[$t-1]);for(;$t<4*oi;++$t)gi[$t]=0;Zt.K[0]=null,Zt.K[0]=gi,qt=1}}Dt=qt;break;case 2:break;default:t(0)}B=Dt}}if(q=q[0],G=G[0],B&&V(W,1)&&!(B=1<=(Tt=V(W,4))&&11>=Tt)){C.a=3;break t}var Ai;if(Ai=B)e:{var mi,Pe,xi,Se=C,Le=q,ai=G,li=Tt,Hn=x,Tn=Se.m,hn=Se.s,fn=[null],bn=1,Ra=0,vi=uc[li];i:for(;;){if(Hn&&V(Tn,1)){var yn=V(Tn,3)+2,Ka=ue(Le,yn),pl=ue(ai,yn),dc=Ka*pl;if(!_i(Ka,pl,0,Se,fn))break i;for(fn=fn[0],hn.xc=yn,mi=0;mi<dc;++mi){var gl=fn[mi]>>8&65535;fn[mi]=gl,gl>=bn&&(bn=gl+1)}}if(Tn.h)break i;for(Pe=0;5>Pe;++Pe){var qi=fa[Pe];!Pe&&0<li&&(qi+=1<<li),Ra<qi&&(Ra=qi)}var yf=o(bn*vi,X),bp=bn,ws=o(bp,nt);if(ws==null)var Wi=null;else t(65536>=bp),Wi=ws;var pc=r(Ra);if(Wi==null||pc==null||yf==null){Se.a=1;break i}var ml=yf;for(mi=xi=0;mi<bn;++mi){var Us=Wi[mi],vl=Us.G,Hs=Us.H,Af=0,Ou=1,yp=0;for(Pe=0;5>Pe;++Pe){qi=fa[Pe],vl[Pe]=ml,Hs[Pe]=xi,!Pe&&0<li&&(qi+=1<<li);s:{var wf,Ap=qi,Sf=Se,Du=pc,A2=ml,w2=xi,_f=0,go=Sf.m,Wv=V(go,1);if(a(Du,0,0,Ap),Wv){var S2=V(go,1)+1,_2=V(go,1),E1=V(go,_2==0?1:8);Du[E1]=1,S2==2&&(Du[E1=V(go,8)]=1);var ku=1}else{var N1=r(19),L1=V(go,4)+4;if(19<L1){Sf.a=3;var xf=0;break s}for(wf=0;wf<L1;++wf)N1[co[wf]]=V(go,3);var wp=void 0,Pu=void 0,x2=Sf,E2=N1,mo=Ap,Ef=Du,Sp=0,$a=x2.m,Iu=8,C1=o(128,X);n:for(;z(C1,0,7,E2,19);){if(V($a,1)){var N2=2+2*V($a,3);if((wp=2+V($a,N2))>mo)break n}else wp=mo;for(Pu=0;Pu<mo&&wp--;){st($a);var T1=C1[0+(127&H($a))];rt($a,$a.u+T1.g);var gc=T1.value;if(16>gc)Ef[Pu++]=gc,gc!=0&&(Iu=gc);else{var L2=gc==16,R1=gc-16,M1=Ta[R1],O1=V($a,dp[R1])+M1;if(Pu+O1>mo)break n;for(var C2=L2?Iu:0;0<O1--;)Ef[Pu++]=C2}}Sp=1;break n}Sp||(x2.a=3),ku=Sp}(ku=ku&&!go.h)&&(_f=z(A2,w2,8,Du,Ap)),ku&&_f!=0?xf=_f:(Sf.a=3,xf=0)}if(xf==0)break i;if(Ou&&cc[Pe]==1&&(Ou=ml[xi].g==0),Af+=ml[xi].g,xi+=xf,3>=Pe){var mc,_p=pc[0];for(mc=1;mc<qi;++mc)pc[mc]>_p&&(_p=pc[mc]);yp+=_p}}if(Us.nd=Ou,Us.Qb=0,Ou&&(Us.qb=(vl[3][Hs[3]+0].value<<24|vl[1][Hs[1]+0].value<<16|vl[2][Hs[2]+0].value)>>>0,Af==0&&256>vl[0][Hs[0]+0].value&&(Us.Qb=1,Us.qb+=vl[0][Hs[0]+0].value<<8)),Us.jc=!Us.Qb&&6>yp,Us.jc){var Nf,vo=Us;for(Nf=0;Nf<En;++Nf){var Dr=Nf,bo=vo.pd[Dr],Lf=vo.G[0][vo.H[0]+Dr];256<=Lf.value?(bo.g=Lf.g+256,bo.value=Lf.value):(bo.g=0,bo.value=0,Dr>>=on(Lf,8,bo),Dr>>=on(vo.G[1][vo.H[1]+Dr],16,bo),Dr>>=on(vo.G[2][vo.H[2]+Dr],0,bo),on(vo.G[3][vo.H[3]+Dr],24,bo))}}}hn.vc=fn,hn.Wb=bn,hn.Ya=Wi,hn.yc=yf,Ai=1;break e}Ai=0}if(!(B=Ai)){C.a=3;break t}if(0<Tt){if(et.ua=1<<Tt,!be(et.Wa,Tt)){C.a=1,B=0;break t}}else et.ua=0;var Cf=C,D1=q,T2=G,k1=Cf.s,P1=k1.xc;if(Cf.c=D1,Cf.i=T2,k1.md=ue(D1,P1),k1.wc=P1==0?-1:(1<<P1)-1,x){C.xb=m2;break t}if((pt=r(q*G))==null){C.a=1,B=0;break t}B=(B=as(C,pt,0,q,G,G,null))&&!W.h;break t}return B?(k!=null?k[0]=pt:(t(pt==null),t(x)),C.$=0,x||Is(et)):Is(et),B}function Ho(g,b){var x=g.c*g.i,C=x+b+16*b;return t(g.c<=b),g.V=r(C),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+x+b,1)}function Wl(g,b){var x=g.C,C=b-x,k=g.V,B=g.Ba+g.c*x;for(t(b<=g.l.o);0<C;){var q=16<C?16:C,G=g.l.ma,W=g.l.width,et=W*q,pt=G.ca,Tt=G.tb+W*x,Nt=g.Ta,wt=g.Ua;aa(g,q,k,B),Ri(Nt,wt,pt,Tt,et),oa(G,x,x+q,pt,Tt,W),C-=q,k+=q*g.c,x+=q}t(x==b),g.C=g.Ma=b}function _a(){this.ub=this.yd=this.td=this.Rb=0}function qa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function cu(){this.Fb=this.Bb=this.Cb=0,this.Zb=r(4),this.Lb=r(4)}function Kh(){this.Yb=function(){var g=[];return function b(x,C,k){for(var B=k[C],q=0;q<B&&(x.push(k.length>C+1?[]:0),!(k.length<C+1));q++)b(x[q],C+1,k)}(g,0,[3,11]),g}()}function Jd(){this.jb=r(3),this.Wc=u([4,8],Kh),this.Xc=u([4,17],Kh)}function g1(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new r(4),this.od=new r(4)}function Kr(){this.ld=this.La=this.dd=this.tc=0}function Kl(){this.Na=this.la=0}function Ua(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $l(){this.ad=r(384),this.Za=0,this.Ob=r(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function tp(){this.uc=this.M=this.Nb=0,this.wa=Array(new Kr),this.Y=0,this.ya=Array(new $l),this.aa=0,this.l=new Go}function $r(){this.y=r(16),this.f=r(8),this.ea=r(8)}function $h(){this.cb=this.a=0,this.sc="",this.m=new ft,this.Od=new _a,this.Kc=new qa,this.ed=new g1,this.Qa=new cu,this.Ic=this.$c=this.Aa=0,this.D=new tp,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ft),this.ia=0,this.pb=o(4,Ua),this.Pa=new Jd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $r),this.Hd=0,this.rb=Array(new Kl),this.sb=0,this.wa=Array(new Kr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $l),this.L=this.aa=0,this.gd=u([4,2],Kr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Go(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function m1(){var g=new $h;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Nn||(Nn=ep)),g}function Zi(g,b,x){return g.a==0&&(g.a=b,g.sc=x,g.cb=0),0}function bs(g,b,x){return 3<=x&&g[b+0]==157&&g[b+1]==1&&g[b+2]==42}function Qh(g,b){if(g==null)return 0;if(g.a=0,g.sc="OK",b==null)return Zi(g,2,"null VP8Io passed to VP8GetHeaders()");var x=b.data,C=b.w,k=b.ha;if(4>k)return Zi(g,7,"Truncated header.");var B=x[C+0]|x[C+1]<<8|x[C+2]<<16,q=g.Od;if(q.Rb=!(1&B),q.td=B>>1&7,q.yd=B>>4&1,q.ub=B>>5,3<q.td)return Zi(g,3,"Incorrect keyframe parameters.");if(!q.yd)return Zi(g,4,"Frame not displayable.");C+=3,k-=3;var G=g.Kc;if(q.Rb){if(7>k)return Zi(g,7,"cannot parse picture header");if(!bs(x,C,k))return Zi(g,3,"Bad code word");G.c=16383&(x[C+4]<<8|x[C+3]),G.Td=x[C+4]>>6,G.i=16383&(x[C+6]<<8|x[C+5]),G.Ud=x[C+6]>>6,C+=7,k-=7,g.za=G.c+15>>4,g.Ub=G.i+15>>4,b.width=G.c,b.height=G.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((B=g.Pa).jb,0,255,B.jb.length),t((B=g.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,a(B.Zb,0,0,B.Zb.length),a(B.Lb,0,0,B.Lb)}if(q.ub>k)return Zi(g,7,"bad partition length");Et(B=g.m,x,C,q.ub),C+=q.ub,k-=q.ub,q.Rb&&(G.Ld=St(B),G.Kd=St(B)),G=g.Qa;var W,et=g.Pa;if(t(B!=null),t(G!=null),G.Cb=St(B),G.Cb){if(G.Bb=St(B),St(B)){for(G.Fb=St(B),W=0;4>W;++W)G.Zb[W]=St(B)?J(B,7):0;for(W=0;4>W;++W)G.Lb[W]=St(B)?J(B,6):0}if(G.Bb)for(W=0;3>W;++W)et.jb[W]=St(B)?U(B,8):255}else G.Bb=0;if(B.Ka)return Zi(g,3,"cannot parse segment header");if((G=g.ed).zd=St(B),G.Tb=U(B,6),G.wb=U(B,3),G.Pc=St(B),G.Pc&&St(B)){for(et=0;4>et;++et)St(B)&&(G.vd[et]=J(B,6));for(et=0;4>et;++et)St(B)&&(G.od[et]=J(B,6))}if(g.L=G.Tb==0?0:G.zd?1:2,B.Ka)return Zi(g,3,"cannot parse filter header");var pt=k;if(k=W=C,C=W+pt,G=pt,g.Xb=(1<<U(g.m,2))-1,pt<3*(et=g.Xb))x=7;else{for(W+=3*et,G-=3*et,pt=0;pt<et;++pt){var Tt=x[k+0]|x[k+1]<<8|x[k+2]<<16;Tt>G&&(Tt=G),Et(g.Jc[+pt],x,W,Tt),W+=Tt,G-=Tt,k+=3}Et(g.Jc[+et],x,W,G),x=W<C?0:5}if(x!=0)return Zi(g,x,"cannot parse partitions");for(x=U(W=g.m,7),k=St(W)?J(W,4):0,C=St(W)?J(W,4):0,G=St(W)?J(W,4):0,et=St(W)?J(W,4):0,W=St(W)?J(W,4):0,pt=g.Qa,Tt=0;4>Tt;++Tt){if(pt.Cb){var Nt=pt.Zb[Tt];pt.Fb||(Nt+=x)}else{if(0<Tt){g.pb[Tt]=g.pb[0];continue}Nt=x}var wt=g.pb[Tt];wt.Sc[0]=gf[ua(Nt+k,127)],wt.Sc[1]=mf[ua(Nt+0,127)],wt.Eb[0]=2*gf[ua(Nt+C,127)],wt.Eb[1]=101581*mf[ua(Nt+G,127)]>>16,8>wt.Eb[1]&&(wt.Eb[1]=8),wt.Qc[0]=gf[ua(Nt+et,117)],wt.Qc[1]=mf[ua(Nt+W,127)],wt.lc=Nt+W}if(!q.Rb)return Zi(g,4,"Not a key frame.");for(St(B),q=g.Pa,x=0;4>x;++x){for(k=0;8>k;++k)for(C=0;3>C;++C)for(G=0;11>G;++G)et=Ct(B,hc[x][k][C][G])?U(B,8):Tr[x][k][C][G],q.Wc[x][k].Yb[C][G]=et;for(k=0;17>k;++k)q.Xc[x][k]=q.Wc[x][g2[k]]}return g.kc=St(B),g.kc&&(g.Bd=U(B,8)),g.cb=1}function ep(g,b,x,C,k,B,q){var G=b[k].Yb[x];for(x=0;16>k;++k){if(!Ct(g,G[x+0]))return k;for(;!Ct(g,G[x+1]);)if(G=b[++k].Yb[0],x=0,k==16)return 16;var W=b[k+1].Yb;if(Ct(g,G[x+2])){var et=g,pt=0;if(Ct(et,(Nt=G)[(Tt=x)+3]))if(Ct(et,Nt[Tt+6])){for(G=0,Tt=2*(pt=Ct(et,Nt[Tt+8]))+(Nt=Ct(et,Nt[Tt+9+pt])),pt=0,Nt=en[Tt];Nt[G];++G)pt+=pt+Ct(et,Nt[G]);pt+=3+(8<<Tt)}else Ct(et,Nt[Tt+7])?(pt=7+2*Ct(et,165),pt+=Ct(et,145)):pt=5+Ct(et,159);else pt=Ct(et,Nt[Tt+4])?3+Ct(et,Nt[Tt+5]):2;G=W[2]}else pt=1,G=W[1];W=q+hi[k],0>(et=g).b&&mt(et);var Tt,Nt=et.b,wt=(Tt=et.Ca>>1)-(et.I>>Nt)>>31;--et.b,et.Ca+=wt,et.Ca|=1,et.I-=(Tt+1&wt)<<Nt,B[W]=((pt^wt)-wt)*C[(0<k)+0]}return 16}function Vo(g){var b=g.rb[g.sb-1];b.la=0,b.Na=0,a(g.zc,0,0,g.zc.length),g.ja=0}function ip(g,b){if(g==null)return 0;if(b==null)return Zi(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!Qh(g,b))return 0;if(t(g.cb),b.ac==null||b.ac(b)){b.ob&&(g.L=0);var x=po[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=b.v-x>>4,g.zb=b.j-x>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=b.o+15+x>>4,g.Hb=b.va+15+x>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var C=g.ed;for(x=0;4>x;++x){var k;if(g.Qa.Cb){var B=g.Qa.Lb[x];g.Qa.Fb||(B+=C.Tb)}else B=C.Tb;for(k=0;1>=k;++k){var q=g.gd[x][k],G=B;if(C.Pc&&(G+=C.vd[0],k&&(G+=C.od[0])),0<(G=0>G?0:63<G?63:G)){var W=G;0<C.wb&&(W=4<C.wb?W>>2:W>>1)>9-C.wb&&(W=9-C.wb),1>W&&(W=1),q.dd=W,q.tc=2*G+W,q.ld=40<=G?2:15<=G?1:0}else q.tc=0;q.La=k}}}x=0}else Zi(g,6,"Frame setup failed"),x=g.a;if(x=x==0){if(x){g.$c=0,0<g.Aa||(g.Ic=b2);t:{x=g.Ic,C=4*(W=g.za);var et=32*W,pt=W+1,Tt=0<g.L?W*(0<g.Aa?2:1):0,Nt=(g.Aa==2?2:1)*W;if((q=C+832+(k=3*(16*x+po[g.L])/2*et)+(B=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=q)x=0;else{if(q>g.Vb){if(g.Vb=0,g.Ec=r(q),g.Fc=0,g.Ec==null){x=Zi(g,1,"no memory during frame initialization.");break t}g.Vb=q}q=g.Ec,G=g.Fc,g.Ac=q,g.Bc=G,G+=C,g.Gd=o(et,$r),g.Hd=0,g.rb=o(pt+1,Kl),g.sb=1,g.wa=Tt?o(Tt,Kr):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=W),t(!0),g.oc=q,g.pc=G,G+=832,g.ya=o(Nt,$l),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=W),g.R=16*W,g.B=8*W,W=(et=po[g.L])*g.R,et=et/2*g.B,g.sa=q,g.ta=G+W,g.qa=g.sa,g.ra=g.ta+16*x*g.R+et,g.Ha=g.qa,g.Ia=g.ra+8*x*g.B+et,g.$c=0,G+=k,g.mb=B?q:null,g.nb=B?G:null,t(G+B<=g.Fc+g.Vb),Vo(g),a(g.Ac,g.Bc,0,C),x=1}}if(x){if(b.ka=0,b.y=g.sa,b.O=g.ta,b.f=g.qa,b.N=g.ra,b.ea=g.Ha,b.Vd=g.Ia,b.fa=g.R,b.Rc=g.B,b.F=null,b.J=0,!ro){for(x=-255;255>=x;++x)un[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)La[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)ll[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)cl[255+x]=0>x?0:255<x?255:x;ro=1}Nr=Yo,Xa=Jh,Wa=Qr,vn=np,qs=tf,Ji=Zh,sc=Zl,Lr=Jl,Nu=y1,sl=rf,al=b1,rl=vu,ac=bu,Lu=cp,ol=$o,ao=ca,rc=Er,tn=v1,As[0]=Bs,As[1]=sp,As[2]=sf,As[3]=rp,As[4]=xa,As[5]=Sr,As[6]=du,As[7]=Ea,As[8]=pu,As[9]=af,ho[0]=fu,ho[1]=nf,ho[2]=Zr,ho[3]=hu,ho[4]=Bn,ho[5]=Xo,ho[6]=to,da[0]=eo,da[1]=ap,da[2]=op,da[3]=Wo,da[4]=la,da[5]=rs,da[6]=Ko,x=1}else x=0}x&&(x=function(wt,zt){for(wt.M=0;wt.M<wt.Va;++wt.M){var Dt,gt=wt.Jc[wt.M&wt.Xb],bt=wt.m,It=wt;for(Dt=0;Dt<It.za;++Dt){var qt=bt,Bt=It,se=Bt.Ac,$t=Bt.Bc+4*Dt,ve=Bt.zc,Zt=Bt.ya[Bt.aa+Dt];if(Bt.Qa.Bb?Zt.$b=Ct(qt,Bt.Pa.jb[0])?2+Ct(qt,Bt.Pa.jb[2]):Ct(qt,Bt.Pa.jb[1]):Zt.$b=0,Bt.kc&&(Zt.Ad=Ct(qt,Bt.Bd)),Zt.Za=!Ct(qt,145)+0,Zt.Za){var oi=Zt.Ob,gi=0;for(Bt=0;4>Bt;++Bt){var Ve,He=ve[0+Bt];for(Ve=0;4>Ve;++Ve){He=S1[se[$t+Ve]][He];for(var Ai=hl[Ct(qt,He[0])];0<Ai;)Ai=hl[2*Ai+Ct(qt,He[Ai])];He=-Ai,se[$t+Ve]=He}i(oi,gi,se,$t,4),gi+=4,ve[0+Bt]=He}}else He=Ct(qt,156)?Ct(qt,128)?1:3:Ct(qt,163)?2:0,Zt.Ob[0]=He,a(se,$t,He,4),a(ve,0,He,4);Zt.Dd=Ct(qt,142)?Ct(qt,114)?Ct(qt,183)?1:3:2:0}if(It.m.Ka)return Zi(wt,7,"Premature end-of-partition0 encountered.");for(;wt.ja<wt.za;++wt.ja){if(It=gt,qt=(bt=wt).rb[bt.sb-1],se=bt.rb[bt.sb+bt.ja],Dt=bt.ya[bt.aa+bt.ja],$t=bt.kc?Dt.Ad:0)qt.la=se.la=0,Dt.Za||(qt.Na=se.Na=0),Dt.Hc=0,Dt.Gc=0,Dt.ia=0;else{var mi,Pe;if(qt=se,se=It,$t=bt.Pa.Xc,ve=bt.ya[bt.aa+bt.ja],Zt=bt.pb[ve.$b],Bt=ve.ad,oi=0,gi=bt.rb[bt.sb-1],He=Ve=0,a(Bt,oi,0,384),ve.Za)var xi=0,Se=$t[3];else{Ai=r(16);var Le=qt.Na+gi.Na;if(Le=Nn(se,$t[1],Le,Zt.Eb,0,Ai,0),qt.Na=gi.Na=(0<Le)+0,1<Le)Nr(Ai,0,Bt,oi);else{var ai=Ai[0]+3>>3;for(Ai=0;256>Ai;Ai+=16)Bt[oi+Ai]=ai}xi=1,Se=$t[0]}var li=15&qt.la,Hn=15&gi.la;for(Ai=0;4>Ai;++Ai){var Tn=1&Hn;for(ai=Pe=0;4>ai;++ai)li=li>>1|(Tn=(Le=Nn(se,Se,Le=Tn+(1&li),Zt.Sc,xi,Bt,oi))>xi)<<7,Pe=Pe<<2|(3<Le?3:1<Le?2:Bt[oi+0]!=0),oi+=16;li>>=4,Hn=Hn>>1|Tn<<7,Ve=(Ve<<8|Pe)>>>0}for(Se=li,xi=Hn>>4,mi=0;4>mi;mi+=2){for(Pe=0,li=qt.la>>4+mi,Hn=gi.la>>4+mi,Ai=0;2>Ai;++Ai){for(Tn=1&Hn,ai=0;2>ai;++ai)Le=Tn+(1&li),li=li>>1|(Tn=0<(Le=Nn(se,$t[2],Le,Zt.Qc,0,Bt,oi)))<<3,Pe=Pe<<2|(3<Le?3:1<Le?2:Bt[oi+0]!=0),oi+=16;li>>=2,Hn=Hn>>1|Tn<<5}He|=Pe<<4*mi,Se|=li<<4<<mi,xi|=(240&Hn)<<mi}qt.la=Se,gi.la=xi,ve.Hc=Ve,ve.Gc=He,ve.ia=43690&He?0:Zt.ia,$t=!(Ve|He)}if(0<bt.L&&(bt.wa[bt.Y+bt.ja]=bt.gd[Dt.$b][Dt.Za],bt.wa[bt.Y+bt.ja].La|=!$t),It.Ka)return Zi(wt,7,"Premature end-of-file encountered.")}if(Vo(wt),bt=zt,It=1,Dt=(gt=wt).D,qt=0<gt.L&&gt.M>=gt.zb&&gt.M<=gt.Va,gt.Aa==0)t:{if(Dt.M=gt.M,Dt.uc=qt,no(gt,Dt),It=1,Dt=(Pe=gt.D).Nb,qt=(He=po[gt.L])*gt.R,se=He/2*gt.B,Ai=16*Dt*gt.R,ai=8*Dt*gt.B,$t=gt.sa,ve=gt.ta-qt+Ai,Zt=gt.qa,Bt=gt.ra-se+ai,oi=gt.Ha,gi=gt.Ia-se+ai,Hn=(li=Pe.M)==0,Ve=li>=gt.Va-1,gt.Aa==2&&no(gt,Pe),Pe.uc)for(Tn=(Le=gt).D.M,t(Le.D.uc),Pe=Le.yb;Pe<Le.Hb;++Pe){xi=Pe,Se=Tn;var hn=(fn=(qi=Le).D).Nb;mi=qi.R;var fn=fn.wa[fn.Y+xi],bn=qi.sa,Ra=qi.ta+16*hn*mi+16*xi,vi=fn.dd,yn=fn.tc;if(yn!=0)if(t(3<=yn),qi.L==1)0<xi&&ao(bn,Ra,mi,yn+4),fn.La&&tn(bn,Ra,mi,yn),0<Se&&ol(bn,Ra,mi,yn+4),fn.La&&rc(bn,Ra,mi,yn);else{var Ka=qi.B,pl=qi.qa,dc=qi.ra+8*hn*Ka+8*xi,gl=qi.Ha,qi=qi.Ia+8*hn*Ka+8*xi;hn=fn.ld,0<xi&&(Lr(bn,Ra,mi,yn+4,vi,hn),sl(pl,dc,gl,qi,Ka,yn+4,vi,hn)),fn.La&&(rl(bn,Ra,mi,yn,vi,hn),Lu(pl,dc,gl,qi,Ka,yn,vi,hn)),0<Se&&(sc(bn,Ra,mi,yn+4,vi,hn),Nu(pl,dc,gl,qi,Ka,yn+4,vi,hn)),fn.La&&(al(bn,Ra,mi,yn,vi,hn),ac(pl,dc,gl,qi,Ka,yn,vi,hn))}}if(gt.ia&&alert("todo:DitherRow"),bt.put!=null){if(Pe=16*li,li=16*(li+1),Hn?(bt.y=gt.sa,bt.O=gt.ta+Ai,bt.f=gt.qa,bt.N=gt.ra+ai,bt.ea=gt.Ha,bt.W=gt.Ia+ai):(Pe-=He,bt.y=$t,bt.O=ve,bt.f=Zt,bt.N=Bt,bt.ea=oi,bt.W=gi),Ve||(li-=He),li>bt.o&&(li=bt.o),bt.F=null,bt.J=null,gt.Fa!=null&&0<gt.Fa.length&&Pe<li&&(bt.J=cf(gt,bt,Pe,li-Pe),bt.F=gt.mb,bt.F==null&&bt.F.length==0)){It=Zi(gt,3,"Could not decode alpha data.");break t}Pe<bt.j&&(He=bt.j-Pe,Pe=bt.j,t(!(1&He)),bt.O+=gt.R*He,bt.N+=gt.B*(He>>1),bt.W+=gt.B*(He>>1),bt.F!=null&&(bt.J+=bt.width*He)),Pe<li&&(bt.O+=bt.v,bt.N+=bt.v>>1,bt.W+=bt.v>>1,bt.F!=null&&(bt.J+=bt.v),bt.ka=Pe-bt.j,bt.U=bt.va-bt.v,bt.T=li-Pe,It=bt.put(bt))}Dt+1!=gt.Ic||Ve||(i(gt.sa,gt.ta-qt,$t,ve+16*gt.R,qt),i(gt.qa,gt.ra-se,Zt,Bt+8*gt.B,se),i(gt.Ha,gt.Ia-se,oi,gi+8*gt.B,se))}if(!It)return Zi(wt,6,"Output aborted.")}return 1}(g,b)),b.bc!=null&&b.bc(b),x&=1}return x?(g.cb=0,x):0}function Fs(g,b,x,C,k){k=g[b+x+32*C]+(k>>3),g[b+x+32*C]=-256&k?0>k?0:255:k}function uu(g,b,x,C,k,B){Fs(g,b,0,x,C+k),Fs(g,b,1,x,C+B),Fs(g,b,2,x,C-B),Fs(g,b,3,x,C-k)}function Fi(g){return(20091*g>>16)+g}function Ql(g,b,x,C){var k,B=0,q=r(16);for(k=0;4>k;++k){var G=g[b+0]+g[b+8],W=g[b+0]-g[b+8],et=(35468*g[b+4]>>16)-Fi(g[b+12]),pt=Fi(g[b+4])+(35468*g[b+12]>>16);q[B+0]=G+pt,q[B+1]=W+et,q[B+2]=W-et,q[B+3]=G-pt,B+=4,b++}for(k=B=0;4>k;++k)G=(g=q[B+0]+4)+q[B+8],W=g-q[B+8],et=(35468*q[B+4]>>16)-Fi(q[B+12]),Fs(x,C,0,0,G+(pt=Fi(q[B+4])+(35468*q[B+12]>>16))),Fs(x,C,1,0,W+et),Fs(x,C,2,0,W-et),Fs(x,C,3,0,G-pt),B++,C+=32}function Zh(g,b,x,C){var k=g[b+0]+4,B=35468*g[b+4]>>16,q=Fi(g[b+4]),G=35468*g[b+1]>>16;uu(x,C,0,k+q,g=Fi(g[b+1]),G),uu(x,C,1,k+B,g,G),uu(x,C,2,k-B,g,G),uu(x,C,3,k-q,g,G)}function Jh(g,b,x,C,k){Ql(g,b,x,C),k&&Ql(g,b+16,x,C+4)}function Qr(g,b,x,C){Xa(g,b+0,x,C,1),Xa(g,b+32,x,C+128,1)}function np(g,b,x,C){var k;for(g=g[b+0]+4,k=0;4>k;++k)for(b=0;4>b;++b)Fs(x,C,b,k,g)}function tf(g,b,x,C){g[b+0]&&vn(g,b+0,x,C),g[b+16]&&vn(g,b+16,x,C+4),g[b+32]&&vn(g,b+32,x,C+128),g[b+48]&&vn(g,b+48,x,C+128+4)}function Yo(g,b,x,C){var k,B=r(16);for(k=0;4>k;++k){var q=g[b+0+k]+g[b+12+k],G=g[b+4+k]+g[b+8+k],W=g[b+4+k]-g[b+8+k],et=g[b+0+k]-g[b+12+k];B[0+k]=q+G,B[8+k]=q-G,B[4+k]=et+W,B[12+k]=et-W}for(k=0;4>k;++k)q=(g=B[0+4*k]+3)+B[3+4*k],G=B[1+4*k]+B[2+4*k],W=B[1+4*k]-B[2+4*k],et=g-B[3+4*k],x[C+0]=q+G>>3,x[C+16]=et+W>>3,x[C+32]=q-G>>3,x[C+48]=et-W>>3,C+=64}function ef(g,b,x){var C,k=b-32,B=qn,q=255-g[k-1];for(C=0;C<x;++C){var G,W=B,et=q+g[b-1];for(G=0;G<x;++G)g[b+G]=W[et+g[k+G]];b+=32}}function sp(g,b){ef(g,b,4)}function ap(g,b){ef(g,b,8)}function nf(g,b){ef(g,b,16)}function Zr(g,b){var x;for(x=0;16>x;++x)i(g,b+32*x,g,b-32,16)}function hu(g,b){var x;for(x=16;0<x;--x)a(g,b,g[b-1],16),b+=32}function Jr(g,b,x){var C;for(C=0;16>C;++C)a(b,x+32*C,g,16)}function fu(g,b){var x,C=16;for(x=0;16>x;++x)C+=g[b-1+32*x]+g[b+x-32];Jr(C>>5,g,b)}function Bn(g,b){var x,C=8;for(x=0;16>x;++x)C+=g[b-1+32*x];Jr(C>>4,g,b)}function Xo(g,b){var x,C=8;for(x=0;16>x;++x)C+=g[b+x-32];Jr(C>>4,g,b)}function to(g,b){Jr(128,g,b)}function Te(g,b,x){return g+2*b+x+2>>2}function sf(g,b){var x,C=b-32;for(C=new Uint8Array([Te(g[C-1],g[C+0],g[C+1]),Te(g[C+0],g[C+1],g[C+2]),Te(g[C+1],g[C+2],g[C+3]),Te(g[C+2],g[C+3],g[C+4])]),x=0;4>x;++x)i(g,b+32*x,C,0,C.length)}function rp(g,b){var x=g[b-1],C=g[b-1+32],k=g[b-1+64],B=g[b-1+96];Vt(g,b+0,16843009*Te(g[b-1-32],x,C)),Vt(g,b+32,16843009*Te(x,C,k)),Vt(g,b+64,16843009*Te(C,k,B)),Vt(g,b+96,16843009*Te(k,B,B))}function Bs(g,b){var x,C=4;for(x=0;4>x;++x)C+=g[b+x-32]+g[b-1+32*x];for(C>>=3,x=0;4>x;++x)a(g,b+32*x,C,4)}function xa(g,b){var x=g[b-1+0],C=g[b-1+32],k=g[b-1+64],B=g[b-1-32],q=g[b+0-32],G=g[b+1-32],W=g[b+2-32],et=g[b+3-32];g[b+0+96]=Te(C,k,g[b-1+96]),g[b+1+96]=g[b+0+64]=Te(x,C,k),g[b+2+96]=g[b+1+64]=g[b+0+32]=Te(B,x,C),g[b+3+96]=g[b+2+64]=g[b+1+32]=g[b+0+0]=Te(q,B,x),g[b+3+64]=g[b+2+32]=g[b+1+0]=Te(G,q,B),g[b+3+32]=g[b+2+0]=Te(W,G,q),g[b+3+0]=Te(et,W,G)}function du(g,b){var x=g[b+1-32],C=g[b+2-32],k=g[b+3-32],B=g[b+4-32],q=g[b+5-32],G=g[b+6-32],W=g[b+7-32];g[b+0+0]=Te(g[b+0-32],x,C),g[b+1+0]=g[b+0+32]=Te(x,C,k),g[b+2+0]=g[b+1+32]=g[b+0+64]=Te(C,k,B),g[b+3+0]=g[b+2+32]=g[b+1+64]=g[b+0+96]=Te(k,B,q),g[b+3+32]=g[b+2+64]=g[b+1+96]=Te(B,q,G),g[b+3+64]=g[b+2+96]=Te(q,G,W),g[b+3+96]=Te(G,W,W)}function Sr(g,b){var x=g[b-1+0],C=g[b-1+32],k=g[b-1+64],B=g[b-1-32],q=g[b+0-32],G=g[b+1-32],W=g[b+2-32],et=g[b+3-32];g[b+0+0]=g[b+1+64]=B+q+1>>1,g[b+1+0]=g[b+2+64]=q+G+1>>1,g[b+2+0]=g[b+3+64]=G+W+1>>1,g[b+3+0]=W+et+1>>1,g[b+0+96]=Te(k,C,x),g[b+0+64]=Te(C,x,B),g[b+0+32]=g[b+1+96]=Te(x,B,q),g[b+1+32]=g[b+2+96]=Te(B,q,G),g[b+2+32]=g[b+3+96]=Te(q,G,W),g[b+3+32]=Te(G,W,et)}function Ea(g,b){var x=g[b+0-32],C=g[b+1-32],k=g[b+2-32],B=g[b+3-32],q=g[b+4-32],G=g[b+5-32],W=g[b+6-32],et=g[b+7-32];g[b+0+0]=x+C+1>>1,g[b+1+0]=g[b+0+64]=C+k+1>>1,g[b+2+0]=g[b+1+64]=k+B+1>>1,g[b+3+0]=g[b+2+64]=B+q+1>>1,g[b+0+32]=Te(x,C,k),g[b+1+32]=g[b+0+96]=Te(C,k,B),g[b+2+32]=g[b+1+96]=Te(k,B,q),g[b+3+32]=g[b+2+96]=Te(B,q,G),g[b+3+64]=Te(q,G,W),g[b+3+96]=Te(G,W,et)}function af(g,b){var x=g[b-1+0],C=g[b-1+32],k=g[b-1+64],B=g[b-1+96];g[b+0+0]=x+C+1>>1,g[b+2+0]=g[b+0+32]=C+k+1>>1,g[b+2+32]=g[b+0+64]=k+B+1>>1,g[b+1+0]=Te(x,C,k),g[b+3+0]=g[b+1+32]=Te(C,k,B),g[b+3+32]=g[b+1+64]=Te(k,B,B),g[b+3+64]=g[b+2+64]=g[b+0+96]=g[b+1+96]=g[b+2+96]=g[b+3+96]=B}function pu(g,b){var x=g[b-1+0],C=g[b-1+32],k=g[b-1+64],B=g[b-1+96],q=g[b-1-32],G=g[b+0-32],W=g[b+1-32],et=g[b+2-32];g[b+0+0]=g[b+2+32]=x+q+1>>1,g[b+0+32]=g[b+2+64]=C+x+1>>1,g[b+0+64]=g[b+2+96]=k+C+1>>1,g[b+0+96]=B+k+1>>1,g[b+3+0]=Te(G,W,et),g[b+2+0]=Te(q,G,W),g[b+1+0]=g[b+3+32]=Te(x,q,G),g[b+1+32]=g[b+3+64]=Te(C,x,q),g[b+1+64]=g[b+3+96]=Te(k,C,x),g[b+1+96]=Te(B,k,C)}function op(g,b){var x;for(x=0;8>x;++x)i(g,b+32*x,g,b-32,8)}function Wo(g,b){var x;for(x=0;8>x;++x)a(g,b,g[b-1],8),b+=32}function _r(g,b,x){var C;for(C=0;8>C;++C)a(b,x+32*C,g,8)}function eo(g,b){var x,C=8;for(x=0;8>x;++x)C+=g[b+x-32]+g[b-1+32*x];_r(C>>4,g,b)}function rs(g,b){var x,C=4;for(x=0;8>x;++x)C+=g[b+x-32];_r(C>>3,g,b)}function la(g,b){var x,C=4;for(x=0;8>x;++x)C+=g[b-1+32*x];_r(C>>3,g,b)}function Ko(g,b){_r(128,g,b)}function xr(g,b,x){var C=g[b-x],k=g[b+0],B=3*(k-C)+hp[1020+g[b-2*x]-g[b+x]],q=oc[112+(B+4>>3)];g[b-x]=qn[255+C+oc[112+(B+3>>3)]],g[b+0]=qn[255+k-q]}function lp(g,b,x,C){var k=g[b+0],B=g[b+x];return Ca[255+g[b-2*x]-g[b-x]]>C||Ca[255+B-k]>C}function gu(g,b,x,C){return 4*Ca[255+g[b-x]-g[b+0]]+Ca[255+g[b-2*x]-g[b+x]]<=C}function mu(g,b,x,C,k){var B=g[b-3*x],q=g[b-2*x],G=g[b-x],W=g[b+0],et=g[b+x],pt=g[b+2*x],Tt=g[b+3*x];return 4*Ca[255+G-W]+Ca[255+q-et]>C?0:Ca[255+g[b-4*x]-B]<=k&&Ca[255+B-q]<=k&&Ca[255+q-G]<=k&&Ca[255+Tt-pt]<=k&&Ca[255+pt-et]<=k&&Ca[255+et-W]<=k}function $o(g,b,x,C){var k=2*C+1;for(C=0;16>C;++C)gu(g,b+C,x,k)&&xr(g,b+C,x)}function ca(g,b,x,C){var k=2*C+1;for(C=0;16>C;++C)gu(g,b+C*x,1,k)&&xr(g,b+C*x,1)}function Er(g,b,x,C){var k;for(k=3;0<k;--k)$o(g,b+=4*x,x,C)}function v1(g,b,x,C){var k;for(k=3;0<k;--k)ca(g,b+=4,x,C)}function Qo(g,b,x,C,k,B,q,G){for(B=2*B+1;0<k--;){if(mu(g,b,x,B,q))if(lp(g,b,x,G))xr(g,b,x);else{var W=g,et=b,pt=x,Tt=W[et-2*pt],Nt=W[et-pt],wt=W[et+0],zt=W[et+pt],Dt=W[et+2*pt],gt=27*(It=hp[1020+3*(wt-Nt)+hp[1020+Tt-zt]])+63>>7,bt=18*It+63>>7,It=9*It+63>>7;W[et-3*pt]=qn[255+W[et-3*pt]+It],W[et-2*pt]=qn[255+Tt+bt],W[et-pt]=qn[255+Nt+gt],W[et+0]=qn[255+wt-gt],W[et+pt]=qn[255+zt-bt],W[et+2*pt]=qn[255+Dt-It]}b+=C}}function Ha(g,b,x,C,k,B,q,G){for(B=2*B+1;0<k--;){if(mu(g,b,x,B,q))if(lp(g,b,x,G))xr(g,b,x);else{var W=g,et=b,pt=x,Tt=W[et-pt],Nt=W[et+0],wt=W[et+pt],zt=oc[112+((Dt=3*(Nt-Tt))+4>>3)],Dt=oc[112+(Dt+3>>3)],gt=zt+1>>1;W[et-2*pt]=qn[255+W[et-2*pt]+gt],W[et-pt]=qn[255+Tt+Dt],W[et+0]=qn[255+Nt-zt],W[et+pt]=qn[255+wt-gt]}b+=C}}function Zl(g,b,x,C,k,B){Qo(g,b,x,1,16,C,k,B)}function Jl(g,b,x,C,k,B){Qo(g,b,1,x,16,C,k,B)}function b1(g,b,x,C,k,B){var q;for(q=3;0<q;--q)Ha(g,b+=4*x,x,1,16,C,k,B)}function vu(g,b,x,C,k,B){var q;for(q=3;0<q;--q)Ha(g,b+=4,1,x,16,C,k,B)}function y1(g,b,x,C,k,B,q,G){Qo(g,b,k,1,8,B,q,G),Qo(x,C,k,1,8,B,q,G)}function rf(g,b,x,C,k,B,q,G){Qo(g,b,1,k,8,B,q,G),Qo(x,C,1,k,8,B,q,G)}function bu(g,b,x,C,k,B,q,G){Ha(g,b+4*k,k,1,8,B,q,G),Ha(x,C+4*k,k,1,8,B,q,G)}function cp(g,b,x,C,k,B,q,G){Ha(g,b+4,1,k,8,B,q,G),Ha(x,C+4,1,k,8,B,q,G)}function yu(){this.ba=new na,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function of(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lf(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Au(){this.ua=0,this.Wa=new lt,this.vb=new lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new nt,this.yc=new X}function A1(){this.xb=this.a=0,this.l=new Go,this.ca=new na,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Au,this.ab=0,this.gc=o(4,lf),this.Oc=0}function wu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Go,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function tc(g,b,x,C,k,B,q){for(g=g==null?0:g[b+0],b=0;b<q;++b)k[B+b]=g+x[C+b]&255,g=k[B+b]}function Su(g,b,x,C,k,B,q){var G;if(g==null)tc(null,null,x,C,k,B,q);else for(G=0;G<q;++G)k[B+G]=g[b+G]+x[C+G]&255}function Zo(g,b,x,C,k,B,q){if(g==null)tc(null,null,x,C,k,B,q);else{var G,W=g[b+0],et=W,pt=W;for(G=0;G<q;++G)et=pt+(W=g[b+G])-et,pt=x[C+G]+(-256&et?0>et?0:255:et)&255,et=W,k[B+G]=pt}}function cf(g,b,x,C){var k=b.width,B=b.o;if(t(g!=null&&b!=null),0>x||0>=C||x+C>B)return null;if(!g.Cc){if(g.ga==null){var q;if(g.ga=new wu,(q=g.ga==null)||(q=b.width*b.o,t(g.Gb.length==0),g.Gb=r(q),g.Uc=0,g.Gb==null?q=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,q=1),q=!q),!q){q=g.ga;var G=g.Fa,W=g.P,et=g.qc,pt=g.mb,Tt=g.nb,Nt=W+1,wt=et-1,zt=q.l;if(t(G!=null&&pt!=null&&b!=null),Rr[0]=null,Rr[1]=tc,Rr[2]=Su,Rr[3]=Zo,q.ca=pt,q.tb=Tt,q.c=b.width,q.i=b.height,t(0<q.c&&0<q.i),1>=et)b=0;else if(q.$a=G[W+0]>>0&3,q.Z=G[W+0]>>2&3,q.Lc=G[W+0]>>4&3,W=G[W+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||W)b=0;else if(zt.put=za,zt.ac=_n,zt.bc=wr,zt.ma=q,zt.width=b.width,zt.height=b.height,zt.Da=b.Da,zt.v=b.v,zt.va=b.va,zt.j=b.j,zt.o=b.o,q.$a)t:{t(q.$a==1),b=Kn();e:for(;;){if(b==null){b=0;break t}if(t(q!=null),q.mc=b,b.c=q.c,b.i=q.i,b.l=q.l,b.l.ma=q,b.l.width=q.c,b.l.height=q.i,b.a=0,ht(b.m,G,Nt,wt),!_i(q.c,q.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&ra(b.s)?(q.ic=1,G=b.c*b.i,b.Ta=null,b.Ua=0,b.V=r(G),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(q.ic=0,b=Ho(b,q.c)),!b))break e;b=1;break t}q.mc=null,b=0}else b=wt>=q.c*q.i;q=!b}if(q)return null;g.ga.Lc!=1?g.Ga=0:C=B-x}t(g.ga!=null),t(x+C<=B);t:{if(b=(G=g.ga).c,B=G.l.o,G.$a==0){if(Nt=g.rc,wt=g.Vc,zt=g.Fa,W=g.P+1+x*b,et=g.mb,pt=g.nb+x*b,t(W<=g.P+g.qc),G.Z!=0)for(t(Rr[G.Z]!=null),q=0;q<C;++q)Rr[G.Z](Nt,wt,zt,W,et,pt,b),Nt=et,wt=pt,pt+=b,W+=b;else for(q=0;q<C;++q)i(et,pt,zt,W,b),Nt=et,wt=pt,pt+=b,W+=b;g.rc=Nt,g.Vc=wt}else{if(t(G.mc!=null),b=x+C,t((q=G.mc)!=null),t(b<=q.i),q.C>=b)b=1;else if(G.ic||xt(),G.ic){G=q.V,Nt=q.Ba,wt=q.c;var Dt=q.i,gt=(zt=1,W=q.$/wt,et=q.$%wt,pt=q.m,Tt=q.s,q.$),bt=wt*Dt,It=wt*b,qt=Tt.wc,Bt=gt<It?mn(Tt,et,W):null;t(gt<=bt),t(b<=Dt),t(ra(Tt));e:for(;;){for(;!pt.h&&gt<It;){if(et&qt||(Bt=mn(Tt,et,W)),t(Bt!=null),st(pt),256>(Dt=xn(Bt.G[0],Bt.H[0],pt)))G[Nt+gt]=Dt,++gt,++et>=wt&&(et=0,++W<=b&&!(W%16)&&ss(q,W));else{if(!(280>Dt)){zt=0;break e}Dt=Ti(Dt-256,pt);var se,$t=xn(Bt.G[4],Bt.H[4],pt);if(st(pt),!(gt>=($t=Yi(wt,$t=Ti($t,pt)))&&bt-gt>=Dt)){zt=0;break e}for(se=0;se<Dt;++se)G[Nt+gt+se]=G[Nt+gt+se-$t];for(gt+=Dt,et+=Dt;et>=wt;)et-=wt,++W<=b&&!(W%16)&&ss(q,W);gt<It&&et&qt&&(Bt=mn(Tt,et,W))}t(pt.h==Q(pt))}ss(q,W>b?b:W);break e}!zt||pt.h&&gt<bt?(zt=0,q.a=pt.h?5:3):q.$=gt,b=zt}else b=as(q,q.V,q.Ba,q.c,q.i,b,Wl);if(!b){C=0;break t}}x+C>=B&&(g.Cc=1),C=1}if(!C)return null;if(g.Cc&&((C=g.ga)!=null&&(C.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+x*k}function _(g,b,x,C,k,B){for(;0<k--;){var q,G=g,W=b+(x?1:0),et=g,pt=b+(x?0:3);for(q=0;q<C;++q){var Tt=et[pt+4*q];Tt!=255&&(Tt*=32897,G[W+4*q+0]=G[W+4*q+0]*Tt>>23,G[W+4*q+1]=G[W+4*q+1]*Tt>>23,G[W+4*q+2]=G[W+4*q+2]*Tt>>23)}b+=B}}function P(g,b,x,C,k){for(;0<C--;){var B;for(B=0;B<x;++B){var q=g[b+2*B+0],G=15&(et=g[b+2*B+1]),W=4369*G,et=(240&et|et>>4)*W>>16;g[b+2*B+0]=(240&q|q>>4)*W>>16&240|(15&q|q<<4)*W>>16>>4&15,g[b+2*B+1]=240&et|G}b+=k}}function it(g,b,x,C,k,B,q,G){var W,et,pt=255;for(et=0;et<k;++et){for(W=0;W<C;++W){var Tt=g[b+W];B[q+4*W]=Tt,pt&=Tt}b+=x,q+=G}return pt!=255}function dt(g,b,x,C,k){var B;for(B=0;B<k;++B)x[C+B]=g[b+B]>>8}function xt(){ha=_,We=P,Ke=it,Ri=dt}function kt(g,b,x){Z[g]=function(C,k,B,q,G,W,et,pt,Tt,Nt,wt,zt,Dt,gt,bt,It,qt){var Bt,se=qt-1>>1,$t=G[W+0]|et[pt+0]<<16,ve=Tt[Nt+0]|wt[zt+0]<<16;t(C!=null);var Zt=3*$t+ve+131074>>2;for(b(C[k+0],255&Zt,Zt>>16,Dt,gt),B!=null&&(Zt=3*ve+$t+131074>>2,b(B[q+0],255&Zt,Zt>>16,bt,It)),Bt=1;Bt<=se;++Bt){var oi=G[W+Bt]|et[pt+Bt]<<16,gi=Tt[Nt+Bt]|wt[zt+Bt]<<16,Ve=$t+oi+ve+gi+524296,He=Ve+2*(oi+ve)>>3;Zt=He+$t>>1,$t=(Ve=Ve+2*($t+gi)>>3)+oi>>1,b(C[k+2*Bt-1],255&Zt,Zt>>16,Dt,gt+(2*Bt-1)*x),b(C[k+2*Bt-0],255&$t,$t>>16,Dt,gt+(2*Bt-0)*x),B!=null&&(Zt=Ve+ve>>1,$t=He+gi>>1,b(B[q+2*Bt-1],255&Zt,Zt>>16,bt,It+(2*Bt-1)*x),b(B[q+2*Bt+0],255&$t,$t>>16,bt,It+(2*Bt+0)*x)),$t=oi,ve=gi}1&qt||(Zt=3*$t+ve+131074>>2,b(C[k+qt-1],255&Zt,Zt>>16,Dt,gt+(qt-1)*x),B!=null&&(Zt=3*ve+$t+131074>>2,b(B[q+qt-1],255&Zt,Zt>>16,bt,It+(qt-1)*x)))}}function Gt(){Un[os]=fo,Un[Cu]=Mr,Un[Cr]=fl,Un[df]=pp,Un[lc]=gp,Un[oo]=Mu,Un[fp]=mp,Un[pf]=Mr,Un[ul]=pp,Un[lo]=gp,Un[Tu]=Mu}function ie(g){return g&-16384?0>g?0:255:g>>Vv}function fe(g,b){return ie((19077*g>>8)+(26149*b>>8)-14234)}function Ie(g,b,x){return ie((19077*g>>8)-(6419*b>>8)-(13320*x>>8)+8708)}function De(g,b){return ie((19077*g>>8)+(33050*b>>8)-17685)}function ti(g,b,x,C,k){C[k+0]=fe(g,x),C[k+1]=Ie(g,b,x),C[k+2]=De(g,b)}function zi(g,b,x,C,k){C[k+0]=De(g,b),C[k+1]=Ie(g,b,x),C[k+2]=fe(g,x)}function Xi(g,b,x,C,k){var B=Ie(g,b,x);b=B<<3&224|De(g,b)>>3,C[k+0]=248&fe(g,x)|B>>5,C[k+1]=b}function ln(g,b,x,C,k){var B=240&De(g,b)|15;C[k+0]=240&fe(g,x)|Ie(g,b,x)>>4,C[k+1]=B}function cn(g,b,x,C,k){C[k+0]=255,ti(g,b,x,C,k+1)}function jn(g,b,x,C,k){zi(g,b,x,C,k),C[k+3]=255}function Ga(g,b,x,C,k){ti(g,b,x,C,k),C[k+3]=255}function ua(g,b){return 0>g?0:g>b?b:g}function Va(g,b,x){Z[g]=function(C,k,B,q,G,W,et,pt,Tt){for(var Nt=pt+(-2&Tt)*x;pt!=Nt;)b(C[k+0],B[q+0],G[W+0],et,pt),b(C[k+1],B[q+0],G[W+0],et,pt+x),k+=2,++q,++W,pt+=2*x;1&Tt&&b(C[k+0],B[q+0],G[W+0],et,pt)}}function uf(g,b,x){return x==0?g==0?b==0?6:5:b==0?4:0:x}function io(g,b,x,C,k){switch(g>>>30){case 3:Xa(b,x,C,k,0);break;case 2:Ji(b,x,C,k);break;case 1:vn(b,x,C,k)}}function no(g,b){var x,C,k=b.M,B=b.Nb,q=g.oc,G=g.pc+40,W=g.oc,et=g.pc+584,pt=g.oc,Tt=g.pc+600;for(x=0;16>x;++x)q[G+32*x-1]=129;for(x=0;8>x;++x)W[et+32*x-1]=129,pt[Tt+32*x-1]=129;for(0<k?q[G-1-32]=W[et-1-32]=pt[Tt-1-32]=129:(a(q,G-32-1,127,21),a(W,et-32-1,127,9),a(pt,Tt-32-1,127,9)),C=0;C<g.za;++C){var Nt=b.ya[b.aa+C];if(0<C){for(x=-1;16>x;++x)i(q,G+32*x-4,q,G+32*x+12,4);for(x=-1;8>x;++x)i(W,et+32*x-4,W,et+32*x+4,4),i(pt,Tt+32*x-4,pt,Tt+32*x+4,4)}var wt=g.Gd,zt=g.Hd+C,Dt=Nt.ad,gt=Nt.Hc;if(0<k&&(i(q,G-32,wt[zt].y,0,16),i(W,et-32,wt[zt].f,0,8),i(pt,Tt-32,wt[zt].ea,0,8)),Nt.Za){var bt=q,It=G-32+16;for(0<k&&(C>=g.za-1?a(bt,It,wt[zt].y[15],4):i(bt,It,wt[zt+1].y,0,4)),x=0;4>x;x++)bt[It+128+x]=bt[It+256+x]=bt[It+384+x]=bt[It+0+x];for(x=0;16>x;++x,gt<<=2)bt=q,It=G+fc[x],As[Nt.Ob[x]](bt,It),io(gt,Dt,16*+x,bt,It)}else if(bt=uf(C,k,Nt.Ob[0]),ho[bt](q,G),gt!=0)for(x=0;16>x;++x,gt<<=2)io(gt,Dt,16*+x,q,G+fc[x]);for(x=Nt.Gc,bt=uf(C,k,Nt.Dd),da[bt](W,et),da[bt](pt,Tt),gt=Dt,bt=W,It=et,255&(Nt=x>>0)&&(170&Nt?Wa(gt,256,bt,It):qs(gt,256,bt,It)),Nt=pt,gt=Tt,255&(x>>=8)&&(170&x?Wa(Dt,320,Nt,gt):qs(Dt,320,Nt,gt)),k<g.Ub-1&&(i(wt[zt].y,0,q,G+480,16),i(wt[zt].f,0,W,et+224,8),i(wt[zt].ea,0,pt,Tt+224,8)),x=8*B*g.B,wt=g.sa,zt=g.ta+16*C+16*B*g.R,Dt=g.qa,Nt=g.ra+8*C+x,gt=g.Ha,bt=g.Ia+8*C+x,x=0;16>x;++x)i(wt,zt+x*g.R,q,G+32*x,16);for(x=0;8>x;++x)i(Dt,Nt+x*g.B,W,et+32*x,8),i(gt,bt+x*g.B,pt,Tt+32*x,8)}}function _u(g,b,x,C,k,B,q,G,W){var et=[0],pt=[0],Tt=0,Nt=W!=null?W.kd:0,wt=W??new of;if(g==null||12>x)return 7;wt.data=g,wt.w=b,wt.ha=x,b=[b],x=[x],wt.gb=[wt.gb];t:{var zt=b,Dt=x,gt=wt.gb;if(t(g!=null),t(Dt!=null),t(gt!=null),gt[0]=0,12<=Dt[0]&&!e(g,zt[0],"RIFF")){if(e(g,zt[0]+8,"WEBP")){gt=3;break t}var bt=Kt(g,zt[0]+4);if(12>bt||4294967286<bt){gt=3;break t}if(Nt&&bt>Dt[0]-8){gt=7;break t}gt[0]=bt,zt[0]+=12,Dt[0]-=12}gt=0}if(gt!=0)return gt;for(bt=0<wt.gb[0],x=x[0];;){t:{var It=g;Dt=b,gt=x;var qt=et,Bt=pt,se=zt=[0];if((Zt=Tt=[Tt])[0]=0,8>gt[0])gt=7;else{if(!e(It,Dt[0],"VP8X")){if(Kt(It,Dt[0]+4)!=10){gt=3;break t}if(18>gt[0]){gt=7;break t}var $t=Kt(It,Dt[0]+8),ve=1+Xt(It,Dt[0]+12);if(2147483648<=ve*(It=1+Xt(It,Dt[0]+15))){gt=3;break t}se!=null&&(se[0]=$t),qt!=null&&(qt[0]=ve),Bt!=null&&(Bt[0]=It),Dt[0]+=18,gt[0]-=18,Zt[0]=1}gt=0}}if(Tt=Tt[0],zt=zt[0],gt!=0)return gt;if(Dt=!!(2&zt),!bt&&Tt)return 3;if(B!=null&&(B[0]=!!(16&zt)),q!=null&&(q[0]=Dt),G!=null&&(G[0]=0),q=et[0],zt=pt[0],Tt&&Dt&&W==null){gt=0;break}if(4>x){gt=7;break}if(bt&&Tt||!bt&&!Tt&&!e(g,b[0],"ALPH")){x=[x],wt.na=[wt.na],wt.P=[wt.P],wt.Sa=[wt.Sa];t:{$t=g,gt=b,bt=x;var Zt=wt.gb;qt=wt.na,Bt=wt.P,se=wt.Sa,ve=22,t($t!=null),t(bt!=null),It=gt[0];var oi=bt[0];for(t(qt!=null),t(se!=null),qt[0]=null,Bt[0]=null,se[0]=0;;){if(gt[0]=It,bt[0]=oi,8>oi){gt=7;break t}var gi=Kt($t,It+4);if(4294967286<gi){gt=3;break t}var Ve=8+gi+1&-2;if(ve+=Ve,0<Zt&&ve>Zt){gt=3;break t}if(!e($t,It,"VP8 ")||!e($t,It,"VP8L")){gt=0;break t}if(oi[0]<Ve){gt=7;break t}e($t,It,"ALPH")||(qt[0]=$t,Bt[0]=It+8,se[0]=gi),It+=Ve,oi-=Ve}}if(x=x[0],wt.na=wt.na[0],wt.P=wt.P[0],wt.Sa=wt.Sa[0],gt!=0)break}x=[x],wt.Ja=[wt.Ja],wt.xa=[wt.xa];t:if(Zt=g,gt=b,bt=x,qt=wt.gb[0],Bt=wt.Ja,se=wt.xa,$t=gt[0],It=!e(Zt,$t,"VP8 "),ve=!e(Zt,$t,"VP8L"),t(Zt!=null),t(bt!=null),t(Bt!=null),t(se!=null),8>bt[0])gt=7;else{if(It||ve){if(Zt=Kt(Zt,$t+4),12<=qt&&Zt>qt-12){gt=3;break t}if(Nt&&Zt>bt[0]-8){gt=7;break t}Bt[0]=Zt,gt[0]+=8,bt[0]-=8,se[0]=ve}else se[0]=5<=bt[0]&&Zt[$t+0]==47&&!(Zt[$t+4]>>5),Bt[0]=bt[0];gt=0}if(x=x[0],wt.Ja=wt.Ja[0],wt.xa=wt.xa[0],b=b[0],gt!=0)break;if(4294967286<wt.Ja)return 3;if(G==null||Dt||(G[0]=wt.xa?2:1),q=[q],zt=[zt],wt.xa){if(5>x){gt=7;break}G=q,Nt=zt,Dt=B,g==null||5>x?g=0:5<=x&&g[b+0]==47&&!(g[b+4]>>5)?(bt=[0],Zt=[0],qt=[0],ht(Bt=new O,g,b,x),pe(Bt,bt,Zt,qt)?(G!=null&&(G[0]=bt[0]),Nt!=null&&(Nt[0]=Zt[0]),Dt!=null&&(Dt[0]=qt[0]),g=1):g=0):g=0}else{if(10>x){gt=7;break}G=zt,g==null||10>x||!bs(g,b+3,x-3)?g=0:(Nt=g[b+0]|g[b+1]<<8|g[b+2]<<16,Dt=16383&(g[b+7]<<8|g[b+6]),g=16383&(g[b+9]<<8|g[b+8]),1&Nt||3<(Nt>>1&7)||!(Nt>>4&1)||Nt>>5>=wt.Ja||!Dt||!g?g=0:(q&&(q[0]=Dt),G&&(G[0]=g),g=1))}if(!g||(q=q[0],zt=zt[0],Tt&&(et[0]!=q||pt[0]!=zt)))return 3;W!=null&&(W[0]=wt,W.offset=b-W.w,t(4294967286>b-W.w),t(W.offset==W.ha-x));break}return gt==0||gt==7&&Tt&&W==null?(B!=null&&(B[0]|=wt.na!=null&&0<wt.na.length),C!=null&&(C[0]=q),k!=null&&(k[0]=zt),0):gt}function Jo(g,b,x){var C=b.width,k=b.height,B=0,q=0,G=C,W=k;if(b.Da=g!=null&&0<g.Da,b.Da&&(G=g.cd,W=g.bd,B=g.v,q=g.j,11>x||(B&=-2,q&=-2),0>B||0>q||0>=G||0>=W||B+G>C||q+W>k))return 0;if(b.v=B,b.j=q,b.va=B+G,b.o=q+W,b.U=G,b.T=W,b.da=g!=null&&0<g.da,b.da){if(!we(G,W,x=[g.ib],B=[g.hb]))return 0;b.ib=x[0],b.hb=B[0]}return b.ob=g!=null&&g.ob,b.Kb=g==null||!g.Sd,b.da&&(b.ob=b.ib<3*C/4&&b.hb<3*k/4,b.Kb=0),1}function xu(g){if(g==null)return 2;if(11>g.S){var b=g.f.RGBA;b.fb+=(g.height-1)*b.A,b.A=-b.A}else b=g.f.kb,g=g.height,b.O+=(g-1)*b.fa,b.fa=-b.fa,b.N+=(g-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(g-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(g-1)*b.lb,b.lb=-b.lb);return 0}function ec(g,b,x,C){if(C==null||0>=g||0>=b)return 2;if(x!=null){if(x.Da){var k=x.cd,B=x.bd,q=-2&x.v,G=-2&x.j;if(0>q||0>G||0>=k||0>=B||q+k>g||G+B>b)return 2;g=k,b=B}if(x.da){if(!we(g,b,k=[x.ib],B=[x.hb]))return 2;g=k[0],b=B[0]}}C.width=g,C.height=b;t:{var W=C.width,et=C.height;if(g=C.S,0>=W||0>=et||!(g>=os&&13>g))g=2;else{if(0>=C.Rd&&C.sd==null){q=B=k=b=0;var pt=(G=W*y2[g])*et;if(11>g||(B=(et+1)/2*(b=(W+1)/2),g==12&&(q=(k=W)*et)),(et=r(pt+2*B+q))==null){g=1;break t}C.sd=et,11>g?((W=C.f.RGBA).eb=et,W.fb=0,W.A=G,W.size=pt):((W=C.f.kb).y=et,W.O=0,W.fa=G,W.Fd=pt,W.f=et,W.N=0+pt,W.Ab=b,W.Cd=B,W.ea=et,W.W=0+pt+B,W.Db=b,W.Ed=B,g==12&&(W.F=et,W.J=0+pt+2*B),W.Tc=q,W.lb=k)}if(b=1,k=C.S,B=C.width,q=C.height,k>=os&&13>k)if(11>k)g=C.f.RGBA,b&=(G=Math.abs(g.A))*(q-1)+B<=g.size,b&=G>=B*y2[k],b&=g.eb!=null;else{g=C.f.kb,G=(B+1)/2,pt=(q+1)/2,W=Math.abs(g.fa),et=Math.abs(g.Ab);var Tt=Math.abs(g.Db),Nt=Math.abs(g.lb),wt=Nt*(q-1)+B;b&=W*(q-1)+B<=g.Fd,b&=et*(pt-1)+G<=g.Cd,b=(b&=Tt*(pt-1)+G<=g.Ed)&W>=B&et>=G&Tt>=G,b&=g.y!=null,b&=g.f!=null,b&=g.ea!=null,k==12&&(b&=Nt>=B,b&=wt<=g.Tc,b&=g.F!=null)}else b=0;g=b?0:2}}return g!=0||x!=null&&x.fd&&(g=xu(C)),g}var En=64,tl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ic=24,nc=32,Eu=8,js=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qt("Predictor0","PredictorAdd0"),Z.Predictor0=function(){return 4278190080},Z.Predictor1=function(g){return g},Z.Predictor2=function(g,b,x){return b[x+0]},Z.Predictor3=function(g,b,x){return b[x+1]},Z.Predictor4=function(g,b,x){return b[x-1]},Z.Predictor5=function(g,b,x){return te(te(g,b[x+1]),b[x+0])},Z.Predictor6=function(g,b,x){return te(g,b[x-1])},Z.Predictor7=function(g,b,x){return te(g,b[x+0])},Z.Predictor8=function(g,b,x){return te(b[x-1],b[x+0])},Z.Predictor9=function(g,b,x){return te(b[x+0],b[x+1])},Z.Predictor10=function(g,b,x){return te(te(g,b[x-1]),te(b[x+0],b[x+1]))},Z.Predictor11=function(g,b,x){var C=b[x+0];return 0>=qe(C>>24&255,g>>24&255,(b=b[x-1])>>24&255)+qe(C>>16&255,g>>16&255,b>>16&255)+qe(C>>8&255,g>>8&255,b>>8&255)+qe(255&C,255&g,255&b)?C:g},Z.Predictor12=function(g,b,x){var C=b[x+0];return(me((g>>24&255)+(C>>24&255)-((b=b[x-1])>>24&255))<<24|me((g>>16&255)+(C>>16&255)-(b>>16&255))<<16|me((g>>8&255)+(C>>8&255)-(b>>8&255))<<8|me((255&g)+(255&C)-(255&b)))>>>0},Z.Predictor13=function(g,b,x){var C=b[x-1];return(ke((g=te(g,b[x+0]))>>24&255,C>>24&255)<<24|ke(g>>16&255,C>>16&255)<<16|ke(g>>8&255,C>>8&255)<<8|ke(g>>0&255,C>>0&255))>>>0};var w1=Z.PredictorAdd0;Z.PredictorAdd1=Be,Qt("Predictor2","PredictorAdd2"),Qt("Predictor3","PredictorAdd3"),Qt("Predictor4","PredictorAdd4"),Qt("Predictor5","PredictorAdd5"),Qt("Predictor6","PredictorAdd6"),Qt("Predictor7","PredictorAdd7"),Qt("Predictor8","PredictorAdd8"),Qt("Predictor9","PredictorAdd9"),Qt("Predictor10","PredictorAdd10"),Qt("Predictor11","PredictorAdd11"),Qt("Predictor12","PredictorAdd12"),Qt("Predictor13","PredictorAdd13");var hf=Z.PredictorAdd2;Xe("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Xe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var up,Na=Z.ColorIndexInverseTransform,zn=Z.MapARGB,el=Z.VP8LColorIndexInverseTransformAlpha,ff=Z.MapAlpha,so=Z.VP8LPredictorsAdd=[];so.length=16,(Z.VP8LPredictors=[]).length=16,(Z.VP8LPredictorsAdd_C=[]).length=16,(Z.VP8LPredictors_C=[]).length=16;var il,ys,$n,nl,zs,Ya,Nr,Xa,Ji,Wa,vn,qs,sc,Lr,Nu,sl,al,rl,ac,Lu,ol,ao,rc,tn,ha,We,Ke,Ri,un=r(511),La=r(2041),ll=r(225),cl=r(767),ro=0,hp=La,oc=ll,qn=cl,Ca=un,os=0,Cu=1,Cr=2,df=3,lc=4,oo=5,fp=6,pf=7,ul=8,lo=9,Tu=10,dp=[2,3,7],Ta=[3,3,11],fa=[280,256,256,256,40],cc=[0,1,1,1,0],co=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],uc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],p2=8,gf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],mf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Nn=null,en=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],hl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Tr=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],S1=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],hc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],g2=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ho=[],As=[],da=[],m2=1,Ru=2,Rr=[],Un=[];kt("UpsampleRgbLinePair",ti,3),kt("UpsampleBgrLinePair",zi,3),kt("UpsampleRgbaLinePair",Ga,4),kt("UpsampleBgraLinePair",jn,4),kt("UpsampleArgbLinePair",cn,4),kt("UpsampleRgba4444LinePair",ln,2),kt("UpsampleRgb565LinePair",Xi,2);var fo=Z.UpsampleRgbLinePair,fl=Z.UpsampleBgrLinePair,Mr=Z.UpsampleRgbaLinePair,pp=Z.UpsampleBgraLinePair,gp=Z.UpsampleArgbLinePair,Mu=Z.UpsampleRgba4444LinePair,mp=Z.UpsampleRgb565LinePair,Or=16,Ln=1<<Or-1,dl=-227,vp=482,Vv=6,v2=0,Yv=r(256),Cn=r(256),_1=r(256),vf=r(256),bf=r(vp-dl),x1=r(vp-dl);Va("YuvToRgbRow",ti,3),Va("YuvToBgrRow",zi,3),Va("YuvToRgbaRow",Ga,4),Va("YuvToBgraRow",jn,4),Va("YuvToArgbRow",cn,4),Va("YuvToRgba4444Row",ln,2),Va("YuvToRgb565Row",Xi,2);var fc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],po=[0,2,8],Xv=[8,7,6,4,4,2,2,2,1,1,1,1],b2=1;this.WebPDecodeRGBA=function(g,b,x,C,k){var B=Cu,q=new yu,G=new na;q.ba=G,G.S=B,G.width=[G.width],G.height=[G.height];var W=G.width,et=G.height,pt=new sa;if(pt==null||g==null)var Tt=2;else t(pt!=null),Tt=_u(g,b,x,pt.width,pt.height,pt.Pd,pt.Qd,pt.format,null);if(Tt!=0?W=0:(W!=null&&(W[0]=pt.width[0]),et!=null&&(et[0]=pt.height[0]),W=1),W){G.width=G.width[0],G.height=G.height[0],C!=null&&(C[0]=G.width),k!=null&&(k[0]=G.height);t:{if(C=new Go,(k=new of).data=g,k.w=b,k.ha=x,k.kd=1,b=[0],t(k!=null),((g=_u(k.data,k.w,k.ha,null,null,null,b,null,k))==0||g==7)&&b[0]&&(g=4),(b=g)==0){if(t(q!=null),C.data=k.data,C.w=k.w+k.offset,C.ha=k.ha-k.offset,C.put=za,C.ac=_n,C.bc=wr,C.ma=q,k.xa){if((g=Kn())==null){q=1;break t}if(function(Nt,wt){var zt=[0],Dt=[0],gt=[0];e:for(;;){if(Nt==null)return 0;if(wt==null)return Nt.a=2,0;if(Nt.l=wt,Nt.a=0,ht(Nt.m,wt.data,wt.w,wt.ha),!pe(Nt.m,zt,Dt,gt)){Nt.a=3;break e}if(Nt.xb=Ru,wt.width=zt[0],wt.height=Dt[0],!_i(zt[0],Dt[0],1,Nt,null))break e;return 1}return t(Nt.a!=0),0}(g,C)){if(C=(b=ec(C.width,C.height,q.Oa,q.ba))==0){e:{C=g;i:for(;;){if(C==null){C=0;break e}if(t(C.s.yc!=null),t(C.s.Ya!=null),t(0<C.s.Wb),t((x=C.l)!=null),t((k=x.ma)!=null),C.xb!=0){if(C.ca=k.ba,C.tb=k.tb,t(C.ca!=null),!Jo(k.Oa,x,df)){C.a=2;break i}if(!Ho(C,x.width)||x.da)break i;if((x.da||pi(C.ca.S))&&xt(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&xt()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!be(C.s.vb,C.s.Wa.Xa)){C.a=1;break i}C.xb=0}if(!as(C,C.V,C.Ba,C.c,C.i,x.o,Xl))break i;k.Dc=C.Ma,C=1;break e}t(C.a!=0),C=0}C=!C}C&&(b=g.a)}else b=g.a}else{if((g=new m1)==null){q=1;break t}if(g.Fa=k.na,g.P=k.P,g.qc=k.Sa,Qh(g,C)){if((b=ec(C.width,C.height,q.Oa,q.ba))==0){if(g.Aa=0,x=q.Oa,t((k=g)!=null),x!=null){if(0<(W=0>(W=x.Md)?0:100<W?255:255*W/100)){for(et=pt=0;4>et;++et)12>(Tt=k.pb[et]).lc&&(Tt.ia=W*Xv[0>Tt.lc?0:Tt.lc]>>3),pt|=Tt.ia;pt&&(alert("todo:VP8InitRandom"),k.ia=1)}k.Ga=x.Id,100<k.Ga?k.Ga=100:0>k.Ga&&(k.Ga=0)}ip(g,C)||(b=g.a)}}else b=g.a}b==0&&q.Oa!=null&&q.Oa.fd&&(b=xu(q.ba))}q=b}B=q!=0?null:11>B?G.f.RGBA.eb:G.f.kb.y}else B=null;return B};var y2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(Z,ut){for(var At="",z=0;z<4;z++)At+=String.fromCharCode(Z[ut++]);return At}function m(Z,ut){return(Z[ut+0]<<0|Z[ut+1]<<8|Z[ut+2]<<16)>>>0}function A(Z,ut){return(Z[ut+0]<<0|Z[ut+1]<<8|Z[ut+2]<<16|Z[ut+3]<<24)>>>0}new h;var w=[0],y=[0],N=[],E=new h,T=c,L=function(Z,ut){var At={},z=0,X=!1,ot=0,nt=0;if(At.frames=[],!function(H,Q,rt,st){for(var mt=0;mt<st;mt++)if(H[Q+mt]!=rt.charCodeAt(mt))return!0;return!1}(Z,ut,"RIFF",4)){for(A(Z,ut+=4),ut+=8;ut<Z.length;){var Et=p(Z,ut),U=A(Z,ut+=4);ut+=4;var J=U+(1&U);switch(Et){case"VP8 ":case"VP8L":At.frames[z]===void 0&&(At.frames[z]={}),(V=At.frames[z]).src_off=X?nt:ut-8,V.src_size=ot+U+8,z++,X&&(X=!1,ot=0,nt=0);break;case"VP8X":(V=At.header={}).feature_flags=Z[ut];var ht=ut+4;V.canvas_width=1+m(Z,ht),ht+=3,V.canvas_height=1+m(Z,ht),ht+=3;break;case"ALPH":X=!0,ot=J+8,nt=ut-8;break;case"ANIM":(V=At.header).bgcolor=A(Z,ut),ht=ut+4,V.loop_count=(ft=Z)[(O=ht)+0]<<0|ft[O+1]<<8,ht+=2;break;case"ANMF":var yt,V;(V=At.frames[z]={}).offset_x=2*m(Z,ut),ut+=3,V.offset_y=2*m(Z,ut),ut+=3,V.width=1+m(Z,ut),ut+=3,V.height=1+m(Z,ut),ut+=3,V.duration=m(Z,ut),ut+=3,yt=Z[ut++],V.dispose=1&yt,V.blend=yt>>1&1}Et!="ANMF"&&(ut+=J)}var ft,O;return At}}(T,0);L.response=T,L.rgbaoutput=!0,L.dataurl=!1;var M=L.header?L.header:null,j=L.frames?L.frames:null;if(M){M.loop_counter=M.loop_count,w=[M.canvas_height],y=[M.canvas_width];for(var $=0;$<j.length&&j[$].blend!=0;$++);}var K=j[0],at=E.WebPDecodeRGBA(T,K.src_off,K.src_size,y,w);K.rgba=at,K.imgwidth=y[0],K.imgheight=w[0];for(var tt=0;tt<y[0]*w[0]*4;tt++)N[tt]=at[tt];return this.width=y,this.height=w,this.data=N,this}(function(c){var t=function(){return typeof HA=="function"},e=function(w,y,N,E){var T=4,L=o;switch(E){case c.image_compression.FAST:T=1,L=r;break;case c.image_compression.MEDIUM:T=6,L=u;break;case c.image_compression.SLOW:T=9,L=h}w=i(w,y,N,L);var M=HA(w,{level:T});return c.__addimage__.arrayBufferToBinaryString(M)},i=function(w,y,N,E){for(var T,L,M,j=w.length/y,$=new Uint8Array(w.length+j),K=m(),at=0;at<j;at+=1){if(M=at*y,T=w.subarray(M,M+y),E)$.set(E(T,N,L),M+at);else{for(var tt,Z=K.length,ut=[];tt<Z;tt+=1)ut[tt]=K[tt](T,N,L);var At=A(ut.concat());$.set(ut[At],M+at)}L=T}return $},a=function(w){var y=Array.apply([],w);return y.unshift(0),y},r=function(w,y){var N,E=[],T=w.length;E[0]=1;for(var L=0;L<T;L+=1)N=w[L-y]||0,E[L+1]=w[L]-N+256&255;return E},o=function(w,y,N){var E,T=[],L=w.length;T[0]=2;for(var M=0;M<L;M+=1)E=N&&N[M]||0,T[M+1]=w[M]-E+256&255;return T},u=function(w,y,N){var E,T,L=[],M=w.length;L[0]=3;for(var j=0;j<M;j+=1)E=w[j-y]||0,T=N&&N[j]||0,L[j+1]=w[j]+256-(E+T>>>1)&255;return L},h=function(w,y,N){var E,T,L,M,j=[],$=w.length;j[0]=4;for(var K=0;K<$;K+=1)E=w[K-y]||0,T=N&&N[K]||0,L=N&&N[K-y]||0,M=p(E,T,L),j[K+1]=w[K]-M+256&255;return j},p=function(w,y,N){if(w===y&&y===N)return w;var E=Math.abs(y-N),T=Math.abs(w-N),L=Math.abs(w+y-N-N);return E<=T&&E<=L?w:T<=L?y:N},m=function(){return[a,r,o,u,h]},A=function(w){var y=w.map(function(N){return N.reduce(function(E,T){return E+Math.abs(T)},0)});return y.indexOf(Math.min.apply(null,y))};c.processPNG=function(w,y,N,E){var T,L,M,j,$,K,at,tt,Z,ut,At,z,X,ot,nt,Et=this.decode.FLATE_DECODE,U="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(M=new n8(w)).imgData,L=M.bits,T=M.colorSpace,$=M.colors,[4,6].indexOf(M.colorType)!==-1){if(M.bits===8){Z=(tt=M.pixelBitlength==32?new Uint32Array(M.decodePixels().buffer):M.pixelBitlength==16?new Uint16Array(M.decodePixels().buffer):new Uint8Array(M.decodePixels().buffer)).length,At=new Uint8Array(Z*M.colors),ut=new Uint8Array(Z);var J,ht=M.pixelBitlength-M.bits;for(ot=0,nt=0;ot<Z;ot++){for(X=tt[ot],J=0;J<ht;)At[nt++]=X>>>J&255,J+=M.bits;ut[ot]=X>>>J&255}}if(M.bits===16){Z=(tt=new Uint32Array(M.decodePixels().buffer)).length,At=new Uint8Array(Z*(32/M.pixelBitlength)*M.colors),ut=new Uint8Array(Z*(32/M.pixelBitlength)),z=M.colors>1,ot=0,nt=0;for(var yt=0;ot<Z;)X=tt[ot++],At[nt++]=X>>>0&255,z&&(At[nt++]=X>>>16&255,X=tt[ot++],At[nt++]=X>>>0&255),ut[yt++]=X>>>16&255;L=8}E!==c.image_compression.NONE&&t()?(w=e(At,M.width*M.colors,M.colors,E),at=e(ut,M.width,1,E)):(w=At,at=ut,Et=void 0)}if(M.colorType===3&&(T=this.color_spaces.INDEXED,K=M.palette,M.transparency.indexed)){var V=M.transparency.indexed,ft=0;for(ot=0,Z=V.length;ot<Z;++ot)ft+=V[ot];if((ft/=255)===Z-1&&V.indexOf(0)!==-1)j=[V.indexOf(0)];else if(ft!==Z){for(tt=M.decodePixels(),ut=new Uint8Array(tt.length),ot=0,Z=tt.length;ot<Z;ot++)ut[ot]=V[tt[ot]];at=e(ut,M.width,1)}}var O=function(H){var Q;switch(H){case c.image_compression.FAST:Q=11;break;case c.image_compression.MEDIUM:Q=13;break;case c.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(E);return Et===this.decode.FLATE_DECODE&&(U="/Predictor "+O+" "),U+="/Colors "+$+" /BitsPerComponent "+L+" /Columns "+M.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(at&&this.__addimage__.isArrayBuffer(at)||this.__addimage__.isArrayBufferView(at))&&(at=this.__addimage__.arrayBufferToBinaryString(at)),{alias:N,data:w,index:y,filter:Et,decodeParameters:U,transparency:j,palette:K,sMask:at,predictor:O,width:M.width,height:M.height,bitsPerComponent:L,colorSpace:T}}}})(Ne.API),function(c){c.processGIF89A=function(t,e,i,a){var r=new s8(t),o=r.width,u=r.height,h=[];r.decodeAndBlitFrameRGBA(0,h);var p={data:h,width:o,height:u},m=new yy(100).encode(p,100);return c.processJPEG.call(this,m,e,i,a)},c.processGIF87A=c.processGIF89A}(Ne.API),So.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var c=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(c);for(var t=0;t<c;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:i,blue:e,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},So.prototype.parseBGR=function(){this.pos=this.offset;try{var c="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[c]()}catch(e){ji.log("bit decode error:"+e)}},So.prototype.bit1=function(){var c,t=Math.ceil(this.width/8),e=t%4;for(c=this.height-1;c>=0;c--){for(var i=this.bottom_up?c:this.height-1-c,a=0;a<t;a++)for(var r=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var h=this.palette[r>>7-u&1];this.data[o+4*u]=h.blue,this.data[o+4*u+1]=h.green,this.data[o+4*u+2]=h.red,this.data[o+4*u+3]=255}e!==0&&(this.pos+=4-e)}},So.prototype.bit4=function(){for(var c=Math.ceil(this.width/2),t=c%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,a=0;a<c;a++){var r=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*a*4,u=r>>4,h=15&r,p=this.palette[u];if(this.data[o]=p.blue,this.data[o+1]=p.green,this.data[o+2]=p.red,this.data[o+3]=255,2*a+1>=this.width)break;p=this.palette[h],this.data[o+4]=p.blue,this.data[o+4+1]=p.green,this.data[o+4+2]=p.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},So.prototype.bit8=function(){for(var c=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),r=e*this.width*4+4*i;if(a<this.palette.length){var o=this.palette[a];this.data[r]=o.red,this.data[r+1]=o.green,this.data[r+2]=o.blue,this.data[r+3]=255}else this.data[r]=255,this.data[r+1]=255,this.data[r+2]=255,this.data[r+3]=255}c!==0&&(this.pos+=4-c)}},So.prototype.bit15=function(){for(var c=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(r&t)/t*255|0,u=(r>>5&t)/t*255|0,h=(r>>10&t)/t*255|0,p=r>>15?255:0,m=i*this.width*4+4*a;this.data[m]=h,this.data[m+1]=u,this.data[m+2]=o,this.data[m+3]=p}this.pos+=c}},So.prototype.bit16=function(){for(var c=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,h=(o>>5&e)/e*255|0,p=(o>>11)/t*255|0,m=a*this.width*4+4*r;this.data[m]=p,this.data[m+1]=h,this.data[m+2]=u,this.data[m+3]=255}this.pos+=c}},So.prototype.bit24=function(){for(var c=this.height-1;c>=0;c--){for(var t=this.bottom_up?c:this.height-1-c,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=r,this.data[o+1]=a,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},So.prototype.bit32=function(){for(var c=this.height-1;c>=0;c--)for(var t=this.bottom_up?c:this.height-1-c,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=r,this.data[u+1]=a,this.data[u+2]=i,this.data[u+3]=o}},So.prototype.getData=function(){return this.data},function(c){c.processBMP=function(t,e,i,a){var r=new So(t,!1),o=r.width,u=r.height,h={data:r.getData(),width:o,height:u},p=new yy(100).encode(h,100);return c.processJPEG.call(this,p,e,i,a)}}(Ne.API),D_.prototype.getData=function(){return this.data},function(c){c.processWEBP=function(t,e,i,a){var r=new D_(t),o=r.width,u=r.height,h={data:r.getData(),width:o,height:u},p=new yy(100).encode(h,100);return c.processJPEG.call(this,p,e,i,a)}}(Ne.API),Ne.API.processRGBA=function(c,t,e){for(var i=c.data,a=i.length,r=new Uint8Array(a/4*3),o=new Uint8Array(a/4),u=0,h=0,p=0;p<a;p+=4){var m=i[p],A=i[p+1],w=i[p+2],y=i[p+3];r[u++]=m,r[u++]=A,r[u++]=w,o[h++]=y}var N=this.__addimage__.arrayBufferToBinaryString(r);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:N,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:c.width,height:c.height}},Ne.API.setLanguage=function(c){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[c]!==void 0&&(this.internal.languageSettings.languageCode=c,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qp=Ne.API,w5=qp.getCharWidthsArray=function(c,t){var e,i,a=(t=t||{}).font||this.internal.getFont(),r=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:a.metadata.Unicode.widths,h=u.fof?u.fof:1,p=t.kerning?t.kerning:a.metadata.Unicode.kerning,m=p.fof?p.fof:1,A=t.doKerning!==!1,w=0,y=c.length,N=0,E=u[0]||h,T=[];for(e=0;e<y;e++)i=c.charCodeAt(e),typeof a.metadata.widthOfString=="function"?T.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+o*(1e3/r)||0)/1e3):(w=A&&Ci(p[i])==="object"&&!isNaN(parseInt(p[i][N],10))?p[i][N]/m:0,T.push((u[i]||E)/h+w)),N=i;return T},T_=qp.getStringUnitWidth=function(c,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return qp.processArabic&&(c=qp.processArabic(c)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(c,e,a)/e:w5.apply(this,arguments).reduce(function(r,o){return r+o},0)},R_=function(c,t,e,i){for(var a=[],r=0,o=c.length,u=0;r!==o&&u+t[r]<e;)u+=t[r],r++;a.push(c.slice(0,r));var h=r;for(u=0;r!==o;)u+t[r]>i&&(a.push(c.slice(h,r)),u=0,h=r),u+=t[r],r++;return h!==r&&a.push(c.slice(h,r)),a},M_=function(c,t,e){e||(e={});var i,a,r,o,u,h,p,m=[],A=[m],w=e.textIndent||0,y=0,N=0,E=c.split(" "),T=w5.apply(this,[" ",e])[0];if(h=e.lineIndent===-1?E[0].length+2:e.lineIndent||0){var L=Array(h).join(" "),M=[];E.map(function($){($=$.split(/\s*\n/)).length>1?M=M.concat($.map(function(K,at){return(at&&K.length?`
`:"")+K})):M.push($[0])}),E=M,h=T_.apply(this,[L,e])}for(r=0,o=E.length;r<o;r++){var j=0;if(i=E[r],h&&i[0]==`
`&&(i=i.substr(1),j=1),w+y+(N=(a=w5.apply(this,[i,e])).reduce(function($,K){return $+K},0))>t||j){if(N>t){for(u=R_.apply(this,[i,a,t-(w+y),t]),m.push(u.shift()),m=[u.pop()];u.length;)A.push([u.shift()]);N=a.slice(i.length-(m[0]?m[0].length:0)).reduce(function($,K){return $+K},0)}else m=[i];A.push(m),w=N+h,y=T}else m.push(i),w+=y+N,y=T}return p=h?function($,K){return(K?L:"")+$.join(" ")}:function($){return $.join(" ")},A.map(p)},qp.splitTextToSize=function(c,t,e){var i,a=(e=e||{}).fontSize||this.internal.getFontSize(),r=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var A=this.internal.getFont(m.fontName,m.fontStyle);return A.metadata.Unicode?{widths:A.metadata.Unicode.widths||{0:1},kerning:A.metadata.Unicode.kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(c)?c:String(c).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;r.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/a:0,r.lineIndent=e.lineIndent;var u,h,p=[];for(u=0,h=i.length;u<h;u++)p=p.concat(M_.apply(this,[i[u],o,r]));return p},function(c){c.__fontmetrics__=c.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},a=0;a<t.length;a++)e[t[a]]="0123456789abcdef"[a],i["0123456789abcdef"[a]]=t[a];var r=function(A){return"0x"+parseInt(A,10).toString(16)},o=c.__fontmetrics__.compress=function(A){var w,y,N,E,T=["{"];for(var L in A){if(w=A[L],isNaN(parseInt(L,10))?y="'"+L+"'":(L=parseInt(L,10),y=(y=r(L).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof w=="number")w<0?(N=r(w).slice(3),E="-"):(N=r(w).slice(2),E=""),N=E+N.slice(0,-1)+i[N.slice(-1)];else{if(Ci(w)!=="object")throw new Error("Don't know what to do with value type "+Ci(w)+".");N=o(w)}T.push(y+N)}return T.push("}"),T.join("")},u=c.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,y,N,E,T={},L=1,M=T,j=[],$="",K="",at=A.length-1,tt=1;tt<at;tt+=1)(E=A[tt])=="'"?w?(N=w.join(""),w=void 0):w=[]:w?w.push(E):E=="{"?(j.push([M,N]),M={},N=void 0):E=="}"?((y=j.pop())[0][y[1]]=M,N=void 0,M=y[0]):E=="-"?L=-1:N===void 0?e.hasOwnProperty(E)?($+=e[E],N=parseInt($,16)*L,L=1,$=""):$+=E:e.hasOwnProperty(E)?(K+=e[E],M[N]=parseInt(K,16)*L,L=1,N=void 0,K=""):K+=E;return T},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};c.events.push(["addFont",function(A){var w=A.font,y=m.Unicode[w.postScriptName];y&&(w.metadata.Unicode={},w.metadata.Unicode.widths=y.widths,w.metadata.Unicode.kerning=y.kerning);var N=p.Unicode[w.postScriptName];N&&(w.metadata.Unicode.encoding=N,w.encoding=N.codePages[0])}])}(Ne.API),function(c){var t=function(e){for(var i=e.length,a=new Uint8Array(i),r=0;r<i;r++)a[r]=e.charCodeAt(r);return a};c.API.events.push(["addFont",function(e){var i=void 0,a=e.font,r=e.instance;if(!a.isStandardFont){if(r===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(i=r.existsFileInVFS(a.postScriptName)===!1?r.loadFile(a.postScriptName):r.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(M0(u)),o.metadata=c.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,i)}}])}(Ne),function(c){function t(){return(Ce.canvg?Promise.resolve(Ce.canvg):BA(()=>import("./index.es-DTpmzR-V.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Ne.API.addSvgAsImage=function(e,i,a,r,o,u,h,p){if(isNaN(i)||isNaN(a))throw ji.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(o))throw ji.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var m=document.createElement("canvas");m.width=r,m.height=o;var A=m.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,m.width,m.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return t().then(function(N){return N.fromString(A,e,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(w)}).then(function(){y.addImage(m.toDataURL("image/jpeg",1),i,a,r,o,h,p)})}}(),Ne.API.putTotalPages=function(c){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(c,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(c,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(t,e);return this},Ne.API.viewerPreferences=function(c,t){var e;c=c||{},t=t||!1;var i,a,r,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),h=[],p=0,m=0,A=0;function w(N,E){var T,L=!1;for(T=0;T<N.length;T+=1)N[T]===E&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,c==="reset"||t===!0){var y=u.length;for(A=0;A<y;A+=1)e[u[A]].value=e[u[A]].defaultValue,e[u[A]].explicitSet=!1}if(Ci(c)==="object"){for(a in c)if(r=c[a],w(u,a)&&r!==void 0){if(e[a].type==="boolean"&&typeof r=="boolean")e[a].value=r;else if(e[a].type==="name"&&w(e[a].valueSet,r))e[a].value=r;else if(e[a].type==="integer"&&Number.isInteger(r))e[a].value=r;else if(e[a].type==="array"){for(p=0;p<r.length;p+=1)if(i=!0,r[p].length===1&&typeof r[p][0]=="number")h.push(String(r[p]-1));else if(r[p].length>1){for(m=0;m<r[p].length;m+=1)typeof r[p][m]!="number"&&(i=!1);i===!0&&h.push([r[p][0]-1,r[p][1]-1].join(" "))}e[a].value="["+h.join(" ")+"]"}else e[a].value=e[a].defaultValue;e[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,E=[];for(N in e)e[N].explicitSet===!0&&(e[N].type==="name"?E.push("/"+N+" /"+e[N].value):E.push("/"+N+" "+e[N].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(c){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),p=r.length+o.length+u.length+a.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(a+r+o+u+h),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};c.addMetadata=function(i,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Ne.API),function(c){var t=c.API,e=t.pdfEscape16=function(r,o){for(var u,h=o.metadata.Unicode.widths,p=["","0","00","000","0000"],m=[""],A=0,w=r.length;A<w;++A){if(u=o.metadata.characterToGlyph(r.charCodeAt(A)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=r.charCodeAt(A),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return m.join("");u=u.toString(16),m.push(p[4-u.length],u)}return m.join("")},i=function(r){var o,u,h,p,m,A,w;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],A=0,w=(u=Object.keys(r).sort(function(y,N){return y-N})).length;A<w;A++)o=u[A],h.length>=100&&(m+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),r[o]!==void 0&&r[o]!==null&&typeof r[o].toString=="function"&&(p=("0000"+r[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),h.push("<"+o+"><"+p+">"));return h.length&&(m+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),m+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(r){(function(o){var u=o.font,h=o.out,p=o.newObject,m=o.putStream;if(u.metadata instanceof c.API.TTFFont&&u.encoding==="Identity-H"){for(var A=u.metadata.Unicode.widths,w=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),y="",N=0;N<w.length;N++)y+=String.fromCharCode(w[N]);var E=p();m({data:y,addLength1:!0,objectId:E}),h("endobj");var T=p();m({data:i(u.metadata.toUnicode),addLength1:!0,objectId:T}),h("endobj");var L=p();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Qp(u.fontName)),h("/FontFile2 "+E+" 0 R"),h("/FontBBox "+c.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var M=p();h("<<"),h("/Type /Font"),h("/BaseFont /"+Qp(u.fontName)),h("/FontDescriptor "+L+" 0 R"),h("/W "+c.API.PDFObject.convert(A)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=p(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+T+" 0 R"),h("/BaseFont /"+Qp(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+M+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(r)}]),t.events.push(["putFont",function(r){(function(o){var u=o.font,h=o.out,p=o.newObject,m=o.putStream;if(u.metadata instanceof c.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var A=u.metadata.rawData,w="",y=0;y<A.length;y++)w+=String.fromCharCode(A[y]);var N=p();m({data:w,addLength1:!0,objectId:N}),h("endobj");var E=p();m({data:i(u.metadata.toUnicode),addLength1:!0,objectId:E}),h("endobj");var T=p();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+N+" 0 R"),h("/Flags 96"),h("/FontBBox "+c.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+Qp(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=p();for(var L=0;L<u.metadata.hmtx.widths.length;L++)u.metadata.hmtx.widths[L]=parseInt(u.metadata.hmtx.widths[L]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Qp(u.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+c.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(r)}]);var a=function(r){var o,u=r.text||"",h=r.x,p=r.y,m=r.options||{},A=r.mutex||{},w=A.pdfEscape,y=A.activeFontKey,N=A.fonts,E=y,T="",L=0,M="",j=N[E].encoding;if(N[E].encoding!=="Identity-H")return{text:u,x:h,y:p,options:m,mutex:A};for(M=u,E=y,Array.isArray(u)&&(M=u[0]),L=0;L<M.length;L+=1)N[E].metadata.hasOwnProperty("cmap")&&(o=N[E].metadata.cmap.unicode.codeMap[M[L].charCodeAt(0)]),o||M[L].charCodeAt(0)<256&&N[E].metadata.hasOwnProperty("Unicode")?T+=M[L]:T+="";var $="";return parseInt(E.slice(1))<14||j==="WinAnsiEncoding"?$=w(T,E).split("").map(function(K){return K.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&($=e(T,N[E])),A.isHex=!0,{text:$,x:h,y:p,options:m,mutex:A}};t.events.push(["postProcessText",function(r){var o=r.text||"",u=[],h={text:o,x:r.x,y:r.y,options:r.options,mutex:r.mutex};if(Array.isArray(o)){var p=0;for(p=0;p<o.length;p+=1)Array.isArray(o[p])&&o[p].length===3?u.push([a(Object.assign({},h,{text:o[p][0]})).text,o[p][1],o[p][2]]):u.push(a(Object.assign({},h,{text:o[p]})).text);r.text=u}else r.text=a(Object.assign({},h,{text:o})).text}])}(Ne),function(c){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};c.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},c.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},c.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Ne.API),function(c){c.__bidiEngine__=c.prototype.__bidiEngine__=function(i){var a,r,o,u,h,p,m,A=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),M=!1,j=0;this.__bidiEngine__={};var $=function(z){var X=z.charCodeAt(),ot=X>>8,nt=E[ot];return nt!==void 0?A[256*nt+(255&X)]:ot===252||ot===253?"AL":L.test(ot)?"L":ot===8?"R":"N"},K=function(z){for(var X,ot=0;ot<z.length;ot++){if((X=$(z.charAt(ot)))==="L")return!1;if(X==="R")return!0}return!1},at=function(z,X,ot,nt){var Et,U,J,ht,yt=X[nt];switch(yt){case"L":case"R":M=!1;break;case"N":case"AN":break;case"EN":M&&(yt="AN");break;case"AL":M=!0,yt="R";break;case"WS":yt="N";break;case"CS":nt<1||nt+1>=X.length||(Et=ot[nt-1])!=="EN"&&Et!=="AN"||(U=X[nt+1])!=="EN"&&U!=="AN"?yt="N":M&&(U="AN"),yt=U===Et?U:"N";break;case"ES":yt=(Et=nt>0?ot[nt-1]:"B")==="EN"&&nt+1<X.length&&X[nt+1]==="EN"?"EN":"N";break;case"ET":if(nt>0&&ot[nt-1]==="EN"){yt="EN";break}if(M){yt="N";break}for(J=nt+1,ht=X.length;J<ht&&X[J]==="ET";)J++;yt=J<ht&&X[J]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(ht=X.length,J=nt+1;J<ht&&X[J]==="NSM";)J++;if(J<ht){var V=z[nt],ft=V>=1425&&V<=2303||V===64286;if(Et=X[J],ft&&(Et==="R"||Et==="AL")){yt="R";break}}}yt=nt<1||(Et=X[nt-1])==="B"?"N":ot[nt-1];break;case"B":M=!1,a=!0,yt=j;break;case"S":r=!0,yt="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":M=!1;break;case"BN":yt="N"}return yt},tt=function(z,X,ot){var nt=z.split("");return ot&&Z(nt,ot,{hiLevel:j}),nt.reverse(),X&&X.reverse(),nt.join("")},Z=function(z,X,ot){var nt,Et,U,J,ht,yt=-1,V=z.length,ft=0,O=[],H=j?y:w,Q=[];for(M=!1,a=!1,r=!1,Et=0;Et<V;Et++)Q[Et]=$(z[Et]);for(U=0;U<V;U++){if(ht=ft,O[U]=at(z,Q,O,U),nt=240&(ft=H[ht][N[O[U]]]),ft&=15,X[U]=J=H[ft][5],nt>0)if(nt===16){for(Et=yt;Et<U;Et++)X[Et]=1;yt=-1}else yt=-1;if(H[ft][6])yt===-1&&(yt=U);else if(yt>-1){for(Et=yt;Et<U;Et++)X[Et]=J;yt=-1}Q[U]==="B"&&(X[U]=0),ot.hiLevel|=J}r&&function(rt,st,mt){for(var St=0;St<mt;St++)if(rt[St]==="S"){st[St]=j;for(var Ct=St-1;Ct>=0&&rt[Ct]==="WS";Ct--)st[Ct]=j}}(Q,X,V)},ut=function(z,X,ot,nt,Et){if(!(Et.hiLevel<z)){if(z===1&&j===1&&!a)return X.reverse(),void(ot&&ot.reverse());for(var U,J,ht,yt,V=X.length,ft=0;ft<V;){if(nt[ft]>=z){for(ht=ft+1;ht<V&&nt[ht]>=z;)ht++;for(yt=ft,J=ht-1;yt<J;yt++,J--)U=X[yt],X[yt]=X[J],X[J]=U,ot&&(U=ot[yt],ot[yt]=ot[J],ot[J]=U);ft=ht}ft++}}},At=function(z,X,ot){var nt=z.split(""),Et={hiLevel:j};return ot||(ot=[]),Z(nt,ot,Et),function(U,J,ht){if(ht.hiLevel!==0&&m)for(var yt,V=0;V<U.length;V++)J[V]===1&&(yt=T.indexOf(U[V]))>=0&&(U[V]=T[yt+1])}(nt,ot,Et),ut(2,nt,X,ot,Et),ut(1,nt,X,ot,Et),nt.join("")};return this.__bidiEngine__.doBidiReorder=function(z,X,ot){if(function(Et,U){if(U)for(var J=0;J<Et.length;J++)U[J]=J;u===void 0&&(u=K(Et)),p===void 0&&(p=K(Et))}(z,X),o||!h||p)if(o&&h&&u^p)j=u?1:0,z=tt(z,X,ot);else if(!o&&h&&p)j=u?1:0,z=At(z,X,ot),z=tt(z,X);else if(!o||u||h||p){if(o&&!h&&u^p)z=tt(z,X),u?(j=0,z=At(z,X,ot)):(j=1,z=At(z,X,ot),z=tt(z,X));else if(o&&u&&!h&&p)j=1,z=At(z,X,ot),z=tt(z,X);else if(!o&&!h&&u^p){var nt=m;u?(j=1,z=At(z,X,ot),j=0,m=!1,z=At(z,X,ot),m=nt):(j=0,z=At(z,X,ot),z=tt(z,X),j=1,m=!1,z=At(z,X,ot),m=nt,z=tt(z,X))}}else j=0,z=At(z,X,ot);else j=u?1:0,z=At(z,X,ot);return z},this.__bidiEngine__.setOptions=function(z){z&&(o=z.isInputVisual,h=z.isOutputVisual,u=z.isInputRtl,p=z.isOutputRtl,m=z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new c.__bidiEngine__({isInputVisual:!0});c.API.events.push(["postProcessText",function(i){var a=i.text;i.x,i.y;var r=i.options||{};i.mutex,r.lang;var o=[];if(r.isInputVisual=typeof r.isInputVisual!="boolean"||r.isInputVisual,e.setOptions(r),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(o=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?o.push([e.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):o.push([e.doBidiReorder(a[u])]);i.text=o}else i.text=e.doBidiReorder(a);e.setOptions({isInputVisual:!0})}])}(Ne),Ne.API.TTFFont=function(){function c(t){var e;if(this.rawData=t,e=this.contents=new Vh(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new y8(this),this.registerTTF()}return c.open=function(t){return new c(t)},c.prototype.parse=function(){return this.directory=new a8(this.contents),this.head=new o8(this),this.name=new f8(this),this.cmap=new yE(this),this.toUnicode={},this.hhea=new l8(this),this.maxp=new d8(this),this.hmtx=new p8(this),this.post=new u8(this),this.os2=new c8(this),this.loca=new b8(this),this.glyf=new g8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},c.prototype.registerTTF=function(){var t,e,i,a,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,h,p;for(p=[],o=0,u=(h=this.bbox).length;o<u;o++)t=h[o],p.push(Math.round(t*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(i=255&(a=this.post.italic_angle),(32768&(e=a>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(r=this.familyClass)===1||r===2||r===3||r===4||r===5||r===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},c.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},c.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},c.prototype.widthOfString=function(t,e,i){var a,r,o,u;for(o=0,r=0,u=(t=""+t).length;0<=u?r<u:r>u;r=0<=u?++r:--r)a=t.charCodeAt(r),o+=this.widthOfGlyph(this.characterToGlyph(a))+i*(1e3/e)||0;return o*(e/1e3)},c.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},c}();var qo,Vh=function(){function c(t){this.data=t??[],this.pos=0,this.length=this.data.length}return c.prototype.readByte=function(){return this.data[this.pos++]},c.prototype.writeByte=function(t){return this.data[this.pos++]=t},c.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},c.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},c.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},c.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},c.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},c.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},c.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},c.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},c.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},c.prototype.writeString=function(t){var e,i,a;for(a=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)a.push(this.writeByte(t.charCodeAt(e)));return a},c.prototype.readShort=function(){return this.readInt16()},c.prototype.writeShort=function(t){return this.writeInt16(t)},c.prototype.readLongLong=function(){var t,e,i,a,r,o,u,h;return t=this.readByte(),e=this.readByte(),i=this.readByte(),a=this.readByte(),r=this.readByte(),o=this.readByte(),u=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^a)+16777216*(255^r)+65536*(255^o)+256*(255^u)+(255^h)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*a+16777216*r+65536*o+256*u+h},c.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},c.prototype.readInt=function(){return this.readInt32()},c.prototype.writeInt=function(t){return this.writeInt32(t)},c.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},c.prototype.write=function(t){var e,i,a,r;for(r=[],i=0,a=t.length;i<a;i++)e=t[i],r.push(this.writeByte(e));return r},c}(),a8=function(){var c;function t(e){var i,a,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},a=0,r=this.tableCount;0<=r?a<r:a>r;a=0<=r?++a:--a)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,a,r,o,u,h,p,m,A,w,y,N,E;for(E in y=Object.keys(e).length,h=Math.log(2),A=16*Math.floor(Math.log(y)/h),o=Math.floor(A/h),m=16*y-A,(a=new Vh).writeInt(this.scalarType),a.writeShort(y),a.writeShort(A),a.writeShort(o),a.writeShort(m),r=16*y,p=a.pos+r,u=null,N=[],e)for(w=e[E],a.writeString(E),a.writeInt(c(w)),a.writeInt(p),a.writeInt(w.length),N=N.concat(w),E==="head"&&(u=p),p+=w.length;p%4;)N.push(0),p++;return a.write(N),i=2981146554-c(a.data),a.pos=u+8,a.writeUInt32(i),a.data},c=function(e){var i,a,r,o;for(e=AE.call(e);e.length%4;)e.push(0);for(r=new Vh(e),a=0,i=0,o=e.length;i<o;i=i+=4)a+=r.readUInt32();return 4294967295&a},t}(),r8={}.hasOwnProperty,Yl=function(c,t){for(var e in t)r8.call(t,e)&&(c[e]=t[e]);function i(){this.constructor=c}return i.prototype=t.prototype,c.prototype=new i,c.__super__=t.prototype,c};qo=function(){function c(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return c.prototype.parse=function(){},c.prototype.encode=function(){},c.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},c}();var o8=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return Yl(t,qo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new Vh).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),k_=function(){function c(t,e){var i,a,r,o,u,h,p,m,A,w,y,N,E,T,L,M,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(y=t.readUInt16(),w=y/2,t.pos+=6,r=function(){var $,K;for(K=[],h=$=0;0<=w?$<w:$>w;h=0<=w?++$:--$)K.push(t.readUInt16());return K}(),t.pos+=2,E=function(){var $,K;for(K=[],h=$=0;0<=w?$<w:$>w;h=0<=w?++$:--$)K.push(t.readUInt16());return K}(),p=function(){var $,K;for(K=[],h=$=0;0<=w?$<w:$>w;h=0<=w?++$:--$)K.push(t.readUInt16());return K}(),m=function(){var $,K;for(K=[],h=$=0;0<=w?$<w:$>w;h=0<=w?++$:--$)K.push(t.readUInt16());return K}(),a=(this.length-t.pos+this.offset)/2,u=function(){var $,K;for(K=[],h=$=0;0<=a?$<a:$>a;h=0<=a?++$:--$)K.push(t.readUInt16());return K}(),h=L=0,j=r.length;L<j;h=++L)for(T=r[h],i=M=N=E[h];N<=T?M<=T:M>=T;i=N<=T?++M:--M)m[h]===0?o=i+p[h]:(o=u[m[h]/2+(i-N)-(w-h)]||0)!==0&&(o+=p[h]),this.codeMap[i]=65535&o}t.pos=A}return c.encode=function(t,e){var i,a,r,o,u,h,p,m,A,w,y,N,E,T,L,M,j,$,K,at,tt,Z,ut,At,z,X,ot,nt,Et,U,J,ht,yt,V,ft,O,H,Q,rt,st,mt,St,Ct,Vt,Ht,Xt;switch(nt=new Vh,o=Object.keys(t).sort(function(Kt,be){return Kt-be}),e){case"macroman":for(E=0,T=function(){var Kt=[];for(N=0;N<256;++N)Kt.push(0);return Kt}(),M={0:0},r={},Et=0,yt=o.length;Et<yt;Et++)M[Ct=t[a=o[Et]]]==null&&(M[Ct]=++E),r[a]={old:t[a],new:M[t[a]]},T[a]=M[t[a]];return nt.writeUInt16(1),nt.writeUInt16(0),nt.writeUInt32(12),nt.writeUInt16(0),nt.writeUInt16(262),nt.writeUInt16(0),nt.write(T),{charMap:r,subtable:nt.data,maxGlyphID:E+1};case"unicode":for(X=[],A=[],j=0,M={},i={},L=p=null,U=0,V=o.length;U<V;U++)M[K=t[a=o[U]]]==null&&(M[K]=++j),i[a]={old:K,new:M[K]},u=M[K]-a,L!=null&&u===p||(L&&A.push(L),X.push(a),p=u),L=a;for(L&&A.push(L),A.push(65535),X.push(65535),At=2*(ut=X.length),Z=2*Math.pow(Math.log(ut)/Math.LN2,2),w=Math.log(Z/2)/Math.LN2,tt=2*ut-Z,h=[],at=[],y=[],N=J=0,ft=X.length;J<ft;N=++J){if(z=X[N],m=A[N],z===65535){h.push(0),at.push(0);break}if(z-(ot=i[z].new)>=32768)for(h.push(0),at.push(2*(y.length+ut-N)),a=ht=z;z<=m?ht<=m:ht>=m;a=z<=m?++ht:--ht)y.push(i[a].new);else h.push(ot-z),at.push(0)}for(nt.writeUInt16(3),nt.writeUInt16(1),nt.writeUInt32(12),nt.writeUInt16(4),nt.writeUInt16(16+8*ut+2*y.length),nt.writeUInt16(0),nt.writeUInt16(At),nt.writeUInt16(Z),nt.writeUInt16(w),nt.writeUInt16(tt),mt=0,O=A.length;mt<O;mt++)a=A[mt],nt.writeUInt16(a);for(nt.writeUInt16(0),St=0,H=X.length;St<H;St++)a=X[St],nt.writeUInt16(a);for(Vt=0,Q=h.length;Vt<Q;Vt++)u=h[Vt],nt.writeUInt16(u);for(Ht=0,rt=at.length;Ht<rt;Ht++)$=at[Ht],nt.writeUInt16($);for(Xt=0,st=y.length;Xt<st;Xt++)E=y[Xt],nt.writeUInt16(E);return{charMap:i,subtable:nt.data,maxGlyphID:j+1}}},c}(),yE=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return Yl(t,qo),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,a,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i=new k_(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var a,r;return i==null&&(i="macroman"),a=k_.encode(e,i),(r=new Vh).writeUInt16(0),r.writeUInt16(1),a.table=r.data.concat(a.subtable),a},t}(),l8=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return Yl(t,qo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),c8=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return Yl(t,qo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,a;for(a=[],i=0;i<10;++i)a.push(e.readByte());return a}(),this.charRange=function(){var i,a;for(a=[],i=0;i<4;++i)a.push(e.readInt());return a}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,a;for(a=[],i=0;i<2;i=++i)a.push(e.readInt());return a}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),u8=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return Yl(t,qo),t.prototype.tag="post",t.prototype.parse=function(e){var i,a,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(a=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)i=e.readByte(),r.push(this.names.push(e.readString(i)));return r;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 196608:break;case 262144:return this.map=(function(){var u,h,p;for(p=[],o=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;o=0<=h?++u:--u)p.push(e.readUInt32());return p}).call(this)}},t}(),h8=function(c,t){this.raw=c,this.length=c.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},f8=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return Yl(t,qo),t.prototype.tag="name",t.prototype.parse=function(e){var i,a,r,o,u,h,p,m,A,w,y;for(e.pos=this.offset,e.readShort(),i=e.readShort(),h=e.readShort(),a=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(p={},o=A=0,w=a.length;A<w;o=++A)r=a[o],e.pos=r.offset,m=e.readString(r.length),u=new h8(m,r),p[y=r.nameID]==null&&(p[y]=[]),p[r.nameID].push(u);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},t}(),d8=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return Yl(t,qo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),p8=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return Yl(t,qo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,a,r,o,u,h,p;for(e.pos=this.offset,this.metrics=[],i=0,h=this.file.hhea.numberOfMetrics;0<=h?i<h:i>h;i=0<=h?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var m,A;for(A=[],i=m=0;0<=r?m<r:m>r;i=0<=r?++m:--m)A.push(e.readInt16());return A}(),this.widths=(function(){var m,A,w,y;for(y=[],m=0,A=(w=this.metrics).length;m<A;m++)o=w[m],y.push(o.advance);return y}).call(this),a=this.widths[this.widths.length-1],p=[],i=u=0;0<=r?u<r:u>r;i=0<=r?++u:--u)p.push(this.widths.push(a));return p},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),AE=[].slice,g8=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return Yl(t,qo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,a,r,o,u,h,p,m,A,w;return e in this.cache?this.cache[e]:(o=this.file.loca,i=this.file.contents,a=o.indexOf(e),(r=o.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+a,u=(h=new Vh(i.read(r))).readShort(),m=h.readShort(),w=h.readShort(),p=h.readShort(),A=h.readShort(),this.cache[e]=u===-1?new v8(h,m,w,p,A):new m8(h,u,m,w,p,A),this.cache[e]))},t.prototype.encode=function(e,i,a){var r,o,u,h,p;for(u=[],o=[],h=0,p=i.length;h<p;h++)r=e[i[h]],o.push(u.length),r&&(u=u.concat(r.encode(a)));return o.push(u.length),{table:u,offsets:o}},t}(),m8=function(){function c(t,e,i,a,r,o){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=a,this.xMax=r,this.yMax=o,this.compound=!1}return c.prototype.encode=function(){return this.raw.data},c}(),v8=function(){function c(t,e,i,a,r){var o,u;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=a,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return c.prototype.encode=function(){var t,e,i;for(e=new Vh(AE.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},c}(),b8=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return Yl(t,qo),t.prototype.tag="loca",t.prototype.parse=function(e){var i,a;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var r,o;for(o=[],a=0,r=this.length;a<r;a+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var r,o;for(o=[],a=0,r=this.length;a<r;a+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var a=new Uint32Array(this.offsets.length),r=0,o=0,u=0;u<a.length;++u)if(a[u]=r,o<i.length&&i[o]==u){++o,a[u]=r;var h=this.offsets[u],p=this.offsets[u+1]-h;p>0&&(r+=p)}for(var m=new Array(4*a.length),A=0;A<a.length;++A)m[4*A+3]=255&a[A],m[4*A+2]=(65280&a[A])>>8,m[4*A+1]=(16711680&a[A])>>16,m[4*A]=(4278190080&a[A])>>24;return m},t}(),y8=function(){function c(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return c.prototype.generateCmap=function(){var t,e,i,a,r;for(e in a=this.font.cmap.tables[0].codeMap,t={},r=this.subset)i=r[e],t[e]=a[i];return t},c.prototype.glyphsFor=function(t){var e,i,a,r,o,u,h;for(a={},o=0,u=t.length;o<u;o++)a[r=t[o]]=this.font.glyf.glyphFor(r);for(r in e=[],a)(i=a[r])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(r in h=this.glyphsFor(e))i=h[r],a[r]=i;return a},c.prototype.encode=function(t,e){var i,a,r,o,u,h,p,m,A,w,y,N,E,T,L;for(a in i=yE.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),y={0:0},L=i.charMap)y[(h=L[a]).old]=h.new;for(N in w=i.maxGlyphID,o)N in y||(y[N]=w++);return m=function(M){var j,$;for(j in $={},M)$[M[j]]=j;return $}(y),A=Object.keys(m).sort(function(M,j){return M-j}),E=function(){var M,j,$;for($=[],M=0,j=A.length;M<j;M++)u=A[M],$.push(m[u]);return $}(),r=this.font.glyf.encode(o,E,y),p=this.font.loca.encode(r.offsets,E),T={cmap:this.font.cmap.raw(),glyf:r.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},c}();Ne.API.PDFObject=function(){var c;function t(){}return c=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,a,r,o;if(Array.isArray(e))return"["+function(){var u,h,p;for(p=[],u=0,h=e.length;u<h;u++)i=e[u],p.push(t.convert(i));return p}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+c(e.getUTCFullYear(),4)+c(e.getUTCMonth(),2)+c(e.getUTCDate(),2)+c(e.getUTCHours(),2)+c(e.getUTCMinutes(),2)+c(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(a in r=["<<"],e)o=e[a],r.push("/"+a+" "+t.convert(o));return r.push(">>"),r.join(`
`)}return""+e},t}();const wE="AIzaSyD9GRxGaIMOt9EeOiFIFONlrM5iEBILyFM";Ul.workerSrc="/pdf.worker.min.mjs";const A8=new SN(wE),P_=A8.getGenerativeModel({model:"gemini-2.0-flash"}),w8=()=>{const c=Dn.useRef(null),[t,e]=Dn.useState(null),[i,a]=Dn.useState(""),[r,o]=Dn.useState(""),[u,h]=Dn.useState(""),[p,m]=Dn.useState(!1),[A,w]=Dn.useState(!1),[y,N]=Dn.useState(!1),[E,T]=Dn.useState(null),[L,M]=Dn.useState(null),[j,$]=Dn.useState(null),[K,at]=Dn.useState(!1),tt=U=>{if(!U)return"";let J=U;return J=J.replace(/^#+\s+/gm,""),J=J.replace(/\*\*(.*?)\*\*/g,"$1"),J=J.replace(/\*(.*?)\*/g,"$1"),J=J.replace(/^- /gm,""),J},Z=()=>{e(null),a(""),o(""),h(""),T(null),M(null),$(null),m(!1),w(!1),N(!1),at(!1),c.current&&(c.current.value=null)};Dn.useEffect(()=>{at(!!(r&&!A))},[r,A]);const ut=()=>{Z(),c.current&&c.current.click()},At=U=>{const J=U.target.files[0];J&&(J.type==="application/pdf"?(Z(),e(J),a(J.name)):(Z(),T("Please select a valid PDF file."),alert("Please select a valid PDF file.")))},z=async()=>{if(!t){alert("Please select a PDF file first.");return}m(!0),o(""),h(""),T(null),M(null),$(null),at(!1);const U=new FileReader;U.onload=async J=>{const ht=new Uint8Array(J.target.result);let yt="";try{const V=await $4({data:ht}).promise;for(let ft=1;ft<=V.numPages;ft++){const H=await(await V.getPage(ft)).getTextContent();yt+=H.items.map(Q=>Q.str).join(" ")+`

`}yt=yt.trim(),m(!1),yt?await X(yt):T("No text could be extracted from the PDF.")}catch(V){T(`Error extracting PDF text: ${V.message}`),m(!1)}},U.onerror=()=>{T("Error reading file."),m(!1)},U.readAsArrayBuffer(t)},X=async U=>{var ht,yt,V,ft,O,H;const J=`${U}

---

Make proper detailed notes of the topic provided above.
The notes should be well-structured and easy to read.
Please start with a main title for the notes on its own line, formatted like: ## Main Topic Title
Then, cover key concepts, definitions, examples if applicable, and main takeaways.
Organize the content using Markdown-style headings (e.g., ## Section Heading, ### Subtopic), bullet points (e.g., - Point), and bold text for emphasis (e.g., **Important Concept**).`;w(!0),M(null),o(""),h(""),at(!1);try{const st=(await(await P_.generateContent(J)).response).text();o(st),h(tt(st))}catch(Q){console.error("Gemini API Error:",Q);let rt="Failed to get response from Gemini. Check console.";(ht=Q.message)!=null&&ht.includes("API key not valid")?rt="Gemini API Key is not valid. Please check your key and ensure it's for the correct Gemini API.":(yt=Q.message)!=null&&yt.includes("quota")?rt="Gemini API quota exceeded.":(V=Q.message)!=null&&V.includes("fetch failed")||(ft=Q.message)!=null&&ft.includes("NetworkError")?rt="Network error. Could not reach Gemini API. Check internet connection or CORS setup if running locally without a proxy.":(O=Q.message)!=null&&O.includes("model")&&((H=Q.message)!=null&&H.includes("not found"))&&(rt=`Gemini model '${P_.model}' not found or not accessible with your API key. (${Q.message})`),M(rt)}finally{w(!1)}},ot=U=>{if(typeof U!="string")return"";let J=U;return J=J.replace(/^#+\s*/,""),J=J.replace(/^(-|\*)\s*/,""),J=J.replace(/\*\*(.*?)\*\*/g,"$1"),J=J.replace(/\*(.*?)\*/g,"$1"),J.trim()},nt=async()=>{if(!r){$("No notes available to download.");return}N(!0),$(null);try{const U=new Ne({orientation:"p",unit:"mm",format:"a4"}),J=U.internal.pageSize.height,ht=U.internal.pageSize.width,yt=15,V=ht-yt*2;let ft=yt;U.setFont("helvetica");let O="Generated Notes",H=!1;const Q=r.split(`
`);for(let st=0;st<Q.length;st++){const mt=Q[st];if(mt.startsWith("## ")){O=ot(mt),U.setFontSize(18),U.setFont(void 0,"bold"),U.splitTextToSize(O,V).forEach(Ct=>{ft+18/U.internal.scaleFactor*1.5>J-yt&&(U.addPage(),ft=yt),U.text(Ct,ht/2,ft,{align:"center"}),ft+=18/U.internal.scaleFactor*1.5}),ft+=7,Q.splice(st,1),H=!0;break}}H||(i&&(O=i.replace(/\.pdf$/i,"")+" - Notes"),U.setFontSize(18),U.setFont(void 0,"bold"),U.splitTextToSize(O,V).forEach(mt=>{ft+18/U.internal.scaleFactor*1.5>J-yt&&(U.addPage(),ft=yt),U.text(mt,ht/2,ft,{align:"center"}),ft+=18/U.internal.scaleFactor*1.5}),ft+=7);for(const st of Q){let mt="",St="normal",Ct=11,Vt=0,Ht=1.4,Xt=!1;if(st.startsWith("## ")?(mt=ot(st),St="bold",Ct=14,Ht=1.6,Xt=!0):st.startsWith("### ")?(mt=ot(st),St="bold",Ct=12,Ht=1.5,Xt=!0):st.startsWith("#### ")?(mt=ot(st),St="italic",Ct=11,Ht=1.5,Xt=!0):st.trim().startsWith("- ")||st.trim().startsWith("* ")?(mt=ot(st),Vt=5):mt=ot(st),mt.trim()===""&&!Xt){ft+5<J-yt&&(ft+=5),ft>=J-yt&&st!==Q[Q.length-1]&&(U.addPage(),ft=yt);continue}U.setFontSize(Ct),U.setFont(void 0,St);const Kt=Ct/U.internal.scaleFactor*Ht,be=U.splitTextToSize(mt,V-Vt);for(const Pt of be)ft+Kt>J-yt&&(U.addPage(),ft=yt),U.text(Pt,yt+Vt,ft),ft+=Kt;Xt&&(ft+=Kt*.2,ft>=J-yt&&st!==Q[Q.length-1]&&(U.addPage(),ft=yt))}const rt=i?`${i.replace(/\.pdf$/i,"")}-notes.pdf`:"generated-notes.pdf";U.save(rt)}catch(U){console.error("Error generating PDF:",U),$(`Failed to generate PDF: ${U.message}`)}finally{N(!1)}},Et=p||A||y;return Ae.jsxs("div",{className:"bg-[#313187] m-10 rounded-2xl shadow-lg p-8 flex flex-col items-center w-full max-w-3xl min-h-[80vh]",children:[Ae.jsx("h1",{className:"text-4xl font-bold mb-2 text-white",children:"Get Your Notes"}),Ae.jsx("p",{className:"text-lg text-gray-300 mb-6 text-center max-w-xl",children:"Upload your syllabus PDF to generate smart notes using AI."}),Ae.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[Ae.jsx("button",{className:"bg-red-600 hover:bg-red-700 cursor-pointer text-white font-semibold px-6 py-3 rounded-lg text-lg disabled:opacity-50",onClick:ut,disabled:Et,children:i?"Change Syllabus PDF":"Select Syllabus PDF"}),Ae.jsx("input",{type:"file",accept:"application/pdf",ref:c,style:{display:"none"},onChange:At,disabled:Et}),t&&!r&&!p&&!A&&Ae.jsx("button",{className:"bg-green-600 hover:bg-green-700 cursor-pointer text-white font-semibold px-6 py-3 rounded-lg text-lg disabled:opacity-50",onClick:z,disabled:Et||!t,children:"Process & Generate Notes"})]}),Ae.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[Ae.jsx("p",{className:"text-sm text-gray-400",children:"Cloud storage (not implemented):"}),Ae.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 cursor-pointer p-3 rounded-full text-white",title:"Upload from Google Drive (Not Implemented)",disabled:!0,children:Ae.jsx(MN,{})}),Ae.jsx("button",{className:"bg-blue-400 hover:bg-blue-500 cursor-pointer p-3 rounded-full text-white",title:"Upload from Dropbox (Not Implemented)",disabled:!0,children:Ae.jsx(RN,{})})]}),i&&Ae.jsxs("p",{className:"text-sm text-gray-300 mt-3",children:["Selected File: ",Ae.jsx("span",{className:"font-semibold",children:i})]}),p&&Ae.jsx("p",{className:"text-yellow-300 mt-3 animate-pulse",children:"Extracting text from PDF, please wait..."}),E&&Ae.jsxs("p",{className:"text-red-400 mt-3",children:["PDF Error: ",E]}),A&&Ae.jsx("p",{className:"text-yellow-300 mt-3 animate-pulse",children:"Generating notes with AI, this may take a moment..."}),L&&Ae.jsxs("p",{className:"text-red-400 mt-3 text-center max-w-md",children:["Gemini Error: ",L]}),wE==="YOUR_GEMINI_API_KEY_PLACEHOLDER",u&&Ae.jsxs("div",{className:"mt-6 w-full bg-gray-800 p-6 rounded-lg max-h-[45vh] overflow-y-auto shadow-inner",children:[Ae.jsx("h3",{className:"text-2xl font-semibold mb-3 text-white bg-gray-800 py-2 z-10",children:"Generated Notes Preview:"}),Ae.jsx("pre",{className:"text-gray-200 whitespace-pre-wrap text-sm leading-relaxed font-sans",children:u})]}),K&&Ae.jsxs("div",{className:"mt-6",children:[Ae.jsx("button",{className:"bg-green-600 hover:bg-purple-700 text-white font-semibold px-8 py-4 rounded-lg text-xl shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105 cursor-pointer disabled:opacity-50 disabled:bg-purple-400",onClick:nt,disabled:y||!r,children:y?"Generating PDF...":"Download Notes as PDF"}),j&&Ae.jsx("p",{className:"text-red-400 mt-2 text-center",children:j})]}),!Et&&!i&&Ae.jsx("p",{className:"text-sm text-gray-400 mt-8",children:"or drop PDF here (drag & drop not implemented)"}),Ae.jsx("p",{className:"text-xs text-gray-500 mt-auto pt-4",children:"Notes are generated by AI. Please review for accuracy. PDF styling applied for common Markdown."})]})},S8=()=>Ae.jsxs(Ae.Fragment,{children:[Ae.jsx(Y6,{}),Ae.jsx("div",{className:"flex justify-center items-center min-h-[80vh]",children:Ae.jsx(w8,{})})]});I6.createRoot(document.getElementById("root")).render(Ae.jsx(Dn.StrictMode,{children:Ae.jsx(S8,{})}));export{x8 as c,N6 as g};
