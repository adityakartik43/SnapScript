var eN=Object.defineProperty;var GS=c=>{throw TypeError(c)};var iN=(c,t,e)=>t in c?eN(c,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[t]=e;var Xt=(c,t,e)=>iN(c,typeof t!="symbol"?t+"":t,e),Cy=(c,t,e)=>t.has(c)||GS("Cannot "+e);var f=(c,t,e)=>(Cy(c,t,"read from private field"),e?e.call(c):t.get(c)),F=(c,t,e)=>t.has(c)?GS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(c):t.set(c,e),T=(c,t,e,i)=>(Cy(c,t,"write to private field"),i?i.call(c,e):t.set(c,e),e),B=(c,t,e)=>(Cy(c,t,"access private method"),e);var ga=(c,t,e,i)=>({set _(a){T(c,t,a,e)},get _(){return f(c,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=e(a);fetch(a.href,r)}})();var n8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nN(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var Ty={exports:{}},E0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS;function sN(){if(VS)return E0;VS=1;var c=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,r){var o=null;if(r!==void 0&&(o=""+r),a.key!==void 0&&(o=""+a.key),"key"in a){r={};for(var u in a)u!=="key"&&(r[u]=a[u])}else r=a;return a=r.ref,{$$typeof:c,type:i,key:o,ref:a!==void 0?a:null,props:r}}return E0.Fragment=t,E0.jsx=e,E0.jsxs=e,E0}var YS;function aN(){return YS||(YS=1,Ty.exports=sN()),Ty.exports}var ye=aN(),My={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS;function rN(){if(XS)return Ge;XS=1;var c=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=y&&V[y]||V["@@iterator"],typeof V=="function"?V:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,E={};function M(V,ft,O){this.props=V,this.context=ft,this.refs=E,this.updater=O||A}M.prototype.isReactComponent={},M.prototype.setState=function(V,ft){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ft,"setState")},M.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function L(){}L.prototype=M.prototype;function R(V,ft,O){this.props=V,this.context=ft,this.refs=E,this.updater=O||A}var P=R.prototype=new L;P.constructor=R,N(P,M.prototype),P.isPureReactComponent=!0;var W=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},it=Object.prototype.hasOwnProperty;function J(V,ft,O,H,Q,rt){return O=rt.ref,{$$typeof:c,type:V,key:ft,ref:O!==void 0?O:null,props:rt}}function Z(V,ft){return J(V.type,ft,void 0,void 0,void 0,V.props)}function ct(V){return typeof V=="object"&&V!==null&&V.$$typeof===c}function bt(V){var ft={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(O){return ft[O]})}var z=/\/+/g;function K(V,ft){return typeof V=="object"&&V!==null&&V.key!=null?bt(""+V.key):ft.toString(36)}function ot(){}function st(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ot,ot):(V.status="pending",V.then(function(ft){V.status==="pending"&&(V.status="fulfilled",V.value=ft)},function(ft){V.status==="pending"&&(V.status="rejected",V.reason=ft)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Et(V,ft,O,H,Q){var rt=typeof V;(rt==="undefined"||rt==="boolean")&&(V=null);var at=!1;if(V===null)at=!0;else switch(rt){case"bigint":case"string":case"number":at=!0;break;case"object":switch(V.$$typeof){case c:case t:at=!0;break;case m:return at=V._init,Et(at(V._payload),ft,O,H,Q)}}if(at)return Q=Q(V),at=H===""?"."+K(V,0):H,W(Q)?(O="",at!=null&&(O=at.replace(z,"$&/")+"/"),Et(Q,ft,O,"",function(Ct){return Ct})):Q!=null&&(ct(Q)&&(Q=Z(Q,O+(Q.key==null||V&&V.key===Q.key?"":(""+Q.key).replace(z,"$&/")+"/")+at)),ft.push(Q)),1;at=0;var mt=H===""?".":H+":";if(W(V))for(var St=0;St<V.length;St++)H=V[St],rt=mt+K(H,St),at+=Et(H,ft,O,rt,Q);else if(St=w(V),typeof St=="function")for(V=St.call(V),St=0;!(H=V.next()).done;)H=H.value,rt=mt+K(H,St++),at+=Et(H,ft,O,rt,Q);else if(rt==="object"){if(typeof V.then=="function")return Et(st(V),ft,O,H,Q);throw ft=String(V),Error("Objects are not valid as a React child (found: "+(ft==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ft)+"). If you meant to render a collection of children, use an array instead.")}return at}function U(V,ft,O){if(V==null)return V;var H=[],Q=0;return Et(V,H,"","",function(rt){return ft.call(O,rt,Q++)}),H}function tt(V){if(V._status===-1){var ft=V._result;ft=ft(),ft.then(function(O){(V._status===0||V._status===-1)&&(V._status=1,V._result=O)},function(O){(V._status===0||V._status===-1)&&(V._status=2,V._result=O)}),V._status===-1&&(V._status=0,V._result=ft)}if(V._status===1)return V._result.default;throw V._result}var ht=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ft=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ft))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function At(){}return Ge.Children={map:U,forEach:function(V,ft,O){U(V,function(){ft.apply(this,arguments)},O)},count:function(V){var ft=0;return U(V,function(){ft++}),ft},toArray:function(V){return U(V,function(ft){return ft})||[]},only:function(V){if(!ct(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ge.Component=M,Ge.Fragment=e,Ge.Profiler=a,Ge.PureComponent=R,Ge.StrictMode=i,Ge.Suspense=h,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(V){return X.H.useMemoCache(V)}},Ge.cache=function(V){return function(){return V.apply(null,arguments)}},Ge.cloneElement=function(V,ft,O){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var H=N({},V.props),Q=V.key,rt=void 0;if(ft!=null)for(at in ft.ref!==void 0&&(rt=void 0),ft.key!==void 0&&(Q=""+ft.key),ft)!it.call(ft,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&ft.ref===void 0||(H[at]=ft[at]);var at=arguments.length-2;if(at===1)H.children=O;else if(1<at){for(var mt=Array(at),St=0;St<at;St++)mt[St]=arguments[St+2];H.children=mt}return J(V.type,Q,void 0,void 0,rt,H)},Ge.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:r,_context:V},V},Ge.createElement=function(V,ft,O){var H,Q={},rt=null;if(ft!=null)for(H in ft.key!==void 0&&(rt=""+ft.key),ft)it.call(ft,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(Q[H]=ft[H]);var at=arguments.length-2;if(at===1)Q.children=O;else if(1<at){for(var mt=Array(at),St=0;St<at;St++)mt[St]=arguments[St+2];Q.children=mt}if(V&&V.defaultProps)for(H in at=V.defaultProps,at)Q[H]===void 0&&(Q[H]=at[H]);return J(V,rt,void 0,void 0,null,Q)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(V){return{$$typeof:u,render:V}},Ge.isValidElement=ct,Ge.lazy=function(V){return{$$typeof:m,_payload:{_status:-1,_result:V},_init:tt}},Ge.memo=function(V,ft){return{$$typeof:p,type:V,compare:ft===void 0?null:ft}},Ge.startTransition=function(V){var ft=X.T,O={};X.T=O;try{var H=V(),Q=X.S;Q!==null&&Q(O,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(At,ht)}catch(rt){ht(rt)}finally{X.T=ft}},Ge.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Ge.use=function(V){return X.H.use(V)},Ge.useActionState=function(V,ft,O){return X.H.useActionState(V,ft,O)},Ge.useCallback=function(V,ft){return X.H.useCallback(V,ft)},Ge.useContext=function(V){return X.H.useContext(V)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(V,ft){return X.H.useDeferredValue(V,ft)},Ge.useEffect=function(V,ft,O){var H=X.H;if(typeof O=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(V,ft)},Ge.useId=function(){return X.H.useId()},Ge.useImperativeHandle=function(V,ft,O){return X.H.useImperativeHandle(V,ft,O)},Ge.useInsertionEffect=function(V,ft){return X.H.useInsertionEffect(V,ft)},Ge.useLayoutEffect=function(V,ft){return X.H.useLayoutEffect(V,ft)},Ge.useMemo=function(V,ft){return X.H.useMemo(V,ft)},Ge.useOptimistic=function(V,ft){return X.H.useOptimistic(V,ft)},Ge.useReducer=function(V,ft,O){return X.H.useReducer(V,ft,O)},Ge.useRef=function(V){return X.H.useRef(V)},Ge.useState=function(V){return X.H.useState(V)},Ge.useSyncExternalStore=function(V,ft,O){return X.H.useSyncExternalStore(V,ft,O)},Ge.useTransition=function(){return X.H.useTransition()},Ge.version="19.1.0",Ge}var WS;function Cw(){return WS||(WS=1,My.exports=rN()),My.exports}var Dn=Cw();const cp=nN(Dn);var Ry={exports:{}},N0={},Oy={exports:{}},Dy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS;function oN(){return KS||(KS=1,function(c){function t(U,tt){var ht=U.length;U.push(tt);t:for(;0<ht;){var At=ht-1>>>1,V=U[At];if(0<a(V,tt))U[At]=tt,U[ht]=V,ht=At;else break t}}function e(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var tt=U[0],ht=U.pop();if(ht!==tt){U[0]=ht;t:for(var At=0,V=U.length,ft=V>>>1;At<ft;){var O=2*(At+1)-1,H=U[O],Q=O+1,rt=U[Q];if(0>a(H,ht))Q<V&&0>a(rt,H)?(U[At]=rt,U[Q]=ht,At=Q):(U[At]=H,U[O]=ht,At=O);else if(Q<V&&0>a(rt,ht))U[At]=rt,U[Q]=ht,At=Q;else break t}}return tt}function a(U,tt){var ht=U.sortIndex-tt.sortIndex;return ht!==0?ht:U.id-tt.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;c.unstable_now=function(){return r.now()}}else{var o=Date,u=o.now();c.unstable_now=function(){return o.now()-u}}var h=[],p=[],m=1,y=null,w=3,A=!1,N=!1,E=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function W(U){for(var tt=e(p);tt!==null;){if(tt.callback===null)i(p);else if(tt.startTime<=U)i(p),tt.sortIndex=tt.expirationTime,t(h,tt);else break;tt=e(p)}}function X(U){if(E=!1,W(U),!N)if(e(h)!==null)N=!0,it||(it=!0,K());else{var tt=e(p);tt!==null&&Et(X,tt.startTime-U)}}var it=!1,J=-1,Z=5,ct=-1;function bt(){return M?!0:!(c.unstable_now()-ct<Z)}function z(){if(M=!1,it){var U=c.unstable_now();ct=U;var tt=!0;try{t:{N=!1,E&&(E=!1,R(J),J=-1),A=!0;var ht=w;try{e:{for(W(U),y=e(h);y!==null&&!(y.expirationTime>U&&bt());){var At=y.callback;if(typeof At=="function"){y.callback=null,w=y.priorityLevel;var V=At(y.expirationTime<=U);if(U=c.unstable_now(),typeof V=="function"){y.callback=V,W(U),tt=!0;break e}y===e(h)&&i(h),W(U)}else i(h);y=e(h)}if(y!==null)tt=!0;else{var ft=e(p);ft!==null&&Et(X,ft.startTime-U),tt=!1}}break t}finally{y=null,w=ht,A=!1}tt=void 0}}finally{tt?K():it=!1}}}var K;if(typeof P=="function")K=function(){P(z)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,st=ot.port2;ot.port1.onmessage=z,K=function(){st.postMessage(null)}}else K=function(){L(z,0)};function Et(U,tt){J=L(function(){U(c.unstable_now())},tt)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(U){U.callback=null},c.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<U?Math.floor(1e3/U):5},c.unstable_getCurrentPriorityLevel=function(){return w},c.unstable_next=function(U){switch(w){case 1:case 2:case 3:var tt=3;break;default:tt=w}var ht=w;w=tt;try{return U()}finally{w=ht}},c.unstable_requestPaint=function(){M=!0},c.unstable_runWithPriority=function(U,tt){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ht=w;w=U;try{return tt()}finally{w=ht}},c.unstable_scheduleCallback=function(U,tt,ht){var At=c.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?At+ht:At):ht=At,U){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ht+V,U={id:m++,callback:tt,priorityLevel:U,startTime:ht,expirationTime:V,sortIndex:-1},ht>At?(U.sortIndex=ht,t(p,U),e(h)===null&&U===e(p)&&(E?(R(J),J=-1):E=!0,Et(X,ht-At))):(U.sortIndex=V,t(h,U),N||A||(N=!0,it||(it=!0,K()))),U},c.unstable_shouldYield=bt,c.unstable_wrapCallback=function(U){var tt=w;return function(){var ht=w;w=tt;try{return U.apply(this,arguments)}finally{w=ht}}}}(Dy)),Dy}var $S;function lN(){return $S||($S=1,Oy.exports=oN()),Oy.exports}var ky={exports:{}},Ys={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS;function cN(){if(QS)return Ys;QS=1;var c=Cw();function t(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function r(h,p,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:h,containerInfo:p,implementation:m}}var o=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ys.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ys.createPortal=function(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return r(h,p,null,m)},Ys.flushSync=function(h){var p=o.T,m=i.p;try{if(o.T=null,i.p=2,h)return h()}finally{o.T=p,i.p=m,i.d.f()}},Ys.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},Ys.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Ys.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var m=p.as,y=u(m,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:A}):m==="script"&&i.d.X(h,{crossOrigin:y,integrity:w,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ys.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=u(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},Ys.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,y=u(m,p.crossOrigin);i.d.L(h,m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ys.preloadModule=function(h,p){if(typeof h=="string")if(p){var m=u(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},Ys.requestFormReset=function(h){i.d.r(h)},Ys.unstable_batchedUpdates=function(h,p){return h(p)},Ys.useFormState=function(h,p,m){return o.H.useFormState(h,p,m)},Ys.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ys.version="19.1.0",Ys}var ZS;function uN(){if(ZS)return ky.exports;ZS=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(t){console.error(t)}}return c(),ky.exports=cN(),ky.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS;function hN(){if(JS)return N0;JS=1;var c=lN(),t=Cw(),e=uN();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function r(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function o(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function u(n){if(r(n)!==n)throw Error(i(188))}function h(n){var s=n.alternate;if(!s){if(s=r(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,d=s;;){var v=l.return;if(v===null)break;var S=v.alternate;if(S===null){if(d=v.return,d!==null){l=d;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===l)return u(v),n;if(S===d)return u(v),s;S=S.sibling}throw Error(i(188))}if(l.return!==d.return)l=v,d=S;else{for(var D=!1,Y=v.child;Y;){if(Y===l){D=!0,l=v,d=S;break}if(Y===d){D=!0,d=v,l=S;break}Y=Y.sibling}if(!D){for(Y=S.child;Y;){if(Y===l){D=!0,l=S,d=v;break}if(Y===d){D=!0,d=S,l=v;break}Y=Y.sibling}if(!D)throw Error(i(189))}}if(l.alternate!==d)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function p(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=p(n),s!==null)return s;n=n.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),P=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),ct=Symbol.for("react.activity"),bt=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function K(n){return n===null||typeof n!="object"?null:(n=z&&n[z]||n["@@iterator"],typeof n=="function"?n:null)}var ot=Symbol.for("react.client.reference");function st(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ot?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case M:return"Profiler";case E:return"StrictMode";case X:return"Suspense";case it:return"SuspenseList";case ct:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case P:return(n.displayName||"Context")+".Provider";case R:return(n._context.displayName||"Context")+".Consumer";case W:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case J:return s=n.displayName||null,s!==null?s:st(n.type)||"Memo";case Z:s=n._payload,n=n._init;try{return st(n(s))}catch{}}return null}var Et=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},At=[],V=-1;function ft(n){return{current:n}}function O(n){0>V||(n.current=At[V],At[V]=null,V--)}function H(n,s){V++,At[V]=n.current,n.current=s}var Q=ft(null),rt=ft(null),at=ft(null),mt=ft(null);function St(n,s){switch(H(at,s),H(rt,n),H(Q,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?bS(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=bS(s),n=yS(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}O(Q),H(Q,n)}function Ct(){O(Q),O(rt),O(at)}function Vt(n){n.memoizedState!==null&&H(mt,n);var s=Q.current,l=yS(s,n.type);s!==l&&(H(rt,n),H(Q,l))}function Ht(n){rt.current===n&&(O(Q),O(rt)),mt.current===n&&(O(mt),A0._currentValue=ht)}var Wt=Object.prototype.hasOwnProperty,Kt=c.unstable_scheduleCallback,ve=c.unstable_cancelCallback,Pt=c.unstable_shouldYield,lt=c.unstable_requestPaint,we=c.unstable_now,ue=c.unstable_getCurrentPriorityLevel,Yt=c.unstable_ImmediatePriority,Qt=c.unstable_UserBlockingPriority,Jt=c.unstable_NormalPriority,te=c.unstable_LowPriority,ge=c.unstable_IdlePriority,ke=c.log,qe=c.unstable_setDisableYieldValue,Fe=null,Re=null;function Je(n){if(typeof ke=="function"&&qe(n),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(Fe,n)}catch{}}var he=Math.clz32?Math.clz32:ns,Xe=Math.log,ne=Math.LN2;function ns(n){return n>>>=0,n===0?32:31-(Xe(n)/ne|0)|0}var ti=256,Is=4194304;function si(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function _i(n,s,l){var d=n.pendingLanes;if(d===0)return 0;var v=0,S=n.suspendedLanes,D=n.pingedLanes;n=n.warmLanes;var Y=d&134217727;return Y!==0?(d=Y&~S,d!==0?v=si(d):(D&=Y,D!==0?v=si(D):l||(l=Y&~n,l!==0&&(v=si(l))))):(Y=d&~S,Y!==0?v=si(Y):D!==0?v=si(D):l||(l=d&~n,l!==0&&(v=si(l)))),v===0?0:s!==0&&s!==v&&(s&S)===0&&(S=v&-v,l=s&-s,S>=l||S===32&&(l&4194048)!==0)?s:v}function Fs(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function pi(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var n=ti;return ti<<=1,(ti&4194048)===0&&(ti=256),n}function Vi(){var n=Is;return Is<<=1,(Is&62914560)===0&&(Is=4194304),n}function sa(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function aa(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function $i(n,s,l,d,v,S){var D=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var Y=n.entanglements,ut=n.expirationTimes,Mt=n.hiddenUpdates;for(l=D&~l;0<l;){var Ft=31-he(l),Ut=1<<Ft;Y[Ft]=0,ut[Ft]=-1;var Rt=Mt[Ft];if(Rt!==null)for(Mt[Ft]=null,Ft=0;Ft<Rt.length;Ft++){var Ot=Rt[Ft];Ot!==null&&(Ot.lane&=-536870913)}l&=~Ut}d!==0&&Oe(n,d,0),S!==0&&v===0&&n.tag!==0&&(n.suspendedLanes|=S&~(D&~s))}function Oe(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var d=31-he(s);n.entangledLanes|=s,n.entanglements[d]=n.entanglements[d]|1073741824|l&4194090}function ui(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var d=31-he(l),v=1<<d;v&s|n[d]&s&&(n[d]|=s),l&=~v}}function Jr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function _n(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ua(){var n=tt.p;return n!==0?n:(n=window.event,n===void 0?32:BS(n.type))}function Er(n,s){var l=tt.p;try{return tt.p=n,s()}finally{tt.p=l}}var de=Math.random().toString(36).slice(2),Mi="__reactFiber$"+de,Yi="__reactProps$"+de,xn="__reactContainer$"+de,on="__reactEvents$"+de,mn="__reactListeners$"+de,ra="__reactHandles$"+de,ec="__reactResources$"+de,oa="__reactMarker$"+de;function la(n){delete n[Mi],delete n[Yi],delete n[on],delete n[mn],delete n[ra]}function ss(n){var s=n[Mi];if(s)return s;for(var l=n.parentNode;l;){if(s=l[xn]||l[Mi]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=_S(n);n!==null;){if(l=n[Mi])return l;n=_S(n)}return s}n=l,l=n.parentNode}return null}function as(n){if(n=n[Mi]||n[xn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Bs(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Kn(n){var s=n[ec];return s||(s=n[ec]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xi(n){n[oa]=!0}var Yo=new Set,ic={};function Ea(n,s){Ha(n,s),Ha(n+"Capture",s)}function Ha(n,s){for(ic[n]=s,n=0;n<s.length;n++)Yo.add(s[n])}var Au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),df={},bp={};function P1(n){return Wt.call(bp,n)?!0:Wt.call(df,n)?!1:Au.test(n)?bp[n]=!0:(df[n]=!0,!1)}function to(n,s,l){if(P1(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function nc(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function Ga(n,s,l,d){if(d===null)n.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+d)}}var sc,yp;function eo(n){if(sc===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);sc=s&&s[1]||"",yp=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sc+n+yp}var pf=!1;function Xo(n,s){if(!n||pf)return"";pf=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var Ut=function(){throw Error()};if(Object.defineProperty(Ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ut,[])}catch(Ot){var Rt=Ot}Reflect.construct(n,[],Ut)}else{try{Ut.call()}catch(Ot){Rt=Ot}n.call(Ut.prototype)}}else{try{throw Error()}catch(Ot){Rt=Ot}(Ut=n())&&typeof Ut.catch=="function"&&Ut.catch(function(){})}}catch(Ot){if(Ot&&Rt&&typeof Ot.stack=="string")return[Ot.stack,Rt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=d.DetermineComponentFrameRoot(),D=S[0],Y=S[1];if(D&&Y){var ut=D.split(`
`),Mt=Y.split(`
`);for(v=d=0;d<ut.length&&!ut[d].includes("DetermineComponentFrameRoot");)d++;for(;v<Mt.length&&!Mt[v].includes("DetermineComponentFrameRoot");)v++;if(d===ut.length||v===Mt.length)for(d=ut.length-1,v=Mt.length-1;1<=d&&0<=v&&ut[d]!==Mt[v];)v--;for(;1<=d&&0<=v;d--,v--)if(ut[d]!==Mt[v]){if(d!==1||v!==1)do if(d--,v--,0>v||ut[d]!==Mt[v]){var Ft=`
`+ut[d].replace(" at new "," at ");return n.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",n.displayName)),Ft}while(1<=d&&0<=v);break}}}finally{pf=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?eo(l):""}function I1(n){switch(n.tag){case 26:case 27:case 5:return eo(n.type);case 16:return eo("Lazy");case 13:return eo("Suspense");case 19:return eo("SuspenseList");case 0:case 15:return Xo(n.type,!1);case 11:return Xo(n.type.render,!1);case 1:return Xo(n.type,!0);case 31:return eo("Activity");default:return""}}function Qi(n){try{var s="";do s+=I1(n),n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ys(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function gf(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ap(n){var s=gf(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,S=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return v.call(this)},set:function(D){d=""+D,S.call(this,D)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(D){d=""+D},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Wo(n){n._valueTracker||(n._valueTracker=Ap(n))}function wp(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return n&&(d=gf(n)?n.checked?"true":"false":n.value),n=d,n!==l?(s.setValue(n),!0):!1}function js(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var wu=/[\n"\\]/g;function Fi(n){return n.replace(wu,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ac(n,s,l,d,v,S,D,Y){n.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?n.type=D:n.removeAttribute("type"),s!=null?D==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+ys(s)):n.value!==""+ys(s)&&(n.value=""+ys(s)):D!=="submit"&&D!=="reset"||n.removeAttribute("value"),s!=null?vf(n,D,ys(s)):l!=null?vf(n,D,ys(l)):d!=null&&n.removeAttribute("value"),v==null&&S!=null&&(n.defaultChecked=!!S),v!=null&&(n.checked=v&&typeof v!="function"&&typeof v!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?n.name=""+ys(Y):n.removeAttribute("name")}function mf(n,s,l,d,v,S,D,Y){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.type=S),s!=null||l!=null){if(!(S!=="submit"&&S!=="reset"||s!=null))return;l=l!=null?""+ys(l):"",s=s!=null?""+ys(s):l,Y||s===n.value||(n.value=s),n.defaultValue=s}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=Y?n.checked:!!d,n.defaultChecked=!!d,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(n.name=D)}function vf(n,s,l){s==="number"&&js(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function io(n,s,l,d){if(n=n.options,s){s={};for(var v=0;v<l.length;v++)s["$"+l[v]]=!0;for(l=0;l<n.length;l++)v=s.hasOwnProperty("$"+n[l].value),n[l].selected!==v&&(n[l].selected=v),v&&d&&(n[l].defaultSelected=!0)}else{for(l=""+ys(l),s=null,v=0;v<n.length;v++){if(n[v].value===l){n[v].selected=!0,d&&(n[v].defaultSelected=!0);return}s!==null||n[v].disabled||(s=n[v])}s!==null&&(s.selected=!0)}}function Sp(n,s,l){if(s!=null&&(s=""+ys(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+ys(l):""}function bf(n,s,l,d){if(s==null){if(d!=null){if(l!=null)throw Error(i(92));if(Et(d)){if(1<d.length)throw Error(i(93));d=d[0]}l=d}l==null&&(l=""),s=l}l=ys(s),n.defaultValue=l,d=n.textContent,d===l&&d!==""&&d!==null&&(n.value=d)}function Ko(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var yf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _p(n,s,l){var d=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":d?n.setProperty(s,l):typeof l!="number"||l===0||yf.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function xp(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var v in s)d=s[v],s.hasOwnProperty(v)&&l[v]!==d&&_p(n,v,d)}else for(var S in s)s.hasOwnProperty(S)&&_p(n,S,s[S])}function Af(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var no=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Su=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(n){return Su.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var _u=null;function Bn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $o=null,ao=null;function Te(n){var s=as(n);if(s&&(n=s.stateNode)){var l=n[Yi]||null;t:switch(n=s.stateNode,s.type){case"input":if(ac(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Fi(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==n&&d.form===n.form){var v=d[Yi]||null;if(!v)throw Error(i(90));ac(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<l.length;s++)d=l[s],d.form===n.form&&wp(d)}break t;case"textarea":Sp(n,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&io(n,!!l.multiple,s,!1)}}}var wf=!1;function Ep(n,s,l){if(wf)return n(s,l);wf=!0;try{var d=n(s);return d}finally{if(wf=!1,($o!==null||ao!==null)&&(b5(),$o&&(s=$o,n=ao,ao=$o=null,Te(s),n)))for(s=0;s<n.length;s++)Te(n[s])}}function zs(n,s){var l=n.stateNode;if(l===null)return null;var d=l[Yi]||null;if(d===null)return null;l=d[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break t;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xu=!1;if(Na)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){xu=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{xu=!1}var La=null,Sf=null,Eu=null;function Np(){if(Eu)return Eu;var n,s=Sf,l=s.length,d,v="value"in La?La.value:La.textContent,S=v.length;for(n=0;n<l&&s[n]===v[n];n++);var D=l-n;for(d=1;d<=D&&s[l-d]===v[S-d];d++);return Eu=v.slice(n,1<d?1-d:void 0)}function Qo(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Lr(){return!0}function ro(){return!1}function rs(n){function s(l,d,v,S,D){this._reactName=l,this._targetInst=v,this.type=d,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var Y in n)n.hasOwnProperty(Y)&&(l=n[Y],this[Y]=l?l(S):S[Y]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Lr:ro,this.isPropagationStopped=ro,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),s}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=rs(ca),Cr=m({},ca,{view:0,detail:0}),Lp=rs(Cr),Nu,Lu,Jo,ua=m({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ru,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Jo&&(Jo&&n.type==="mousemove"?(Nu=n.screenX-Jo.screenX,Lu=n.screenY-Jo.screenY):Lu=Nu=0,Jo=n),Nu)},movementY:function(n){return"movementY"in n?n.movementY:Lu}}),Tr=rs(ua),F1=m({},ua,{dataTransfer:0}),tl=rs(F1),Va=m({},Cr,{relatedTarget:0}),rc=rs(Va),oc=m({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),B1=rs(oc),Cu=m({},ca,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),j1=rs(Cu),_f=m({},ca,{data:0}),Tu=rs(_f),Cp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ef(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=xf[n])?!!s[n]:!1}function Ru(){return Ef}var z1=m({},Cr,{key:function(n){if(n.key){var s=Cp[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Qo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Mu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ru,charCode:function(n){return n.type==="keypress"?Qo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Qo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ou=rs(z1),lc=m({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=rs(lc),el=m({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ru}),Nf=rs(el),_=m({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=rs(_),nt=m({},ua,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),dt=rs(nt),xt=m({},ca,{newState:0,oldState:0}),kt=rs(xt),Gt=[9,13,27,32],ie=Na&&"CompositionEvent"in window,fe=null;Na&&"documentMode"in document&&(fe=document.documentMode);var Ie=Na&&"TextEvent"in window&&!fe,De=Na&&(!ie||fe&&8<fe&&11>=fe),ei=" ",zi=!1;function Xi(n,s){switch(n){case"keyup":return Gt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ln(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var cn=!1;function jn(n,s){switch(n){case"compositionend":return ln(s);case"keypress":return s.which!==32?null:(zi=!0,ei);case"textInput":return n=s.data,n===ei&&zi?null:n;default:return null}}function Ya(n,s){if(cn)return n==="compositionend"||!ie&&Xi(n,s)?(n=Np(),Eu=Sf=La=null,cn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return De&&s.locale!=="ko"?null:s.data;default:return null}}var ha={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xa(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!ha[n.type]:s==="textarea"}function Lf(n,s,l,d){$o?ao?ao.push(d):ao=[d]:$o=d,s=x5(s,"onChange"),0<s.length&&(l=new Zo("onChange","change",null,l,d),n.push({event:l,listeners:s}))}var oo=null,lo=null;function ku(n){dS(n,0)}function il(n){var s=Bs(n);if(wp(s))return n}function Pu(n,s){if(n==="change")return s}var cc=!1;if(Na){var En;if(Na){var nl="oninput"in document;if(!nl){var uc=document.createElement("div");uc.setAttribute("oninput","return;"),nl=typeof uc.oninput=="function"}En=nl}else En=!1;cc=En&&(!document.documentMode||9<document.documentMode)}function hc(){oo&&(oo.detachEvent("onpropertychange",Iu),lo=oo=null)}function Iu(n){if(n.propertyName==="value"&&il(lo)){var s=[];Lf(s,lo,n,Bn(n)),Ep(ku,s)}}function qs(n,s,l){n==="focusin"?(hc(),oo=s,lo=l,oo.attachEvent("onpropertychange",Iu)):n==="focusout"&&hc()}function q1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return il(lo)}function Cf(n,s){if(n==="click")return il(s)}function Tp(n,s){if(n==="input"||n==="change")return il(s)}function Ca(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var zn=typeof Object.is=="function"?Object.is:Ca;function sl(n,s){if(zn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var v=l[d];if(!Wt.call(s,v)||!zn(n[v],s[v]))return!1}return!0}function Tf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function co(n,s){var l=Tf(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=s&&d>=s)return{node:l,offset:s-n};n=d}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Tf(l)}}function al(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?al(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function As(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=js(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=js(n.document)}return s}function $n(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var rl=Na&&"documentMode"in document&&11>=document.documentMode,Us=null,Wa=null,Mr=null,Ka=!1;function Zi(n,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ka||Us==null||Us!==js(d)||(d=Us,"selectionStart"in d&&$n(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Mr&&sl(Mr,d)||(Mr=d,d=x5(Wa,"onSelect"),0<d.length&&(s=new Zo("onSelect","select",null,s,l),n.push({event:s,listeners:d}),s.target=Us)))}function $a(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var vn={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Hs={},fc={};Na&&(fc=document.createElement("div").style,"AnimationEvent"in window||(delete vn.animationend.animation,delete vn.animationiteration.animation,delete vn.animationstart.animation),"TransitionEvent"in window||delete vn.transitionend.transition);function Rr(n){if(Hs[n])return Hs[n];if(!vn[n])return n;var s=vn[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in fc)return Hs[n]=s[l];return n}var Fu=Rr("animationend"),ol=Rr("animationiteration"),ll=Rr("animationstart"),cl=Rr("transitionrun"),dc=Rr("transitionstart"),Bu=Rr("transitioncancel"),ul=Rr("transitionend"),uo=new Map,pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pc.push("scrollEnd");function Ji(n,s){uo.set(n,s),Ea(s,[n])}var fa=new WeakMap;function We(n,s){if(typeof n=="object"&&n!==null){var l=fa.get(n);return l!==void 0?l:(s={value:n,source:s,stack:Qi(s)},fa.set(n,s),s)}return{value:n,source:s,stack:Qi(s)}}var Ke=[],Ri=0,un=0;function Ta(){for(var n=Ri,s=un=Ri=0;s<n;){var l=Ke[s];Ke[s++]=null;var d=Ke[s];Ke[s++]=null;var v=Ke[s];Ke[s++]=null;var S=Ke[s];if(Ke[s++]=null,d!==null&&v!==null){var D=d.pending;D===null?v.next=v:(v.next=D.next,D.next=v),d.pending=v}S!==0&&Mp(l,v,S)}}function hl(n,s,l,d){Ke[Ri++]=n,Ke[Ri++]=s,Ke[Ri++]=l,Ke[Ri++]=d,un|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function fl(n,s,l,d){return hl(n,s,l,d),gc(n)}function ho(n,s){return hl(n,null,null,s),gc(n)}function Mp(n,s,l){n.lanes|=l;var d=n.alternate;d!==null&&(d.lanes|=l);for(var v=!1,S=n.return;S!==null;)S.childLanes|=l,d=S.alternate,d!==null&&(d.childLanes|=l),S.tag===22&&(n=S.stateNode,n===null||n._visibility&1||(v=!0)),n=S,S=S.return;return n.tag===3?(S=n.stateNode,v&&s!==null&&(v=31-he(l),n=S.hiddenUpdates,d=n[v],d===null?n[v]=[s]:d.push(s),s.lane=l|536870912),S):null}function gc(n){if(50<f0)throw f0=0,Zb=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var qn={};function Ma(n,s,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function os(n,s,l,d){return new Ma(n,s,l,d)}function ju(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Or(n,s){var l=n.alternate;return l===null?(l=os(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Mf(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function mc(n,s,l,d,v,S){var D=0;if(d=n,typeof n=="function")ju(n)&&(D=1);else if(typeof n=="string")D=U6(n,l,Q.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case ct:return n=os(31,l,s,v),n.elementType=ct,n.lanes=S,n;case N:return fo(l.children,v,S,s);case E:D=8,v|=24;break;case M:return n=os(12,l,s,v|2),n.elementType=M,n.lanes=S,n;case X:return n=os(13,l,s,v),n.elementType=X,n.lanes=S,n;case it:return n=os(19,l,s,v),n.elementType=it,n.lanes=S,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case L:case P:D=10;break t;case R:D=9;break t;case W:D=11;break t;case J:D=14;break t;case Z:D=16,d=null;break t}D=29,l=Error(i(130,n===null?"null":typeof n,"")),d=null}return s=os(D,l,s,v),s.elementType=n,s.type=d,s.lanes=S,s}function fo(n,s,l,d){return n=os(7,n,d,s),n.lanes=l,n}function Rp(n,s,l){return n=os(6,n,null,s),n.lanes=l,n}function Rf(n,s,l){return s=os(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var dl=[],po=0,zu=null,Op=0,Ra=[],da=0,vc=null,go=1,mo="";function bc(n,s){dl[po++]=Op,dl[po++]=zu,zu=n,Op=s}function U2(n,s,l){Ra[da++]=go,Ra[da++]=mo,Ra[da++]=vc,vc=n;var d=go;n=mo;var v=32-he(d)-1;d&=~(1<<v),l+=1;var S=32-he(s)+v;if(30<S){var D=v-v%5;S=(d&(1<<D)-1).toString(32),d>>=D,v-=D,go=1<<32-he(s)+v|l<<v|d,mo=S+n}else go=1<<S|l<<v|d,mo=n}function Of(n){n.return!==null&&(bc(n,1),U2(n,1,0))}function Df(n){for(;n===zu;)zu=dl[--po],dl[po]=null,Op=dl[--po],dl[po]=null;for(;n===vc;)vc=Ra[--da],Ra[da]=null,mo=Ra[--da],Ra[da]=null,go=Ra[--da],Ra[da]=null}var Nn=null,tn=null,hi=!1,pl=null,Dr=!1,U1=Error(i(519));function yc(n){var s=Error(i(418,""));throw qu(We(s,n)),U1}function H2(n){var s=n.stateNode,l=n.type,d=n.memoizedProps;switch(s[Mi]=n,s[Yi]=d,l){case"dialog":ni("cancel",s),ni("close",s);break;case"iframe":case"object":case"embed":ni("load",s);break;case"video":case"audio":for(l=0;l<p0.length;l++)ni(p0[l],s);break;case"source":ni("error",s);break;case"img":case"image":case"link":ni("error",s),ni("load",s);break;case"details":ni("toggle",s);break;case"input":ni("invalid",s),mf(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Wo(s);break;case"select":ni("invalid",s);break;case"textarea":ni("invalid",s),bf(s,d.value,d.defaultValue,d.children),Wo(s)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||d.suppressHydrationWarning===!0||vS(s.textContent,l)?(d.popover!=null&&(ni("beforetoggle",s),ni("toggle",s)),d.onScroll!=null&&ni("scroll",s),d.onScrollEnd!=null&&ni("scrollend",s),d.onClick!=null&&(s.onclick=E5),s=!0):s=!1,s||yc(n)}function vo(n){for(Nn=n.return;Nn;)switch(Nn.tag){case 5:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:Nn=Nn.return}}function ws(n){if(n!==Nn)return!1;if(!hi)return vo(n),hi=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||py(n.type,n.memoizedProps)),l=!l),l&&tn&&yc(n),vo(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(s===0){tn=Eo(n.nextSibling);break t}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;n=n.nextSibling}tn=null}}else s===27?(s=tn,sh(n.type)?(n=by,by=null,tn=n):tn=s):tn=Nn?Eo(n.stateNode.nextSibling):null;return!0}function pa(){tn=Nn=null,hi=!1}function G2(){var n=pl;return n!==null&&(ka===null?ka=n:ka.push.apply(ka,n),pl=null),n}function qu(n){pl===null?pl=[n]:pl.push(n)}var kr=ft(null),Un=null,bo=null;function gl(n,s,l){H(kr,s._currentValue),s._currentValue=l}function Pr(n){n._currentValue=kr.current,O(kr)}function Dp(n,s,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===l)break;n=n.return}}function kp(n,s,l,d){var v=n.child;for(v!==null&&(v.return=n);v!==null;){var S=v.dependencies;if(S!==null){var D=v.child;S=S.firstContext;t:for(;S!==null;){var Y=S;S=v;for(var ut=0;ut<s.length;ut++)if(Y.context===s[ut]){S.lanes|=l,Y=S.alternate,Y!==null&&(Y.lanes|=l),Dp(S.return,l,n),d||(D=null);break t}S=Y.next}}else if(v.tag===18){if(D=v.return,D===null)throw Error(i(341));D.lanes|=l,S=D.alternate,S!==null&&(S.lanes|=l),Dp(D,l,n),D=null}else D=v.child;if(D!==null)D.return=v;else for(D=v;D!==null;){if(D===n){D=null;break}if(v=D.sibling,v!==null){v.return=D.return,D=v;break}D=D.return}v=D}}function Uu(n,s,l,d){n=null;for(var v=s,S=!1;v!==null;){if(!S){if((v.flags&524288)!==0)S=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var D=v.alternate;if(D===null)throw Error(i(387));if(D=D.memoizedProps,D!==null){var Y=v.type;zn(v.pendingProps.value,D.value)||(n!==null?n.push(Y):n=[Y])}}else if(v===mt.current){if(D=v.alternate,D===null)throw Error(i(387));D.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(n!==null?n.push(A0):n=[A0])}v=v.return}n!==null&&kp(s,n,l,d),s.flags|=262144}function Pp(n){for(n=n.firstContext;n!==null;){if(!zn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ir(n){Un=n,bo=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ln(n){return Ip(Un,n)}function ml(n,s){return Un===null&&Ir(n),Ip(n,s)}function Ip(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},bo===null){if(n===null)throw Error(i(308));bo=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else bo=bo.next=s;return l}var _b=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,d){n.push(d)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},V2=c.unstable_scheduleCallback,xb=c.unstable_NormalPriority,Cn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function H1(){return{controller:new _b,data:new Map,refCount:0}}function kf(n){n.refCount--,n.refCount===0&&V2(xb,function(){n.controller.abort()})}var Pf=null,G1=0,Ac=0,yo=null;function Eb(n,s){if(Pf===null){var l=Pf=[];G1=0,Ac=ay(),yo={status:"pending",value:void 0,then:function(d){l.push(d)}}}return G1++,s.then(Y2,Y2),s}function Y2(){if(--G1===0&&Pf!==null){yo!==null&&(yo.status="fulfilled");var n=Pf;Pf=null,Ac=0,yo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function X2(n,s){var l=[],d={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return n.then(function(){d.status="fulfilled",d.value=s;for(var v=0;v<l.length;v++)(0,l[v])(s)},function(v){for(d.status="rejected",d.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),d}var g=U.S;U.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Eb(n,s),g!==null&&g(n,s)};var b=ft(null);function x(){var n=b.current;return n!==null?n:Ui.pooledCache}function C(n,s){s===null?H(b,b.current):H(b,s.pool)}function k(){var n=x();return n===null?null:{parent:Cn._currentValue,pool:n}}var j=Error(i(460)),q=Error(i(474)),G=Error(i(542)),$={then:function(){}};function et(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pt(){}function Tt(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(pt,pt),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,zt(n),n;default:if(typeof s.status=="string")s.then(pt,pt);else{if(n=Ui,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(d){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=d}},function(d){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,zt(n),n}throw Nt=s,j}}var Nt=null;function wt(){if(Nt===null)throw Error(i(459));var n=Nt;return Nt=null,n}function zt(n){if(n===j||n===G)throw Error(i(483))}var Dt=!1;function gt(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yt(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function It(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function qt(n,s,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(Ni&2)!==0){var v=d.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),d.pending=s,s=gc(n),Mp(n,null,l),s}return hl(n,d,s,l),gc(n)}function Bt(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var d=s.lanes;d&=n.pendingLanes,l|=d,s.lanes=l,ui(n,l)}}function se(n,s){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var v=null,S=null;if(l=l.firstBaseUpdate,l!==null){do{var D={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};S===null?v=S=D:S=S.next=D,l=l.next}while(l!==null);S===null?v=S=s:S=S.next=s}else v=S=s;l={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:d.shared,callbacks:d.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var $t=!1;function me(){if($t){var n=yo;if(n!==null)throw n}}function Zt(n,s,l,d){$t=!1;var v=n.updateQueue;Dt=!1;var S=v.firstBaseUpdate,D=v.lastBaseUpdate,Y=v.shared.pending;if(Y!==null){v.shared.pending=null;var ut=Y,Mt=ut.next;ut.next=null,D===null?S=Mt:D.next=Mt,D=ut;var Ft=n.alternate;Ft!==null&&(Ft=Ft.updateQueue,Y=Ft.lastBaseUpdate,Y!==D&&(Y===null?Ft.firstBaseUpdate=Mt:Y.next=Mt,Ft.lastBaseUpdate=ut))}if(S!==null){var Ut=v.baseState;D=0,Ft=Mt=ut=null,Y=S;do{var Rt=Y.lane&-536870913,Ot=Rt!==Y.lane;if(Ot?(ci&Rt)===Rt:(d&Rt)===Rt){Rt!==0&&Rt===Ac&&($t=!0),Ft!==null&&(Ft=Ft.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});t:{var Me=n,_e=Y;Rt=s;var Di=l;switch(_e.tag){case 1:if(Me=_e.payload,typeof Me=="function"){Ut=Me.call(Di,Ut,Rt);break t}Ut=Me;break t;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=_e.payload,Rt=typeof Me=="function"?Me.call(Di,Ut,Rt):Me,Rt==null)break t;Ut=m({},Ut,Rt);break t;case 2:Dt=!0}}Rt=Y.callback,Rt!==null&&(n.flags|=64,Ot&&(n.flags|=8192),Ot=v.callbacks,Ot===null?v.callbacks=[Rt]:Ot.push(Rt))}else Ot={lane:Rt,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ft===null?(Mt=Ft=Ot,ut=Ut):Ft=Ft.next=Ot,D|=Rt;if(Y=Y.next,Y===null){if(Y=v.shared.pending,Y===null)break;Ot=Y,Y=Ot.next,Ot.next=null,v.lastBaseUpdate=Ot,v.shared.pending=null}}while(!0);Ft===null&&(ut=Ut),v.baseState=ut,v.firstBaseUpdate=Mt,v.lastBaseUpdate=Ft,S===null&&(v.shared.lanes=0),th|=D,n.lanes=D,n.memoizedState=Ut}}function oi(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function gi(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)oi(l[n],s)}var Ve=ft(null),He=ft(0);function wi(n,s){n=Mc,H(He,n),H(Ve,s),Mc=n|s.baseLanes}function mi(){H(He,Mc),H(Ve,Ve.current)}function Pe(){Mc=He.current,O(Ve),O(He)}var Ei=0,Se=null,Le=null,ai=null,li=!1,Hn=!1,Tn=!1,hn=0,fn=0,bn=null,Oa=0;function vi(){throw Error(i(321))}function yn(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!zn(n[l],s[l]))return!1;return!0}function Qa(n,s,l,d,v,S){return Ei=S,Se=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=n===null||n.memoizedState===null?Qw:Zw,Tn=!1,S=l(d,v),Tn=!1,Hn&&(S=wc(s,l,d,v)),vl(n),S}function vl(n){U.H=a5;var s=Le!==null&&Le.next!==null;if(Ei=0,ai=Le=Se=null,li=!1,fn=0,bn=null,s)throw Error(i(300));n===null||ls||(n=n.dependencies,n!==null&&Pp(n)&&(ls=!0))}function wc(n,s,l,d){Se=n;var v=0;do{if(Hn&&(bn=null),fn=0,Hn=!1,25<=v)throw Error(i(301));if(v+=1,ai=Le=null,n.updateQueue!=null){var S=n.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}U.H=JE,S=s(l,d)}while(Hn);return S}function bl(){var n=U.H,s=n.useState()[0];return s=typeof s.then=="function"?yl(s):s,n=n.useState()[0],(Le!==null?Le.memoizedState:null)!==n&&(Se.flags|=1024),s}function qi(){var n=hn!==0;return hn=0,n}function If(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function Fp(n){if(li){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}li=!1}Ei=0,ai=Le=Se=null,Hn=!1,fn=hn=0,bn=null}function Ss(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ai===null?Se.memoizedState=ai=n:ai=ai.next=n,ai}function Wi(){if(Le===null){var n=Se.alternate;n=n!==null?n.memoizedState:null}else n=Le.next;var s=ai===null?Se.memoizedState:ai.next;if(s!==null)ai=s,Le=n;else{if(n===null)throw Se.alternate===null?Error(i(467)):Error(i(310));Le=n,n={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},ai===null?Se.memoizedState=ai=n:ai=ai.next=n}return ai}function Sc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(n){var s=fn;return fn+=1,bn===null&&(bn=[]),n=Tt(bn,n,s),s=Se,(ai===null?s.memoizedState:ai.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?Qw:Zw),n}function Gs(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return yl(n);if(n.$$typeof===P)return Ln(n)}throw Error(i(438,String(n)))}function Al(n){var s=null,l=Se.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var d=Se.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Sc(),Se.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),d=0;d<n;d++)l[d]=bt;return s.index++,l}function Vs(n,s){return typeof s=="function"?s(n):s}function Ff(n){var s=Wi();return Hu(s,Le,n)}function Hu(n,s,l){var d=n.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var v=n.baseQueue,S=d.pending;if(S!==null){if(v!==null){var D=v.next;v.next=S.next,S.next=D}s.baseQueue=v=S,d.pending=null}if(S=n.baseState,v===null)n.memoizedState=S;else{s=v.next;var Y=D=null,ut=null,Mt=s,Ft=!1;do{var Ut=Mt.lane&-536870913;if(Ut!==Mt.lane?(ci&Ut)===Ut:(Ei&Ut)===Ut){var Rt=Mt.revertLane;if(Rt===0)ut!==null&&(ut=ut.next={lane:0,revertLane:0,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null}),Ut===Ac&&(Ft=!0);else if((Ei&Rt)===Rt){Mt=Mt.next,Rt===Ac&&(Ft=!0);continue}else Ut={lane:0,revertLane:Mt.revertLane,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null},ut===null?(Y=ut=Ut,D=S):ut=ut.next=Ut,Se.lanes|=Rt,th|=Rt;Ut=Mt.action,Tn&&l(S,Ut),S=Mt.hasEagerState?Mt.eagerState:l(S,Ut)}else Rt={lane:Ut,revertLane:Mt.revertLane,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null},ut===null?(Y=ut=Rt,D=S):ut=ut.next=Rt,Se.lanes|=Ut,th|=Ut;Mt=Mt.next}while(Mt!==null&&Mt!==s);if(ut===null?D=S:ut.next=Y,!zn(S,n.memoizedState)&&(ls=!0,Ft&&(l=yo,l!==null)))throw l;n.memoizedState=S,n.baseState=D,n.baseQueue=ut,d.lastRenderedState=S}return v===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function Bp(n){var s=Wi(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var d=l.dispatch,v=l.pending,S=s.memoizedState;if(v!==null){l.pending=null;var D=v=v.next;do S=n(S,D.action),D=D.next;while(D!==v);zn(S,s.memoizedState)||(ls=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),l.lastRenderedState=S}return[S,d]}function Bf(n,s,l){var d=Se,v=Wi(),S=hi;if(S){if(l===void 0)throw Error(i(407));l=l()}else l=s();var D=!zn((Le||v).memoizedState,l);D&&(v.memoizedState=l,ls=!0),v=v.queue;var Y=Gu.bind(null,d,v,n);if(Xu(2048,8,Y,[n]),v.getSnapshot!==s||D||ai!==null&&ai.memoizedState.tag&1){if(d.flags|=2048,wo(9,Uf(),jf.bind(null,d,v,l,s),null),Ui===null)throw Error(i(349));S||(Ei&124)!==0||jp(d,s,l)}return l}function jp(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Se.updateQueue,s===null?(s=Sc(),Se.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function jf(n,s,l,d){s.value=l,s.getSnapshot=d,W2(s)&&K2(n)}function Gu(n,s,l){return l(function(){W2(s)&&K2(n)})}function W2(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!zn(n,l)}catch{return!0}}function K2(n){var s=ho(n,2);s!==null&&nr(s,n,2)}function zf(n){var s=Ss();if(typeof n=="function"){var l=n;if(n=l(),Tn){Je(!0);try{l()}finally{Je(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:n},s}function Ao(n,s,l,d){return n.baseState=l,Hu(n,Le,typeof d=="function"?d:Vs)}function Nb(n,s,l,d,v){if(s5(n))throw Error(i(485));if(n=s.action,n!==null){var S={payload:v,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){S.listeners.push(D)}};U.T!==null?l(!0):S.isTransition=!1,d(S),l=s.pending,l===null?(S.next=s.pending=S,$2(s,S)):(S.next=l.next,s.pending=l.next=S)}}function $2(n,s){var l=s.action,d=s.payload,v=n.state;if(s.isTransition){var S=U.T,D={};U.T=D;try{var Y=l(v,d),ut=U.S;ut!==null&&ut(D,Y),Q2(n,s,Y)}catch(Mt){Vu(n,s,Mt)}finally{U.T=S}}else try{S=l(v,d),Q2(n,s,S)}catch(Mt){Vu(n,s,Mt)}}function Q2(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){V1(n,s,d)},function(d){return Vu(n,s,d)}):V1(n,s,l)}function V1(n,s,l){s.status="fulfilled",s.value=l,Y1(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,$2(n,l)))}function Vu(n,s,l){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=l,Y1(s),s=s.next;while(s!==d)}n.action=null}function Y1(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function X1(n,s){return s}function qf(n,s){if(hi){var l=Ui.formState;if(l!==null){t:{var d=Se;if(hi){if(tn){e:{for(var v=tn,S=Dr;v.nodeType!==8;){if(!S){v=null;break e}if(v=Eo(v.nextSibling),v===null){v=null;break e}}S=v.data,v=S==="F!"||S==="F"?v:null}if(v){tn=Eo(v.nextSibling),d=v.data==="F!";break t}}yc(d)}d=!1}d&&(s=l[0])}}return l=Ss(),l.memoizedState=l.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X1,lastRenderedState:s},l.queue=d,l=Ww.bind(null,Se,d),d.dispatch=l,d=zf(!1),S=Lb.bind(null,Se,!1,d.queue),d=Ss(),v={state:s,dispatch:null,action:n,pending:null},d.queue=v,l=Nb.bind(null,Se,v,S,l),v.dispatch=l,d.memoizedState=n,[s,l,!1]}function zp(n){var s=Wi();return Yu(s,Le,n)}function Yu(n,s,l){if(s=Hu(n,s,X1)[0],n=Ff(Vs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=yl(s)}catch(D){throw D===j?G:D}else d=s;s=Wi();var v=s.queue,S=v.dispatch;return l!==s.memoizedState&&(Se.flags|=2048,wo(9,Uf(),Z2.bind(null,v,l),null)),[d,S,n]}function Z2(n,s){n.action=s}function J2(n){var s=Wi(),l=Le;if(l!==null)return Yu(s,l,n);Wi(),s=s.memoizedState,l=Wi();var d=l.queue.dispatch;return l.memoizedState=n,[s,d,!1]}function wo(n,s,l,d){return n={tag:n,create:l,deps:d,inst:s,next:null},s=Se.updateQueue,s===null&&(s=Sc(),Se.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,s.lastEffect=n),n}function Uf(){return{destroy:void 0,resource:void 0}}function qp(){return Wi().memoizedState}function Za(n,s,l,d){var v=Ss();d=d===void 0?null:d,Se.flags|=n,v.memoizedState=wo(1|s,Uf(),l,d)}function Xu(n,s,l,d){var v=Wi();d=d===void 0?null:d;var S=v.memoizedState.inst;Le!==null&&d!==null&&yn(d,Le.memoizedState.deps)?v.memoizedState=wo(s,S,l,d):(Se.flags|=n,v.memoizedState=wo(1|s,S,l,d))}function W1(n,s){Za(8390656,8,n,s)}function t5(n,s){Xu(2048,8,n,s)}function K1(n,s){return Xu(4,2,n,s)}function _c(n,s){return Xu(4,4,n,s)}function e5(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function $1(n,s,l){l=l!=null?l.concat([n]):null,Xu(4,4,e5.bind(null,s,n),l)}function Q1(){}function Z1(n,s){var l=Wi();s=s===void 0?null:s;var d=l.memoizedState;return s!==null&&yn(s,d[1])?d[0]:(l.memoizedState=[n,s],n)}function i5(n,s){var l=Wi();s=s===void 0?null:s;var d=l.memoizedState;if(s!==null&&yn(s,d[1]))return d[0];if(d=n(),Tn){Je(!0);try{n()}finally{Je(!1)}}return l.memoizedState=[d,s],d}function xc(n,s,l){return l===void 0||(Ei&1073741824)!==0?n.memoizedState=s:(n.memoizedState=l,n=G3(),Se.lanes|=n,th|=n,l)}function Up(n,s,l,d){return zn(l,s)?l:Ve.current!==null?(n=xc(n,l,d),zn(n,s)||(ls=!0),n):(Ei&42)===0?(ls=!0,n.memoizedState=l):(n=G3(),Se.lanes|=n,th|=n,s)}function Hf(n,s,l,d,v){var S=tt.p;tt.p=S!==0&&8>S?S:8;var D=U.T,Y={};U.T=Y,Lb(n,!1,s,l);try{var ut=v(),Mt=U.S;if(Mt!==null&&Mt(Y,ut),ut!==null&&typeof ut=="object"&&typeof ut.then=="function"){var Ft=X2(ut,d);i0(n,s,Ft,ir(n))}else i0(n,s,d,ir(n))}catch(Ut){i0(n,s,{then:function(){},status:"rejected",reason:Ut},ir())}finally{tt.p=S,U.T=D}}function So(){}function Fr(n,s,l,d){if(n.tag!==5)throw Error(i(476));var v=_o(n).queue;Hf(n,v,s,ht,l===null?So:function(){return Gf(n),l(d)})}function _o(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:ht},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Gf(n){var s=_o(n).next.queue;i0(n,s,{},ir())}function Vf(){return Ln(A0)}function J1(){return Wi().memoizedState}function n5(){return Wi().memoizedState}function t0(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=ir();n=It(l);var d=qt(s,n,l);d!==null&&(nr(d,s,l),Bt(d,s,l)),s={cache:H1()},n.payload=s;return}s=s.return}}function e0(n,s,l){var d=ir();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},s5(n)?Kw(s,l):(l=fl(n,s,l,d),l!==null&&(nr(l,n,d),$w(l,s,d)))}function Ww(n,s,l){var d=ir();i0(n,s,l,d)}function i0(n,s,l,d){var v={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(s5(n))Kw(s,v);else{var S=n.alternate;if(n.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var D=s.lastRenderedState,Y=S(D,l);if(v.hasEagerState=!0,v.eagerState=Y,zn(Y,D))return hl(n,s,v,0),Ui===null&&Ta(),!1}catch{}finally{}if(l=fl(n,s,v,d),l!==null)return nr(l,n,d),$w(l,s,d),!0}return!1}function Lb(n,s,l,d){if(d={lane:2,revertLane:ay(),action:d,hasEagerState:!1,eagerState:null,next:null},s5(n)){if(s)throw Error(i(479))}else s=fl(n,l,d,2),s!==null&&nr(s,n,2)}function s5(n){var s=n.alternate;return n===Se||s!==null&&s===Se}function Kw(n,s){Hn=li=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function $w(n,s,l){if((l&4194048)!==0){var d=s.lanes;d&=n.pendingLanes,l|=d,s.lanes=l,ui(n,l)}}var a5={readContext:Ln,use:Gs,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useLayoutEffect:vi,useInsertionEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useSyncExternalStore:vi,useId:vi,useHostTransitionStatus:vi,useFormState:vi,useActionState:vi,useOptimistic:vi,useMemoCache:vi,useCacheRefresh:vi},Qw={readContext:Ln,use:Gs,useCallback:function(n,s){return Ss().memoizedState=[n,s===void 0?null:s],n},useContext:Ln,useEffect:W1,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,Za(4194308,4,e5.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Za(4194308,4,n,s)},useInsertionEffect:function(n,s){Za(4,2,n,s)},useMemo:function(n,s){var l=Ss();s=s===void 0?null:s;var d=n();if(Tn){Je(!0);try{n()}finally{Je(!1)}}return l.memoizedState=[d,s],d},useReducer:function(n,s,l){var d=Ss();if(l!==void 0){var v=l(s);if(Tn){Je(!0);try{l(s)}finally{Je(!1)}}}else v=s;return d.memoizedState=d.baseState=v,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:v},d.queue=n,n=n.dispatch=e0.bind(null,Se,n),[d.memoizedState,n]},useRef:function(n){var s=Ss();return n={current:n},s.memoizedState=n},useState:function(n){n=zf(n);var s=n.queue,l=Ww.bind(null,Se,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:Q1,useDeferredValue:function(n,s){var l=Ss();return xc(l,n,s)},useTransition:function(){var n=zf(!1);return n=Hf.bind(null,Se,n.queue,!0,!1),Ss().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var d=Se,v=Ss();if(hi){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Ui===null)throw Error(i(349));(ci&124)!==0||jp(d,s,l)}v.memoizedState=l;var S={value:l,getSnapshot:s};return v.queue=S,W1(Gu.bind(null,d,S,n),[n]),d.flags|=2048,wo(9,Uf(),jf.bind(null,d,S,l,s),null),l},useId:function(){var n=Ss(),s=Ui.identifierPrefix;if(hi){var l=mo,d=go;l=(d&~(1<<32-he(d)-1)).toString(32)+l,s="«"+s+"R"+l,l=hn++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=Oa++,s="«"+s+"r"+l.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:Vf,useFormState:qf,useActionState:qf,useOptimistic:function(n){var s=Ss();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Lb.bind(null,Se,!0,l),l.dispatch=s,[n,s]},useMemoCache:Al,useCacheRefresh:function(){return Ss().memoizedState=t0.bind(null,Se)}},Zw={readContext:Ln,use:Gs,useCallback:Z1,useContext:Ln,useEffect:t5,useImperativeHandle:$1,useInsertionEffect:K1,useLayoutEffect:_c,useMemo:i5,useReducer:Ff,useRef:qp,useState:function(){return Ff(Vs)},useDebugValue:Q1,useDeferredValue:function(n,s){var l=Wi();return Up(l,Le.memoizedState,n,s)},useTransition:function(){var n=Ff(Vs)[0],s=Wi().memoizedState;return[typeof n=="boolean"?n:yl(n),s]},useSyncExternalStore:Bf,useId:J1,useHostTransitionStatus:Vf,useFormState:zp,useActionState:zp,useOptimistic:function(n,s){var l=Wi();return Ao(l,Le,n,s)},useMemoCache:Al,useCacheRefresh:n5},JE={readContext:Ln,use:Gs,useCallback:Z1,useContext:Ln,useEffect:t5,useImperativeHandle:$1,useInsertionEffect:K1,useLayoutEffect:_c,useMemo:i5,useReducer:Bp,useRef:qp,useState:function(){return Bp(Vs)},useDebugValue:Q1,useDeferredValue:function(n,s){var l=Wi();return Le===null?xc(l,n,s):Up(l,Le.memoizedState,n,s)},useTransition:function(){var n=Bp(Vs)[0],s=Wi().memoizedState;return[typeof n=="boolean"?n:yl(n),s]},useSyncExternalStore:Bf,useId:J1,useHostTransitionStatus:Vf,useFormState:J2,useActionState:J2,useOptimistic:function(n,s){var l=Wi();return Le!==null?Ao(l,Le,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Al,useCacheRefresh:n5},Hp=null,n0=0;function r5(n){var s=n0;return n0+=1,Hp===null&&(Hp=[]),Tt(Hp,n,s)}function s0(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function o5(n,s){throw s.$$typeof===y?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Jw(n){var s=n._init;return s(n._payload)}function t3(n){function s(_t,vt){if(n){var Lt=_t.deletions;Lt===null?(_t.deletions=[vt],_t.flags|=16):Lt.push(vt)}}function l(_t,vt){if(!n)return null;for(;vt!==null;)s(_t,vt),vt=vt.sibling;return null}function d(_t){for(var vt=new Map;_t!==null;)_t.key!==null?vt.set(_t.key,_t):vt.set(_t.index,_t),_t=_t.sibling;return vt}function v(_t,vt){return _t=Or(_t,vt),_t.index=0,_t.sibling=null,_t}function S(_t,vt,Lt){return _t.index=Lt,n?(Lt=_t.alternate,Lt!==null?(Lt=Lt.index,Lt<vt?(_t.flags|=67108866,vt):Lt):(_t.flags|=67108866,vt)):(_t.flags|=1048576,vt)}function D(_t){return n&&_t.alternate===null&&(_t.flags|=67108866),_t}function Y(_t,vt,Lt,jt){return vt===null||vt.tag!==6?(vt=Rp(Lt,_t.mode,jt),vt.return=_t,vt):(vt=v(vt,Lt),vt.return=_t,vt)}function ut(_t,vt,Lt,jt){var le=Lt.type;return le===N?Ft(_t,vt,Lt.props.children,jt,Lt.key):vt!==null&&(vt.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Z&&Jw(le)===vt.type)?(vt=v(vt,Lt.props),s0(vt,Lt),vt.return=_t,vt):(vt=mc(Lt.type,Lt.key,Lt.props,null,_t.mode,jt),s0(vt,Lt),vt.return=_t,vt)}function Mt(_t,vt,Lt,jt){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==Lt.containerInfo||vt.stateNode.implementation!==Lt.implementation?(vt=Rf(Lt,_t.mode,jt),vt.return=_t,vt):(vt=v(vt,Lt.children||[]),vt.return=_t,vt)}function Ft(_t,vt,Lt,jt,le){return vt===null||vt.tag!==7?(vt=fo(Lt,_t.mode,jt,le),vt.return=_t,vt):(vt=v(vt,Lt),vt.return=_t,vt)}function Ut(_t,vt,Lt){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return vt=Rp(""+vt,_t.mode,Lt),vt.return=_t,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case w:return Lt=mc(vt.type,vt.key,vt.props,null,_t.mode,Lt),s0(Lt,vt),Lt.return=_t,Lt;case A:return vt=Rf(vt,_t.mode,Lt),vt.return=_t,vt;case Z:var jt=vt._init;return vt=jt(vt._payload),Ut(_t,vt,Lt)}if(Et(vt)||K(vt))return vt=fo(vt,_t.mode,Lt,null),vt.return=_t,vt;if(typeof vt.then=="function")return Ut(_t,r5(vt),Lt);if(vt.$$typeof===P)return Ut(_t,ml(_t,vt),Lt);o5(_t,vt)}return null}function Rt(_t,vt,Lt,jt){var le=vt!==null?vt.key:null;if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint")return le!==null?null:Y(_t,vt,""+Lt,jt);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case w:return Lt.key===le?ut(_t,vt,Lt,jt):null;case A:return Lt.key===le?Mt(_t,vt,Lt,jt):null;case Z:return le=Lt._init,Lt=le(Lt._payload),Rt(_t,vt,Lt,jt)}if(Et(Lt)||K(Lt))return le!==null?null:Ft(_t,vt,Lt,jt,null);if(typeof Lt.then=="function")return Rt(_t,vt,r5(Lt),jt);if(Lt.$$typeof===P)return Rt(_t,vt,ml(_t,Lt),jt);o5(_t,Lt)}return null}function Ot(_t,vt,Lt,jt,le){if(typeof jt=="string"&&jt!==""||typeof jt=="number"||typeof jt=="bigint")return _t=_t.get(Lt)||null,Y(vt,_t,""+jt,le);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case w:return _t=_t.get(jt.key===null?Lt:jt.key)||null,ut(vt,_t,jt,le);case A:return _t=_t.get(jt.key===null?Lt:jt.key)||null,Mt(vt,_t,jt,le);case Z:var $e=jt._init;return jt=$e(jt._payload),Ot(_t,vt,Lt,jt,le)}if(Et(jt)||K(jt))return _t=_t.get(Lt)||null,Ft(vt,_t,jt,le,null);if(typeof jt.then=="function")return Ot(_t,vt,Lt,r5(jt),le);if(jt.$$typeof===P)return Ot(_t,vt,Lt,ml(vt,jt),le);o5(vt,jt)}return null}function Me(_t,vt,Lt,jt){for(var le=null,$e=null,be=vt,Ee=vt=0,us=null;be!==null&&Ee<Lt.length;Ee++){be.index>Ee?(us=be,be=null):us=be.sibling;var bi=Rt(_t,be,Lt[Ee],jt);if(bi===null){be===null&&(be=us);break}n&&be&&bi.alternate===null&&s(_t,be),vt=S(bi,vt,Ee),$e===null?le=bi:$e.sibling=bi,$e=bi,be=us}if(Ee===Lt.length)return l(_t,be),hi&&bc(_t,Ee),le;if(be===null){for(;Ee<Lt.length;Ee++)be=Ut(_t,Lt[Ee],jt),be!==null&&(vt=S(be,vt,Ee),$e===null?le=be:$e.sibling=be,$e=be);return hi&&bc(_t,Ee),le}for(be=d(be);Ee<Lt.length;Ee++)us=Ot(be,_t,Ee,Lt[Ee],jt),us!==null&&(n&&us.alternate!==null&&be.delete(us.key===null?Ee:us.key),vt=S(us,vt,Ee),$e===null?le=us:$e.sibling=us,$e=us);return n&&be.forEach(function(ch){return s(_t,ch)}),hi&&bc(_t,Ee),le}function _e(_t,vt,Lt,jt){if(Lt==null)throw Error(i(151));for(var le=null,$e=null,be=vt,Ee=vt=0,us=null,bi=Lt.next();be!==null&&!bi.done;Ee++,bi=Lt.next()){be.index>Ee?(us=be,be=null):us=be.sibling;var ch=Rt(_t,be,bi.value,jt);if(ch===null){be===null&&(be=us);break}n&&be&&ch.alternate===null&&s(_t,be),vt=S(ch,vt,Ee),$e===null?le=ch:$e.sibling=ch,$e=ch,be=us}if(bi.done)return l(_t,be),hi&&bc(_t,Ee),le;if(be===null){for(;!bi.done;Ee++,bi=Lt.next())bi=Ut(_t,bi.value,jt),bi!==null&&(vt=S(bi,vt,Ee),$e===null?le=bi:$e.sibling=bi,$e=bi);return hi&&bc(_t,Ee),le}for(be=d(be);!bi.done;Ee++,bi=Lt.next())bi=Ot(be,_t,Ee,bi.value,jt),bi!==null&&(n&&bi.alternate!==null&&be.delete(bi.key===null?Ee:bi.key),vt=S(bi,vt,Ee),$e===null?le=bi:$e.sibling=bi,$e=bi);return n&&be.forEach(function(tN){return s(_t,tN)}),hi&&bc(_t,Ee),le}function Di(_t,vt,Lt,jt){if(typeof Lt=="object"&&Lt!==null&&Lt.type===N&&Lt.key===null&&(Lt=Lt.props.children),typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case w:t:{for(var le=Lt.key;vt!==null;){if(vt.key===le){if(le=Lt.type,le===N){if(vt.tag===7){l(_t,vt.sibling),jt=v(vt,Lt.props.children),jt.return=_t,_t=jt;break t}}else if(vt.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Z&&Jw(le)===vt.type){l(_t,vt.sibling),jt=v(vt,Lt.props),s0(jt,Lt),jt.return=_t,_t=jt;break t}l(_t,vt);break}else s(_t,vt);vt=vt.sibling}Lt.type===N?(jt=fo(Lt.props.children,_t.mode,jt,Lt.key),jt.return=_t,_t=jt):(jt=mc(Lt.type,Lt.key,Lt.props,null,_t.mode,jt),s0(jt,Lt),jt.return=_t,_t=jt)}return D(_t);case A:t:{for(le=Lt.key;vt!==null;){if(vt.key===le)if(vt.tag===4&&vt.stateNode.containerInfo===Lt.containerInfo&&vt.stateNode.implementation===Lt.implementation){l(_t,vt.sibling),jt=v(vt,Lt.children||[]),jt.return=_t,_t=jt;break t}else{l(_t,vt);break}else s(_t,vt);vt=vt.sibling}jt=Rf(Lt,_t.mode,jt),jt.return=_t,_t=jt}return D(_t);case Z:return le=Lt._init,Lt=le(Lt._payload),Di(_t,vt,Lt,jt)}if(Et(Lt))return Me(_t,vt,Lt,jt);if(K(Lt)){if(le=K(Lt),typeof le!="function")throw Error(i(150));return Lt=le.call(Lt),_e(_t,vt,Lt,jt)}if(typeof Lt.then=="function")return Di(_t,vt,r5(Lt),jt);if(Lt.$$typeof===P)return Di(_t,vt,ml(_t,Lt),jt);o5(_t,Lt)}return typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint"?(Lt=""+Lt,vt!==null&&vt.tag===6?(l(_t,vt.sibling),jt=v(vt,Lt),jt.return=_t,_t=jt):(l(_t,vt),jt=Rp(Lt,_t.mode,jt),jt.return=_t,_t=jt),D(_t)):l(_t,vt)}return function(_t,vt,Lt,jt){try{n0=0;var le=Di(_t,vt,Lt,jt);return Hp=null,le}catch(be){if(be===j||be===G)throw be;var $e=os(29,be,null,_t.mode);return $e.lanes=jt,$e.return=_t,$e}finally{}}}var Gp=t3(!0),e3=t3(!1),Br=ft(null),wl=null;function Wu(n){var s=n.alternate;H(Qn,Qn.current&1),H(Br,n),wl===null&&(s===null||Ve.current!==null||s.memoizedState!==null)&&(wl=n)}function i3(n){if(n.tag===22){if(H(Qn,Qn.current),H(Br,n),wl===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(wl=n)}}else Ku()}function Ku(){H(Qn,Qn.current),H(Br,Br.current)}function Ec(n){O(Br),wl===n&&(wl=null),O(Qn)}var Qn=ft(0);function l5(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||vy(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Cb(n,s,l,d){s=n.memoizedState,l=l(d,s),l=l==null?s:m({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Tb={enqueueSetState:function(n,s,l){n=n._reactInternals;var d=ir(),v=It(d);v.payload=s,l!=null&&(v.callback=l),s=qt(n,v,d),s!==null&&(nr(s,n,d),Bt(s,n,d))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var d=ir(),v=It(d);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=qt(n,v,d),s!==null&&(nr(s,n,d),Bt(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=ir(),d=It(l);d.tag=2,s!=null&&(d.callback=s),s=qt(n,d,l),s!==null&&(nr(s,n,l),Bt(s,n,l))}};function n3(n,s,l,d,v,S,D){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,S,D):s.prototype&&s.prototype.isPureReactComponent?!sl(l,d)||!sl(v,S):!0}function s3(n,s,l,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==n&&Tb.enqueueReplaceState(s,s.state,null)}function Yf(n,s){var l=s;if("ref"in s){l={};for(var d in s)d!=="ref"&&(l[d]=s[d])}if(n=n.defaultProps){l===s&&(l=m({},l));for(var v in n)l[v]===void 0&&(l[v]=n[v])}return l}var c5=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function a3(n){c5(n)}function r3(n){console.error(n)}function o3(n){c5(n)}function u5(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function l3(n,s,l){try{var d=n.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Mb(n,s,l){return l=It(l),l.tag=3,l.payload={element:null},l.callback=function(){u5(n,s)},l}function c3(n){return n=It(n),n.tag=3,n}function u3(n,s,l,d){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var S=d.value;n.payload=function(){return v(S)},n.callback=function(){l3(s,l,d)}}var D=l.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(n.callback=function(){l3(s,l,d),typeof v!="function"&&(eh===null?eh=new Set([this]):eh.add(this));var Y=d.stack;this.componentDidCatch(d.value,{componentStack:Y!==null?Y:""})})}function t6(n,s,l,d,v){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=l.alternate,s!==null&&Uu(s,l,v,!0),l=Br.current,l!==null){switch(l.tag){case 13:return wl===null?ty():l.alternate===null&&An===0&&(An=3),l.flags&=-257,l.flags|=65536,l.lanes=v,d===$?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([d]):s.add(d),iy(n,d,v)),!1;case 22:return l.flags|=65536,d===$?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([d]):l.add(d)),iy(n,d,v)),!1}throw Error(i(435,l.tag))}return iy(n,d,v),ty(),!1}if(hi)return s=Br.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,d!==U1&&(n=Error(i(422),{cause:d}),qu(We(n,l)))):(d!==U1&&(s=Error(i(423),{cause:d}),qu(We(s,l))),n=n.current.alternate,n.flags|=65536,v&=-v,n.lanes|=v,d=We(d,l),v=Mb(n.stateNode,d,v),se(n,v),An!==4&&(An=2)),!1;var S=Error(i(520),{cause:d});if(S=We(S,l),h0===null?h0=[S]:h0.push(S),An!==4&&(An=2),s===null)return!0;d=We(d,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=v&-v,l.lanes|=n,n=Mb(l.stateNode,d,n),se(l,n),!1;case 1:if(s=l.type,S=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(eh===null||!eh.has(S))))return l.flags|=65536,v&=-v,l.lanes|=v,v=c3(v),u3(v,n,l,d),se(l,v),!1}l=l.return}while(l!==null);return!1}var h3=Error(i(461)),ls=!1;function _s(n,s,l,d){s.child=n===null?e3(s,null,l,d):Gp(s,n.child,l,d)}function f3(n,s,l,d,v){l=l.render;var S=s.ref;if("ref"in d){var D={};for(var Y in d)Y!=="ref"&&(D[Y]=d[Y])}else D=d;return Ir(s),d=Qa(n,s,l,D,S,v),Y=qi(),n!==null&&!ls?(If(n,s,v),Nc(n,s,v)):(hi&&Y&&Of(s),s.flags|=1,_s(n,s,d,v),s.child)}function d3(n,s,l,d,v){if(n===null){var S=l.type;return typeof S=="function"&&!ju(S)&&S.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=S,p3(n,s,S,d,v)):(n=mc(l.type,null,d,s,s.mode,v),n.ref=s.ref,n.return=s,s.child=n)}if(S=n.child,!Bb(n,v)){var D=S.memoizedProps;if(l=l.compare,l=l!==null?l:sl,l(D,d)&&n.ref===s.ref)return Nc(n,s,v)}return s.flags|=1,n=Or(S,d),n.ref=s.ref,n.return=s,s.child=n}function p3(n,s,l,d,v){if(n!==null){var S=n.memoizedProps;if(sl(S,d)&&n.ref===s.ref)if(ls=!1,s.pendingProps=d=S,Bb(n,v))(n.flags&131072)!==0&&(ls=!0);else return s.lanes=n.lanes,Nc(n,s,v)}return Rb(n,s,l,d,v)}function g3(n,s,l){var d=s.pendingProps,v=d.children,S=n!==null?n.memoizedState:null;if(d.mode==="hidden"){if((s.flags&128)!==0){if(d=S!==null?S.baseLanes|l:l,n!==null){for(v=s.child=n.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;s.childLanes=S&~d}else s.childLanes=0,s.child=null;return m3(n,s,d,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&C(s,S!==null?S.cachePool:null),S!==null?wi(s,S):mi(),i3(s);else return s.lanes=s.childLanes=536870912,m3(n,s,S!==null?S.baseLanes|l:l,l)}else S!==null?(C(s,S.cachePool),wi(s,S),Ku(),s.memoizedState=null):(n!==null&&C(s,null),mi(),Ku());return _s(n,s,v,l),s.child}function m3(n,s,l,d){var v=x();return v=v===null?null:{parent:Cn._currentValue,pool:v},s.memoizedState={baseLanes:l,cachePool:v},n!==null&&C(s,null),mi(),i3(s),n!==null&&Uu(n,s,d,!0),null}function h5(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function Rb(n,s,l,d,v){return Ir(s),l=Qa(n,s,l,d,void 0,v),d=qi(),n!==null&&!ls?(If(n,s,v),Nc(n,s,v)):(hi&&d&&Of(s),s.flags|=1,_s(n,s,l,v),s.child)}function v3(n,s,l,d,v,S){return Ir(s),s.updateQueue=null,l=wc(s,d,l,v),vl(n),d=qi(),n!==null&&!ls?(If(n,s,S),Nc(n,s,S)):(hi&&d&&Of(s),s.flags|=1,_s(n,s,l,S),s.child)}function b3(n,s,l,d,v){if(Ir(s),s.stateNode===null){var S=qn,D=l.contextType;typeof D=="object"&&D!==null&&(S=Ln(D)),S=new l(d,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Tb,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=d,S.state=s.memoizedState,S.refs={},gt(s),D=l.contextType,S.context=typeof D=="object"&&D!==null?Ln(D):qn,S.state=s.memoizedState,D=l.getDerivedStateFromProps,typeof D=="function"&&(Cb(s,l,D,d),S.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(D=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),D!==S.state&&Tb.enqueueReplaceState(S,S.state,null),Zt(s,d,S,v),me(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(n===null){S=s.stateNode;var Y=s.memoizedProps,ut=Yf(l,Y);S.props=ut;var Mt=S.context,Ft=l.contextType;D=qn,typeof Ft=="object"&&Ft!==null&&(D=Ln(Ft));var Ut=l.getDerivedStateFromProps;Ft=typeof Ut=="function"||typeof S.getSnapshotBeforeUpdate=="function",Y=s.pendingProps!==Y,Ft||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(Y||Mt!==D)&&s3(s,S,d,D),Dt=!1;var Rt=s.memoizedState;S.state=Rt,Zt(s,d,S,v),me(),Mt=s.memoizedState,Y||Rt!==Mt||Dt?(typeof Ut=="function"&&(Cb(s,l,Ut,d),Mt=s.memoizedState),(ut=Dt||n3(s,l,ut,d,Rt,Mt,D))?(Ft||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=Mt),S.props=d,S.state=Mt,S.context=D,d=ut):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{S=s.stateNode,yt(n,s),D=s.memoizedProps,Ft=Yf(l,D),S.props=Ft,Ut=s.pendingProps,Rt=S.context,Mt=l.contextType,ut=qn,typeof Mt=="object"&&Mt!==null&&(ut=Ln(Mt)),Y=l.getDerivedStateFromProps,(Mt=typeof Y=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==Ut||Rt!==ut)&&s3(s,S,d,ut),Dt=!1,Rt=s.memoizedState,S.state=Rt,Zt(s,d,S,v),me();var Ot=s.memoizedState;D!==Ut||Rt!==Ot||Dt||n!==null&&n.dependencies!==null&&Pp(n.dependencies)?(typeof Y=="function"&&(Cb(s,l,Y,d),Ot=s.memoizedState),(Ft=Dt||n3(s,l,Ft,d,Rt,Ot,ut)||n!==null&&n.dependencies!==null&&Pp(n.dependencies))?(Mt||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,Ot,ut),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,Ot,ut)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===n.memoizedProps&&Rt===n.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&Rt===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Ot),S.props=d,S.state=Ot,S.context=ut,d=Ft):(typeof S.componentDidUpdate!="function"||D===n.memoizedProps&&Rt===n.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&Rt===n.memoizedState||(s.flags|=1024),d=!1)}return S=d,h5(n,s),d=(s.flags&128)!==0,S||d?(S=s.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,n!==null&&d?(s.child=Gp(s,n.child,null,v),s.child=Gp(s,null,l,v)):_s(n,s,l,v),s.memoizedState=S.state,n=s.child):n=Nc(n,s,v),n}function y3(n,s,l,d){return pa(),s.flags|=256,_s(n,s,l,d),s.child}var Ob={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Db(n){return{baseLanes:n,cachePool:k()}}function kb(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=jr),n}function A3(n,s,l){var d=s.pendingProps,v=!1,S=(s.flags&128)!==0,D;if((D=S)||(D=n!==null&&n.memoizedState===null?!1:(Qn.current&2)!==0),D&&(v=!0,s.flags&=-129),D=(s.flags&32)!==0,s.flags&=-33,n===null){if(hi){if(v?Wu(s):Ku(),hi){var Y=tn,ut;if(ut=Y){t:{for(ut=Y,Y=Dr;ut.nodeType!==8;){if(!Y){Y=null;break t}if(ut=Eo(ut.nextSibling),ut===null){Y=null;break t}}Y=ut}Y!==null?(s.memoizedState={dehydrated:Y,treeContext:vc!==null?{id:go,overflow:mo}:null,retryLane:536870912,hydrationErrors:null},ut=os(18,null,null,0),ut.stateNode=Y,ut.return=s,s.child=ut,Nn=s,tn=null,ut=!0):ut=!1}ut||yc(s)}if(Y=s.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return vy(Y)?s.lanes=32:s.lanes=536870912,null;Ec(s)}return Y=d.children,d=d.fallback,v?(Ku(),v=s.mode,Y=f5({mode:"hidden",children:Y},v),d=fo(d,v,l,null),Y.return=s,d.return=s,Y.sibling=d,s.child=Y,v=s.child,v.memoizedState=Db(l),v.childLanes=kb(n,D,l),s.memoizedState=Ob,d):(Wu(s),Pb(s,Y))}if(ut=n.memoizedState,ut!==null&&(Y=ut.dehydrated,Y!==null)){if(S)s.flags&256?(Wu(s),s.flags&=-257,s=Ib(n,s,l)):s.memoizedState!==null?(Ku(),s.child=n.child,s.flags|=128,s=null):(Ku(),v=d.fallback,Y=s.mode,d=f5({mode:"visible",children:d.children},Y),v=fo(v,Y,l,null),v.flags|=2,d.return=s,v.return=s,d.sibling=v,s.child=d,Gp(s,n.child,null,l),d=s.child,d.memoizedState=Db(l),d.childLanes=kb(n,D,l),s.memoizedState=Ob,s=v);else if(Wu(s),vy(Y)){if(D=Y.nextSibling&&Y.nextSibling.dataset,D)var Mt=D.dgst;D=Mt,d=Error(i(419)),d.stack="",d.digest=D,qu({value:d,source:null,stack:null}),s=Ib(n,s,l)}else if(ls||Uu(n,s,l,!1),D=(l&n.childLanes)!==0,ls||D){if(D=Ui,D!==null&&(d=l&-l,d=(d&42)!==0?1:Jr(d),d=(d&(D.suspendedLanes|l))!==0?0:d,d!==0&&d!==ut.retryLane))throw ut.retryLane=d,ho(n,d),nr(D,n,d),h3;Y.data==="$?"||ty(),s=Ib(n,s,l)}else Y.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=ut.treeContext,tn=Eo(Y.nextSibling),Nn=s,hi=!0,pl=null,Dr=!1,n!==null&&(Ra[da++]=go,Ra[da++]=mo,Ra[da++]=vc,go=n.id,mo=n.overflow,vc=s),s=Pb(s,d.children),s.flags|=4096);return s}return v?(Ku(),v=d.fallback,Y=s.mode,ut=n.child,Mt=ut.sibling,d=Or(ut,{mode:"hidden",children:d.children}),d.subtreeFlags=ut.subtreeFlags&65011712,Mt!==null?v=Or(Mt,v):(v=fo(v,Y,l,null),v.flags|=2),v.return=s,d.return=s,d.sibling=v,s.child=d,d=v,v=s.child,Y=n.child.memoizedState,Y===null?Y=Db(l):(ut=Y.cachePool,ut!==null?(Mt=Cn._currentValue,ut=ut.parent!==Mt?{parent:Mt,pool:Mt}:ut):ut=k(),Y={baseLanes:Y.baseLanes|l,cachePool:ut}),v.memoizedState=Y,v.childLanes=kb(n,D,l),s.memoizedState=Ob,d):(Wu(s),l=n.child,n=l.sibling,l=Or(l,{mode:"visible",children:d.children}),l.return=s,l.sibling=null,n!==null&&(D=s.deletions,D===null?(s.deletions=[n],s.flags|=16):D.push(n)),s.child=l,s.memoizedState=null,l)}function Pb(n,s){return s=f5({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function f5(n,s){return n=os(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Ib(n,s,l){return Gp(s,n.child,null,l),n=Pb(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function w3(n,s,l){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),Dp(n.return,s,l)}function Fb(n,s,l,d,v){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:v}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=l,S.tailMode=v)}function S3(n,s,l){var d=s.pendingProps,v=d.revealOrder,S=d.tail;if(_s(n,s,d.children,l),d=Qn.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&w3(n,l,s);else if(n.tag===19)w3(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}switch(H(Qn,d),v){case"forwards":for(l=s.child,v=null;l!==null;)n=l.alternate,n!==null&&l5(n)===null&&(v=l),l=l.sibling;l=v,l===null?(v=s.child,s.child=null):(v=l.sibling,l.sibling=null),Fb(s,!1,v,l,S);break;case"backwards":for(l=null,v=s.child,s.child=null;v!==null;){if(n=v.alternate,n!==null&&l5(n)===null){s.child=v;break}n=v.sibling,v.sibling=l,l=v,v=n}Fb(s,!0,l,null,S);break;case"together":Fb(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Nc(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),th|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(Uu(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=Or(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=Or(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function Bb(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Pp(n)))}function e6(n,s,l){switch(s.tag){case 3:St(s,s.stateNode.containerInfo),gl(s,Cn,n.memoizedState.cache),pa();break;case 27:case 5:Vt(s);break;case 4:St(s,s.stateNode.containerInfo);break;case 10:gl(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(Wu(s),s.flags|=128,null):(l&s.child.childLanes)!==0?A3(n,s,l):(Wu(s),n=Nc(n,s,l),n!==null?n.sibling:null);Wu(s);break;case 19:var v=(n.flags&128)!==0;if(d=(l&s.childLanes)!==0,d||(Uu(n,s,l,!1),d=(l&s.childLanes)!==0),v){if(d)return S3(n,s,l);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),H(Qn,Qn.current),d)break;return null;case 22:case 23:return s.lanes=0,g3(n,s,l);case 24:gl(s,Cn,n.memoizedState.cache)}return Nc(n,s,l)}function _3(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)ls=!0;else{if(!Bb(n,l)&&(s.flags&128)===0)return ls=!1,e6(n,s,l);ls=(n.flags&131072)!==0}else ls=!1,hi&&(s.flags&1048576)!==0&&U2(s,Op,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var d=s.elementType,v=d._init;if(d=v(d._payload),s.type=d,typeof d=="function")ju(d)?(n=Yf(d,n),s.tag=1,s=b3(null,s,d,n,l)):(s.tag=0,s=Rb(null,s,d,n,l));else{if(d!=null){if(v=d.$$typeof,v===W){s.tag=11,s=f3(null,s,d,n,l);break t}else if(v===J){s.tag=14,s=d3(null,s,d,n,l);break t}}throw s=st(d)||d,Error(i(306,s,""))}}return s;case 0:return Rb(n,s,s.type,s.pendingProps,l);case 1:return d=s.type,v=Yf(d,s.pendingProps),b3(n,s,d,v,l);case 3:t:{if(St(s,s.stateNode.containerInfo),n===null)throw Error(i(387));d=s.pendingProps;var S=s.memoizedState;v=S.element,yt(n,s),Zt(s,d,null,l);var D=s.memoizedState;if(d=D.cache,gl(s,Cn,d),d!==S.cache&&kp(s,[Cn],l,!0),me(),d=D.element,S.isDehydrated)if(S={element:d,isDehydrated:!1,cache:D.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=y3(n,s,d,l);break t}else if(d!==v){v=We(Error(i(424)),s),qu(v),s=y3(n,s,d,l);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(tn=Eo(n.firstChild),Nn=s,hi=!0,pl=null,Dr=!0,l=e3(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(pa(),d===v){s=Nc(n,s,l);break t}_s(n,s,d,l)}s=s.child}return s;case 26:return h5(n,s),n===null?(l=LS(s.type,null,s.pendingProps,null))?s.memoizedState=l:hi||(l=s.type,n=s.pendingProps,d=N5(at.current).createElement(l),d[Mi]=s,d[Yi]=n,Es(d,l,n),xi(d),s.stateNode=d):s.memoizedState=LS(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Vt(s),n===null&&hi&&(d=s.stateNode=xS(s.type,s.pendingProps,at.current),Nn=s,Dr=!0,v=tn,sh(s.type)?(by=v,tn=Eo(d.firstChild)):tn=v),_s(n,s,s.pendingProps.children,l),h5(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&hi&&((v=d=tn)&&(d=T6(d,s.type,s.pendingProps,Dr),d!==null?(s.stateNode=d,Nn=s,tn=Eo(d.firstChild),Dr=!1,v=!0):v=!1),v||yc(s)),Vt(s),v=s.type,S=s.pendingProps,D=n!==null?n.memoizedProps:null,d=S.children,py(v,S)?d=null:D!==null&&py(v,D)&&(s.flags|=32),s.memoizedState!==null&&(v=Qa(n,s,bl,null,null,l),A0._currentValue=v),h5(n,s),_s(n,s,d,l),s.child;case 6:return n===null&&hi&&((n=l=tn)&&(l=M6(l,s.pendingProps,Dr),l!==null?(s.stateNode=l,Nn=s,tn=null,n=!0):n=!1),n||yc(s)),null;case 13:return A3(n,s,l);case 4:return St(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=Gp(s,null,d,l):_s(n,s,d,l),s.child;case 11:return f3(n,s,s.type,s.pendingProps,l);case 7:return _s(n,s,s.pendingProps,l),s.child;case 8:return _s(n,s,s.pendingProps.children,l),s.child;case 12:return _s(n,s,s.pendingProps.children,l),s.child;case 10:return d=s.pendingProps,gl(s,s.type,d.value),_s(n,s,d.children,l),s.child;case 9:return v=s.type._context,d=s.pendingProps.children,Ir(s),v=Ln(v),d=d(v),s.flags|=1,_s(n,s,d,l),s.child;case 14:return d3(n,s,s.type,s.pendingProps,l);case 15:return p3(n,s,s.type,s.pendingProps,l);case 19:return S3(n,s,l);case 31:return d=s.pendingProps,l=s.mode,d={mode:d.mode,children:d.children},n===null?(l=f5(d,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Or(n.child,d),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return g3(n,s,l);case 24:return Ir(s),d=Ln(Cn),n===null?(v=x(),v===null&&(v=Ui,S=H1(),v.pooledCache=S,S.refCount++,S!==null&&(v.pooledCacheLanes|=l),v=S),s.memoizedState={parent:d,cache:v},gt(s),gl(s,Cn,v)):((n.lanes&l)!==0&&(yt(n,s),Zt(s,null,null,l),me()),v=n.memoizedState,S=s.memoizedState,v.parent!==d?(v={parent:d,cache:d},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),gl(s,Cn,d)):(d=S.cache,gl(s,Cn,d),d!==v.cache&&kp(s,[Cn],l,!0))),_s(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Lc(n){n.flags|=4}function x3(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!OS(s)){if(s=Br.current,s!==null&&((ci&4194048)===ci?wl!==null:(ci&62914560)!==ci&&(ci&536870912)===0||s!==wl))throw Nt=$,q;n.flags|=8192}}function d5(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Vi():536870912,n.lanes|=s,Wp|=s)}function a0(n,s){if(!hi)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function dn(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(s)for(var v=n.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=d,n.childLanes=l,s}function i6(n,s,l){var d=s.pendingProps;switch(Df(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(s),null;case 1:return dn(s),null;case 3:return l=s.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Pr(Cn),Ct(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(ws(s)?Lc(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,G2())),dn(s),null;case 26:return l=s.memoizedState,n===null?(Lc(s),l!==null?(dn(s),x3(s,l)):(dn(s),s.flags&=-16777217)):l?l!==n.memoizedState?(Lc(s),dn(s),x3(s,l)):(dn(s),s.flags&=-16777217):(n.memoizedProps!==d&&Lc(s),dn(s),s.flags&=-16777217),null;case 27:Ht(s),l=at.current;var v=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==d&&Lc(s);else{if(!d){if(s.stateNode===null)throw Error(i(166));return dn(s),null}n=Q.current,ws(s)?H2(s):(n=xS(v,d,l),s.stateNode=n,Lc(s))}return dn(s),null;case 5:if(Ht(s),l=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==d&&Lc(s);else{if(!d){if(s.stateNode===null)throw Error(i(166));return dn(s),null}if(n=Q.current,ws(s))H2(s);else{switch(v=N5(at.current),n){case 1:n=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?n.multiple=!0:d.size&&(n.size=d.size);break;default:n=typeof d.is=="string"?v.createElement(l,{is:d.is}):v.createElement(l)}}n[Mi]=s,n[Yi]=d;t:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)n.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break t;for(;v.sibling===null;){if(v.return===null||v.return===s)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=n;t:switch(Es(n,l,d),l){case"button":case"input":case"select":case"textarea":n=!!d.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Lc(s)}}return dn(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==d&&Lc(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(i(166));if(n=at.current,ws(s)){if(n=s.stateNode,l=s.memoizedProps,d=null,v=Nn,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}n[Mi]=s,n=!!(n.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||vS(n.nodeValue,l)),n||yc(s)}else n=N5(n).createTextNode(d),n[Mi]=s,s.stateNode=n}return dn(s),null;case 13:if(d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(v=ws(s),d!==null&&d.dehydrated!==null){if(n===null){if(!v)throw Error(i(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Mi]=s}else pa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dn(s),v=!1}else v=G2(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(Ec(s),s):(Ec(s),null)}if(Ec(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=d!==null,n=n!==null&&n.memoizedState!==null,l){d=s.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var S=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(S=d.memoizedState.cachePool.pool),S!==v&&(d.flags|=2048)}return l!==n&&l&&(s.child.flags|=8192),d5(s,s.updateQueue),dn(s),null;case 4:return Ct(),n===null&&cy(s.stateNode.containerInfo),dn(s),null;case 10:return Pr(s.type),dn(s),null;case 19:if(O(Qn),v=s.memoizedState,v===null)return dn(s),null;if(d=(s.flags&128)!==0,S=v.rendering,S===null)if(d)a0(v,!1);else{if(An!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(S=l5(n),S!==null){for(s.flags|=128,a0(v,!1),n=S.updateQueue,s.updateQueue=n,d5(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)Mf(l,n),l=l.sibling;return H(Qn,Qn.current&1|2),s.child}n=n.sibling}v.tail!==null&&we()>m5&&(s.flags|=128,d=!0,a0(v,!1),s.lanes=4194304)}else{if(!d)if(n=l5(S),n!==null){if(s.flags|=128,d=!0,n=n.updateQueue,s.updateQueue=n,d5(s,n),a0(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!hi)return dn(s),null}else 2*we()-v.renderingStartTime>m5&&l!==536870912&&(s.flags|=128,d=!0,a0(v,!1),s.lanes=4194304);v.isBackwards?(S.sibling=s.child,s.child=S):(n=v.last,n!==null?n.sibling=S:s.child=S,v.last=S)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=we(),s.sibling=null,n=Qn.current,H(Qn,d?n&1|2:n&1),s):(dn(s),null);case 22:case 23:return Ec(s),Pe(),d=s.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(l&536870912)!==0&&(s.flags&128)===0&&(dn(s),s.subtreeFlags&6&&(s.flags|=8192)):dn(s),l=s.updateQueue,l!==null&&d5(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==l&&(s.flags|=2048),n!==null&&O(b),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Pr(Cn),dn(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function n6(n,s){switch(Df(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Pr(Cn),Ct(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ht(s),null;case 13:if(Ec(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));pa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return O(Qn),null;case 4:return Ct(),null;case 10:return Pr(s.type),null;case 22:case 23:return Ec(s),Pe(),n!==null&&O(b),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Pr(Cn),null;case 25:return null;default:return null}}function E3(n,s){switch(Df(s),s.tag){case 3:Pr(Cn),Ct();break;case 26:case 27:case 5:Ht(s);break;case 4:Ct();break;case 13:Ec(s);break;case 19:O(Qn);break;case 10:Pr(s.type);break;case 22:case 23:Ec(s),Pe(),n!==null&&O(b);break;case 24:Pr(Cn)}}function r0(n,s){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var v=d.next;l=v;do{if((l.tag&n)===n){d=void 0;var S=l.create,D=l.inst;d=S(),D.destroy=d}l=l.next}while(l!==v)}}catch(Y){Bi(s,s.return,Y)}}function $u(n,s,l){try{var d=s.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var S=v.next;d=S;do{if((d.tag&n)===n){var D=d.inst,Y=D.destroy;if(Y!==void 0){D.destroy=void 0,v=s;var ut=l,Mt=Y;try{Mt()}catch(Ft){Bi(v,ut,Ft)}}}d=d.next}while(d!==S)}}catch(Ft){Bi(s,s.return,Ft)}}function N3(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{gi(s,l)}catch(d){Bi(n,n.return,d)}}}function L3(n,s,l){l.props=Yf(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(d){Bi(n,s,d)}}function o0(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var d=n.stateNode;break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof l=="function"?n.refCleanup=l(d):l.current=d}}catch(v){Bi(n,s,v)}}function Sl(n,s){var l=n.ref,d=n.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(v){Bi(n,s,v)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Bi(n,s,v)}else l.current=null}function C3(n){var s=n.type,l=n.memoizedProps,d=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break t;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(v){Bi(n,n.return,v)}}function jb(n,s,l){try{var d=n.stateNode;x6(d,n.type,l,s),d[Yi]=s}catch(v){Bi(n,n.return,v)}}function T3(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&sh(n.type)||n.tag===4}function zb(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||T3(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&sh(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function qb(n,s,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=E5));else if(d!==4&&(d===27&&sh(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(qb(n,s,l),n=n.sibling;n!==null;)qb(n,s,l),n=n.sibling}function p5(n,s,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(d!==4&&(d===27&&sh(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(p5(n,s,l),n=n.sibling;n!==null;)p5(n,s,l),n=n.sibling}function M3(n){var s=n.stateNode,l=n.memoizedProps;try{for(var d=n.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);Es(s,d,l),s[Mi]=n,s[Yi]=l}catch(S){Bi(n,n.return,S)}}var Cc=!1,Mn=!1,Ub=!1,R3=typeof WeakSet=="function"?WeakSet:Set,cs=null;function s6(n,s){if(n=n.containerInfo,fy=O5,n=As(n),$n(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else t:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var v=d.anchorOffset,S=d.focusNode;d=d.focusOffset;try{l.nodeType,S.nodeType}catch{l=null;break t}var D=0,Y=-1,ut=-1,Mt=0,Ft=0,Ut=n,Rt=null;e:for(;;){for(var Ot;Ut!==l||v!==0&&Ut.nodeType!==3||(Y=D+v),Ut!==S||d!==0&&Ut.nodeType!==3||(ut=D+d),Ut.nodeType===3&&(D+=Ut.nodeValue.length),(Ot=Ut.firstChild)!==null;)Rt=Ut,Ut=Ot;for(;;){if(Ut===n)break e;if(Rt===l&&++Mt===v&&(Y=D),Rt===S&&++Ft===d&&(ut=D),(Ot=Ut.nextSibling)!==null)break;Ut=Rt,Rt=Ut.parentNode}Ut=Ot}l=Y===-1||ut===-1?null:{start:Y,end:ut}}else l=null}l=l||{start:0,end:0}}else l=null;for(dy={focusedElem:n,selectionRange:l},O5=!1,cs=s;cs!==null;)if(s=cs,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,cs=n;else for(;cs!==null;){switch(s=cs,S=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&S!==null){n=void 0,l=s,v=S.memoizedProps,S=S.memoizedState,d=l.stateNode;try{var Me=Yf(l.type,v,l.elementType===l.type);n=d.getSnapshotBeforeUpdate(Me,S),d.__reactInternalSnapshotBeforeUpdate=n}catch(_e){Bi(l,l.return,_e)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)my(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":my(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,cs=n;break}cs=s.return}}function O3(n,s,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Qu(n,l),d&4&&r0(5,l);break;case 1:if(Qu(n,l),d&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(D){Bi(l,l.return,D)}else{var v=Yf(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(v,s,n.__reactInternalSnapshotBeforeUpdate)}catch(D){Bi(l,l.return,D)}}d&64&&N3(l),d&512&&o0(l,l.return);break;case 3:if(Qu(n,l),d&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{gi(n,s)}catch(D){Bi(l,l.return,D)}}break;case 27:s===null&&d&4&&M3(l);case 26:case 5:Qu(n,l),s===null&&d&4&&C3(l),d&512&&o0(l,l.return);break;case 12:Qu(n,l);break;case 13:Qu(n,l),d&4&&P3(n,l),d&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=d6.bind(null,l),R6(n,l))));break;case 22:if(d=l.memoizedState!==null||Cc,!d){s=s!==null&&s.memoizedState!==null||Mn,v=Cc;var S=Mn;Cc=d,(Mn=s)&&!S?Zu(n,l,(l.subtreeFlags&8772)!==0):Qu(n,l),Cc=v,Mn=S}break;case 30:break;default:Qu(n,l)}}function D3(n){var s=n.alternate;s!==null&&(n.alternate=null,D3(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&la(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var en=null,Da=!1;function Tc(n,s,l){for(l=l.child;l!==null;)k3(n,s,l),l=l.sibling}function k3(n,s,l){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(Fe,l)}catch{}switch(l.tag){case 26:Mn||Sl(l,s),Tc(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Mn||Sl(l,s);var d=en,v=Da;sh(l.type)&&(en=l.stateNode,Da=!1),Tc(n,s,l),m0(l.stateNode),en=d,Da=v;break;case 5:Mn||Sl(l,s);case 6:if(d=en,v=Da,en=null,Tc(n,s,l),en=d,Da=v,en!==null)if(Da)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(l.stateNode)}catch(S){Bi(l,s,S)}else try{en.removeChild(l.stateNode)}catch(S){Bi(l,s,S)}break;case 18:en!==null&&(Da?(n=en,SS(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),x0(n)):SS(en,l.stateNode));break;case 4:d=en,v=Da,en=l.stateNode.containerInfo,Da=!0,Tc(n,s,l),en=d,Da=v;break;case 0:case 11:case 14:case 15:Mn||$u(2,l,s),Mn||$u(4,l,s),Tc(n,s,l);break;case 1:Mn||(Sl(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"&&L3(l,s,d)),Tc(n,s,l);break;case 21:Tc(n,s,l);break;case 22:Mn=(d=Mn)||l.memoizedState!==null,Tc(n,s,l),Mn=d;break;default:Tc(n,s,l)}}function P3(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{x0(n)}catch(l){Bi(s,s.return,l)}}function a6(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new R3),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new R3),s;default:throw Error(i(435,n.tag))}}function Hb(n,s){var l=a6(n);s.forEach(function(d){var v=p6.bind(null,n,d);l.has(d)||(l.add(d),d.then(v,v))})}function Ja(n,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var v=l[d],S=n,D=s,Y=D;t:for(;Y!==null;){switch(Y.tag){case 27:if(sh(Y.type)){en=Y.stateNode,Da=!1;break t}break;case 5:en=Y.stateNode,Da=!1;break t;case 3:case 4:en=Y.stateNode.containerInfo,Da=!0;break t}Y=Y.return}if(en===null)throw Error(i(160));k3(S,D,v),en=null,Da=!1,S=v.alternate,S!==null&&(S.return=null),v.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)I3(s,n),s=s.sibling}var xo=null;function I3(n,s){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ja(s,n),tr(n),d&4&&($u(3,n,n.return),r0(3,n),$u(5,n,n.return));break;case 1:Ja(s,n),tr(n),d&512&&(Mn||l===null||Sl(l,l.return)),d&64&&Cc&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var v=xo;if(Ja(s,n),tr(n),d&512&&(Mn||l===null||Sl(l,l.return)),d&4){var S=l!==null?l.memoizedState:null;if(d=n.memoizedState,l===null)if(d===null)if(n.stateNode===null){t:{d=n.type,l=n.memoizedProps,v=v.ownerDocument||v;e:switch(d){case"title":S=v.getElementsByTagName("title")[0],(!S||S[oa]||S[Mi]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=v.createElement(d),v.head.insertBefore(S,v.querySelector("head > title"))),Es(S,d,l),S[Mi]=n,xi(S),d=S;break t;case"link":var D=MS("link","href",v).get(d+(l.href||""));if(D){for(var Y=0;Y<D.length;Y++)if(S=D[Y],S.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&S.getAttribute("rel")===(l.rel==null?null:l.rel)&&S.getAttribute("title")===(l.title==null?null:l.title)&&S.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){D.splice(Y,1);break e}}S=v.createElement(d),Es(S,d,l),v.head.appendChild(S);break;case"meta":if(D=MS("meta","content",v).get(d+(l.content||""))){for(Y=0;Y<D.length;Y++)if(S=D[Y],S.getAttribute("content")===(l.content==null?null:""+l.content)&&S.getAttribute("name")===(l.name==null?null:l.name)&&S.getAttribute("property")===(l.property==null?null:l.property)&&S.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&S.getAttribute("charset")===(l.charSet==null?null:l.charSet)){D.splice(Y,1);break e}}S=v.createElement(d),Es(S,d,l),v.head.appendChild(S);break;default:throw Error(i(468,d))}S[Mi]=n,xi(S),d=S}n.stateNode=d}else RS(v,n.type,n.stateNode);else n.stateNode=TS(v,d,n.memoizedProps);else S!==d?(S===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):S.count--,d===null?RS(v,n.type,n.stateNode):TS(v,d,n.memoizedProps)):d===null&&n.stateNode!==null&&jb(n,n.memoizedProps,l.memoizedProps)}break;case 27:Ja(s,n),tr(n),d&512&&(Mn||l===null||Sl(l,l.return)),l!==null&&d&4&&jb(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Ja(s,n),tr(n),d&512&&(Mn||l===null||Sl(l,l.return)),n.flags&32){v=n.stateNode;try{Ko(v,"")}catch(Ot){Bi(n,n.return,Ot)}}d&4&&n.stateNode!=null&&(v=n.memoizedProps,jb(n,v,l!==null?l.memoizedProps:v)),d&1024&&(Ub=!0);break;case 6:if(Ja(s,n),tr(n),d&4){if(n.stateNode===null)throw Error(i(162));d=n.memoizedProps,l=n.stateNode;try{l.nodeValue=d}catch(Ot){Bi(n,n.return,Ot)}}break;case 3:if(T5=null,v=xo,xo=L5(s.containerInfo),Ja(s,n),xo=v,tr(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{x0(s.containerInfo)}catch(Ot){Bi(n,n.return,Ot)}Ub&&(Ub=!1,F3(n));break;case 4:d=xo,xo=L5(n.stateNode.containerInfo),Ja(s,n),tr(n),xo=d;break;case 12:Ja(s,n),tr(n);break;case 13:Ja(s,n),tr(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Kb=we()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Hb(n,d)));break;case 22:v=n.memoizedState!==null;var ut=l!==null&&l.memoizedState!==null,Mt=Cc,Ft=Mn;if(Cc=Mt||v,Mn=Ft||ut,Ja(s,n),Mn=Ft,Cc=Mt,tr(n),d&8192)t:for(s=n.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(l===null||ut||Cc||Mn||Xf(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){ut=l=s;try{if(S=ut.stateNode,v)D=S.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{Y=ut.stateNode;var Ut=ut.memoizedProps.style,Rt=Ut!=null&&Ut.hasOwnProperty("display")?Ut.display:null;Y.style.display=Rt==null||typeof Rt=="boolean"?"":(""+Rt).trim()}}catch(Ot){Bi(ut,ut.return,Ot)}}}else if(s.tag===6){if(l===null){ut=s;try{ut.stateNode.nodeValue=v?"":ut.memoizedProps}catch(Ot){Bi(ut,ut.return,Ot)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=n.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Hb(n,l))));break;case 19:Ja(s,n),tr(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Hb(n,d)));break;case 30:break;case 21:break;default:Ja(s,n),tr(n)}}function tr(n){var s=n.flags;if(s&2){try{for(var l,d=n.return;d!==null;){if(T3(d)){l=d;break}d=d.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var v=l.stateNode,S=zb(n);p5(n,S,v);break;case 5:var D=l.stateNode;l.flags&32&&(Ko(D,""),l.flags&=-33);var Y=zb(n);p5(n,Y,D);break;case 3:case 4:var ut=l.stateNode.containerInfo,Mt=zb(n);qb(n,Mt,ut);break;default:throw Error(i(161))}}catch(Ft){Bi(n,n.return,Ft)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function F3(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;F3(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Qu(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)O3(n,s.alternate,s),s=s.sibling}function Xf(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:$u(4,s,s.return),Xf(s);break;case 1:Sl(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&L3(s,s.return,l),Xf(s);break;case 27:m0(s.stateNode);case 26:case 5:Sl(s,s.return),Xf(s);break;case 22:s.memoizedState===null&&Xf(s);break;case 30:Xf(s);break;default:Xf(s)}n=n.sibling}}function Zu(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,v=n,S=s,D=S.flags;switch(S.tag){case 0:case 11:case 15:Zu(v,S,l),r0(4,S);break;case 1:if(Zu(v,S,l),d=S,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Mt){Bi(d,d.return,Mt)}if(d=S,v=d.updateQueue,v!==null){var Y=d.stateNode;try{var ut=v.shared.hiddenCallbacks;if(ut!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ut.length;v++)oi(ut[v],Y)}catch(Mt){Bi(d,d.return,Mt)}}l&&D&64&&N3(S),o0(S,S.return);break;case 27:M3(S);case 26:case 5:Zu(v,S,l),l&&d===null&&D&4&&C3(S),o0(S,S.return);break;case 12:Zu(v,S,l);break;case 13:Zu(v,S,l),l&&D&4&&P3(v,S);break;case 22:S.memoizedState===null&&Zu(v,S,l),o0(S,S.return);break;case 30:break;default:Zu(v,S,l)}s=s.sibling}}function Gb(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&kf(l))}function Vb(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&kf(n))}function _l(n,s,l,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)B3(n,s,l,d),s=s.sibling}function B3(n,s,l,d){var v=s.flags;switch(s.tag){case 0:case 11:case 15:_l(n,s,l,d),v&2048&&r0(9,s);break;case 1:_l(n,s,l,d);break;case 3:_l(n,s,l,d),v&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&kf(n)));break;case 12:if(v&2048){_l(n,s,l,d),n=s.stateNode;try{var S=s.memoizedProps,D=S.id,Y=S.onPostCommit;typeof Y=="function"&&Y(D,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(ut){Bi(s,s.return,ut)}}else _l(n,s,l,d);break;case 13:_l(n,s,l,d);break;case 23:break;case 22:S=s.stateNode,D=s.alternate,s.memoizedState!==null?S._visibility&2?_l(n,s,l,d):l0(n,s):S._visibility&2?_l(n,s,l,d):(S._visibility|=2,Vp(n,s,l,d,(s.subtreeFlags&10256)!==0)),v&2048&&Gb(D,s);break;case 24:_l(n,s,l,d),v&2048&&Vb(s.alternate,s);break;default:_l(n,s,l,d)}}function Vp(n,s,l,d,v){for(v=v&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var S=n,D=s,Y=l,ut=d,Mt=D.flags;switch(D.tag){case 0:case 11:case 15:Vp(S,D,Y,ut,v),r0(8,D);break;case 23:break;case 22:var Ft=D.stateNode;D.memoizedState!==null?Ft._visibility&2?Vp(S,D,Y,ut,v):l0(S,D):(Ft._visibility|=2,Vp(S,D,Y,ut,v)),v&&Mt&2048&&Gb(D.alternate,D);break;case 24:Vp(S,D,Y,ut,v),v&&Mt&2048&&Vb(D.alternate,D);break;default:Vp(S,D,Y,ut,v)}s=s.sibling}}function l0(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,d=s,v=d.flags;switch(d.tag){case 22:l0(l,d),v&2048&&Gb(d.alternate,d);break;case 24:l0(l,d),v&2048&&Vb(d.alternate,d);break;default:l0(l,d)}s=s.sibling}}var c0=8192;function Yp(n){if(n.subtreeFlags&c0)for(n=n.child;n!==null;)j3(n),n=n.sibling}function j3(n){switch(n.tag){case 26:Yp(n),n.flags&c0&&n.memoizedState!==null&&G6(xo,n.memoizedState,n.memoizedProps);break;case 5:Yp(n);break;case 3:case 4:var s=xo;xo=L5(n.stateNode.containerInfo),Yp(n),xo=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=c0,c0=16777216,Yp(n),c0=s):Yp(n));break;default:Yp(n)}}function z3(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function u0(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];cs=d,U3(d,n)}z3(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)q3(n),n=n.sibling}function q3(n){switch(n.tag){case 0:case 11:case 15:u0(n),n.flags&2048&&$u(9,n,n.return);break;case 3:u0(n);break;case 12:u0(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,g5(n)):u0(n);break;default:u0(n)}}function g5(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];cs=d,U3(d,n)}z3(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:$u(8,s,s.return),g5(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,g5(s));break;default:g5(s)}n=n.sibling}}function U3(n,s){for(;cs!==null;){var l=cs;switch(l.tag){case 0:case 11:case 15:$u(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:kf(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,cs=d;else t:for(l=n;cs!==null;){d=cs;var v=d.sibling,S=d.return;if(D3(d),d===l){cs=null;break t}if(v!==null){v.return=S,cs=v;break t}cs=S}}}var r6={getCacheForType:function(n){var s=Ln(Cn),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l}},o6=typeof WeakMap=="function"?WeakMap:Map,Ni=0,Ui=null,ii=null,ci=0,Li=0,er=null,Ju=!1,Xp=!1,Yb=!1,Mc=0,An=0,th=0,Wf=0,Xb=0,jr=0,Wp=0,h0=null,ka=null,Wb=!1,Kb=0,m5=1/0,v5=null,eh=null,xs=0,ih=null,Kp=null,$p=0,$b=0,Qb=null,H3=null,f0=0,Zb=null;function ir(){if((Ni&2)!==0&&ci!==0)return ci&-ci;if(U.T!==null){var n=Ac;return n!==0?n:ay()}return Ua()}function G3(){jr===0&&(jr=(ci&536870912)===0||hi?Vo():536870912);var n=Br.current;return n!==null&&(n.flags|=32),jr}function nr(n,s,l){(n===Ui&&(Li===2||Li===9)||n.cancelPendingCommit!==null)&&(Qp(n,0),nh(n,ci,jr,!1)),aa(n,l),((Ni&2)===0||n!==Ui)&&(n===Ui&&((Ni&2)===0&&(Wf|=l),An===4&&nh(n,ci,jr,!1)),xl(n))}function V3(n,s,l){if((Ni&6)!==0)throw Error(i(327));var d=!l&&(s&124)===0&&(s&n.expiredLanes)===0||Fs(n,s),v=d?u6(n,s):ey(n,s,!0),S=d;do{if(v===0){Xp&&!d&&nh(n,s,0,!1);break}else{if(l=n.current.alternate,S&&!l6(l)){v=ey(n,s,!1),S=!1;continue}if(v===2){if(S=s,n.errorRecoveryDisabledLanes&S)var D=0;else D=n.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){s=D;t:{var Y=n;v=h0;var ut=Y.current.memoizedState.isDehydrated;if(ut&&(Qp(Y,D).flags|=256),D=ey(Y,D,!1),D!==2){if(Yb&&!ut){Y.errorRecoveryDisabledLanes|=S,Wf|=S,v=4;break t}S=ka,ka=v,S!==null&&(ka===null?ka=S:ka.push.apply(ka,S))}v=D}if(S=!1,v!==2)continue}}if(v===1){Qp(n,0),nh(n,s,0,!0);break}t:{switch(d=n,S=v,S){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:nh(d,s,jr,!Ju);break t;case 2:ka=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(v=Kb+300-we(),10<v)){if(nh(d,s,jr,!Ju),_i(d,0,!0)!==0)break t;d.timeoutHandle=AS(Y3.bind(null,d,l,ka,v5,Wb,s,jr,Wf,Wp,Ju,S,2,-0,0),v);break t}Y3(d,l,ka,v5,Wb,s,jr,Wf,Wp,Ju,S,0,-0,0)}}break}while(!0);xl(n)}function Y3(n,s,l,d,v,S,D,Y,ut,Mt,Ft,Ut,Rt,Ot){if(n.timeoutHandle=-1,Ut=s.subtreeFlags,(Ut&8192||(Ut&16785408)===16785408)&&(y0={stylesheets:null,count:0,unsuspend:H6},j3(s),Ut=V6(),Ut!==null)){n.cancelPendingCommit=Ut(J3.bind(null,n,s,S,l,d,v,D,Y,ut,Ft,1,Rt,Ot)),nh(n,S,D,!Mt);return}J3(n,s,S,l,d,v,D,Y,ut)}function l6(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var v=l[d],S=v.getSnapshot;v=v.value;try{if(!zn(S(),v))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function nh(n,s,l,d){s&=~Xb,s&=~Wf,n.suspendedLanes|=s,n.pingedLanes&=~s,d&&(n.warmLanes|=s),d=n.expirationTimes;for(var v=s;0<v;){var S=31-he(v),D=1<<S;d[S]=-1,v&=~D}l!==0&&Oe(n,l,s)}function b5(){return(Ni&6)===0?(d0(0),!1):!0}function Jb(){if(ii!==null){if(Li===0)var n=ii.return;else n=ii,bo=Un=null,Fp(n),Hp=null,n0=0,n=ii;for(;n!==null;)E3(n.alternate,n),n=n.return;ii=null}}function Qp(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,N6(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Jb(),Ui=n,ii=l=Or(n.current,null),ci=s,Li=0,er=null,Ju=!1,Xp=Fs(n,s),Yb=!1,Wp=jr=Xb=Wf=th=An=0,ka=h0=null,Wb=!1,(s&8)!==0&&(s|=s&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=s;0<d;){var v=31-he(d),S=1<<v;s|=n[v],d&=~S}return Mc=s,Ta(),l}function X3(n,s){Se=null,U.H=a5,s===j||s===G?(s=wt(),Li=3):s===q?(s=wt(),Li=4):Li=s===h3?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,er=s,ii===null&&(An=1,u5(n,We(s,n.current)))}function W3(){var n=U.H;return U.H=a5,n===null?a5:n}function K3(){var n=U.A;return U.A=r6,n}function ty(){An=4,Ju||(ci&4194048)!==ci&&Br.current!==null||(Xp=!0),(th&134217727)===0&&(Wf&134217727)===0||Ui===null||nh(Ui,ci,jr,!1)}function ey(n,s,l){var d=Ni;Ni|=2;var v=W3(),S=K3();(Ui!==n||ci!==s)&&(v5=null,Qp(n,s)),s=!1;var D=An;t:do try{if(Li!==0&&ii!==null){var Y=ii,ut=er;switch(Li){case 8:Jb(),D=6;break t;case 3:case 2:case 9:case 6:Br.current===null&&(s=!0);var Mt=Li;if(Li=0,er=null,Zp(n,Y,ut,Mt),l&&Xp){D=0;break t}break;default:Mt=Li,Li=0,er=null,Zp(n,Y,ut,Mt)}}c6(),D=An;break}catch(Ft){X3(n,Ft)}while(!0);return s&&n.shellSuspendCounter++,bo=Un=null,Ni=d,U.H=v,U.A=S,ii===null&&(Ui=null,ci=0,Ta()),D}function c6(){for(;ii!==null;)$3(ii)}function u6(n,s){var l=Ni;Ni|=2;var d=W3(),v=K3();Ui!==n||ci!==s?(v5=null,m5=we()+500,Qp(n,s)):Xp=Fs(n,s);t:do try{if(Li!==0&&ii!==null){s=ii;var S=er;e:switch(Li){case 1:Li=0,er=null,Zp(n,s,S,1);break;case 2:case 9:if(et(S)){Li=0,er=null,Q3(s);break}s=function(){Li!==2&&Li!==9||Ui!==n||(Li=7),xl(n)},S.then(s,s);break t;case 3:Li=7;break t;case 4:Li=5;break t;case 7:et(S)?(Li=0,er=null,Q3(s)):(Li=0,er=null,Zp(n,s,S,7));break;case 5:var D=null;switch(ii.tag){case 26:D=ii.memoizedState;case 5:case 27:var Y=ii;if(!D||OS(D)){Li=0,er=null;var ut=Y.sibling;if(ut!==null)ii=ut;else{var Mt=Y.return;Mt!==null?(ii=Mt,y5(Mt)):ii=null}break e}}Li=0,er=null,Zp(n,s,S,5);break;case 6:Li=0,er=null,Zp(n,s,S,6);break;case 8:Jb(),An=6;break t;default:throw Error(i(462))}}h6();break}catch(Ft){X3(n,Ft)}while(!0);return bo=Un=null,U.H=d,U.A=v,Ni=l,ii!==null?0:(Ui=null,ci=0,Ta(),An)}function h6(){for(;ii!==null&&!Pt();)$3(ii)}function $3(n){var s=_3(n.alternate,n,Mc);n.memoizedProps=n.pendingProps,s===null?y5(n):ii=s}function Q3(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=v3(l,s,s.pendingProps,s.type,void 0,ci);break;case 11:s=v3(l,s,s.pendingProps,s.type.render,s.ref,ci);break;case 5:Fp(s);default:E3(l,s),s=ii=Mf(s,Mc),s=_3(l,s,Mc)}n.memoizedProps=n.pendingProps,s===null?y5(n):ii=s}function Zp(n,s,l,d){bo=Un=null,Fp(s),Hp=null,n0=0;var v=s.return;try{if(t6(n,v,s,l,ci)){An=1,u5(n,We(l,n.current)),ii=null;return}}catch(S){if(v!==null)throw ii=v,S;An=1,u5(n,We(l,n.current)),ii=null;return}s.flags&32768?(hi||d===1?n=!0:Xp||(ci&536870912)!==0?n=!1:(Ju=n=!0,(d===2||d===9||d===3||d===6)&&(d=Br.current,d!==null&&d.tag===13&&(d.flags|=16384))),Z3(s,n)):y5(s)}function y5(n){var s=n;do{if((s.flags&32768)!==0){Z3(s,Ju);return}n=s.return;var l=i6(s.alternate,s,Mc);if(l!==null){ii=l;return}if(s=s.sibling,s!==null){ii=s;return}ii=s=n}while(s!==null);An===0&&(An=5)}function Z3(n,s){do{var l=n6(n.alternate,n);if(l!==null){l.flags&=32767,ii=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){ii=n;return}ii=n=l}while(n!==null);An=6,ii=null}function J3(n,s,l,d,v,S,D,Y,ut){n.cancelPendingCommit=null;do A5();while(xs!==0);if((Ni&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(S=s.lanes|s.childLanes,S|=un,$i(n,l,S,D,Y,ut),n===Ui&&(ii=Ui=null,ci=0),Kp=s,ih=n,$p=l,$b=S,Qb=v,H3=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,g6(Jt,function(){return sS(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=U.T,U.T=null,v=tt.p,tt.p=2,D=Ni,Ni|=4;try{s6(n,s,l)}finally{Ni=D,tt.p=v,U.T=d}}xs=1,tS(),eS(),iS()}}function tS(){if(xs===1){xs=0;var n=ih,s=Kp,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var d=tt.p;tt.p=2;var v=Ni;Ni|=4;try{I3(s,n);var S=dy,D=As(n.containerInfo),Y=S.focusedElem,ut=S.selectionRange;if(D!==Y&&Y&&Y.ownerDocument&&al(Y.ownerDocument.documentElement,Y)){if(ut!==null&&$n(Y)){var Mt=ut.start,Ft=ut.end;if(Ft===void 0&&(Ft=Mt),"selectionStart"in Y)Y.selectionStart=Mt,Y.selectionEnd=Math.min(Ft,Y.value.length);else{var Ut=Y.ownerDocument||document,Rt=Ut&&Ut.defaultView||window;if(Rt.getSelection){var Ot=Rt.getSelection(),Me=Y.textContent.length,_e=Math.min(ut.start,Me),Di=ut.end===void 0?_e:Math.min(ut.end,Me);!Ot.extend&&_e>Di&&(D=Di,Di=_e,_e=D);var _t=co(Y,_e),vt=co(Y,Di);if(_t&&vt&&(Ot.rangeCount!==1||Ot.anchorNode!==_t.node||Ot.anchorOffset!==_t.offset||Ot.focusNode!==vt.node||Ot.focusOffset!==vt.offset)){var Lt=Ut.createRange();Lt.setStart(_t.node,_t.offset),Ot.removeAllRanges(),_e>Di?(Ot.addRange(Lt),Ot.extend(vt.node,vt.offset)):(Lt.setEnd(vt.node,vt.offset),Ot.addRange(Lt))}}}}for(Ut=[],Ot=Y;Ot=Ot.parentNode;)Ot.nodeType===1&&Ut.push({element:Ot,left:Ot.scrollLeft,top:Ot.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Ut.length;Y++){var jt=Ut[Y];jt.element.scrollLeft=jt.left,jt.element.scrollTop=jt.top}}O5=!!fy,dy=fy=null}finally{Ni=v,tt.p=d,U.T=l}}n.current=s,xs=2}}function eS(){if(xs===2){xs=0;var n=ih,s=Kp,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var d=tt.p;tt.p=2;var v=Ni;Ni|=4;try{O3(n,s.alternate,s)}finally{Ni=v,tt.p=d,U.T=l}}xs=3}}function iS(){if(xs===4||xs===3){xs=0,lt();var n=ih,s=Kp,l=$p,d=H3;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?xs=5:(xs=0,Kp=ih=null,nS(n,n.pendingLanes));var v=n.pendingLanes;if(v===0&&(eh=null),_n(l),s=s.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(Fe,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=U.T,v=tt.p,tt.p=2,U.T=null;try{for(var S=n.onRecoverableError,D=0;D<d.length;D++){var Y=d[D];S(Y.value,{componentStack:Y.stack})}}finally{U.T=s,tt.p=v}}($p&3)!==0&&A5(),xl(n),v=n.pendingLanes,(l&4194090)!==0&&(v&42)!==0?n===Zb?f0++:(f0=0,Zb=n):f0=0,d0(0)}}function nS(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,kf(s)))}function A5(n){return tS(),eS(),iS(),sS()}function sS(){if(xs!==5)return!1;var n=ih,s=$b;$b=0;var l=_n($p),d=U.T,v=tt.p;try{tt.p=32>l?32:l,U.T=null,l=Qb,Qb=null;var S=ih,D=$p;if(xs=0,Kp=ih=null,$p=0,(Ni&6)!==0)throw Error(i(331));var Y=Ni;if(Ni|=4,q3(S.current),B3(S,S.current,D,l),Ni=Y,d0(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(Fe,S)}catch{}return!0}finally{tt.p=v,U.T=d,nS(n,s)}}function aS(n,s,l){s=We(l,s),s=Mb(n.stateNode,s,2),n=qt(n,s,2),n!==null&&(aa(n,2),xl(n))}function Bi(n,s,l){if(n.tag===3)aS(n,n,l);else for(;s!==null;){if(s.tag===3){aS(s,n,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(eh===null||!eh.has(d))){n=We(l,n),l=c3(2),d=qt(s,l,2),d!==null&&(u3(l,d,s,n),aa(d,2),xl(d));break}}s=s.return}}function iy(n,s,l){var d=n.pingCache;if(d===null){d=n.pingCache=new o6;var v=new Set;d.set(s,v)}else v=d.get(s),v===void 0&&(v=new Set,d.set(s,v));v.has(l)||(Yb=!0,v.add(l),n=f6.bind(null,n,s,l),s.then(n,n))}function f6(n,s,l){var d=n.pingCache;d!==null&&d.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Ui===n&&(ci&l)===l&&(An===4||An===3&&(ci&62914560)===ci&&300>we()-Kb?(Ni&2)===0&&Qp(n,0):Xb|=l,Wp===ci&&(Wp=0)),xl(n)}function rS(n,s){s===0&&(s=Vi()),n=ho(n,s),n!==null&&(aa(n,s),xl(n))}function d6(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),rS(n,l)}function p6(n,s){var l=0;switch(n.tag){case 13:var d=n.stateNode,v=n.memoizedState;v!==null&&(l=v.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(s),rS(n,l)}function g6(n,s){return Kt(n,s)}var w5=null,Jp=null,ny=!1,S5=!1,sy=!1,Kf=0;function xl(n){n!==Jp&&n.next===null&&(Jp===null?w5=Jp=n:Jp=Jp.next=n),S5=!0,ny||(ny=!0,v6())}function d0(n,s){if(!sy&&S5){sy=!0;do for(var l=!1,d=w5;d!==null;){if(n!==0){var v=d.pendingLanes;if(v===0)var S=0;else{var D=d.suspendedLanes,Y=d.pingedLanes;S=(1<<31-he(42|n)+1)-1,S&=v&~(D&~Y),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(l=!0,uS(d,S))}else S=ci,S=_i(d,d===Ui?S:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(S&3)===0||Fs(d,S)||(l=!0,uS(d,S));d=d.next}while(l);sy=!1}}function m6(){oS()}function oS(){S5=ny=!1;var n=0;Kf!==0&&(E6()&&(n=Kf),Kf=0);for(var s=we(),l=null,d=w5;d!==null;){var v=d.next,S=lS(d,s);S===0?(d.next=null,l===null?w5=v:l.next=v,v===null&&(Jp=l)):(l=d,(n!==0||(S&3)!==0)&&(S5=!0)),d=v}d0(n)}function lS(n,s){for(var l=n.suspendedLanes,d=n.pingedLanes,v=n.expirationTimes,S=n.pendingLanes&-62914561;0<S;){var D=31-he(S),Y=1<<D,ut=v[D];ut===-1?((Y&l)===0||(Y&d)!==0)&&(v[D]=pi(Y,s)):ut<=s&&(n.expiredLanes|=Y),S&=~Y}if(s=Ui,l=ci,l=_i(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d=n.callbackNode,l===0||n===s&&(Li===2||Li===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&ve(d),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Fs(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(d!==null&&ve(d),_n(l)){case 2:case 8:l=Qt;break;case 32:l=Jt;break;case 268435456:l=ge;break;default:l=Jt}return d=cS.bind(null,n),l=Kt(l,d),n.callbackPriority=s,n.callbackNode=l,s}return d!==null&&d!==null&&ve(d),n.callbackPriority=2,n.callbackNode=null,2}function cS(n,s){if(xs!==0&&xs!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(A5()&&n.callbackNode!==l)return null;var d=ci;return d=_i(n,n===Ui?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d===0?null:(V3(n,d,s),lS(n,we()),n.callbackNode!=null&&n.callbackNode===l?cS.bind(null,n):null)}function uS(n,s){if(A5())return null;V3(n,s,!0)}function v6(){L6(function(){(Ni&6)!==0?Kt(Yt,m6):oS()})}function ay(){return Kf===0&&(Kf=Vo()),Kf}function hS(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:so(""+n)}function fS(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function b6(n,s,l,d,v){if(s==="submit"&&l&&l.stateNode===v){var S=hS((v[Yi]||null).action),D=d.submitter;D&&(s=(s=D[Yi]||null)?hS(s.formAction):D.getAttribute("formAction"),s!==null&&(S=s,D=null));var Y=new Zo("action","action",null,d,v);n.push({event:Y,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Kf!==0){var ut=D?fS(v,D):new FormData(v);Fr(l,{pending:!0,data:ut,method:v.method,action:S},null,ut)}}else typeof S=="function"&&(Y.preventDefault(),ut=D?fS(v,D):new FormData(v),Fr(l,{pending:!0,data:ut,method:v.method,action:S},S,ut))},currentTarget:v}]})}}for(var ry=0;ry<pc.length;ry++){var oy=pc[ry],y6=oy.toLowerCase(),A6=oy[0].toUpperCase()+oy.slice(1);Ji(y6,"on"+A6)}Ji(Fu,"onAnimationEnd"),Ji(ol,"onAnimationIteration"),Ji(ll,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(cl,"onTransitionRun"),Ji(dc,"onTransitionStart"),Ji(Bu,"onTransitionCancel"),Ji(ul,"onTransitionEnd"),Ha("onMouseEnter",["mouseout","mouseover"]),Ha("onMouseLeave",["mouseout","mouseover"]),Ha("onPointerEnter",["pointerout","pointerover"]),Ha("onPointerLeave",["pointerout","pointerover"]),Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var p0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(p0));function dS(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],v=d.event;d=d.listeners;t:{var S=void 0;if(s)for(var D=d.length-1;0<=D;D--){var Y=d[D],ut=Y.instance,Mt=Y.currentTarget;if(Y=Y.listener,ut!==S&&v.isPropagationStopped())break t;S=Y,v.currentTarget=Mt;try{S(v)}catch(Ft){c5(Ft)}v.currentTarget=null,S=ut}else for(D=0;D<d.length;D++){if(Y=d[D],ut=Y.instance,Mt=Y.currentTarget,Y=Y.listener,ut!==S&&v.isPropagationStopped())break t;S=Y,v.currentTarget=Mt;try{S(v)}catch(Ft){c5(Ft)}v.currentTarget=null,S=ut}}}}function ni(n,s){var l=s[on];l===void 0&&(l=s[on]=new Set);var d=n+"__bubble";l.has(d)||(pS(s,n,2,!1),l.add(d))}function ly(n,s,l){var d=0;s&&(d|=4),pS(l,n,d,s)}var _5="_reactListening"+Math.random().toString(36).slice(2);function cy(n){if(!n[_5]){n[_5]=!0,Yo.forEach(function(l){l!=="selectionchange"&&(w6.has(l)||ly(l,!1,n),ly(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[_5]||(s[_5]=!0,ly("selectionchange",!1,s))}}function pS(n,s,l,d){switch(BS(s)){case 2:var v=W6;break;case 8:v=K6;break;default:v=_y}l=v.bind(null,s,l,n),v=void 0,!xu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),d?v!==void 0?n.addEventListener(s,l,{capture:!0,passive:v}):n.addEventListener(s,l,!0):v!==void 0?n.addEventListener(s,l,{passive:v}):n.addEventListener(s,l,!1)}function uy(n,s,l,d,v){var S=d;if((s&1)===0&&(s&2)===0&&d!==null)t:for(;;){if(d===null)return;var D=d.tag;if(D===3||D===4){var Y=d.stateNode.containerInfo;if(Y===v)break;if(D===4)for(D=d.return;D!==null;){var ut=D.tag;if((ut===3||ut===4)&&D.stateNode.containerInfo===v)return;D=D.return}for(;Y!==null;){if(D=ss(Y),D===null)return;if(ut=D.tag,ut===5||ut===6||ut===26||ut===27){d=S=D;continue t}Y=Y.parentNode}}d=d.return}Ep(function(){var Mt=S,Ft=Bn(l),Ut=[];t:{var Rt=uo.get(n);if(Rt!==void 0){var Ot=Zo,Me=n;switch(n){case"keypress":if(Qo(l)===0)break t;case"keydown":case"keyup":Ot=Ou;break;case"focusin":Me="focus",Ot=rc;break;case"focusout":Me="blur",Ot=rc;break;case"beforeblur":case"afterblur":Ot=rc;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ot=Tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ot=tl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ot=Nf;break;case Fu:case ol:case ll:Ot=B1;break;case ul:Ot=I;break;case"scroll":case"scrollend":Ot=Lp;break;case"wheel":Ot=dt;break;case"copy":case"cut":case"paste":Ot=j1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ot=Du;break;case"toggle":case"beforetoggle":Ot=kt}var _e=(s&4)!==0,Di=!_e&&(n==="scroll"||n==="scrollend"),_t=_e?Rt!==null?Rt+"Capture":null:Rt;_e=[];for(var vt=Mt,Lt;vt!==null;){var jt=vt;if(Lt=jt.stateNode,jt=jt.tag,jt!==5&&jt!==26&&jt!==27||Lt===null||_t===null||(jt=zs(vt,_t),jt!=null&&_e.push(g0(vt,jt,Lt))),Di)break;vt=vt.return}0<_e.length&&(Rt=new Ot(Rt,Me,null,l,Ft),Ut.push({event:Rt,listeners:_e}))}}if((s&7)===0){t:{if(Rt=n==="mouseover"||n==="pointerover",Ot=n==="mouseout"||n==="pointerout",Rt&&l!==_u&&(Me=l.relatedTarget||l.fromElement)&&(ss(Me)||Me[xn]))break t;if((Ot||Rt)&&(Rt=Ft.window===Ft?Ft:(Rt=Ft.ownerDocument)?Rt.defaultView||Rt.parentWindow:window,Ot?(Me=l.relatedTarget||l.toElement,Ot=Mt,Me=Me?ss(Me):null,Me!==null&&(Di=r(Me),_e=Me.tag,Me!==Di||_e!==5&&_e!==27&&_e!==6)&&(Me=null)):(Ot=null,Me=Mt),Ot!==Me)){if(_e=Tr,jt="onMouseLeave",_t="onMouseEnter",vt="mouse",(n==="pointerout"||n==="pointerover")&&(_e=Du,jt="onPointerLeave",_t="onPointerEnter",vt="pointer"),Di=Ot==null?Rt:Bs(Ot),Lt=Me==null?Rt:Bs(Me),Rt=new _e(jt,vt+"leave",Ot,l,Ft),Rt.target=Di,Rt.relatedTarget=Lt,jt=null,ss(Ft)===Mt&&(_e=new _e(_t,vt+"enter",Me,l,Ft),_e.target=Lt,_e.relatedTarget=Di,jt=_e),Di=jt,Ot&&Me)e:{for(_e=Ot,_t=Me,vt=0,Lt=_e;Lt;Lt=tg(Lt))vt++;for(Lt=0,jt=_t;jt;jt=tg(jt))Lt++;for(;0<vt-Lt;)_e=tg(_e),vt--;for(;0<Lt-vt;)_t=tg(_t),Lt--;for(;vt--;){if(_e===_t||_t!==null&&_e===_t.alternate)break e;_e=tg(_e),_t=tg(_t)}_e=null}else _e=null;Ot!==null&&gS(Ut,Rt,Ot,_e,!1),Me!==null&&Di!==null&&gS(Ut,Di,Me,_e,!0)}}t:{if(Rt=Mt?Bs(Mt):window,Ot=Rt.nodeName&&Rt.nodeName.toLowerCase(),Ot==="select"||Ot==="input"&&Rt.type==="file")var le=Pu;else if(Xa(Rt))if(cc)le=Tp;else{le=q1;var $e=qs}else Ot=Rt.nodeName,!Ot||Ot.toLowerCase()!=="input"||Rt.type!=="checkbox"&&Rt.type!=="radio"?Mt&&Af(Mt.elementType)&&(le=Pu):le=Cf;if(le&&(le=le(n,Mt))){Lf(Ut,le,l,Ft);break t}$e&&$e(n,Rt,Mt),n==="focusout"&&Mt&&Rt.type==="number"&&Mt.memoizedProps.value!=null&&vf(Rt,"number",Rt.value)}switch($e=Mt?Bs(Mt):window,n){case"focusin":(Xa($e)||$e.contentEditable==="true")&&(Us=$e,Wa=Mt,Mr=null);break;case"focusout":Mr=Wa=Us=null;break;case"mousedown":Ka=!0;break;case"contextmenu":case"mouseup":case"dragend":Ka=!1,Zi(Ut,l,Ft);break;case"selectionchange":if(rl)break;case"keydown":case"keyup":Zi(Ut,l,Ft)}var be;if(ie)t:{switch(n){case"compositionstart":var Ee="onCompositionStart";break t;case"compositionend":Ee="onCompositionEnd";break t;case"compositionupdate":Ee="onCompositionUpdate";break t}Ee=void 0}else cn?Xi(n,l)&&(Ee="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(De&&l.locale!=="ko"&&(cn||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&cn&&(be=Np()):(La=Ft,Sf="value"in La?La.value:La.textContent,cn=!0)),$e=x5(Mt,Ee),0<$e.length&&(Ee=new Tu(Ee,n,null,l,Ft),Ut.push({event:Ee,listeners:$e}),be?Ee.data=be:(be=ln(l),be!==null&&(Ee.data=be)))),(be=Ie?jn(n,l):Ya(n,l))&&(Ee=x5(Mt,"onBeforeInput"),0<Ee.length&&($e=new Tu("onBeforeInput","beforeinput",null,l,Ft),Ut.push({event:$e,listeners:Ee}),$e.data=be)),b6(Ut,n,Mt,l,Ft)}dS(Ut,s)})}function g0(n,s,l){return{instance:n,listener:s,currentTarget:l}}function x5(n,s){for(var l=s+"Capture",d=[];n!==null;){var v=n,S=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||S===null||(v=zs(n,l),v!=null&&d.unshift(g0(n,v,S)),v=zs(n,s),v!=null&&d.push(g0(n,v,S))),n.tag===3)return d;n=n.return}return[]}function tg(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function gS(n,s,l,d,v){for(var S=s._reactName,D=[];l!==null&&l!==d;){var Y=l,ut=Y.alternate,Mt=Y.stateNode;if(Y=Y.tag,ut!==null&&ut===d)break;Y!==5&&Y!==26&&Y!==27||Mt===null||(ut=Mt,v?(Mt=zs(l,S),Mt!=null&&D.unshift(g0(l,Mt,ut))):v||(Mt=zs(l,S),Mt!=null&&D.push(g0(l,Mt,ut)))),l=l.return}D.length!==0&&n.push({event:s,listeners:D})}var S6=/\r\n?/g,_6=/\u0000|\uFFFD/g;function mS(n){return(typeof n=="string"?n:""+n).replace(S6,`
`).replace(_6,"")}function vS(n,s){return s=mS(s),mS(n)===s}function E5(){}function Oi(n,s,l,d,v,S){switch(l){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Ko(n,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Ko(n,""+d);break;case"className":nc(n,"class",d);break;case"tabIndex":nc(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":nc(n,l,d);break;case"style":xp(n,d,S);break;case"data":if(s!=="object"){nc(n,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(l);break}d=so(""+d),n.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(l==="formAction"?(s!=="input"&&Oi(n,s,"name",v.name,v,null),Oi(n,s,"formEncType",v.formEncType,v,null),Oi(n,s,"formMethod",v.formMethod,v,null),Oi(n,s,"formTarget",v.formTarget,v,null)):(Oi(n,s,"encType",v.encType,v,null),Oi(n,s,"method",v.method,v,null),Oi(n,s,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(l);break}d=so(""+d),n.setAttribute(l,d);break;case"onClick":d!=null&&(n.onclick=E5);break;case"onScroll":d!=null&&ni("scroll",n);break;case"onScrollEnd":d!=null&&ni("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(v.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}l=so(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,""+d):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":d===!0?n.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,d):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(l,d):n.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(l):n.setAttribute(l,d);break;case"popover":ni("beforetoggle",n),ni("toggle",n),to(n,"popover",d);break;case"xlinkActuate":Ga(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Ga(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Ga(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Ga(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Ga(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Ga(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Ga(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Ga(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Ga(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":to(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=no.get(l)||l,to(n,l,d))}}function hy(n,s,l,d,v,S){switch(l){case"style":xp(n,d,S);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(v.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof d=="string"?Ko(n,d):(typeof d=="number"||typeof d=="bigint")&&Ko(n,""+d);break;case"onScroll":d!=null&&ni("scroll",n);break;case"onScrollEnd":d!=null&&ni("scrollend",n);break;case"onClick":d!=null&&(n.onclick=E5);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ic.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),s=l.slice(2,v?l.length-7:void 0),S=n[Yi]||null,S=S!=null?S[l]:null,typeof S=="function"&&n.removeEventListener(s,S,v),typeof d=="function")){typeof S!="function"&&S!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,d,v);break t}l in n?n[l]=d:d===!0?n.setAttribute(l,""):to(n,l,d)}}}function Es(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ni("error",n),ni("load",n);var d=!1,v=!1,S;for(S in l)if(l.hasOwnProperty(S)){var D=l[S];if(D!=null)switch(S){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Oi(n,s,S,D,l,null)}}v&&Oi(n,s,"srcSet",l.srcSet,l,null),d&&Oi(n,s,"src",l.src,l,null);return;case"input":ni("invalid",n);var Y=S=D=v=null,ut=null,Mt=null;for(d in l)if(l.hasOwnProperty(d)){var Ft=l[d];if(Ft!=null)switch(d){case"name":v=Ft;break;case"type":D=Ft;break;case"checked":ut=Ft;break;case"defaultChecked":Mt=Ft;break;case"value":S=Ft;break;case"defaultValue":Y=Ft;break;case"children":case"dangerouslySetInnerHTML":if(Ft!=null)throw Error(i(137,s));break;default:Oi(n,s,d,Ft,l,null)}}mf(n,S,Y,ut,Mt,D,v,!1),Wo(n);return;case"select":ni("invalid",n),d=D=S=null;for(v in l)if(l.hasOwnProperty(v)&&(Y=l[v],Y!=null))switch(v){case"value":S=Y;break;case"defaultValue":D=Y;break;case"multiple":d=Y;default:Oi(n,s,v,Y,l,null)}s=S,l=D,n.multiple=!!d,s!=null?io(n,!!d,s,!1):l!=null&&io(n,!!d,l,!0);return;case"textarea":ni("invalid",n),S=v=d=null;for(D in l)if(l.hasOwnProperty(D)&&(Y=l[D],Y!=null))switch(D){case"value":d=Y;break;case"defaultValue":v=Y;break;case"children":S=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(91));break;default:Oi(n,s,D,Y,l,null)}bf(n,d,v,S),Wo(n);return;case"option":for(ut in l)if(l.hasOwnProperty(ut)&&(d=l[ut],d!=null))switch(ut){case"selected":n.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Oi(n,s,ut,d,l,null)}return;case"dialog":ni("beforetoggle",n),ni("toggle",n),ni("cancel",n),ni("close",n);break;case"iframe":case"object":ni("load",n);break;case"video":case"audio":for(d=0;d<p0.length;d++)ni(p0[d],n);break;case"image":ni("error",n),ni("load",n);break;case"details":ni("toggle",n);break;case"embed":case"source":case"link":ni("error",n),ni("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Mt in l)if(l.hasOwnProperty(Mt)&&(d=l[Mt],d!=null))switch(Mt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Oi(n,s,Mt,d,l,null)}return;default:if(Af(s)){for(Ft in l)l.hasOwnProperty(Ft)&&(d=l[Ft],d!==void 0&&hy(n,s,Ft,d,l,void 0));return}}for(Y in l)l.hasOwnProperty(Y)&&(d=l[Y],d!=null&&Oi(n,s,Y,d,l,null))}function x6(n,s,l,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,S=null,D=null,Y=null,ut=null,Mt=null,Ft=null;for(Ot in l){var Ut=l[Ot];if(l.hasOwnProperty(Ot)&&Ut!=null)switch(Ot){case"checked":break;case"value":break;case"defaultValue":ut=Ut;default:d.hasOwnProperty(Ot)||Oi(n,s,Ot,null,d,Ut)}}for(var Rt in d){var Ot=d[Rt];if(Ut=l[Rt],d.hasOwnProperty(Rt)&&(Ot!=null||Ut!=null))switch(Rt){case"type":S=Ot;break;case"name":v=Ot;break;case"checked":Mt=Ot;break;case"defaultChecked":Ft=Ot;break;case"value":D=Ot;break;case"defaultValue":Y=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(i(137,s));break;default:Ot!==Ut&&Oi(n,s,Rt,Ot,d,Ut)}}ac(n,D,Y,ut,Mt,Ft,S,v);return;case"select":Ot=D=Y=Rt=null;for(S in l)if(ut=l[S],l.hasOwnProperty(S)&&ut!=null)switch(S){case"value":break;case"multiple":Ot=ut;default:d.hasOwnProperty(S)||Oi(n,s,S,null,d,ut)}for(v in d)if(S=d[v],ut=l[v],d.hasOwnProperty(v)&&(S!=null||ut!=null))switch(v){case"value":Rt=S;break;case"defaultValue":Y=S;break;case"multiple":D=S;default:S!==ut&&Oi(n,s,v,S,d,ut)}s=Y,l=D,d=Ot,Rt!=null?io(n,!!l,Rt,!1):!!d!=!!l&&(s!=null?io(n,!!l,s,!0):io(n,!!l,l?[]:"",!1));return;case"textarea":Ot=Rt=null;for(Y in l)if(v=l[Y],l.hasOwnProperty(Y)&&v!=null&&!d.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Oi(n,s,Y,null,d,v)}for(D in d)if(v=d[D],S=l[D],d.hasOwnProperty(D)&&(v!=null||S!=null))switch(D){case"value":Rt=v;break;case"defaultValue":Ot=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==S&&Oi(n,s,D,v,d,S)}Sp(n,Rt,Ot);return;case"option":for(var Me in l)if(Rt=l[Me],l.hasOwnProperty(Me)&&Rt!=null&&!d.hasOwnProperty(Me))switch(Me){case"selected":n.selected=!1;break;default:Oi(n,s,Me,null,d,Rt)}for(ut in d)if(Rt=d[ut],Ot=l[ut],d.hasOwnProperty(ut)&&Rt!==Ot&&(Rt!=null||Ot!=null))switch(ut){case"selected":n.selected=Rt&&typeof Rt!="function"&&typeof Rt!="symbol";break;default:Oi(n,s,ut,Rt,d,Ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in l)Rt=l[_e],l.hasOwnProperty(_e)&&Rt!=null&&!d.hasOwnProperty(_e)&&Oi(n,s,_e,null,d,Rt);for(Mt in d)if(Rt=d[Mt],Ot=l[Mt],d.hasOwnProperty(Mt)&&Rt!==Ot&&(Rt!=null||Ot!=null))switch(Mt){case"children":case"dangerouslySetInnerHTML":if(Rt!=null)throw Error(i(137,s));break;default:Oi(n,s,Mt,Rt,d,Ot)}return;default:if(Af(s)){for(var Di in l)Rt=l[Di],l.hasOwnProperty(Di)&&Rt!==void 0&&!d.hasOwnProperty(Di)&&hy(n,s,Di,void 0,d,Rt);for(Ft in d)Rt=d[Ft],Ot=l[Ft],!d.hasOwnProperty(Ft)||Rt===Ot||Rt===void 0&&Ot===void 0||hy(n,s,Ft,Rt,d,Ot);return}}for(var _t in l)Rt=l[_t],l.hasOwnProperty(_t)&&Rt!=null&&!d.hasOwnProperty(_t)&&Oi(n,s,_t,null,d,Rt);for(Ut in d)Rt=d[Ut],Ot=l[Ut],!d.hasOwnProperty(Ut)||Rt===Ot||Rt==null&&Ot==null||Oi(n,s,Ut,Rt,d,Ot)}var fy=null,dy=null;function N5(n){return n.nodeType===9?n:n.ownerDocument}function bS(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yS(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function py(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gy=null;function E6(){var n=window.event;return n&&n.type==="popstate"?n===gy?!1:(gy=n,!0):(gy=null,!1)}var AS=typeof setTimeout=="function"?setTimeout:void 0,N6=typeof clearTimeout=="function"?clearTimeout:void 0,wS=typeof Promise=="function"?Promise:void 0,L6=typeof queueMicrotask=="function"?queueMicrotask:typeof wS<"u"?function(n){return wS.resolve(null).then(n).catch(C6)}:AS;function C6(n){setTimeout(function(){throw n})}function sh(n){return n==="head"}function SS(n,s){var l=s,d=0,v=0;do{var S=l.nextSibling;if(n.removeChild(l),S&&S.nodeType===8)if(l=S.data,l==="/$"){if(0<d&&8>d){l=d;var D=n.ownerDocument;if(l&1&&m0(D.documentElement),l&2&&m0(D.body),l&4)for(l=D.head,m0(l),D=l.firstChild;D;){var Y=D.nextSibling,ut=D.nodeName;D[oa]||ut==="SCRIPT"||ut==="STYLE"||ut==="LINK"&&D.rel.toLowerCase()==="stylesheet"||l.removeChild(D),D=Y}}if(v===0){n.removeChild(S),x0(s);return}v--}else l==="$"||l==="$?"||l==="$!"?v++:d=l.charCodeAt(0)-48;else d=0;l=S}while(l);x0(s)}function my(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":my(l),la(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function T6(n,s,l,d){for(;n.nodeType===1;){var v=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[oa])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(S=n.getAttribute("rel"),S==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(S!==v.rel||n.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||n.getAttribute("title")!==(v.title==null?null:v.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(S=n.getAttribute("src"),(S!==(v.src==null?null:v.src)||n.getAttribute("type")!==(v.type==null?null:v.type)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&S&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var S=v.name==null?null:""+v.name;if(v.type==="hidden"&&n.getAttribute("name")===S)return n}else return n;if(n=Eo(n.nextSibling),n===null)break}return null}function M6(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Eo(n.nextSibling),n===null))return null;return n}function vy(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function R6(n,s){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")s();else{var d=function(){s(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),n._reactRetry=d}}function Eo(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var by=null;function _S(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}function xS(n,s,l){switch(s=N5(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function m0(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);la(n)}var zr=new Map,ES=new Set;function L5(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Rc=tt.d;tt.d={f:O6,r:D6,D:k6,C:P6,L:I6,m:F6,X:j6,S:B6,M:z6};function O6(){var n=Rc.f(),s=b5();return n||s}function D6(n){var s=as(n);s!==null&&s.tag===5&&s.type==="form"?Gf(s):Rc.r(n)}var eg=typeof document>"u"?null:document;function NS(n,s,l){var d=eg;if(d&&typeof s=="string"&&s){var v=Fi(s);v='link[rel="'+n+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),ES.has(v)||(ES.add(v),n={rel:n,crossOrigin:l,href:s},d.querySelector(v)===null&&(s=d.createElement("link"),Es(s,"link",n),xi(s),d.head.appendChild(s)))}}function k6(n){Rc.D(n),NS("dns-prefetch",n,null)}function P6(n,s){Rc.C(n,s),NS("preconnect",n,s)}function I6(n,s,l){Rc.L(n,s,l);var d=eg;if(d&&n&&s){var v='link[rel="preload"][as="'+Fi(s)+'"]';s==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Fi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Fi(l.imageSizes)+'"]')):v+='[href="'+Fi(n)+'"]';var S=v;switch(s){case"style":S=ig(n);break;case"script":S=ng(n)}zr.has(S)||(n=m({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),zr.set(S,n),d.querySelector(v)!==null||s==="style"&&d.querySelector(v0(S))||s==="script"&&d.querySelector(b0(S))||(s=d.createElement("link"),Es(s,"link",n),xi(s),d.head.appendChild(s)))}}function F6(n,s){Rc.m(n,s);var l=eg;if(l&&n){var d=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Fi(d)+'"][href="'+Fi(n)+'"]',S=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=ng(n)}if(!zr.has(S)&&(n=m({rel:"modulepreload",href:n},s),zr.set(S,n),l.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(b0(S)))return}d=l.createElement("link"),Es(d,"link",n),xi(d),l.head.appendChild(d)}}}function B6(n,s,l){Rc.S(n,s,l);var d=eg;if(d&&n){var v=Kn(d).hoistableStyles,S=ig(n);s=s||"default";var D=v.get(S);if(!D){var Y={loading:0,preload:null};if(D=d.querySelector(v0(S)))Y.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":s},l),(l=zr.get(S))&&yy(n,l);var ut=D=d.createElement("link");xi(ut),Es(ut,"link",n),ut._p=new Promise(function(Mt,Ft){ut.onload=Mt,ut.onerror=Ft}),ut.addEventListener("load",function(){Y.loading|=1}),ut.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,C5(D,s,d)}D={type:"stylesheet",instance:D,count:1,state:Y},v.set(S,D)}}}function j6(n,s){Rc.X(n,s);var l=eg;if(l&&n){var d=Kn(l).hoistableScripts,v=ng(n),S=d.get(v);S||(S=l.querySelector(b0(v)),S||(n=m({src:n,async:!0},s),(s=zr.get(v))&&Ay(n,s),S=l.createElement("script"),xi(S),Es(S,"link",n),l.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},d.set(v,S))}}function z6(n,s){Rc.M(n,s);var l=eg;if(l&&n){var d=Kn(l).hoistableScripts,v=ng(n),S=d.get(v);S||(S=l.querySelector(b0(v)),S||(n=m({src:n,async:!0,type:"module"},s),(s=zr.get(v))&&Ay(n,s),S=l.createElement("script"),xi(S),Es(S,"link",n),l.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},d.set(v,S))}}function LS(n,s,l,d){var v=(v=at.current)?L5(v):null;if(!v)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=ig(l.href),l=Kn(v).hoistableStyles,d=l.get(s),d||(d={type:"style",instance:null,count:0,state:null},l.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=ig(l.href);var S=Kn(v).hoistableStyles,D=S.get(n);if(D||(v=v.ownerDocument||v,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(n,D),(S=v.querySelector(v0(n)))&&!S._p&&(D.instance=S,D.state.loading=5),zr.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},zr.set(n,l),S||q6(v,n,l,D.state))),s&&d===null)throw Error(i(528,""));return D}if(s&&d!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ng(l),l=Kn(v).hoistableScripts,d=l.get(s),d||(d={type:"script",instance:null,count:0,state:null},l.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function ig(n){return'href="'+Fi(n)+'"'}function v0(n){return'link[rel="stylesheet"]['+n+"]"}function CS(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function q6(n,s,l,d){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=n.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),Es(s,"link",l),xi(s),n.head.appendChild(s))}function ng(n){return'[src="'+Fi(n)+'"]'}function b0(n){return"script[async]"+n}function TS(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var d=n.querySelector('style[data-href~="'+Fi(l.href)+'"]');if(d)return s.instance=d,xi(d),d;var v=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),xi(d),Es(d,"style",v),C5(d,l.precedence,n),s.instance=d;case"stylesheet":v=ig(l.href);var S=n.querySelector(v0(v));if(S)return s.state.loading|=4,s.instance=S,xi(S),S;d=CS(l),(v=zr.get(v))&&yy(d,v),S=(n.ownerDocument||n).createElement("link"),xi(S);var D=S;return D._p=new Promise(function(Y,ut){D.onload=Y,D.onerror=ut}),Es(S,"link",d),s.state.loading|=4,C5(S,l.precedence,n),s.instance=S;case"script":return S=ng(l.src),(v=n.querySelector(b0(S)))?(s.instance=v,xi(v),v):(d=l,(v=zr.get(S))&&(d=m({},l),Ay(d,v)),n=n.ownerDocument||n,v=n.createElement("script"),xi(v),Es(v,"link",d),n.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,C5(d,l.precedence,n));return s.instance}function C5(n,s,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,S=v,D=0;D<d.length;D++){var Y=d[D];if(Y.dataset.precedence===s)S=Y;else if(S!==v)break}S?S.parentNode.insertBefore(n,S.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function yy(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Ay(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var T5=null;function MS(n,s,l){if(T5===null){var d=new Map,v=T5=new Map;v.set(l,d)}else v=T5,d=v.get(l),d||(d=new Map,v.set(l,d));if(d.has(n))return d;for(d.set(n,null),l=l.getElementsByTagName(n),v=0;v<l.length;v++){var S=l[v];if(!(S[oa]||S[Mi]||n==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var D=S.getAttribute(s)||"";D=n+D;var Y=d.get(D);Y?Y.push(S):d.set(D,[S])}}return d}function RS(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function U6(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function OS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var y0=null;function H6(){}function G6(n,s,l){if(y0===null)throw Error(i(475));var d=y0;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var v=ig(l.href),S=n.querySelector(v0(v));if(S){n=S._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(d.count++,d=M5.bind(d),n.then(d,d)),s.state.loading|=4,s.instance=S,xi(S);return}S=n.ownerDocument||n,l=CS(l),(v=zr.get(v))&&yy(l,v),S=S.createElement("link"),xi(S);var D=S;D._p=new Promise(function(Y,ut){D.onload=Y,D.onerror=ut}),Es(S,"link",l),s.instance=S}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=M5.bind(d),n.addEventListener("load",s),n.addEventListener("error",s))}}function V6(){if(y0===null)throw Error(i(475));var n=y0;return n.stylesheets&&n.count===0&&wy(n,n.stylesheets),0<n.count?function(s){var l=setTimeout(function(){if(n.stylesheets&&wy(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l)}}:null}function M5(){if(this.count--,this.count===0){if(this.stylesheets)wy(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var R5=null;function wy(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,R5=new Map,s.forEach(Y6,n),R5=null,M5.call(n))}function Y6(n,s){if(!(s.state.loading&4)){var l=R5.get(n);if(l)var d=l.get(null);else{l=new Map,R5.set(n,l);for(var v=n.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<v.length;S++){var D=v[S];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(l.set(D.dataset.precedence,D),d=D)}d&&l.set(null,d)}v=s.instance,D=v.getAttribute("data-precedence"),S=l.get(D)||d,S===d&&l.set(null,v),l.set(D,v),this.count++,d=M5.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),S?S.parentNode.insertBefore(v,S.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(v,n.firstChild)),s.state.loading|=4}}var A0={$$typeof:P,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function X6(n,s,l,d,v,S,D,Y){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.hiddenUpdates=sa(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=S,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function DS(n,s,l,d,v,S,D,Y,ut,Mt,Ft,Ut){return n=new X6(n,s,l,D,Y,ut,Mt,Ut),s=1,S===!0&&(s|=24),S=os(3,null,null,s),n.current=S,S.stateNode=n,s=H1(),s.refCount++,n.pooledCache=s,s.refCount++,S.memoizedState={element:d,isDehydrated:l,cache:s},gt(S),n}function kS(n){return n?(n=qn,n):qn}function PS(n,s,l,d,v,S){v=kS(v),d.context===null?d.context=v:d.pendingContext=v,d=It(s),d.payload={element:l},S=S===void 0?null:S,S!==null&&(d.callback=S),l=qt(n,d,s),l!==null&&(nr(l,n,s),Bt(l,n,s))}function IS(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function Sy(n,s){IS(n,s),(n=n.alternate)&&IS(n,s)}function FS(n){if(n.tag===13){var s=ho(n,67108864);s!==null&&nr(s,n,67108864),Sy(n,67108864)}}var O5=!0;function W6(n,s,l,d){var v=U.T;U.T=null;var S=tt.p;try{tt.p=2,_y(n,s,l,d)}finally{tt.p=S,U.T=v}}function K6(n,s,l,d){var v=U.T;U.T=null;var S=tt.p;try{tt.p=8,_y(n,s,l,d)}finally{tt.p=S,U.T=v}}function _y(n,s,l,d){if(O5){var v=xy(d);if(v===null)uy(n,s,d,D5,l),jS(n,d);else if(Q6(v,n,s,l,d))d.stopPropagation();else if(jS(n,d),s&4&&-1<$6.indexOf(n)){for(;v!==null;){var S=as(v);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var D=si(S.pendingLanes);if(D!==0){var Y=S;for(Y.pendingLanes|=2,Y.entangledLanes|=2;D;){var ut=1<<31-he(D);Y.entanglements[1]|=ut,D&=~ut}xl(S),(Ni&6)===0&&(m5=we()+500,d0(0))}}break;case 13:Y=ho(S,2),Y!==null&&nr(Y,S,2),b5(),Sy(S,2)}if(S=xy(d),S===null&&uy(n,s,d,D5,l),S===v)break;v=S}v!==null&&d.stopPropagation()}else uy(n,s,d,null,l)}}function xy(n){return n=Bn(n),Ey(n)}var D5=null;function Ey(n){if(D5=null,n=ss(n),n!==null){var s=r(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=o(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return D5=n,null}function BS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case Yt:return 2;case Qt:return 8;case Jt:case te:return 32;case ge:return 268435456;default:return 32}default:return 32}}var Ny=!1,ah=null,rh=null,oh=null,w0=new Map,S0=new Map,lh=[],$6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jS(n,s){switch(n){case"focusin":case"focusout":ah=null;break;case"dragenter":case"dragleave":rh=null;break;case"mouseover":case"mouseout":oh=null;break;case"pointerover":case"pointerout":w0.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":S0.delete(s.pointerId)}}function _0(n,s,l,d,v,S){return n===null||n.nativeEvent!==S?(n={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:S,targetContainers:[v]},s!==null&&(s=as(s),s!==null&&FS(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),n)}function Q6(n,s,l,d,v){switch(s){case"focusin":return ah=_0(ah,n,s,l,d,v),!0;case"dragenter":return rh=_0(rh,n,s,l,d,v),!0;case"mouseover":return oh=_0(oh,n,s,l,d,v),!0;case"pointerover":var S=v.pointerId;return w0.set(S,_0(w0.get(S)||null,n,s,l,d,v)),!0;case"gotpointercapture":return S=v.pointerId,S0.set(S,_0(S0.get(S)||null,n,s,l,d,v)),!0}return!1}function zS(n){var s=ss(n.target);if(s!==null){var l=r(s);if(l!==null){if(s=l.tag,s===13){if(s=o(l),s!==null){n.blockedOn=s,Er(n.priority,function(){if(l.tag===13){var d=ir();d=Jr(d);var v=ho(l,d);v!==null&&nr(v,l,d),Sy(l,d)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function k5(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=xy(n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);_u=d,l.target.dispatchEvent(d),_u=null}else return s=as(l),s!==null&&FS(s),n.blockedOn=l,!1;s.shift()}return!0}function qS(n,s,l){k5(n)&&l.delete(s)}function Z6(){Ny=!1,ah!==null&&k5(ah)&&(ah=null),rh!==null&&k5(rh)&&(rh=null),oh!==null&&k5(oh)&&(oh=null),w0.forEach(qS),S0.forEach(qS)}function P5(n,s){n.blockedOn===s&&(n.blockedOn=null,Ny||(Ny=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Z6)))}var I5=null;function US(n){I5!==n&&(I5=n,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){I5===n&&(I5=null);for(var s=0;s<n.length;s+=3){var l=n[s],d=n[s+1],v=n[s+2];if(typeof d!="function"){if(Ey(d||l)===null)continue;break}var S=as(l);S!==null&&(n.splice(s,3),s-=3,Fr(S,{pending:!0,data:v,method:l.method,action:d},d,v))}}))}function x0(n){function s(ut){return P5(ut,n)}ah!==null&&P5(ah,n),rh!==null&&P5(rh,n),oh!==null&&P5(oh,n),w0.forEach(s),S0.forEach(s);for(var l=0;l<lh.length;l++){var d=lh[l];d.blockedOn===n&&(d.blockedOn=null)}for(;0<lh.length&&(l=lh[0],l.blockedOn===null);)zS(l),l.blockedOn===null&&lh.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var v=l[d],S=l[d+1],D=v[Yi]||null;if(typeof S=="function")D||US(l);else if(D){var Y=null;if(S&&S.hasAttribute("formAction")){if(v=S,D=S[Yi]||null)Y=D.formAction;else if(Ey(v)!==null)continue}else Y=D.action;typeof Y=="function"?l[d+1]=Y:(l.splice(d,3),d-=3),US(l)}}}function Ly(n){this._internalRoot=n}F5.prototype.render=Ly.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,d=ir();PS(l,d,n,s,null,null)},F5.prototype.unmount=Ly.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;PS(n.current,2,null,n,null,null),b5(),s[xn]=null}};function F5(n){this._internalRoot=n}F5.prototype.unstable_scheduleHydration=function(n){if(n){var s=Ua();n={blockedOn:null,target:n,priority:s};for(var l=0;l<lh.length&&s!==0&&s<lh[l].priority;l++);lh.splice(l,0,n),l===0&&zS(n)}};var HS=t.version;if(HS!=="19.1.0")throw Error(i(527,HS,"19.1.0"));tt.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=h(s),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var J6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var B5=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!B5.isDisabled&&B5.supportsFiber)try{Fe=B5.inject(J6),Re=B5}catch{}}return N0.createRoot=function(n,s){if(!a(n))throw Error(i(299));var l=!1,d="",v=a3,S=r3,D=o3,Y=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(Y=s.unstable_transitionCallbacks)),s=DS(n,1,!1,null,null,l,d,v,S,D,Y,null),n[xn]=s.current,cy(n),new Ly(s)},N0.hydrateRoot=function(n,s,l){if(!a(n))throw Error(i(299));var d=!1,v="",S=a3,D=r3,Y=o3,ut=null,Mt=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(S=l.onUncaughtError),l.onCaughtError!==void 0&&(D=l.onCaughtError),l.onRecoverableError!==void 0&&(Y=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(ut=l.unstable_transitionCallbacks),l.formState!==void 0&&(Mt=l.formState)),s=DS(n,1,!0,s,l??null,d,v,S,D,Y,ut,Mt),s.context=kS(null),l=s.current,d=ir(),d=Jr(d),v=It(d),v.callback=null,qt(l,v,d),l=d,s.current.lanes=l,aa(s,l),xl(s),n[xn]=s.current,cy(n),new F5(s)},N0.version="19.1.0",N0}var t_;function fN(){if(t_)return Ry.exports;t_=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(t){console.error(t)}}return c(),Ry.exports=hN(),Ry.exports}var dN=fN();/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gN=c=>c.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),e_=c=>{const t=gN(c);return t.charAt(0).toUpperCase()+t.slice(1)},f4=(...c)=>c.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),mN=c=>{for(const t in c)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=Dn.forwardRef(({color:c="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:a="",children:r,iconNode:o,...u},h)=>Dn.createElement("svg",{ref:h,...vN,width:t,height:t,stroke:c,strokeWidth:i?Number(e)*24/Number(t):e,className:f4("lucide",a),...!r&&!mN(u)&&{"aria-hidden":"true"},...u},[...o.map(([p,m])=>Dn.createElement(p,m)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=(c,t)=>{const e=Dn.forwardRef(({className:i,...a},r)=>Dn.createElement(bN,{ref:r,iconNode:t,className:f4(`lucide-${pN(e_(c))}`,`lucide-${c}`,i),...a}));return e.displayName=e_(c),e};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],AN=d4("menu",yN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],SN=d4("x",wN),_N=()=>{const[c,t]=Dn.useState(!1),e=()=>t(!c);return ye.jsxs("nav",{className:"bg-[#1a1a52] px-6 py-4",children:[ye.jsxs("div",{className:"flex justify-between items-center",children:[ye.jsx("div",{className:"border border-gradient-to-r from-green-400 to-blue-400 p-2 rounded",children:ye.jsx("span",{className:"text-green-400 font-semibold tracking-wide text-lg",children:"SnapScript"})}),ye.jsx("div",{className:"lg:hidden text-white hover:cursor-pointer",onClick:e,children:c?ye.jsx(SN,{size:28}):ye.jsx(AN,{size:28})}),ye.jsxs("ul",{className:"hidden lg:flex items-center space-x-8 text-white font-medium",children:[ye.jsx("li",{className:"hover:text-blue-300 cursor-pointer",children:"Home"}),ye.jsx("li",{className:"hover:text-blue-300 cursor-pointer",children:"Our Services"}),ye.jsx("li",{className:"hover:text-blue-300 cursor-pointer",children:"Resource Hub"}),ye.jsx("li",{className:"hover:text-blue-300 cursor-pointer",children:"About"}),ye.jsx("li",{children:ye.jsx("button",{className:"bg-blue-500 hover:bg-pink-600 duration-500 cursor-pointer text-white font-semibold px-4 py-2 rounded",children:"Contact Us"})})]})]}),ye.jsx("div",{className:`lg:hidden overflow-hidden transition-all duration-500 ease-in-out ${c?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:ye.jsxs("ul",{className:"flex flex-col space-y-4 mt-4 text-white font-medium",children:[ye.jsx("li",{className:"hover:text-blue-300 cursor-pointer",children:"Home"}),ye.jsx("li",{className:"hover:text-blue-300 cursor-pointer",children:"Our Services"}),ye.jsx("li",{className:"hover:text-blue-300 cursor-pointer",children:"Resource Hub"}),ye.jsx("li",{className:"hover:text-blue-300 cursor-pointer",children:"About"}),ye.jsx("li",{children:ye.jsx("button",{className:"bg-blue-500 hover:bg-pink-600 duration-500 text-white font-semibold px-4 py-2 rounded w-full",children:"Contact Us"})})]})})]})};var i_;(function(c){c.STRING="string",c.NUMBER="number",c.INTEGER="integer",c.BOOLEAN="boolean",c.ARRAY="array",c.OBJECT="object"})(i_||(i_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n_;(function(c){c.LANGUAGE_UNSPECIFIED="language_unspecified",c.PYTHON="python"})(n_||(n_={}));var s_;(function(c){c.OUTCOME_UNSPECIFIED="outcome_unspecified",c.OUTCOME_OK="outcome_ok",c.OUTCOME_FAILED="outcome_failed",c.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(s_||(s_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=["user","model","function","system"];var r_;(function(c){c.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",c.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",c.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",c.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",c.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",c.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(r_||(r_={}));var o_;(function(c){c.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",c.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",c.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",c.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",c.BLOCK_NONE="BLOCK_NONE"})(o_||(o_={}));var l_;(function(c){c.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",c.NEGLIGIBLE="NEGLIGIBLE",c.LOW="LOW",c.MEDIUM="MEDIUM",c.HIGH="HIGH"})(l_||(l_={}));var c_;(function(c){c.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",c.SAFETY="SAFETY",c.OTHER="OTHER"})(c_||(c_={}));var Z0;(function(c){c.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",c.STOP="STOP",c.MAX_TOKENS="MAX_TOKENS",c.SAFETY="SAFETY",c.RECITATION="RECITATION",c.LANGUAGE="LANGUAGE",c.BLOCKLIST="BLOCKLIST",c.PROHIBITED_CONTENT="PROHIBITED_CONTENT",c.SPII="SPII",c.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",c.OTHER="OTHER"})(Z0||(Z0={}));var u_;(function(c){c.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",c.RETRIEVAL_QUERY="RETRIEVAL_QUERY",c.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",c.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",c.CLASSIFICATION="CLASSIFICATION",c.CLUSTERING="CLUSTERING"})(u_||(u_={}));var h_;(function(c){c.MODE_UNSPECIFIED="MODE_UNSPECIFIED",c.AUTO="AUTO",c.ANY="ANY",c.NONE="NONE"})(h_||(h_={}));var f_;(function(c){c.MODE_UNSPECIFIED="MODE_UNSPECIFIED",c.MODE_DYNAMIC="MODE_DYNAMIC"})(f_||(f_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class sg extends ia{constructor(t,e){super(t),this.response=e}}class p4 extends ia{constructor(t,e,i,a){super(t),this.status=e,this.statusText=i,this.errorDetails=a}}class af extends ia{}class g4 extends ia{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="https://generativelanguage.googleapis.com",EN="v1beta",NN="0.24.1",LN="genai-js";var hp;(function(c){c.GENERATE_CONTENT="generateContent",c.STREAM_GENERATE_CONTENT="streamGenerateContent",c.COUNT_TOKENS="countTokens",c.EMBED_CONTENT="embedContent",c.BATCH_EMBED_CONTENTS="batchEmbedContents"})(hp||(hp={}));class CN{constructor(t,e,i,a,r){this.model=t,this.task=e,this.apiKey=i,this.stream=a,this.requestOptions=r}toString(){var t,e;const i=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||EN;let r=`${((e=this.requestOptions)===null||e===void 0?void 0:e.baseUrl)||xN}/${i}/${this.model}:${this.task}`;return this.stream&&(r+="?alt=sse"),r}}function TN(c){const t=[];return c!=null&&c.apiClient&&t.push(c.apiClient),t.push(`${LN}/${NN}`),t.join(" ")}async function MN(c){var t;const e=new Headers;e.append("Content-Type","application/json"),e.append("x-goog-api-client",TN(c.requestOptions)),e.append("x-goog-api-key",c.apiKey);let i=(t=c.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(i){if(!(i instanceof Headers))try{i=new Headers(i)}catch(a){throw new af(`unable to convert customHeaders value ${JSON.stringify(i)} to Headers: ${a.message}`)}for(const[a,r]of i.entries()){if(a==="x-goog-api-key")throw new af(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new af(`Header name ${a} can only be set using the apiClient field`);e.append(a,r)}}return e}async function RN(c,t,e,i,a,r){const o=new CN(c,t,e,i,r);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},PN(r)),{method:"POST",headers:await MN(o),body:a})}}async function P2(c,t,e,i,a,r={},o=fetch){const{url:u,fetchOptions:h}=await RN(c,t,e,i,a,r);return ON(u,h,o)}async function ON(c,t,e=fetch){let i;try{i=await e(c,t)}catch(a){DN(a,c)}return i.ok||await kN(i,c),i}function DN(c,t){let e=c;throw e.name==="AbortError"?(e=new g4(`Request aborted when fetching ${t.toString()}: ${c.message}`),e.stack=c.stack):c instanceof p4||c instanceof af||(e=new ia(`Error fetching from ${t.toString()}: ${c.message}`),e.stack=c.stack),e}async function kN(c,t){let e="",i;try{const a=await c.json();e=a.error.message,a.error.details&&(e+=` ${JSON.stringify(a.error.details)}`,i=a.error.details)}catch{}throw new p4(`Error fetching from ${t.toString()}: [${c.status} ${c.statusText}] ${e}`,c.status,c.statusText,i)}function PN(c){const t={};if((c==null?void 0:c.signal)!==void 0||(c==null?void 0:c.timeout)>=0){const e=new AbortController;(c==null?void 0:c.timeout)>=0&&setTimeout(()=>e.abort(),c.timeout),c!=null&&c.signal&&c.signal.addEventListener("abort",()=>{e.abort()}),t.signal=e.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(c){return c.text=()=>{if(c.candidates&&c.candidates.length>0){if(c.candidates.length>1&&console.warn(`This response had ${c.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Q5(c.candidates[0]))throw new sg(`${dh(c)}`,c);return IN(c)}else if(c.promptFeedback)throw new sg(`Text not available. ${dh(c)}`,c);return""},c.functionCall=()=>{if(c.candidates&&c.candidates.length>0){if(c.candidates.length>1&&console.warn(`This response had ${c.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Q5(c.candidates[0]))throw new sg(`${dh(c)}`,c);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),d_(c)[0]}else if(c.promptFeedback)throw new sg(`Function call not available. ${dh(c)}`,c)},c.functionCalls=()=>{if(c.candidates&&c.candidates.length>0){if(c.candidates.length>1&&console.warn(`This response had ${c.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Q5(c.candidates[0]))throw new sg(`${dh(c)}`,c);return d_(c)}else if(c.promptFeedback)throw new sg(`Function call not available. ${dh(c)}`,c)},c}function IN(c){var t,e,i,a;const r=[];if(!((e=(t=c.candidates)===null||t===void 0?void 0:t[0].content)===null||e===void 0)&&e.parts)for(const o of(a=(i=c.candidates)===null||i===void 0?void 0:i[0].content)===null||a===void 0?void 0:a.parts)o.text&&r.push(o.text),o.executableCode&&r.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&r.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return r.length>0?r.join(""):""}function d_(c){var t,e,i,a;const r=[];if(!((e=(t=c.candidates)===null||t===void 0?void 0:t[0].content)===null||e===void 0)&&e.parts)for(const o of(a=(i=c.candidates)===null||i===void 0?void 0:i[0].content)===null||a===void 0?void 0:a.parts)o.functionCall&&r.push(o.functionCall);if(r.length>0)return r}const FN=[Z0.RECITATION,Z0.SAFETY,Z0.LANGUAGE];function Q5(c){return!!c.finishReason&&FN.includes(c.finishReason)}function dh(c){var t,e,i;let a="";if((!c.candidates||c.candidates.length===0)&&c.promptFeedback)a+="Response was blocked",!((t=c.promptFeedback)===null||t===void 0)&&t.blockReason&&(a+=` due to ${c.promptFeedback.blockReason}`),!((e=c.promptFeedback)===null||e===void 0)&&e.blockReasonMessage&&(a+=`: ${c.promptFeedback.blockReasonMessage}`);else if(!((i=c.candidates)===null||i===void 0)&&i[0]){const r=c.candidates[0];Q5(r)&&(a+=`Candidate was blocked due to ${r.finishReason}`,r.finishMessage&&(a+=`: ${r.finishMessage}`))}return a}function tm(c){return this instanceof tm?(this.v=c,this):new tm(c)}function BN(c,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(c,t||[]),a,r=[];return a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a;function o(w){i[w]&&(a[w]=function(A){return new Promise(function(N,E){r.push([w,A,N,E])>1||u(w,A)})})}function u(w,A){try{h(i[w](A))}catch(N){y(r[0][3],N)}}function h(w){w.value instanceof tm?Promise.resolve(w.value.v).then(p,m):y(r[0][2],w)}function p(w){u("next",w)}function m(w){u("throw",w)}function y(w,A){w(A),r.shift(),r.length&&u(r[0][0],r[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function jN(c){const t=c.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),e=UN(t),[i,a]=e.tee();return{stream:qN(i),response:zN(a)}}async function zN(c){const t=[],e=c.getReader();for(;;){const{done:i,value:a}=await e.read();if(i)return Tw(HN(t));t.push(a)}}function qN(c){return BN(this,arguments,function*(){const e=c.getReader();for(;;){const{value:i,done:a}=yield tm(e.read());if(a)break;yield yield tm(Tw(i))}})}function UN(c){const t=c.getReader();return new ReadableStream({start(i){let a="";return r();function r(){return t.read().then(({value:o,done:u})=>{if(u){if(a.trim()){i.error(new ia("Failed to parse stream"));return}i.close();return}a+=o;let h=a.match(p_),p;for(;h;){try{p=JSON.parse(h[1])}catch{i.error(new ia(`Error parsing JSON response: "${h[1]}"`));return}i.enqueue(p),a=a.substring(h[0].length),h=a.match(p_)}return r()}).catch(o=>{let u=o;throw u.stack=o.stack,u.name==="AbortError"?u=new g4("Request aborted when reading from the stream"):u=new ia("Error reading from the stream"),u})}}})}function HN(c){const t=c[c.length-1],e={promptFeedback:t==null?void 0:t.promptFeedback};for(const i of c){if(i.candidates){let a=0;for(const r of i.candidates)if(e.candidates||(e.candidates=[]),e.candidates[a]||(e.candidates[a]={index:a}),e.candidates[a].citationMetadata=r.citationMetadata,e.candidates[a].groundingMetadata=r.groundingMetadata,e.candidates[a].finishReason=r.finishReason,e.candidates[a].finishMessage=r.finishMessage,e.candidates[a].safetyRatings=r.safetyRatings,r.content&&r.content.parts){e.candidates[a].content||(e.candidates[a].content={role:r.content.role||"user",parts:[]});const o={};for(const u of r.content.parts)u.text&&(o.text=u.text),u.functionCall&&(o.functionCall=u.functionCall),u.executableCode&&(o.executableCode=u.executableCode),u.codeExecutionResult&&(o.codeExecutionResult=u.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),e.candidates[a].content.parts.push(o)}a++}i.usageMetadata&&(e.usageMetadata=i.usageMetadata)}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(c,t,e,i){const a=await P2(t,hp.STREAM_GENERATE_CONTENT,c,!0,JSON.stringify(e),i);return jN(a)}async function v4(c,t,e,i){const r=await(await P2(t,hp.GENERATE_CONTENT,c,!1,JSON.stringify(e),i)).json();return{response:Tw(r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(c){if(c!=null){if(typeof c=="string")return{role:"system",parts:[{text:c}]};if(c.text)return{role:"system",parts:[c]};if(c.parts)return c.role?c:{role:"system",parts:c.parts}}}function em(c){let t=[];if(typeof c=="string")t=[{text:c}];else for(const e of c)typeof e=="string"?t.push({text:e}):t.push(e);return GN(t)}function GN(c){const t={role:"user",parts:[]},e={role:"function",parts:[]};let i=!1,a=!1;for(const r of c)"functionResponse"in r?(e.parts.push(r),a=!0):(t.parts.push(r),i=!0);if(i&&a)throw new ia("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!i&&!a)throw new ia("No content is provided for sending chat message.");return i?t:e}function VN(c,t){var e;let i={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(e=t==null?void 0:t.cachedContent)===null||e===void 0?void 0:e.name,contents:[]};const a=c.generateContentRequest!=null;if(c.contents){if(a)throw new af("CountTokensRequest must have one of contents or generateContentRequest, not both.");i.contents=c.contents}else if(a)i=Object.assign(Object.assign({},i),c.generateContentRequest);else{const r=em(c);i.contents=[r]}return{generateContentRequest:i}}function g_(c){let t;return c.contents?t=c:t={contents:[em(c)]},c.systemInstruction&&(t.systemInstruction=b4(c.systemInstruction)),t}function YN(c){return typeof c=="string"||Array.isArray(c)?{content:em(c)}:c}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],XN={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function WN(c){let t=!1;for(const e of c){const{role:i,parts:a}=e;if(!t&&i!=="user")throw new ia(`First content should be with role 'user', got ${i}`);if(!a_.includes(i))throw new ia(`Each item should include role field. Got ${i} but valid roles are: ${JSON.stringify(a_)}`);if(!Array.isArray(a))throw new ia("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new ia("Each Content should have at least one part");const r={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const u of a)for(const h of m_)h in u&&(r[h]+=1);const o=XN[i];for(const u of m_)if(!o.includes(u)&&r[u]>0)throw new ia(`Content with role '${i}' can't contain '${u}' part`);t=!0}}function v_(c){var t;if(c.candidates===void 0||c.candidates.length===0)return!1;const e=(t=c.candidates[0])===null||t===void 0?void 0:t.content;if(e===void 0||e.parts===void 0||e.parts.length===0)return!1;for(const i of e.parts)if(i===void 0||Object.keys(i).length===0||i.text!==void 0&&i.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="SILENT_ERROR";class KN{constructor(t,e,i,a={}){this.model=e,this.params=i,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,i!=null&&i.history&&(WN(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,e={}){var i,a,r,o,u,h;await this._sendPromise;const p=em(t),m={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(r=this.params)===null||r===void 0?void 0:r.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,p]},y=Object.assign(Object.assign({},this._requestOptions),e);let w;return this._sendPromise=this._sendPromise.then(()=>v4(this._apiKey,this.model,m,y)).then(A=>{var N;if(v_(A.response)){this._history.push(p);const E=Object.assign({parts:[],role:"model"},(N=A.response.candidates)===null||N===void 0?void 0:N[0].content);this._history.push(E)}else{const E=dh(A.response);E&&console.warn(`sendMessage() was unsuccessful. ${E}. Inspect response object for details.`)}w=A}).catch(A=>{throw this._sendPromise=Promise.resolve(),A}),await this._sendPromise,w}async sendMessageStream(t,e={}){var i,a,r,o,u,h;await this._sendPromise;const p=em(t),m={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(r=this.params)===null||r===void 0?void 0:r.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,p]},y=Object.assign(Object.assign({},this._requestOptions),e),w=m4(this._apiKey,this.model,m,y);return this._sendPromise=this._sendPromise.then(()=>w).catch(A=>{throw new Error(b_)}).then(A=>A.response).then(A=>{if(v_(A)){this._history.push(p);const N=Object.assign({},A.candidates[0].content);N.role||(N.role="model"),this._history.push(N)}else{const N=dh(A);N&&console.warn(`sendMessageStream() was unsuccessful. ${N}. Inspect response object for details.`)}}).catch(A=>{A.message!==b_&&console.error(A)}),w}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(c,t,e,i){return(await P2(t,hp.COUNT_TOKENS,c,!1,JSON.stringify(e),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(c,t,e,i){return(await P2(t,hp.EMBED_CONTENT,c,!1,JSON.stringify(e),i)).json()}async function ZN(c,t,e,i){const a=e.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await P2(t,hp.BATCH_EMBED_CONTENTS,c,!1,JSON.stringify({requests:a}),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(t,e,i={}){this.apiKey=t,this._requestOptions=i,e.model.includes("/")?this.model=e.model:this.model=`models/${e.model}`,this.generationConfig=e.generationConfig||{},this.safetySettings=e.safetySettings||[],this.tools=e.tools,this.toolConfig=e.toolConfig,this.systemInstruction=b4(e.systemInstruction),this.cachedContent=e.cachedContent}async generateContent(t,e={}){var i;const a=g_(t),r=Object.assign(Object.assign({},this._requestOptions),e);return v4(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},a),r)}async generateContentStream(t,e={}){var i;const a=g_(t),r=Object.assign(Object.assign({},this._requestOptions),e);return m4(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},a),r)}startChat(t){var e;return new KN(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(e=this.cachedContent)===null||e===void 0?void 0:e.name},t),this._requestOptions)}async countTokens(t,e={}){const i=VN(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),e);return $N(this.apiKey,this.model,i,a)}async embedContent(t,e={}){const i=YN(t),a=Object.assign(Object.assign({},this._requestOptions),e);return QN(this.apiKey,this.model,i,a)}async batchEmbedContents(t,e={}){const i=Object.assign(Object.assign({},this._requestOptions),e);return ZN(this.apiKey,this.model,t,i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(t){this.apiKey=t}getGenerativeModel(t,e){if(!t.model)throw new ia("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new y_(this.apiKey,t,e)}getGenerativeModelFromCachedContent(t,e,i){if(!t.name)throw new af("Cached content must contain a `name` field.");if(!t.model)throw new af("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const o of a)if(e!=null&&e[o]&&t[o]&&(e==null?void 0:e[o])!==t[o]){if(o==="model"){const u=e.model.startsWith("models/")?e.model.replace("models/",""):e.model,h=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(u===h)continue}throw new af(`Different value for "${o}" specified in modelParams (${e[o]}) and cachedContent (${t[o]})`)}const r=Object.assign(Object.assign({},e),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new y_(this.apiKey,r,i)}}var y4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},A_=cp.createContext&&cp.createContext(y4),tL=["attr","size","title"];function eL(c,t){if(c==null)return{};var e=iL(c,t),i,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(c);for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(c,i)&&(e[i]=c[i])}return e}function iL(c,t){if(c==null)return{};var e={};for(var i in c)if(Object.prototype.hasOwnProperty.call(c,i)){if(t.indexOf(i)>=0)continue;e[i]=c[i]}return e}function Dv(){return Dv=Object.assign?Object.assign.bind():function(c){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(c[i]=e[i])}return c},Dv.apply(this,arguments)}function w_(c,t){var e=Object.keys(c);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(c);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),e.push.apply(e,i)}return e}function kv(c){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(e),!0).forEach(function(i){nL(c,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(e)):w_(Object(e)).forEach(function(i){Object.defineProperty(c,i,Object.getOwnPropertyDescriptor(e,i))})}return c}function nL(c,t,e){return t=sL(t),t in c?Object.defineProperty(c,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):c[t]=e,c}function sL(c){var t=aL(c,"string");return typeof t=="symbol"?t:t+""}function aL(c,t){if(typeof c!="object"||!c)return c;var e=c[Symbol.toPrimitive];if(e!==void 0){var i=e.call(c,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(c)}function A4(c){return c&&c.map((t,e)=>cp.createElement(t.tag,kv({key:e},t.attr),A4(t.child)))}function w4(c){return t=>cp.createElement(rL,Dv({attr:kv({},c.attr)},t),A4(c.child))}function rL(c){var t=e=>{var{attr:i,size:a,title:r}=c,o=eL(c,tL),u=a||e.size||"1em",h;return e.className&&(h=e.className),c.className&&(h=(h?h+" ":"")+c.className),cp.createElement("svg",Dv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,o,{className:h,style:kv(kv({color:c.color||e.color},e.style),c.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),r&&cp.createElement("title",null,r),c.children)};return A_!==void 0?cp.createElement(A_.Consumer,null,e=>t(e)):t(y4)}function oL(c){return w4({attr:{viewBox:"0 0 528 512"},child:[{tag:"path",attr:{d:"M264.4 116.3l-132 84.3 132 84.3-132 84.3L0 284.1l132.3-84.3L0 116.3 132.3 32l132.1 84.3zM131.6 395.7l132-84.3 132 84.3-132 84.3-132-84.3zm132.8-111.6l132-84.3-132-83.6L395.7 32 528 116.3l-132.3 84.3L528 284.8l-132.3 84.3-131.3-85z"},child:[]}]})(c)}function lL(c){return w4({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M339 314.9L175.4 32h161.2l163.6 282.9H339zm-137.5 23.6L120.9 480h310.5L512 338.5H201.5zM154.1 67.4L0 338.5 80.6 480 237 208.8 154.1 67.4z"},child:[]}]})(c)}const wa=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Zy=[.001,0,0,.001,0,0],Py=1.35,Ar={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ph={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},S4="pdfjs_internal_editor_",je={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101,COMMENT:102},ri={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},cL={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Qs={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Z5={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Vn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},og={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},db={ERRORS:0,WARNINGS:1,INFOS:5},Pv={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},j5={moveTo:0,lineTo:1,curveTo:2,closePath:3},uL={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let pb=db.WARNINGS;function hL(c){Number.isInteger(c)&&(pb=c)}function fL(){return pb}function gb(c){pb>=db.INFOS&&console.log(`Info: ${c}`)}function ze(c){pb>=db.WARNINGS&&console.log(`Warning: ${c}`)}function Ii(c){throw new Error(c)}function Xn(c,t){c||Ii(t)}function dL(c){switch(c==null?void 0:c.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function _4(c,t=null,e=null){if(!c)return null;if(e&&typeof c=="string"){if(e.addDefaultProtocol&&c.startsWith("www.")){const a=c.match(/\./g);(a==null?void 0:a.length)>=2&&(c=`http://${c}`)}if(e.tryConvertEncoding)try{c=bL(c)}catch{}}const i=t?URL.parse(c,t):URL.parse(c);return dL(i)?i:null}function x4(c,t,e=!1){const i=URL.parse(c);return i?(i.hash=t,i.href):e&&_4(c,"http://example.com")?c.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Ze(c,t,e,i=!1){return Object.defineProperty(c,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const gp=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class S_ extends gp{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Iy extends gp{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Jy extends gp{constructor(t){super(t,"InvalidPDFException")}}class Iv extends gp{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class pL extends gp{constructor(t){super(t,"FormatError")}}class rf extends gp{constructor(t){super(t,"AbortException")}}function E4(c){(typeof c!="object"||(c==null?void 0:c.length)===void 0)&&Ii("Invalid argument for bytesToString");const t=c.length,e=8192;if(t<e)return String.fromCharCode.apply(null,c);const i=[];for(let a=0;a<t;a+=e){const r=Math.min(a+e,t),o=c.subarray(a,r);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function I2(c){typeof c!="string"&&Ii("Invalid argument for stringToBytes");const t=c.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=c.charCodeAt(i)&255;return e}function gL(c){return String.fromCharCode(c>>24&255,c>>16&255,c>>8&255,c&255)}function mL(){const c=new Uint8Array(4);return c[0]=1,new Uint32Array(c.buffer,0,1)[0]===1}function vL(){try{return new Function(""),!0}catch{return!1}}class Ps{static get isLittleEndian(){return Ze(this,"isLittleEndian",mL())}static get isEvalSupported(){return Ze(this,"isEvalSupported",vL())}static get isOffscreenCanvasSupported(){return Ze(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ze(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Ze(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return Ze(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const Fy=Array.from(Array(256).keys(),c=>c.toString(16).padStart(2,"0"));var vu,J5,tA;class Ae{static makeHexColor(t,e,i){return`#${Fy[t]}${Fy[e]}${Fy[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,i=0){const a=t[i],r=t[i+1];t[i]=a*e[0]+r*e[2]+e[4],t[i+1]=a*e[1]+r*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const a=e[0],r=e[1],o=e[2],u=e[3],h=e[4],p=e[5];for(let m=0;m<6;m+=2){const y=t[i+m],w=t[i+m+1];t[i+m]=y*a+w*o+h,t[i+m+1]=y*r+w*u+p}}static applyInverseTransform(t,e){const i=t[0],a=t[1],r=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-a*e[2]+e[2]*e[5]-e[4]*e[3])/r,t[1]=(-i*e[1]+a*e[0]+e[4]*e[1]-e[5]*e[0])/r}static axialAlignedBoundingBox(t,e,i){const a=e[0],r=e[1],o=e[2],u=e[3],h=e[4],p=e[5],m=t[0],y=t[1],w=t[2],A=t[3];let N=a*m+h,E=N,M=a*w+h,L=M,R=u*y+p,P=R,W=u*A+p,X=W;if(r!==0||o!==0){const it=r*m,J=r*w,Z=o*y,ct=o*A;N+=Z,L+=Z,M+=ct,E+=ct,R+=it,X+=it,W+=J,P+=J}i[0]=Math.min(i[0],N,M,E,L),i[1]=Math.min(i[1],R,W,P,X),i[2]=Math.max(i[2],N,M,E,L),i[3]=Math.max(i[3],R,W,P,X)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],a=t[1],r=t[2],o=t[3],u=i**2+a**2,h=i*r+a*o,p=r**2+o**2,m=(u+p)/2,y=Math.sqrt(m**2-(u*p-h**2));e[0]=Math.sqrt(m+y||1),e[1]=Math.sqrt(m-y||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>a)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>o?null:[i,r,a,o]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,a,r){r[0]=Math.min(r[0],t,i),r[1]=Math.min(r[1],e,a),r[2]=Math.max(r[2],t,i),r[3]=Math.max(r[3],e,a)}static bezierBoundingBox(t,e,i,a,r,o,u,h,p){p[0]=Math.min(p[0],t,u),p[1]=Math.min(p[1],e,h),p[2]=Math.max(p[2],t,u),p[3]=Math.max(p[3],e,h),B(this,vu,tA).call(this,t,i,r,u,e,a,o,h,3*(-t+3*(i-r)+u),6*(t-2*i+r),3*(i-t),p),B(this,vu,tA).call(this,t,i,r,u,e,a,o,h,3*(-e+3*(a-o)+h),6*(e-2*a+o),3*(a-e),p)}}vu=new WeakSet,J5=function(t,e,i,a,r,o,u,h,p,m){if(p<=0||p>=1)return;const y=1-p,w=p*p,A=w*p,N=y*(y*(y*t+3*p*e)+3*w*i)+A*a,E=y*(y*(y*r+3*p*o)+3*w*u)+A*h;m[0]=Math.min(m[0],N),m[1]=Math.min(m[1],E),m[2]=Math.max(m[2],N),m[3]=Math.max(m[3],E)},tA=function(t,e,i,a,r,o,u,h,p,m,y,w){if(Math.abs(p)<1e-12){Math.abs(m)>=1e-12&&B(this,vu,J5).call(this,t,e,i,a,r,o,u,h,-y/m,w);return}const A=m**2-4*y*p;if(A<0)return;const N=Math.sqrt(A),E=2*p;B(this,vu,J5).call(this,t,e,i,a,r,o,u,h,(-m+N)/E,w),B(this,vu,J5).call(this,t,e,i,a,r,o,u,h,(-m-N)/E,w)},F(Ae,vu);function bL(c){return decodeURIComponent(escape(c))}let By=null,__=null;function yL(c){return By||(By=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,__=new Map([["ﬅ","ſt"]])),c.replaceAll(By,(t,e,i)=>e?e.normalize("NFKC"):__.get(i))}function N4(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const c=new Uint8Array(32);return crypto.getRandomValues(c),E4(c)}const Mw="pdfjs_internal_id_";function AL(c,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,a,...r]=e;if(!c(i)&&!Number.isInteger(i)||!t(a))return!1;const o=r.length;let u=!0;switch(a.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;u=!1;break;default:return!1}for(const h of r)if(!(typeof h=="number"||u&&h===null))return!1;return!0}function Sa(c,t,e){return Math.min(Math.max(c,t),e)}function L4(c){return Uint8Array.prototype.toBase64?c.toBase64():btoa(E4(c))}function wL(c){return Uint8Array.fromBase64?Uint8Array.fromBase64(c):I2(atob(c))}typeof Promise.try!="function"&&(Promise.try=function(c,...t){return new Promise(e=>{e(c(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(c){return c.reduce((t,e)=>t+e,0)});const Dc="http://www.w3.org/2000/svg",ed=class ed{};Xt(ed,"CSS",96),Xt(ed,"PDF",72),Xt(ed,"PDF_TO_CSS_UNITS",ed.CSS/ed.PDF);let of=ed;async function F2(c,t="text"){if(D0(c,document.baseURI)){const e=await fetch(c);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const a=new XMLHttpRequest;a.open("GET",c,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}i(new Error(a.statusText))}},a.send(null)})}class B2{constructor({viewBox:t,userUnit:e,scale:i,rotation:a,offsetX:r=0,offsetY:o=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=a,this.offsetX=r,this.offsetY=o,i*=e;const h=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let m,y,w,A;switch(a%=360,a<0&&(a+=360),a){case 180:m=-1,y=0,w=0,A=1;break;case 90:m=0,y=1,w=1,A=0;break;case 270:m=0,y=-1,w=-1,A=0;break;case 0:m=1,y=0,w=0,A=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(w=-w,A=-A);let N,E,M,L;m===0?(N=Math.abs(p-t[1])*i+r,E=Math.abs(h-t[0])*i+o,M=(t[3]-t[1])*i,L=(t[2]-t[0])*i):(N=Math.abs(h-t[0])*i+r,E=Math.abs(p-t[1])*i+o,M=(t[2]-t[0])*i,L=(t[3]-t[1])*i),this.transform=[m*i,y*i,w*i,A*i,N-m*i*h-w*i*p,E-y*i*h-A*i*p],this.width=M,this.height=L}get rawDims(){const t=this.viewBox;return Ze(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:a=this.offsetY,dontFlip:r=!1}={}){return new B2({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:r})}convertToViewportPoint(t,e){const i=[t,e];return Ae.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];Ae.applyTransform(e,this.transform);const i=[t[2],t[3]];return Ae.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return Ae.applyInverseTransform(i,this.transform),i}}class Rw extends gp{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function mb(c){const t=c.length;let e=0;for(;e<t&&c[e].trim()==="";)e++;return c.substring(e,e+5).toLowerCase()==="data:"}function Ow(c){return typeof c=="string"&&/\.pdf$/i.test(c)}function SL(c){return[c]=c.split(/[#?]/,1),c.substring(c.lastIndexOf("/")+1)}function _L(c,t="document.pdf"){if(typeof c!="string")return t;if(mb(c))return ze('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(c);if(!i)return t;const a=u=>{try{let h=decodeURIComponent(u);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:u):h}catch{return u}},r=/\.pdf$/i,o=i.pathname.split("/").at(-1);if(r.test(o))return a(o);if(i.searchParams.size>0){const u=Array.from(i.searchParams.values()).reverse();for(const p of u)if(r.test(p))return a(p);const h=Array.from(i.searchParams.keys()).reverse();for(const p of h)if(r.test(p))return a(p)}if(i.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(h)return a(h[0])}return t}class x_{constructor(){Xt(this,"started",Object.create(null));Xt(this,"times",[])}time(t){t in this.started&&ze(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||ze(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:a,end:r}of this.times)t.push(`${i.padEnd(e)} ${r-a}ms
`);return t.join("")}}function D0(c,t){const e=t?URL.parse(c,t):URL.parse(c);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function Zr(c){c.preventDefault()}function Yn(c){c.preventDefault(),c.stopPropagation()}function xL(c){console.log("Deprecated API usage: "+c)}var rm;class Fv{static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;f(this,rm)||T(this,rm,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=f(this,rm).exec(t);if(!e)return null;const i=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const p=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let y=parseInt(e[9],10)||0;return y=y>=0&&y<=59?y:0,p==="-"?(o+=m,u+=y):p==="+"&&(o-=m,u-=y),new Date(Date.UTC(i,a,r,o,u,h))}}rm=new WeakMap,F(Fv,rm);function EL(c,{scale:t=1,rotation:e=0}){const{width:i,height:a}=c.attributes.style,r=[0,0,parseInt(i),parseInt(a)];return new B2({viewBox:r,userUnit:1,scale:t,rotation:e})}function vb(c){if(c.startsWith("#")){const t=parseInt(c.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return c.startsWith("rgb(")?c.slice(4,-1).split(",").map(t=>parseInt(t)):c.startsWith("rgba(")?c.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(ze(`Not a valid color format: "${c}"`),[0,0,0])}function NL(c){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of c.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;c.set(e,vb(i))}t.remove()}function gn(c){const{a:t,b:e,c:i,d:a,e:r,f:o}=c.getTransform();return[t,e,i,a,r,o]}function El(c){const{a:t,b:e,c:i,d:a,e:r,f:o}=c.getTransform().invertSelf();return[t,e,i,a,r,o]}function fp(c,t,e=!1,i=!0){if(t instanceof B2){const{pageWidth:a,pageHeight:r}=t.rawDims,{style:o}=c,u=Ps.isCSSRoundSupported,h=`var(--total-scale-factor) * ${a}px`,p=`var(--total-scale-factor) * ${r}px`,m=u?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,y=u?`round(down, ${p}, var(--scale-round-y))`:`calc(${p})`;!e||t.rotation%180===0?(o.width=m,o.height=y):(o.width=y,o.height=m)}i&&c.setAttribute("data-main-rotation",t.rotation)}class Zl{constructor(){const{pixelRatio:t}=Zl;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,a,r=-1){let o=1/0,u=1/0,h=1/0;i=Zl.capPixels(i,r),i>0&&(o=Math.sqrt(i/(t*e))),a!==-1&&(u=a/t,h=a/e);const p=Math.min(o,u,h);return this.sx>p||this.sy>p?(this.sx=p,this.sy=p,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const eA=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var gh,mh,Ur,Bc,om,Ng,Lg,lm,Wv,C4,ks,T4,M4,lg,k0;const Ic=class Ic{constructor(t){F(this,ks);F(this,gh,null);F(this,mh,null);F(this,Ur);F(this,Bc,null);F(this,om,null);F(this,Ng,null);F(this,Lg,null);T(this,Ur,t),f(Ic,lm)||T(Ic,lm,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=T(this,gh,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=f(this,Ur)._uiManager._signal;t.addEventListener("contextmenu",Zr,{signal:e}),t.addEventListener("pointerdown",B(Ic,Wv,C4),{signal:e});const i=T(this,Bc,document.createElement("div"));i.className="buttons",t.append(i);const a=f(this,Ur).toolbarPosition;if(a){const{style:r}=t,o=f(this,Ur)._uiManager.direction==="ltr"?1-a[0]:a[0];r.insetInlineEnd=`${100*o}%`,r.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return f(this,gh)}hide(){var t;f(this,gh).classList.add("hidden"),(t=f(this,mh))==null||t.hideDropdown()}show(){var t,e;f(this,gh).classList.remove("hidden"),(t=f(this,om))==null||t.shown(),(e=f(this,Ng))==null||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=f(this,Ur),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",f(Ic,lm)[t]),B(this,ks,lg).call(this,i),i.addEventListener("click",a=>{e.delete()},{signal:e._signal}),f(this,Bc).append(i)}async addAltText(t){const e=await t.render();B(this,ks,lg).call(this,e),f(this,Bc).append(e,f(this,ks,k0)),T(this,om,t)}addComment(t){if(f(this,Ng))return;const e=t.render();e&&(B(this,ks,lg).call(this,e),f(this,Bc).prepend(e,f(this,ks,k0)),T(this,Ng,t),t.toolbar=this)}addColorPicker(t){if(f(this,mh))return;T(this,mh,t);const e=t.renderButton();B(this,ks,lg).call(this,e),f(this,Bc).append(e,f(this,ks,k0))}async addEditSignatureButton(t){const e=T(this,Lg,await t.renderEditButton(f(this,Ur)));B(this,ks,lg).call(this,e),f(this,Bc).append(e,f(this,ks,k0))}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}updateEditSignatureButton(t){f(this,Lg)&&(f(this,Lg).title=t)}remove(){var t;f(this,gh).remove(),(t=f(this,mh))==null||t.destroy(),T(this,mh,null)}};gh=new WeakMap,mh=new WeakMap,Ur=new WeakMap,Bc=new WeakMap,om=new WeakMap,Ng=new WeakMap,Lg=new WeakMap,lm=new WeakMap,Wv=new WeakSet,C4=function(t){t.stopPropagation()},ks=new WeakSet,T4=function(t){f(this,Ur)._focusEventsAllowed=!1,Yn(t)},M4=function(t){f(this,Ur)._focusEventsAllowed=!0,Yn(t)},lg=function(t){const e=f(this,Ur)._uiManager._signal;t.addEventListener("focusin",B(this,ks,T4).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",B(this,ks,M4).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Zr,{signal:e})},k0=function(){const t=document.createElement("div");return t.className="divider",t},F(Ic,Wv),F(Ic,lm,null);let iA=Ic;var cm,sd,ad,uf,R4,O4,D4;class LL{constructor(t){F(this,uf);F(this,cm,null);F(this,sd,null);F(this,ad);T(this,ad,t)}show(t,e,i){const[a,r]=B(this,uf,O4).call(this,e,i),{style:o}=f(this,sd)||T(this,sd,B(this,uf,R4).call(this));t.append(f(this,sd)),o.insetInlineEnd=`${100*a}%`,o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,sd).remove()}}cm=new WeakMap,sd=new WeakMap,ad=new WeakMap,uf=new WeakSet,R4=function(){const t=T(this,sd,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Zr,{signal:f(this,ad)._signal});const e=T(this,cm,document.createElement("div"));return e.className="buttons",t.append(e),B(this,uf,D4).call(this),t},O4=function(t,e){let i=0,a=0;for(const r of t){const o=r.y+r.height;if(o<i)continue;const u=r.x+(e?r.width:0);if(o>i){a=u,i=o;continue}e?u>a&&(a=u):u<a&&(a=u)}return[e?1-a:a,i]},D4=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=f(this,ad)._signal;t.addEventListener("contextmenu",Zr,{signal:i}),t.addEventListener("click",()=>{f(this,ad).highlightSelection("floating_button")},{signal:i}),f(this,cm).append(t)};function k4(c,t,e){for(const i of e)t.addEventListener(i,c[i].bind(c))}var Kv;class CL{constructor(){F(this,Kv,0)}get id(){return`${S4}${ga(this,Kv)._++}`}}Kv=new WeakMap;var Cg,um,Js,Tg,tv;const Hw=class Hw{constructor(){F(this,Tg);F(this,Cg,N4());F(this,um,0);F(this,Js,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const r=a.decode().then(()=>(i.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ze(this,"_isSVGFittingCanvas",r)}async getFromFile(t){const{lastModified:e,name:i,size:a,type:r}=t;return B(this,Tg,tv).call(this,`${e}_${i}_${a}_${r}`,t)}async getFromUrl(t){return B(this,Tg,tv).call(this,t,t)}async getFromBlob(t,e){const i=await e;return B(this,Tg,tv).call(this,t,i)}async getFromId(t){f(this,Js)||T(this,Js,new Map);const e=f(this,Js).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){f(this,Js)||T(this,Js,new Map);let i=f(this,Js).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),i={bitmap:a.transferToImageBitmap(),id:`image_${f(this,Cg)}_${ga(this,um)._++}`,refCounter:1,isSvg:!1},f(this,Js).set(t,i),f(this,Js).set(i.id,i),i}getSvgUrl(t){const e=f(this,Js).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var a;f(this,Js)||T(this,Js,new Map);const e=f(this,Js).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}(a=i.close)==null||a.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${f(this,Cg)}_`)}};Cg=new WeakMap,um=new WeakMap,Js=new WeakMap,Tg=new WeakSet,tv=async function(t,e){f(this,Js)||T(this,Js,new Map);let i=f(this,Js).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${f(this,Cg)}_${ga(this,um)._++}`,refCounter:0,isSvg:!1});let a;if(typeof e=="string"?(i.url=e,a=await F2(e,"blob")):e instanceof File?a=i.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const r=Hw._isSVGFittingCanvas,o=new FileReader,u=new Image,h=new Promise((p,m)=>{u.onload=()=>{i.bitmap=u,i.isSvg=!0,p()},o.onload=async()=>{const y=i.svgUrl=o.result;u.src=await r?`${y}#svgView(preserveAspectRatio(none))`:y},u.onerror=o.onerror=m});o.readAsDataURL(a),await h}else i.bitmap=await createImageBitmap(a);i.refCounter=1}catch(a){ze(a),i=null}return f(this,Js).set(t,i),i&&f(this,Js).set(i.id,i),i};let nA=Hw;var Rn,vh,hm,pn;class TL{constructor(t=128){F(this,Rn,[]);F(this,vh,!1);F(this,hm);F(this,pn,-1);T(this,hm,t)}add({cmd:t,undo:e,post:i,mustExec:a,type:r=NaN,overwriteIfSameType:o=!1,keepUndo:u=!1}){if(a&&t(),f(this,vh))return;const h={cmd:t,undo:e,post:i,type:r};if(f(this,pn)===-1){f(this,Rn).length>0&&(f(this,Rn).length=0),T(this,pn,0),f(this,Rn).push(h);return}if(o&&f(this,Rn)[f(this,pn)].type===r){u&&(h.undo=f(this,Rn)[f(this,pn)].undo),f(this,Rn)[f(this,pn)]=h;return}const p=f(this,pn)+1;p===f(this,hm)?f(this,Rn).splice(0,1):(T(this,pn,p),p<f(this,Rn).length&&f(this,Rn).splice(p)),f(this,Rn).push(h)}undo(){if(f(this,pn)===-1)return;T(this,vh,!0);const{undo:t,post:e}=f(this,Rn)[f(this,pn)];t(),e==null||e(),T(this,vh,!1),T(this,pn,f(this,pn)-1)}redo(){if(f(this,pn)<f(this,Rn).length-1){T(this,pn,f(this,pn)+1),T(this,vh,!0);const{cmd:t,post:e}=f(this,Rn)[f(this,pn)];t(),e==null||e(),T(this,vh,!1)}}hasSomethingToUndo(){return f(this,pn)!==-1}hasSomethingToRedo(){return f(this,pn)<f(this,Rn).length-1}cleanType(t){if(f(this,pn)!==-1){for(let e=f(this,pn);e>=0;e--)if(f(this,Rn)[e].type!==t){f(this,Rn).splice(e+1,f(this,pn)-e),T(this,pn,e);return}f(this,Rn).length=0,T(this,pn,-1)}}destroy(){T(this,Rn,null)}}Rn=new WeakMap,vh=new WeakMap,hm=new WeakMap,pn=new WeakMap;var $v,P4;class j2{constructor(t){F(this,$v);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ps.platform;for(const[i,a,r={}]of t)for(const o of i){const u=o.startsWith("mac+");e&&u?(this.callbacks.set(o.slice(4),{callback:a,options:r}),this.allKeys.add(o.split("+").at(-1))):!e&&!u&&(this.callbacks.set(o,{callback:a,options:r}),this.allKeys.add(o.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(B(this,$v,P4).call(this,e));if(!i)return;const{callback:a,options:{bubbles:r=!1,args:o=[],checker:u=null}}=i;u&&!u(t,e)||(a.bind(t,...o,e)(),r||Yn(e))}}$v=new WeakSet,P4=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Qv=class Qv{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return NL(t),Ze(this,"_colors",t)}convert(t){const e=vb(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,a]of this._colors)if(a.every((r,o)=>r===e[o]))return Qv._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?Ae.makeHexColor(...e):t}};Xt(Qv,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let sA=Qv;var Mg,ar,ts,Ns,Rg,jc,Og,Hr,rd,bh,yh,Dg,od,Tl,Mo,ld,fm,dm,kg,pm,Ml,Ah,Pg,wh,Rl,Zv,Sh,gm,_h,cd,Ig,xh,mm,hs,Ci,zc,Eh,Nh,vm,bm,Lh,Ol,qc,ym,Am,Gr,ee,ev,aA,I4,F4,iv,B4,j4,z4,rA,q4,oA,lA,U4,ma,kc,H4,G4,cA,V4,P0,uA;const yg=class yg{constructor(t,e,i,a,r,o,u,h,p,m,y,w,A,N,E,M){F(this,ee);F(this,Mg,new AbortController);F(this,ar,null);F(this,ts,new Map);F(this,Ns,new Map);F(this,Rg,null);F(this,jc,null);F(this,Og,null);F(this,Hr,new TL);F(this,rd,null);F(this,bh,null);F(this,yh,null);F(this,Dg,0);F(this,od,new Set);F(this,Tl,null);F(this,Mo,null);F(this,ld,new Set);Xt(this,"_editorUndoBar",null);F(this,fm,!1);F(this,dm,!1);F(this,kg,!1);F(this,pm,null);F(this,Ml,null);F(this,Ah,null);F(this,Pg,null);F(this,wh,!1);F(this,Rl,null);F(this,Zv,new CL);F(this,Sh,!1);F(this,gm,!1);F(this,_h,null);F(this,cd,null);F(this,Ig,null);F(this,xh,null);F(this,mm,null);F(this,hs,je.NONE);F(this,Ci,new Set);F(this,zc,null);F(this,Eh,null);F(this,Nh,null);F(this,vm,null);F(this,bm,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});F(this,Lh,[0,0]);F(this,Ol,null);F(this,qc,null);F(this,ym,null);F(this,Am,null);F(this,Gr,null);const L=this._signal=f(this,Mg).signal;T(this,qc,t),T(this,ym,e),T(this,Am,i),T(this,Rg,a),T(this,rd,r),T(this,Eh,o),this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:L}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:L}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:L}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:L}),u._on("setpreference",this.onSetPreference.bind(this),{signal:L}),u._on("switchannotationeditorparams",R=>this.updateParams(R.type,R.value),{signal:L}),B(this,ee,B4).call(this),B(this,ee,U4).call(this),B(this,ee,rA).call(this),T(this,jc,h.annotationStorage),T(this,pm,h.filterFactory),T(this,Nh,p),T(this,Pg,m||null),T(this,fm,y),T(this,dm,w),T(this,kg,A),T(this,mm,N||null),this.viewParameters={realScale:of.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=E||null,this._supportsPinchToZoom=M!==!1}static get _keyboardManager(){const t=yg.prototype,e=o=>f(o,qc).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:u})=>{if(u instanceof HTMLInputElement){const{type:h}=u;return h!=="text"&&h!=="number"}return!0},a=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new j2([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:u})=>!(u instanceof HTMLButtonElement)&&f(o,qc).contains(u)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:u})=>!(u instanceof HTMLButtonElement)&&f(o,qc).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e,i,a,r,o,u,h,p;(t=f(this,Gr))==null||t.resolve(),T(this,Gr,null),(e=f(this,Mg))==null||e.abort(),T(this,Mg,null),this._signal=null;for(const m of f(this,Ns).values())m.destroy();f(this,Ns).clear(),f(this,ts).clear(),f(this,ld).clear(),(i=f(this,xh))==null||i.clear(),T(this,ar,null),f(this,Ci).clear(),f(this,Hr).destroy(),(a=f(this,Rg))==null||a.destroy(),(r=f(this,rd))==null||r.destroy(),(o=f(this,Eh))==null||o.destroy(),(u=f(this,Rl))==null||u.hide(),T(this,Rl,null),(h=f(this,Ig))==null||h.destroy(),T(this,Ig,null),f(this,Ml)&&(clearTimeout(f(this,Ml)),T(this,Ml,null)),f(this,Ol)&&(clearTimeout(f(this,Ol)),T(this,Ol,null)),(p=this._editorUndoBar)==null||p.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return f(this,mm)}get useNewAltTextFlow(){return f(this,dm)}get useNewAltTextWhenAddingImage(){return f(this,kg)}get hcmFilter(){return Ze(this,"hcmFilter",f(this,Nh)?f(this,pm).addHCMFilter(f(this,Nh).foreground,f(this,Nh).background):"none")}get direction(){return Ze(this,"direction",getComputedStyle(f(this,qc)).direction)}get _highlightColors(){return Ze(this,"_highlightColors",f(this,Pg)?new Map(f(this,Pg).split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Ze(this,"highlightColors",null);const e=new Map,i=!!f(this,Nh);for(const[a,r]of t){const o=a.endsWith("_HCM");if(i&&o){e.set(a.replace("_HCM",""),r);continue}!i&&!o&&e.set(a,r)}return Ze(this,"highlightColors",e)}get highlightColorNames(){return Ze(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),T(this,yh,t)}setMainHighlightColorPicker(t){T(this,Ig,t)}editAltText(t,e=!1){var i;(i=f(this,Rg))==null||i.editAltText(this,t,e)}hasCommentManager(){return!!f(this,rd)}editComment(t,e){var i;(i=f(this,rd))==null||i.open(this,t,e)}getSignature(t){var e;(e=f(this,Eh))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return f(this,Eh)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":T(this,kg,e);break}}onPageChanging({pageNumber:t}){T(this,Dg,t-1)}focusMainContainer(){f(this,qc).focus()}findParent(t,e){for(const i of f(this,Ns).values()){const{x:a,y:r,width:o,height:u}=i.div.getBoundingClientRect();if(t>=a&&t<=a+o&&e>=r&&e<=r+u)return i}return null}disableUserSelect(t=!1){f(this,ym).classList.toggle("noUserSelect",t)}addShouldRescale(t){f(this,ld).add(t)}removeShouldRescale(t){f(this,ld).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*of.PDF_TO_CSS_UNITS;for(const i of f(this,ld))i.onScaleChanging();(e=f(this,yh))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:r,focusOffset:o}=e,u=e.toString(),p=B(this,ee,ev).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;e.empty();const y=B(this,ee,aA).call(this,p),w=f(this,hs)===je.NONE,A=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:i,anchorOffset:a,focusNode:r,focusOffset:o,text:u}),w&&this.showAllEditors("highlight",!0,!0)};if(w){this.switchToMode(je.HIGHLIGHT,A);return}A()}addToAnnotationStorage(t){!t.isEmpty()&&f(this,jc)&&!f(this,jc).has(t.id)&&f(this,jc).setValue(t.id,t)}a11yAlert(t,e=null){const i=f(this,Am);i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,f(this,wh)&&(T(this,wh,!1),B(this,ee,iv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of f(this,Ci))if(e.div.contains(t)){T(this,cd,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!f(this,cd))return;const[t,e]=f(this,cd);T(this,cd,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){B(this,ee,rA).call(this),B(this,ee,oA).call(this)}removeEditListeners(){B(this,ee,q4).call(this),B(this,ee,lA).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of f(this,Mo))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of f(this,Mo))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=f(this,ar))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const a of f(this,Ci)){const r=a.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const o of f(this,Mo))if(o.isHandlingMimeForPasting(r.type)){o.paste(r,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){ze(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const a=this.currentLayer;try{const r=[];for(const h of i){const p=await a.deserialize(h);if(!p)return;r.push(p)}const o=()=>{for(const h of r)B(this,ee,cA).call(this,h);B(this,ee,uA).call(this,r)},u=()=>{for(const h of r)h.remove()};this.addCommands({cmd:o,undo:u,mustExec:!0})}catch(r){ze(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,hs)!==je.NONE&&!this.isEditorHandlingKeyboard&&yg._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,wh)&&(T(this,wh,!1),B(this,ee,iv).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(B(this,ee,j4).call(this),B(this,ee,oA).call(this),B(this,ee,ma).call(this,{isEditing:f(this,hs)!==je.NONE,isEmpty:B(this,ee,P0).call(this),hasSomethingToUndo:f(this,Hr).hasSomethingToUndo(),hasSomethingToRedo:f(this,Hr).hasSomethingToRedo(),hasSelectedEditor:!1})):(B(this,ee,z4).call(this),B(this,ee,lA).call(this),B(this,ee,ma).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!f(this,Mo)){T(this,Mo,t);for(const e of f(this,Mo))B(this,ee,kc).call(this,e.defaultPropertiesToUpdate)}}getId(){return f(this,Zv).id}get currentLayer(){return f(this,Ns).get(f(this,Dg))}getLayer(t){return f(this,Ns).get(t)}get currentPageIndex(){return f(this,Dg)}addLayer(t){f(this,Ns).set(t.pageIndex,t),f(this,Sh)?t.enable():t.disable()}removeLayer(t){f(this,Ns).delete(t.pageIndex)}async updateMode(t,e=null,i=!1,a=!1,r=!1){var o,u,h;if(f(this,hs)!==t&&!(f(this,Gr)&&(await f(this,Gr).promise,!f(this,Gr)))){if(T(this,Gr,Promise.withResolvers()),(o=f(this,yh))==null||o.commitOrRemove(),T(this,hs,t),t===je.NONE){this.setEditingState(!1),B(this,ee,G4).call(this),(u=this._editorUndoBar)==null||u.hide(),f(this,Gr).resolve();return}t===je.SIGNATURE&&await((h=f(this,Eh))==null?void 0:h.loadSignatures()),this.setEditingState(!0),await B(this,ee,H4).call(this),this.unselectAll();for(const p of f(this,Ns).values())p.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),f(this,Gr).resolve();return}for(const p of f(this,ts).values())p.annotationElementId===e||p.id===e?(this.setSelected(p),r?p.editComment():a&&p.enterInEditMode()):p.unselect();f(this,Gr).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==f(this,hs)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(f(this,Mo)){switch(t){case ri.CREATE:this.currentLayer.addNewEditor(e);return;case ri.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,vm)||T(this,vm,new Map)).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const i of f(this,Ci))i.updateParams(t,e);else for(const i of f(this,Mo))i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var r;for(const o of f(this,ts).values())o.editorType===t&&o.show(e);(((r=f(this,vm))==null?void 0:r.get(ri.HIGHLIGHT_SHOW_ALL))??!0)!==e&&B(this,ee,kc).call(this,[[ri.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(f(this,gm)!==t){T(this,gm,t);for(const e of f(this,Ns).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of f(this,ts).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return f(this,ts).get(t)}addEditor(t){f(this,ts).set(t.id,t)}removeEditor(t){var e,i;t.div.contains(document.activeElement)&&(f(this,Ml)&&clearTimeout(f(this,Ml)),T(this,Ml,setTimeout(()=>{this.focusMainContainer(),T(this,Ml,null)},0))),f(this,ts).delete(t.id),t.annotationElementId&&((e=f(this,xh))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!f(this,od).has(t.annotationElementId))&&((i=f(this,jc))==null||i.remove(t.id))}addDeletedAnnotationElement(t){f(this,od).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return f(this,od).has(t)}removeDeletedAnnotationElement(t){f(this,od).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){f(this,ar)!==t&&(T(this,ar,t),t&&B(this,ee,kc).call(this,t.propertiesToUpdate))}updateUI(t){f(this,ee,V4)===t&&B(this,ee,kc).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){B(this,ee,kc).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(f(this,Ci).has(t)){f(this,Ci).delete(t),t.unselect(),B(this,ee,ma).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,Ci).add(t),t.select(),B(this,ee,kc).call(this,t.propertiesToUpdate),B(this,ee,ma).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),(e=f(this,yh))==null||e.commitOrRemove();for(const i of f(this,Ci))i!==t&&i.unselect();f(this,Ci).clear(),f(this,Ci).add(t),t.select(),B(this,ee,kc).call(this,t.propertiesToUpdate),B(this,ee,ma).call(this,{hasSelectedEditor:!0})}isSelected(t){return f(this,Ci).has(t)}get firstSelectedEditor(){return f(this,Ci).values().next().value}unselect(t){t.unselect(),f(this,Ci).delete(t),B(this,ee,ma).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,Ci).size!==0}get isEnterHandled(){return f(this,Ci).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;f(this,Hr).undo(),B(this,ee,ma).call(this,{hasSomethingToUndo:f(this,Hr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:B(this,ee,P0).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){f(this,Hr).redo(),B(this,ee,ma).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,Hr).hasSomethingToRedo(),isEmpty:B(this,ee,P0).call(this)})}addCommands(t){f(this,Hr).add(t),B(this,ee,ma).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:B(this,ee,P0).call(this)})}cleanUndoStack(t){f(this,Hr).cleanType(t)}delete(){var r;this.commitOrRemove();const t=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...f(this,Ci)],i=()=>{var o;(o=this._editorUndoBar)==null||o.show(a,e.length===1?e[0].editorType:e.length);for(const u of e)u.remove()},a=()=>{for(const o of e)B(this,ee,cA).call(this,o)};this.addCommands({cmd:i,undo:a,mustExec:!0})}commitOrRemove(){var t;(t=f(this,ar))==null||t.commitOrRemove()}hasSomethingToControl(){return f(this,ar)||this.hasSelection}selectAll(){for(const t of f(this,Ci))t.commit();B(this,ee,uA).call(this,f(this,ts).values())}unselectAll(){var t;if(!(f(this,ar)&&(f(this,ar).commitOrRemove(),f(this,hs)!==je.NONE))&&!((t=f(this,yh))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of f(this,Ci))e.unselect();f(this,Ci).clear(),B(this,ee,ma).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;f(this,Lh)[0]+=t,f(this,Lh)[1]+=e;const[a,r]=f(this,Lh),o=[...f(this,Ci)],u=1e3;f(this,Ol)&&clearTimeout(f(this,Ol)),T(this,Ol,setTimeout(()=>{T(this,Ol,null),f(this,Lh)[0]=f(this,Lh)[1]=0,this.addCommands({cmd:()=>{for(const h of o)f(this,ts).has(h.id)&&(h.translateInPage(a,r),h.translationDone())},undo:()=>{for(const h of o)f(this,ts).has(h.id)&&(h.translateInPage(-a,-r),h.translationDone())},mustExec:!1})},u));for(const h of o)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),T(this,Tl,new Map);for(const t of f(this,Ci))f(this,Tl).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,Tl))return!1;this.disableUserSelect(!1);const t=f(this,Tl);T(this,Tl,null);let e=!1;for(const[{x:a,y:r,pageIndex:o},u]of t)u.newX=a,u.newY=r,u.newPageIndex=o,e||(e=a!==u.savedX||r!==u.savedY||o!==u.savedPageIndex);if(!e)return!1;const i=(a,r,o,u)=>{if(f(this,ts).has(a.id)){const h=f(this,Ns).get(u);h?a._setParentAndPosition(h,r,o):(a.pageIndex=u,a.x=r,a.y=o)}};return this.addCommands({cmd:()=>{for(const[a,{newX:r,newY:o,newPageIndex:u}]of t)i(a,r,o,u)},undo:()=>{for(const[a,{savedX:r,savedY:o,savedPageIndex:u}]of t)i(a,r,o,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(f(this,Tl))for(const i of f(this,Tl).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||f(this,Ci).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return f(this,ar)===t}getActive(){return f(this,ar)}getMode(){return f(this,hs)}get imageManager(){return Ze(this,"imageManager",new nA)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,m=e.rangeCount;p<m;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:i,y:a,width:r,height:o}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(p,m,y,w)=>({x:(m-a)/o,y:1-(p+y-i)/r,width:w/o,height:y/r});break;case"180":u=(p,m,y,w)=>({x:1-(p+y-i)/r,y:1-(m+w-a)/o,width:y/r,height:w/o});break;case"270":u=(p,m,y,w)=>({x:1-(m+w-a)/o,y:(p-i)/r,width:w/o,height:y/r});break;default:u=(p,m,y,w)=>({x:(p-i)/r,y:(m-a)/o,width:y/r,height:w/o});break}const h=[];for(let p=0,m=e.rangeCount;p<m;p++){const y=e.getRangeAt(p);if(!y.collapsed)for(const{x:w,y:A,width:N,height:E}of y.getClientRects())N===0||E===0||h.push(u(w,A,N,E))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(f(this,Og)||T(this,Og,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=f(this,Og))==null||e.delete(t)}renderAnnotationElement(t){var a;const e=(a=f(this,Og))==null?void 0:a.get(t.data.id);if(!e)return;const i=f(this,jc).getRawValue(e);i&&(f(this,hs)===je.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){var r;const a=(r=f(this,xh))==null?void 0:r.get(t);a&&(a.setCanvas(e,i),f(this,xh).delete(t))}addMissingCanvas(t,e){(f(this,xh)||T(this,xh,new Map)).set(t,e)}};Mg=new WeakMap,ar=new WeakMap,ts=new WeakMap,Ns=new WeakMap,Rg=new WeakMap,jc=new WeakMap,Og=new WeakMap,Hr=new WeakMap,rd=new WeakMap,bh=new WeakMap,yh=new WeakMap,Dg=new WeakMap,od=new WeakMap,Tl=new WeakMap,Mo=new WeakMap,ld=new WeakMap,fm=new WeakMap,dm=new WeakMap,kg=new WeakMap,pm=new WeakMap,Ml=new WeakMap,Ah=new WeakMap,Pg=new WeakMap,wh=new WeakMap,Rl=new WeakMap,Zv=new WeakMap,Sh=new WeakMap,gm=new WeakMap,_h=new WeakMap,cd=new WeakMap,Ig=new WeakMap,xh=new WeakMap,mm=new WeakMap,hs=new WeakMap,Ci=new WeakMap,zc=new WeakMap,Eh=new WeakMap,Nh=new WeakMap,vm=new WeakMap,bm=new WeakMap,Lh=new WeakMap,Ol=new WeakMap,qc=new WeakMap,ym=new WeakMap,Am=new WeakMap,Gr=new WeakMap,ee=new WeakSet,ev=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},aA=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of f(this,Ns).values())if(i.hasTextLayer(t))return i;return null},I4=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=B(this,ee,ev).call(this,t).closest(".textLayer"),a=this.getSelectionBoxes(i);a&&(f(this,Rl)||T(this,Rl,new LL(this)),f(this,Rl).show(i,a,this.direction==="ltr"))},F4=function(){var r,o,u;const t=document.getSelection();if(!t||t.isCollapsed){f(this,zc)&&((r=f(this,Rl))==null||r.hide(),T(this,zc,null),B(this,ee,ma).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===f(this,zc))return;const a=B(this,ee,ev).call(this,t).closest(".textLayer");if(!a){f(this,zc)&&((o=f(this,Rl))==null||o.hide(),T(this,zc,null),B(this,ee,ma).call(this,{hasSelectedText:!1}));return}if((u=f(this,Rl))==null||u.hide(),T(this,zc,e),B(this,ee,ma).call(this,{hasSelectedText:!0}),!(f(this,hs)!==je.HIGHLIGHT&&f(this,hs)!==je.NONE)&&(f(this,hs)===je.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),T(this,wh,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=f(this,hs)===je.HIGHLIGHT?B(this,ee,aA).call(this,a):null;h==null||h.toggleDrawing();const p=new AbortController,m=this.combinedSignal(p),y=w=>{w.type==="pointerup"&&w.button!==0||(p.abort(),h==null||h.toggleDrawing(!0),w.type==="pointerup"&&B(this,ee,iv).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("blur",y,{signal:m})}},iv=function(t=""){f(this,hs)===je.HIGHLIGHT?this.highlightSelection(t):f(this,fm)&&B(this,ee,I4).call(this)},B4=function(){document.addEventListener("selectionchange",B(this,ee,F4).bind(this),{signal:this._signal})},j4=function(){if(f(this,Ah))return;T(this,Ah,new AbortController);const t=this.combinedSignal(f(this,Ah));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},z4=function(){var t;(t=f(this,Ah))==null||t.abort(),T(this,Ah,null)},rA=function(){if(f(this,_h))return;T(this,_h,new AbortController);const t=this.combinedSignal(f(this,_h));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},q4=function(){var t;(t=f(this,_h))==null||t.abort(),T(this,_h,null)},oA=function(){if(f(this,bh))return;T(this,bh,new AbortController);const t=this.combinedSignal(f(this,bh));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},lA=function(){var t;(t=f(this,bh))==null||t.abort(),T(this,bh,null)},U4=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},ma=function(t){Object.entries(t).some(([i,a])=>f(this,bm)[i]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,bm),t)}),f(this,hs)===je.HIGHLIGHT&&t.hasSelectedEditor===!1&&B(this,ee,kc).call(this,[[ri.HIGHLIGHT_FREE,!0]]))},kc=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},H4=async function(){if(!f(this,Sh)){T(this,Sh,!0);const t=[];for(const e of f(this,Ns).values())t.push(e.enable());await Promise.all(t);for(const e of f(this,ts).values())e.enable()}},G4=function(){if(this.unselectAll(),f(this,Sh)){T(this,Sh,!1);for(const t of f(this,Ns).values())t.disable();for(const t of f(this,ts).values())t.disable()}},cA=function(t){const e=f(this,Ns).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},V4=function(){let t=null;for(t of f(this,Ci));return t},P0=function(){if(f(this,ts).size===0)return!0;if(f(this,ts).size===1)for(const t of f(this,ts).values())return t.isEmpty();return!1},uA=function(t){for(const e of f(this,Ci))e.unselect();f(this,Ci).clear();for(const e of t)e.isEmpty()||(f(this,Ci).add(e),e.select());B(this,ee,ma).call(this,{hasSelectedEditor:this.hasSelection})},Xt(yg,"TRANSLATE_SMALL",1),Xt(yg,"TRANSLATE_BIG",10);let dp=yg;var fs,Dl,Ro,Fg,kl,rr,Bg,Pl,Fa,Uc,ud,Il,Ch,qo,I0,nv;const va=class va{constructor(t){F(this,qo);F(this,fs,null);F(this,Dl,!1);F(this,Ro,null);F(this,Fg,null);F(this,kl,null);F(this,rr,null);F(this,Bg,!1);F(this,Pl,null);F(this,Fa,null);F(this,Uc,null);F(this,ud,null);F(this,Il,!1);T(this,Fa,t),T(this,Il,t._uiManager.useNewAltTextFlow),f(va,Ch)||T(va,Ch,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){va._l10n??(va._l10n=t)}async render(){const t=T(this,Ro,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=T(this,Fg,document.createElement("span"));t.append(e),f(this,Il)?(t.classList.add("new"),t.setAttribute("data-l10n-id",f(va,Ch).missing),e.setAttribute("data-l10n-id",f(va,Ch)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=f(this,Fa)._uiManager._signal;t.addEventListener("contextmenu",Zr,{signal:i}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const a=r=>{r.preventDefault(),f(this,Fa)._uiManager.editAltText(f(this,Fa)),f(this,Il)&&f(this,Fa)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,qo,I0)}})};return t.addEventListener("click",a,{capture:!0,signal:i}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(T(this,Bg,!0),a(r))},{signal:i}),await B(this,qo,nv).call(this),t}finish(){f(this,Ro)&&(f(this,Ro).focus({focusVisible:f(this,Bg)}),T(this,Bg,!1))}isEmpty(){return f(this,Il)?f(this,fs)===null:!f(this,fs)&&!f(this,Dl)}hasData(){return f(this,Il)?f(this,fs)!==null||!!f(this,Uc):this.isEmpty()}get guessedText(){return f(this,Uc)}async setGuessedText(t){f(this,fs)===null&&(T(this,Uc,t),T(this,ud,await va._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),B(this,qo,nv).call(this))}toggleAltTextBadge(t=!1){var e;if(!f(this,Il)||f(this,fs)){(e=f(this,Pl))==null||e.remove(),T(this,Pl,null);return}if(!f(this,Pl)){const i=T(this,Pl,document.createElement("div"));i.className="noAltTextBadge",f(this,Fa).div.append(i)}f(this,Pl).classList.toggle("hidden",!t)}serialize(t){let e=f(this,fs);return!t&&f(this,Uc)===e&&(e=f(this,ud)),{altText:e,decorative:f(this,Dl),guessedText:f(this,Uc),textWithDisclaimer:f(this,ud)}}get data(){return{altText:f(this,fs),decorative:f(this,Dl)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:a,cancel:r=!1}){i&&(T(this,Uc,i),T(this,ud,a)),!(f(this,fs)===t&&f(this,Dl)===e)&&(r||(T(this,fs,t),T(this,Dl,e)),B(this,qo,nv).call(this))}toggle(t=!1){f(this,Ro)&&(!t&&f(this,rr)&&(clearTimeout(f(this,rr)),T(this,rr,null)),f(this,Ro).disabled=!t)}shown(){f(this,Fa)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,qo,I0)}})}destroy(){var t,e;(t=f(this,Ro))==null||t.remove(),T(this,Ro,null),T(this,Fg,null),T(this,kl,null),(e=f(this,Pl))==null||e.remove(),T(this,Pl,null)}};fs=new WeakMap,Dl=new WeakMap,Ro=new WeakMap,Fg=new WeakMap,kl=new WeakMap,rr=new WeakMap,Bg=new WeakMap,Pl=new WeakMap,Fa=new WeakMap,Uc=new WeakMap,ud=new WeakMap,Il=new WeakMap,Ch=new WeakMap,qo=new WeakSet,I0=function(){return f(this,fs)&&"added"||f(this,fs)===null&&this.guessedText&&"review"||"missing"},nv=async function(){var a,r,o;const t=f(this,Ro);if(!t)return;if(f(this,Il)){if(t.classList.toggle("done",!!f(this,fs)),t.setAttribute("data-l10n-id",f(va,Ch)[f(this,qo,I0)]),(a=f(this,Fg))==null||a.setAttribute("data-l10n-id",f(va,Ch)[`${f(this,qo,I0)}-label`]),!f(this,fs)){(r=f(this,kl))==null||r.remove();return}}else{if(!f(this,fs)&&!f(this,Dl)){t.classList.remove("done"),(o=f(this,kl))==null||o.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=f(this,kl);if(!e){T(this,kl,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${f(this,Fa).id}`;const u=100,h=f(this,Fa)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(f(this,rr)),T(this,rr,null)},{once:!0}),t.addEventListener("mouseenter",()=>{T(this,rr,setTimeout(()=>{T(this,rr,null),f(this,kl).classList.add("show"),f(this,Fa)._reportTelemetry({action:"alt_text_tooltip"})},u))},{signal:h}),t.addEventListener("mouseleave",()=>{var p;f(this,rr)&&(clearTimeout(f(this,rr)),T(this,rr,null)),(p=f(this,kl))==null||p.classList.remove("show")},{signal:h})}f(this,Dl)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=f(this,fs)),e.parentNode||t.append(e);const i=f(this,Fa).getElementForAltText();i==null||i.setAttribute("aria-describedby",e.id)},F(va,Ch,null),Xt(va,"_l10n",null);let Bv=va;var Fl,hd,Oo,wm,Hc,jg,Th;class z5{constructor(t){F(this,Fl,null);F(this,hd,!1);F(this,Oo,null);F(this,wm,null);F(this,Hc,null);F(this,jg,null);F(this,Th,!1);T(this,Oo,t),this.toolbar=null}render(){if(!f(this,Oo)._uiManager.hasCommentManager())return null;const t=T(this,Fl,document.createElement("button"));t.className="comment",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const e=f(this,Oo)._uiManager._signal;t.addEventListener("contextmenu",Zr,{signal:e}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:e});const i=a=>{a.preventDefault(),this.edit()};return t.addEventListener("click",i,{capture:!0,signal:e}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(T(this,hd,!0),i(a))},{signal:e}),t}edit(){const{bottom:t,left:e,right:i}=f(this,Oo).getClientDimensions(),a={top:t};f(this,Oo)._uiManager.direction==="ltr"?a.right=i:a.left=e,f(this,Oo)._uiManager.editComment(f(this,Oo),a)}finish(){f(this,Fl)&&(f(this,Fl).focus({focusVisible:f(this,hd)}),T(this,hd,!1))}isDeleted(){return f(this,Th)||f(this,Hc)===""}hasBeenEdited(){return this.isDeleted()||f(this,Hc)!==f(this,wm)}serialize(){return this.data}get data(){return{text:f(this,Hc),date:f(this,jg),deleted:f(this,Th)}}set data(t){if(t===null){T(this,Hc,""),T(this,Th,!0);return}T(this,Hc,t),T(this,jg,new Date),T(this,Th,!1)}setInitialText(t){T(this,wm,t),this.data=t}toggle(t=!1){f(this,Fl)&&(f(this,Fl).disabled=!t)}shown(){}destroy(){var t;(t=f(this,Fl))==null||t.remove(),T(this,Fl,null),T(this,Hc,""),T(this,jg,null),T(this,Oo,null),T(this,hd,!1),T(this,Th,!1)}}Fl=new WeakMap,hd=new WeakMap,Oo=new WeakMap,wm=new WeakMap,Hc=new WeakMap,jg=new WeakMap,Th=new WeakMap;var zg,fd,Sm,_m,xm,Em,Nm,Gc,dd,Vc,pd,Yc,hf,Y4,X4,W4;const Gw=class Gw{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:a=null,onPinching:r=null,onPinchEnd:o=null,signal:u}){F(this,hf);F(this,zg);F(this,fd,!1);F(this,Sm,null);F(this,_m);F(this,xm);F(this,Em);F(this,Nm);F(this,Gc,null);F(this,dd);F(this,Vc,null);F(this,pd);F(this,Yc,null);T(this,zg,t),T(this,Sm,i),T(this,_m,e),T(this,xm,a),T(this,Em,r),T(this,Nm,o),T(this,pd,new AbortController),T(this,dd,AbortSignal.any([u,f(this,pd).signal])),t.addEventListener("touchstart",B(this,hf,Y4).bind(this),{passive:!1,signal:f(this,dd)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Zl.pixelRatio}destroy(){var t,e;(t=f(this,pd))==null||t.abort(),T(this,pd,null),(e=f(this,Gc))==null||e.abort(),T(this,Gc,null)}};zg=new WeakMap,fd=new WeakMap,Sm=new WeakMap,_m=new WeakMap,xm=new WeakMap,Em=new WeakMap,Nm=new WeakMap,Gc=new WeakMap,dd=new WeakMap,Vc=new WeakMap,pd=new WeakMap,Yc=new WeakMap,hf=new WeakSet,Y4=function(t){var a,r,o;if((a=f(this,_m))!=null&&a.call(this))return;if(t.touches.length===1){if(f(this,Gc))return;const u=T(this,Gc,new AbortController),h=AbortSignal.any([f(this,dd),u.signal]),p=f(this,zg),m={capture:!0,signal:h,passive:!1},y=w=>{var A;w.pointerType==="touch"&&((A=f(this,Gc))==null||A.abort(),T(this,Gc,null))};p.addEventListener("pointerdown",w=>{w.pointerType==="touch"&&(Yn(w),y(w))},m),p.addEventListener("pointerup",y,m),p.addEventListener("pointercancel",y,m);return}if(!f(this,Yc)){T(this,Yc,new AbortController);const u=AbortSignal.any([f(this,dd),f(this,Yc).signal]),h=f(this,zg),p={signal:u,capture:!1,passive:!1};h.addEventListener("touchmove",B(this,hf,X4).bind(this),p);const m=B(this,hf,W4).bind(this);h.addEventListener("touchend",m,p),h.addEventListener("touchcancel",m,p),p.capture=!0,h.addEventListener("pointerdown",Yn,p),h.addEventListener("pointermove",Yn,p),h.addEventListener("pointercancel",Yn,p),h.addEventListener("pointerup",Yn,p),(r=f(this,xm))==null||r.call(this)}if(Yn(t),t.touches.length!==2||(o=f(this,Sm))!=null&&o.call(this)){T(this,Vc,null);return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),T(this,Vc,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY})},X4=function(t){var W;if(!f(this,Vc)||t.touches.length!==2)return;Yn(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:a,screenY:r}=e,{screenX:o,screenY:u}=i,h=f(this,Vc),{touch0X:p,touch0Y:m,touch1X:y,touch1Y:w}=h,A=y-p,N=w-m,E=o-a,M=u-r,L=Math.hypot(E,M)||1,R=Math.hypot(A,N)||1;if(!f(this,fd)&&Math.abs(R-L)<=Gw.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=a,h.touch0Y=r,h.touch1X=o,h.touch1Y=u,!f(this,fd)){T(this,fd,!0);return}const P=[(a+o)/2,(r+u)/2];(W=f(this,Em))==null||W.call(this,P,R,L)},W4=function(t){var e;t.touches.length>=2||(f(this,Yc)&&(f(this,Yc).abort(),T(this,Yc,null),(e=f(this,Nm))==null||e.call(this)),f(this,Vc)&&(Yn(t),T(this,Vc,null),T(this,fd,!1)))};let jv=Gw;var gd,Do,sn,Ls,qg,Mh,Lm,md,Cs,vd,Xc,Rh,Cm,bd,or,Tm,yd,Wc,Bl,Ug,Hg,Vr,Ad,Mm,Jv,xe,hA,Rm,fA,sv,K4,$4,dA,av,pA,Q4,Z4,J4,gA,tx,mA,ex,ix,nx,vA,F0;const Ye=class Ye{constructor(t){F(this,xe);F(this,gd,null);F(this,Do,null);F(this,sn,null);F(this,Ls,null);F(this,qg,!1);F(this,Mh,null);F(this,Lm,"");F(this,md,!1);F(this,Cs,null);F(this,vd,null);F(this,Xc,null);F(this,Rh,null);F(this,Cm,"");F(this,bd,!1);F(this,or,null);F(this,Tm,!1);F(this,yd,!1);F(this,Wc,!1);F(this,Bl,null);F(this,Ug,0);F(this,Hg,0);F(this,Vr,null);F(this,Ad,null);Xt(this,"isSelected",!1);Xt(this,"_isCopy",!1);Xt(this,"_editToolbar",null);Xt(this,"_initialOptions",Object.create(null));Xt(this,"_initialData",null);Xt(this,"_isVisible",!0);Xt(this,"_uiManager",null);Xt(this,"_focusEventsAllowed",!0);F(this,Mm,!1);F(this,Jv,Ye._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:a,pageX:r,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,a],this.pageTranslation=[r,o];const[u,h]=this.parentDimensions;this.x=t.x/u,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Ye.prototype._resizeWithKeyboard,e=dp.TRANSLATE_SMALL,i=dp.TRANSLATE_BIG;return Ze(this,"_resizerKeyboardManager",new j2([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],Ye.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ze(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new ML({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Ye._l10n??(Ye._l10n=t),Ye._l10nResizer||(Ye._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ye._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Ye._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Ii("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,Mm)}set _isDraggable(t){var e;T(this,Mm,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,Jv)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):B(this,xe,F0).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(f(this,bd)?T(this,bd,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,a){const[r,o]=this.parentDimensions;[i,a]=this.screenToPageTranslation(i,a),this.x=(t+i)/r,this.y=(e+a)/o,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,a]=this.parentDimensions;this.setAt(t*i,e*a,this.width*i,this.height*a),this._onTranslated()}translate(t,e){B(this,xe,hA).call(this,this.parentDimensions,t,e)}translateInPage(t,e){f(this,or)||T(this,or,[this.x,this.y,this.width,this.height]),B(this,xe,hA).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){f(this,or)||T(this,or,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[a,r]}=this;if(this.x+=t/a,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:y,y:w}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,w)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:u}=this;const[h,p]=this.getBaseTranslation();o+=h,u+=p;const{style:m}=i;m.left=`${(100*o).toFixed(2)}%`,m.top=`${(100*u).toFixed(2)}%`,this._onTranslating(o,u),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!f(this,or)&&(f(this,or)[0]!==this.x||f(this,or)[1]!==this.y)}get _hasBeenResized(){return!!f(this,or)&&(f(this,or)[2]!==this.width||f(this,or)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=Ye,a=i/t,r=i/e;switch(this.rotation){case 90:return[-a,r];case 180:return[a,r];case 270:return[a,-r];default:return[-a,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,a]}=this;let{x:r,y:o,width:u,height:h}=this;if(u*=i,h*=a,r*=i,o*=a,this._mustFixPosition)switch(t){case 0:r=Sa(r,0,i-u),o=Sa(o,0,a-h);break;case 90:r=Sa(r,0,i-h),o=Sa(o,u,a);break;case 180:r=Sa(r,u,i),o=Sa(o,h,a);break;case 270:r=Sa(r,h,i),o=Sa(o,0,a-u);break}this.x=r/=i,this.y=o/=a;const[p,m]=this.getBaseTranslation();r+=p,o+=m,e.left=`${(100*r).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return B(i=Ye,Rm,fA).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return B(i=Ye,Rm,fA).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,a]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*t/i).toFixed(2)}%`,f(this,md)||(r.height=`${(100*e/a).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,a=i.endsWith("%"),r=!f(this,md)&&e.endsWith("%");if(a&&r)return;const[o,u]=this.parentDimensions;a||(t.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!f(this,md)&&!r&&(t.height=`${(100*parseFloat(e)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=f(this,sn))==null||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||f(this,yd))return this._editToolbar;this._editToolbar=new iA(this),this.div.append(this._editToolbar.render()),this._editToolbar.addButton("comment",this.addCommentButton());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=f(this,sn))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return f(this,sn)||(Bv.initialize(Ye._l10n),T(this,sn,new Bv(this)),f(this,gd)&&(f(this,sn).data=f(this,gd),T(this,gd,null))),f(this,sn)}get altTextData(){var t;return(t=f(this,sn))==null?void 0:t.data}set altTextData(t){f(this,sn)&&(f(this,sn).data=t)}get guessedAltText(){var t;return(t=f(this,sn))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=f(this,sn))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=f(this,sn))==null?void 0:e.serialize(t)}hasAltText(){return!!f(this,sn)&&!f(this,sn).isEmpty()}hasAltTextData(){var t;return((t=f(this,sn))==null?void 0:t.hasData())??!1}addCommentButton(){return f(this,Ls)?f(this,Ls):T(this,Ls,new z5(this))}get commentColor(){return null}get comment(){const t=f(this,Ls);return{text:t.data.text,date:t.data.date,deleted:t.isDeleted(),color:this.commentColor}}set comment(t){f(this,Ls)||T(this,Ls,new z5(this)),f(this,Ls).data=t}setCommentData(t){f(this,Ls)||T(this,Ls,new z5(this)),f(this,Ls).setInitialText(t)}get hasEditedComment(){var t;return(t=f(this,Ls))==null?void 0:t.hasBeenEdited()}async editComment(){f(this,Ls)||T(this,Ls,new z5(this)),f(this,Ls).edit()}addComment(t){this.hasEditedComment&&(t.popup={contents:this.comment.text,deleted:this.comment.deleted})}render(){var o;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=f(this,qg)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),B(this,xe,mA).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[a,r]=this.getInitialTranslation();return this.translate(a,r),k4(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(f(this,Ad)||T(this,Ad,new jv({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:B(this,xe,Q4).bind(this),onPinching:B(this,xe,Z4).bind(this),onPinchEnd:B(this,xe,J4).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),t}pointerdown(t){const{isMac:e}=Ps.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(T(this,bd,!0),this._isDraggable){B(this,xe,tx).call(this,t);return}B(this,xe,gA).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){f(this,Bl)&&clearTimeout(f(this,Bl)),T(this,Bl,setTimeout(()=>{var t;T(this,Bl,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const a=this.parentScale,[r,o]=this.pageDimensions,[u,h]=this.pageTranslation,p=t/a,m=e/a,y=this.x*r,w=this.y*o,A=this.width*r,N=this.height*o;switch(i){case 0:return[y+p+u,o-w-m-N+h,y+p+A+u,o-w-m+h];case 90:return[y+m+u,o-w+p+h,y+m+N+u,o-w+p+A+h];case 180:return[y-p-A+u,o-w+m+h,y-p+u,o-w+m+N+h];case 270:return[y-m-N+u,o-w-p-A+h,y-m+u,o-w-p+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,a,r,o]=t,u=r-i,h=o-a;switch(this.rotation){case 0:return[i,e-o,u,h];case 90:return[i,e-a,h,u];case 180:return[r,e-a,u,h];case 270:return[r,e-o,h,u];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),T(this,yd,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),T(this,yd,!1),!0):!1}isInEditMode(){return f(this,yd)}shouldGetKeyboardEvents(){return f(this,Wc)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:a}=this.getClientDimensions(),{innerHeight:r,innerWidth:o}=window;return e<o&&a>0&&t<r&&i>0}rebuild(){B(this,xe,mA).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){Ii("An editor must be serializable")}static async deserialize(t,e,i){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId});a.rotation=t.rotation,T(a,gd,t.accessibilityData),a._isCopy=t.isCopy||!1;const[r,o]=a.pageDimensions,[u,h,p,m]=a.getRectInCurrentCoords(t.rect,o);return a.x=u/r,a.y=h/o,a.width=p/r,a.height=m/o,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=f(this,Rh))==null||t.abort(),T(this,Rh,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),f(this,Bl)&&(clearTimeout(f(this,Bl)),T(this,Bl,null)),B(this,xe,F0).call(this),this.removeEditToolbar(),f(this,Vr)){for(const i of f(this,Vr).values())clearTimeout(i);T(this,Vr,null)}this.parent=null,(e=f(this,Ad))==null||e.destroy(),T(this,Ad,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(B(this,xe,K4).call(this),f(this,Cs).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),T(this,Xc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=f(this,Cs).children;if(!f(this,Do)){T(this,Do,Array.from(e));const o=B(this,xe,ex).bind(this),u=B(this,xe,ix).bind(this),h=this._uiManager._signal;for(const p of f(this,Do)){const m=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",o,{signal:h}),p.addEventListener("blur",u,{signal:h}),p.addEventListener("focus",B(this,xe,nx).bind(this,m),{signal:h}),p.setAttribute("data-l10n-id",Ye._l10nResizer[m])}}const i=f(this,Do)[0];let a=0;for(const o of e){if(o===i)break;a++}const r=(360-this.rotation+this.parentRotation)%360/90*(f(this,Do).length/4);if(r!==a){if(r<a)for(let u=0;u<a-r;u++)f(this,Cs).append(f(this,Cs).firstChild);else if(r>a)for(let u=0;u<r-a;u++)f(this,Cs).firstChild.before(f(this,Cs).lastChild);let o=0;for(const u of e){const p=f(this,Do)[o++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",Ye._l10nResizer[p])}}B(this,xe,vA).call(this,0),T(this,Wc,!0),f(this,Cs).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){f(this,Wc)&&B(this,xe,pA).call(this,f(this,Cm),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){B(this,xe,F0).call(this),this.div.focus()}select(){var t,e,i;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var a,r;(a=this.div)!=null&&a.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(e=this._editToolbar)==null||e.show(),(i=f(this,sn))==null||i.toggleAltTextBadge(!1)}}unselect(){var t,e,i,a,r;this.isSelected&&(this.isSelected=!1,(t=f(this,Cs))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(a=this._editToolbar)==null||a.hide(),(r=f(this,sn))==null||r.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return f(this,Tm)}set isEditing(t){T(this,Tm,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){T(this,md,!0);const i=t/e,{style:a}=this.div;a.aspectRatio=i,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){f(this,Vr)||T(this,Vr,new Map);const{action:i}=t;let a=f(this,Vr).get(i);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),f(this,Vr).delete(i),f(this,Vr).size===0&&T(this,Vr,null)},Ye._telemetryTimeout),f(this,Vr).set(i,a);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),T(this,qg,!1)}disable(){this.div&&(this.div.tabIndex=-1),T(this,qg,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};gd=new WeakMap,Do=new WeakMap,sn=new WeakMap,Ls=new WeakMap,qg=new WeakMap,Mh=new WeakMap,Lm=new WeakMap,md=new WeakMap,Cs=new WeakMap,vd=new WeakMap,Xc=new WeakMap,Rh=new WeakMap,Cm=new WeakMap,bd=new WeakMap,or=new WeakMap,Tm=new WeakMap,yd=new WeakMap,Wc=new WeakMap,Bl=new WeakMap,Ug=new WeakMap,Hg=new WeakMap,Vr=new WeakMap,Ad=new WeakMap,Mm=new WeakMap,Jv=new WeakMap,xe=new WeakSet,hA=function([t,e],i,a){[i,a]=this.screenToPageTranslation(i,a),this.x+=i/t,this.y+=a/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Rm=new WeakSet,fA=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},sv=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},K4=function(){if(f(this,Cs))return;T(this,Cs,document.createElement("div")),f(this,Cs).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const a=document.createElement("div");f(this,Cs).append(a),a.classList.add("resizer",i),a.setAttribute("data-resizer-name",i),a.addEventListener("pointerdown",B(this,xe,$4).bind(this,i),{signal:e}),a.addEventListener("contextmenu",Zr,{signal:e}),a.tabIndex=-1}this.div.prepend(f(this,Cs))},$4=function(t,e){var m;e.preventDefault();const{isMac:i}=Ps.platform;if(e.button!==0||e.ctrlKey&&i)return;(m=f(this,sn))==null||m.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,T(this,vd,[e.screenX,e.screenY]);const r=new AbortController,o=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",B(this,xe,pA).bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Yn,{passive:!1,signal:o}),window.addEventListener("contextmenu",Zr,{signal:o}),T(this,Xc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const p=()=>{var y;r.abort(),this.parent.togglePointerEvents(!0),(y=f(this,sn))==null||y.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=u,this.div.style.cursor=h,B(this,xe,av).call(this)};window.addEventListener("pointerup",p,{signal:o}),window.addEventListener("blur",p,{signal:o})},dA=function(t,e,i,a){this.width=i,this.height=a,this.x=t,this.y=e;const[r,o]=this.parentDimensions;this.setDims(r*i,o*a),this.fixAndSetPosition(),this._onResized()},av=function(){if(!f(this,Xc))return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:a}=f(this,Xc);T(this,Xc,null);const r=this.x,o=this.y,u=this.width,h=this.height;r===t&&o===e&&u===i&&h===a||this.addCommands({cmd:B(this,xe,dA).bind(this,r,o,u,h),undo:B(this,xe,dA).bind(this,t,e,i,a),mustExec:!0})},pA=function(t,e){const[i,a]=this.parentDimensions,r=this.x,o=this.y,u=this.width,h=this.height,p=Ye.MIN_SIZE/i,m=Ye.MIN_SIZE/a,y=B(this,xe,sv).call(this,this.rotation),w=(U,tt)=>[y[0]*U+y[2]*tt,y[1]*U+y[3]*tt],A=B(this,xe,sv).call(this,360-this.rotation),N=(U,tt)=>[A[0]*U+A[2]*tt,A[1]*U+A[3]*tt];let E,M,L=!1,R=!1;switch(t){case"topLeft":L=!0,E=(U,tt)=>[0,0],M=(U,tt)=>[U,tt];break;case"topMiddle":E=(U,tt)=>[U/2,0],M=(U,tt)=>[U/2,tt];break;case"topRight":L=!0,E=(U,tt)=>[U,0],M=(U,tt)=>[0,tt];break;case"middleRight":R=!0,E=(U,tt)=>[U,tt/2],M=(U,tt)=>[0,tt/2];break;case"bottomRight":L=!0,E=(U,tt)=>[U,tt],M=(U,tt)=>[0,0];break;case"bottomMiddle":E=(U,tt)=>[U/2,tt],M=(U,tt)=>[U/2,0];break;case"bottomLeft":L=!0,E=(U,tt)=>[0,tt],M=(U,tt)=>[U,0];break;case"middleLeft":R=!0,E=(U,tt)=>[0,tt/2],M=(U,tt)=>[U,tt/2];break}const P=E(u,h),W=M(u,h);let X=w(...W);const it=Ye._round(r+X[0]),J=Ye._round(o+X[1]);let Z=1,ct=1,bt,z;if(e.fromKeyboard)({deltaX:bt,deltaY:z}=e);else{const{screenX:U,screenY:tt}=e,[ht,At]=f(this,vd);[bt,z]=this.screenToPageTranslation(U-ht,tt-At),f(this,vd)[0]=U,f(this,vd)[1]=tt}if([bt,z]=N(bt/i,z/a),L){const U=Math.hypot(u,h);Z=ct=Math.max(Math.min(Math.hypot(W[0]-P[0]-bt,W[1]-P[1]-z)/U,1/u,1/h),p/u,m/h)}else R?Z=Sa(Math.abs(W[0]-P[0]-bt),p,1)/u:ct=Sa(Math.abs(W[1]-P[1]-z),m,1)/h;const K=Ye._round(u*Z),ot=Ye._round(h*ct);X=w(...M(K,ot));const st=it-X[0],Et=J-X[1];f(this,or)||T(this,or,[this.x,this.y,this.width,this.height]),this.width=K,this.height=ot,this.x=st,this.y=Et,this.setDims(i*K,a*ot),this.fixAndSetPosition(),this._onResizing()},Q4=function(){var t;T(this,Xc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=f(this,sn))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},Z4=function(t,e,i){let r=.7*(i/e)+1-.7;if(r===1)return;const o=B(this,xe,sv).call(this,this.rotation),u=(it,J)=>[o[0]*it+o[2]*J,o[1]*it+o[3]*J],[h,p]=this.parentDimensions,m=this.x,y=this.y,w=this.width,A=this.height,N=Ye.MIN_SIZE/h,E=Ye.MIN_SIZE/p;r=Math.max(Math.min(r,1/w,1/A),N/w,E/A);const M=Ye._round(w*r),L=Ye._round(A*r);if(M===w&&L===A)return;f(this,or)||T(this,or,[m,y,w,A]);const R=u(w/2,A/2),P=Ye._round(m+R[0]),W=Ye._round(y+R[1]),X=u(M/2,L/2);this.x=P-X[0],this.y=W-X[1],this.width=M,this.height=L,this.setDims(h*M,p*L),this.fixAndSetPosition(),this._onResizing()},J4=function(){var t;(t=f(this,sn))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),B(this,xe,av).call(this)},gA=function(t){const{isMac:e}=Ps.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},tx=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const a=new AbortController,r=this._uiManager.combinedSignal(a),o={capture:!0,passive:!1,signal:r},u=p=>{a.abort(),T(this,Mh,null),T(this,bd,!1),this._uiManager.endDragSession()||B(this,xe,gA).call(this,p),i&&this._onStopDragging()};e&&(T(this,Ug,t.clientX),T(this,Hg,t.clientY),T(this,Mh,t.pointerId),T(this,Lm,t.pointerType),window.addEventListener("pointermove",p=>{i||(i=!0,this._onStartDragging());const{clientX:m,clientY:y,pointerId:w}=p;if(w!==f(this,Mh)){Yn(p);return}const[A,N]=this.screenToPageTranslation(m-f(this,Ug),y-f(this,Hg));T(this,Ug,m),T(this,Hg,y),this._uiManager.dragSelectedEditors(A,N)},o),window.addEventListener("touchmove",Yn,o),window.addEventListener("pointerdown",p=>{p.pointerType===f(this,Lm)&&(f(this,Ad)||p.isPrimary)&&u(p),Yn(p)},o));const h=p=>{if(!f(this,Mh)||f(this,Mh)===p.pointerId){u(p);return}Yn(p)};window.addEventListener("pointerup",h,{signal:r}),window.addEventListener("blur",h,{signal:r})},mA=function(){if(f(this,Rh)||!this.div)return;T(this,Rh,new AbortController);const t=this._uiManager.combinedSignal(f(this,Rh));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},ex=function(t){Ye._resizerKeyboardManager.exec(this,t)},ix=function(t){var e;f(this,Wc)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==f(this,Cs)&&B(this,xe,F0).call(this)},nx=function(t){T(this,Cm,f(this,Wc)?t:"")},vA=function(t){if(f(this,Do))for(const e of f(this,Do))e.tabIndex=t},F0=function(){T(this,Wc,!1),B(this,xe,vA).call(this,-1),B(this,xe,av).call(this)},F(Ye,Rm),Xt(Ye,"_l10n",null),Xt(Ye,"_l10nResizer",null),Xt(Ye,"_borderLineWidth",-1),Xt(Ye,"_colorManager",new sA),Xt(Ye,"_zIndex",1),Xt(Ye,"_telemetryTimeout",1e3);let Gi=Ye;class ML extends Gi{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const E_=3285377520,qr=4294901760,Nl=65535;class sx{constructor(t){this.h1=t?t&4294967295:E_,this.h2=t?t&4294967295:E_}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let E=0,M=t.length;E<M;E++){const L=t.charCodeAt(E);L<=255?e[i++]=L:(e[i++]=L>>>8,e[i++]=L&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=i>>2,r=i-a*4,o=new Uint32Array(e.buffer,0,a);let u=0,h=0,p=this.h1,m=this.h2;const y=3432918353,w=461845907,A=y&Nl,N=w&Nl;for(let E=0;E<a;E++)E&1?(u=o[E],u=u*y&qr|u*A&Nl,u=u<<15|u>>>17,u=u*w&qr|u*N&Nl,p^=u,p=p<<13|p>>>19,p=p*5+3864292196):(h=o[E],h=h*y&qr|h*A&Nl,h=h<<15|h>>>17,h=h*w&qr|h*N&Nl,m^=h,m=m<<13|m>>>19,m=m*5+3864292196);switch(u=0,r){case 3:u^=e[a*4+2]<<16;case 2:u^=e[a*4+1]<<8;case 1:u^=e[a*4],u=u*y&qr|u*A&Nl,u=u<<15|u>>>17,u=u*w&qr|u*N&Nl,a&1?p^=u:m^=u}this.h1=p,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&qr|t*36045&Nl,e=e*4283543511&qr|((e<<16|t>>>16)*2950163797&qr)>>>16,t^=e>>>1,t=t*444984403&qr|t*60499&Nl,e=e*3301882366&qr|((e<<16|t>>>16)*3120437893&qr)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const bA=Object.freeze({map:null,hash:"",transfer:void 0});var wd,Sd,Ts,tb,ax;class Dw{constructor(){F(this,tb);F(this,wd,!1);F(this,Sd,null);F(this,Ts,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=f(this,Ts).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return f(this,Ts).get(t)}remove(t){if(f(this,Ts).delete(t),f(this,Ts).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of f(this,Ts).values())if(e instanceof Gi)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=f(this,Ts).get(t);let a=!1;if(i!==void 0)for(const[r,o]of Object.entries(e))i[r]!==o&&(a=!0,i[r]=o);else a=!0,f(this,Ts).set(t,e);a&&B(this,tb,ax).call(this),e instanceof Gi&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return f(this,Ts).has(t)}get size(){return f(this,Ts).size}resetModified(){f(this,wd)&&(T(this,wd,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new rx(this)}get serializable(){if(f(this,Ts).size===0)return bA;const t=new Map,e=new sx,i=[],a=Object.create(null);let r=!1;for(const[o,u]of f(this,Ts)){const h=u instanceof Gi?u.serialize(!1,a):u;h&&(t.set(o,h),e.update(`${o}:${JSON.stringify(h)}`),r||(r=!!h.bitmap))}if(r)for(const o of t.values())o.bitmap&&i.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:bA}get editorStats(){let t=null;const e=new Map;for(const i of f(this,Ts).values()){if(!(i instanceof Gi))continue;const a=i.telemetryFinalData;if(!a)continue;const{type:r}=a;e.has(r)||e.set(r,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const o=t[r]||(t[r]=new Map);for(const[u,h]of Object.entries(a)){if(u==="type")continue;let p=o.get(u);p||(p=new Map,o.set(u,p));const m=p.get(h)??0;p.set(h,m+1)}}for(const[i,a]of e)t[i]=a.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){T(this,Sd,null)}get modifiedIds(){if(f(this,Sd))return f(this,Sd);const t=[];for(const e of f(this,Ts).values())!(e instanceof Gi)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return T(this,Sd,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return f(this,Ts).entries()}}wd=new WeakMap,Sd=new WeakMap,Ts=new WeakMap,tb=new WeakSet,ax=function(){f(this,wd)||(T(this,wd,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Om;class rx extends Dw{constructor(e){super();F(this,Om);const{map:i,hash:a,transfer:r}=e.serializable,o=structuredClone(i,r?{transfer:r}:null);T(this,Om,{map:o,hash:a,transfer:r})}get print(){Ii("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,Om)}get modifiedIds(){return Ze(this,"modifiedIds",{ids:new Set,hash:""})}}Om=new WeakMap;var Gg;class RL{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){F(this,Gg,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),f(this,Gg).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||f(this,Gg).has(t.loadedName))){if(Xn(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:r,style:o}=t,u=new FontFace(a,r,o);this.addNativeFontFace(u);try{await u.load(),f(this,Gg).add(a),i==null||i(t)}catch{ze(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Ii("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(a){throw ze(`Failed to load font '${i.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const a=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Ze(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Ze(this,"isSyncFontLoadingSupported",wa||Ps.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Xn(!a.done,"completeRequest() cannot be called twice."),a.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,a={done:!1,complete:e,callback:t};return i.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ze(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(W,X){return W.charCodeAt(X)<<24|W.charCodeAt(X+1)<<16|W.charCodeAt(X+2)<<8|W.charCodeAt(X+3)&255}function a(W,X,it,J){const Z=W.substring(0,X),ct=W.substring(X+it);return Z+J+ct}let r,o;const u=this._document.createElement("canvas");u.width=1,u.height=1;const h=u.getContext("2d");let p=0;function m(W,X){if(++p>30){ze("Load test font never loaded."),X();return}if(h.font="30px "+W,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){X();return}setTimeout(m.bind(null,W,X))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let w=this._loadTestFont;w=a(w,976,y.length,y);const N=16,E=1482184792;let M=i(w,N);for(r=0,o=y.length-3;r<o;r+=4)M=M-E+i(y,r)|0;r<y.length&&(M=M-E+i(y+"XXX",r)|0),w=a(w,N,4,gL(M));const L=`url(data:font/opentype;base64,${btoa(w)});`,R=`@font-face {font-family:"${y}";src:${L}}`;this.insertRule(R);const P=this._document.createElement("div");P.style.visibility="hidden",P.style.width=P.style.height="10px",P.style.position="absolute",P.style.top=P.style.left="0px";for(const W of[t.loadedName,y]){const X=this._document.createElement("span");X.textContent="Hi",X.style.fontFamily=W,P.append(X)}this._document.body.append(P),m(y,()=>{P.remove(),e.complete()})}}Gg=new WeakMap;class OL{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this._inspectFont=e}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${L4(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let a;try{a=t.get(i)}catch(o){ze(`getPathGenerator - ignoring character: "${o}".`)}const r=new Path2D(a||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=r}}function DL(c){if(c instanceof URL)return c.href;if(typeof c=="string"){if(wa)return c;const t=URL.parse(c,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function kL(c){if(wa&&typeof Buffer<"u"&&c instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength)return c;if(typeof c=="string")return I2(c);if(c instanceof ArrayBuffer||ArrayBuffer.isView(c)||typeof c=="object"&&!isNaN(c==null?void 0:c.length))return new Uint8Array(c);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function q5(c){if(typeof c!="string")return null;if(c.endsWith("/"))return c;throw new Error(`Invalid factory url: "${c}" must include trailing slash.`)}const yA=c=>typeof c=="object"&&Number.isInteger(c==null?void 0:c.num)&&c.num>=0&&Number.isInteger(c==null?void 0:c.gen)&&c.gen>=0,PL=c=>typeof c=="object"&&typeof(c==null?void 0:c.name)=="string",IL=AL.bind(null,yA,PL);var Kc,eb;class FL{constructor(){F(this,Kc,new Map);F(this,eb,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};f(this,eb).then(()=>{for(const[a]of f(this,Kc))a.call(this,i)})}addEventListener(t,e,i=null){let a=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:r}=i;if(r.aborted){ze("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);a=()=>r.removeEventListener("abort",o),r.addEventListener("abort",o)}f(this,Kc).set(e,a)}removeEventListener(t,e){const i=f(this,Kc).get(e);i==null||i(),f(this,Kc).delete(e)}terminate(){for(const[,t]of f(this,Kc))t==null||t();f(this,Kc).clear()}}Kc=new WeakMap,eb=new WeakMap;const U5={DATA:1,ERROR:2},Gn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function N_(){}function Pa(c){if(c instanceof rf||c instanceof Jy||c instanceof S_||c instanceof Iv||c instanceof Iy)return c;switch(c instanceof Error||typeof c=="object"&&c!==null||Ii('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),c.name){case"AbortException":return new rf(c.message);case"InvalidPDFException":return new Jy(c.message);case"PasswordException":return new S_(c.message,c.code);case"ResponseException":return new Iv(c.message,c.status,c.missing);case"UnknownErrorException":return new Iy(c.message,c.details)}return new Iy(c.message,c.toString())}var Vg,Qr,ox,lx,cx,rv;class B0{constructor(t,e,i){F(this,Qr);F(this,Vg,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",B(this,Qr,ox).bind(this),{signal:f(this,Vg).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const a=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[a]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},i)}catch(o){r.reject(o)}return r.promise}sendWithStream(t,e,i,a){const r=this.streamId++,o=this.sourceName,u=this.targetName,h=this.comObj;return new ReadableStream({start:p=>{const m=Promise.withResolvers();return this.streamControllers[r]={controller:p,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:o,targetName:u,action:t,streamId:r,data:e,desiredSize:p.desiredSize},a),m.promise},pull:p=>{const m=Promise.withResolvers();return this.streamControllers[r].pullCall=m,h.postMessage({sourceName:o,targetName:u,stream:Gn.PULL,streamId:r,desiredSize:p.desiredSize}),m.promise},cancel:p=>{Xn(p instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[r].cancelCall=m,this.streamControllers[r].isClosed=!0,h.postMessage({sourceName:o,targetName:u,stream:Gn.CANCEL,streamId:r,reason:Pa(p)}),m.promise}},i)}destroy(){var t;(t=f(this,Vg))==null||t.abort(),T(this,Vg,null)}}Vg=new WeakMap,Qr=new WeakSet,ox=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){B(this,Qr,cx).call(this,t);return}if(t.callback){const i=t.callbackId,a=this.callbackCapabilities[i];if(!a)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===U5.DATA)a.resolve(t.data);else if(t.callback===U5.ERROR)a.reject(Pa(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,a=t.sourceName,r=this.comObj;Promise.try(e,t.data).then(function(o){r.postMessage({sourceName:i,targetName:a,callback:U5.DATA,callbackId:t.callbackId,data:o})},function(o){r.postMessage({sourceName:i,targetName:a,callback:U5.ERROR,callbackId:t.callbackId,reason:Pa(o)})});return}if(t.streamId){B(this,Qr,lx).call(this,t);return}e(t.data)},lx=function(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,r=this.comObj,o=this,u=this.actionHandler[t.action],h={enqueue(p,m=1,y){if(this.isCancelled)return;const w=this.desiredSize;this.desiredSize-=m,w>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:a,stream:Gn.ENQUEUE,streamId:e,chunk:p},y)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:a,stream:Gn.CLOSE,streamId:e}),delete o.streamSinks[e])},error(p){Xn(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:a,stream:Gn.ERROR,streamId:e,reason:Pa(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(u,t.data,h).then(function(){r.postMessage({sourceName:i,targetName:a,stream:Gn.START_COMPLETE,streamId:e,success:!0})},function(p){r.postMessage({sourceName:i,targetName:a,stream:Gn.START_COMPLETE,streamId:e,reason:Pa(p)})})},cx=function(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,r=this.comObj,o=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case Gn.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(Pa(t.reason));break;case Gn.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(Pa(t.reason));break;case Gn.PULL:if(!u){r.postMessage({sourceName:i,targetName:a,stream:Gn.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||N_).then(function(){r.postMessage({sourceName:i,targetName:a,stream:Gn.PULL_COMPLETE,streamId:e,success:!0})},function(p){r.postMessage({sourceName:i,targetName:a,stream:Gn.PULL_COMPLETE,streamId:e,reason:Pa(p)})});break;case Gn.ENQUEUE:if(Xn(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case Gn.CLOSE:if(Xn(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),B(this,Qr,rv).call(this,o,e);break;case Gn.ERROR:Xn(o,"error should have stream controller"),o.controller.error(Pa(t.reason)),B(this,Qr,rv).call(this,o,e);break;case Gn.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(Pa(t.reason)),B(this,Qr,rv).call(this,o,e);break;case Gn.CANCEL:if(!u)break;const h=Pa(t.reason);Promise.try(u.onCancel||N_,h).then(function(){r.postMessage({sourceName:i,targetName:a,stream:Gn.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){r.postMessage({sourceName:i,targetName:a,stream:Gn.CANCEL_COMPLETE,streamId:e,reason:Pa(p)})}),u.sinkCapability.reject(h),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},rv=async function(t,e){var i,a,r;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(a=t.pullCall)==null?void 0:a.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[e]};var Dm;class ux{constructor({enableHWA:t=!1}){F(this,Dm,!1);T(this,Dm,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!f(this,Dm)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Ii("Abstract method `_createCanvas` called.")}}Dm=new WeakMap;class BL extends ux{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class hx{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Ii("Abstract method `_fetch` called.")}}class L_ extends hx{async _fetch(t){const e=await F2(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):I2(e)}}class fx{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,a,r){return"none"}destroy(t=!1){}}var _d,Yg,$c,Qc,ta,xd,Ed,ae,Zs,j0,cg,ov,ug,dx,AA,hg,z0,q0,wA,U0;class jL extends fx{constructor({docId:e,ownerDocument:i=globalThis.document}){super();F(this,ae);F(this,_d);F(this,Yg);F(this,$c);F(this,Qc);F(this,ta);F(this,xd);F(this,Ed,0);T(this,Qc,e),T(this,ta,i)}addFilter(e){if(!e)return"none";let i=f(this,ae,Zs).get(e);if(i)return i;const[a,r,o]=B(this,ae,ov).call(this,e),u=e.length===1?a:`${a}${r}${o}`;if(i=f(this,ae,Zs).get(u),i)return f(this,ae,Zs).set(e,i),i;const h=`g_${f(this,Qc)}_transfer_map_${ga(this,Ed)._++}`,p=B(this,ae,ug).call(this,h);f(this,ae,Zs).set(e,p),f(this,ae,Zs).set(u,p);const m=B(this,ae,hg).call(this,h);return B(this,ae,q0).call(this,a,r,o,m),p}addHCMFilter(e,i){var N;const a=`${e}-${i}`,r="base";let o=f(this,ae,j0).get(r);if((o==null?void 0:o.key)===a||(o?((N=o.filter)==null||N.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},f(this,ae,j0).set(r,o)),!e||!i))return o.url;const u=B(this,ae,U0).call(this,e);e=Ae.makeHexColor(...u);const h=B(this,ae,U0).call(this,i);if(i=Ae.makeHexColor(...h),f(this,ae,cg).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return o.url;const p=new Array(256);for(let E=0;E<=255;E++){const M=E/255;p[E]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const m=p.join(","),y=`g_${f(this,Qc)}_hcm_filter`,w=o.filter=B(this,ae,hg).call(this,y);B(this,ae,q0).call(this,m,m,m,w),B(this,ae,AA).call(this,w);const A=(E,M)=>{const L=u[E]/255,R=h[E]/255,P=new Array(M+1);for(let W=0;W<=M;W++)P[W]=L+W/M*(R-L);return P.join(",")};return B(this,ae,q0).call(this,A(0,5),A(1,5),A(2,5),w),o.url=B(this,ae,ug).call(this,y),o.url}addAlphaFilter(e){let i=f(this,ae,Zs).get(e);if(i)return i;const[a]=B(this,ae,ov).call(this,[e]),r=`alpha_${a}`;if(i=f(this,ae,Zs).get(r),i)return f(this,ae,Zs).set(e,i),i;const o=`g_${f(this,Qc)}_alpha_map_${ga(this,Ed)._++}`,u=B(this,ae,ug).call(this,o);f(this,ae,Zs).set(e,u),f(this,ae,Zs).set(r,u);const h=B(this,ae,hg).call(this,o);return B(this,ae,wA).call(this,a,h),u}addLuminosityFilter(e){let i=f(this,ae,Zs).get(e||"luminosity");if(i)return i;let a,r;if(e?([a]=B(this,ae,ov).call(this,[e]),r=`luminosity_${a}`):r="luminosity",i=f(this,ae,Zs).get(r),i)return f(this,ae,Zs).set(e,i),i;const o=`g_${f(this,Qc)}_luminosity_map_${ga(this,Ed)._++}`,u=B(this,ae,ug).call(this,o);f(this,ae,Zs).set(e,u),f(this,ae,Zs).set(r,u);const h=B(this,ae,hg).call(this,o);return B(this,ae,dx).call(this,h),e&&B(this,ae,wA).call(this,a,h),u}addHighlightHCMFilter(e,i,a,r,o){var R;const u=`${i}-${a}-${r}-${o}`;let h=f(this,ae,j0).get(e);if((h==null?void 0:h.key)===u||(h?((R=h.filter)==null||R.remove(),h.key=u,h.url="none",h.filter=null):(h={key:u,url:"none",filter:null},f(this,ae,j0).set(e,h)),!i||!a))return h.url;const[p,m]=[i,a].map(B(this,ae,U0).bind(this));let y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),w=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[A,N]=[r,o].map(B(this,ae,U0).bind(this));w<y&&([y,w,A,N]=[w,y,N,A]),f(this,ae,cg).style.color="";const E=(P,W,X)=>{const it=new Array(256),J=(w-y)/X,Z=P/255,ct=(W-P)/(255*X);let bt=0;for(let z=0;z<=X;z++){const K=Math.round(y+z*J),ot=Z+z*ct;for(let st=bt;st<=K;st++)it[st]=ot;bt=K+1}for(let z=bt;z<256;z++)it[z]=it[bt-1];return it.join(",")},M=`g_${f(this,Qc)}_hcm_${e}_filter`,L=h.filter=B(this,ae,hg).call(this,M);return B(this,ae,AA).call(this,L),B(this,ae,q0).call(this,E(A[0],N[0],5),E(A[1],N[1],5),E(A[2],N[2],5),L),h.url=B(this,ae,ug).call(this,M),h.url}destroy(e=!1){var i,a,r,o;e&&((i=f(this,xd))!=null&&i.size)||((a=f(this,$c))==null||a.parentNode.parentNode.remove(),T(this,$c,null),(r=f(this,Yg))==null||r.clear(),T(this,Yg,null),(o=f(this,xd))==null||o.clear(),T(this,xd,null),T(this,Ed,0))}}_d=new WeakMap,Yg=new WeakMap,$c=new WeakMap,Qc=new WeakMap,ta=new WeakMap,xd=new WeakMap,Ed=new WeakMap,ae=new WeakSet,Zs=function(){return f(this,Yg)||T(this,Yg,new Map)},j0=function(){return f(this,xd)||T(this,xd,new Map)},cg=function(){if(!f(this,$c)){const e=f(this,ta).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const a=f(this,ta).createElementNS(Dc,"svg");a.setAttribute("width",0),a.setAttribute("height",0),T(this,$c,f(this,ta).createElementNS(Dc,"defs")),e.append(a),a.append(f(this,$c)),f(this,ta).body.append(e)}return f(this,$c)},ov=function(e){if(e.length===1){const p=e[0],m=new Array(256);for(let w=0;w<256;w++)m[w]=p[w]/255;const y=m.join(",");return[y,y,y]}const[i,a,r]=e,o=new Array(256),u=new Array(256),h=new Array(256);for(let p=0;p<256;p++)o[p]=i[p]/255,u[p]=a[p]/255,h[p]=r[p]/255;return[o.join(","),u.join(","),h.join(",")]},ug=function(e){if(f(this,_d)===void 0){T(this,_d,"");const i=f(this,ta).URL;i!==f(this,ta).baseURI&&(mb(i)?ze('#createUrl: ignore "data:"-URL for performance reasons.'):T(this,_d,x4(i,"")))}return`url(${f(this,_d)}#${e})`},dx=function(e){const i=f(this,ta).createElementNS(Dc,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},AA=function(e){const i=f(this,ta).createElementNS(Dc,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},hg=function(e){const i=f(this,ta).createElementNS(Dc,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),f(this,ae,cg).append(i),i},z0=function(e,i,a){const r=f(this,ta).createElementNS(Dc,i);r.setAttribute("type","discrete"),r.setAttribute("tableValues",a),e.append(r)},q0=function(e,i,a,r){const o=f(this,ta).createElementNS(Dc,"feComponentTransfer");r.append(o),B(this,ae,z0).call(this,o,"feFuncR",e),B(this,ae,z0).call(this,o,"feFuncG",i),B(this,ae,z0).call(this,o,"feFuncB",a)},wA=function(e,i){const a=f(this,ta).createElementNS(Dc,"feComponentTransfer");i.append(a),B(this,ae,z0).call(this,a,"feFuncA",e)},U0=function(e){return f(this,ae,cg).style.color=e,vb(getComputedStyle(f(this,ae,cg)).getPropertyValue("color"))};class px{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Ii("Abstract method `_fetch` called.")}}class C_ extends px{async _fetch(t){const e=await F2(t,"arraybuffer");return new Uint8Array(e)}}class gx{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Ii("Abstract method `_fetch` called.")}}class T_ extends gx{async _fetch(t){const e=await F2(t,"arraybuffer");return new Uint8Array(e)}}wa&&ze("Please use the `legacy` build in Node.js environments.");async function kw(c){const e=await process.getBuiltinModule("fs").promises.readFile(c);return new Uint8Array(e)}class zL extends fx{}class qL extends ux{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class UL extends hx{async _fetch(t){return kw(t)}}class HL extends px{async _fetch(t){return kw(t)}}class GL extends gx{async _fetch(t){return kw(t)}}const Os={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function SA(c,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,i),c.clip(a)}class Pw{isModifyingCurrentTransform(){return!1}getPattern(){Ii("Abstract method `getPattern` called.")}}class VL extends Pw{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,a){let r;if(a===Os.STROKE||a===Os.FILL){const o=e.current.getClippedPathBoundingBox(a,gn(t))||[0,0,0,0],u=Math.ceil(o[2]-o[0])||1,h=Math.ceil(o[3]-o[1])||1,p=e.cachedCanvases.getCanvas("pattern",u,h),m=p.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-o[0],-o[1]),i=Ae.transform(i,[1,0,0,1,o[0],o[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),SA(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),r=t.createPattern(p.canvas,"no-repeat");const y=new DOMMatrix(i);r.setTransform(y)}else SA(t,this._bbox),r=this._createGradient(t);return r}}function jy(c,t,e,i,a,r,o,u){const h=t.coords,p=t.colors,m=c.data,y=c.width*4;let w;h[e+1]>h[i+1]&&(w=e,e=i,i=w,w=r,r=o,o=w),h[i+1]>h[a+1]&&(w=i,i=a,a=w,w=o,o=u,u=w),h[e+1]>h[i+1]&&(w=e,e=i,i=w,w=r,r=o,o=w);const A=(h[e]+t.offsetX)*t.scaleX,N=(h[e+1]+t.offsetY)*t.scaleY,E=(h[i]+t.offsetX)*t.scaleX,M=(h[i+1]+t.offsetY)*t.scaleY,L=(h[a]+t.offsetX)*t.scaleX,R=(h[a+1]+t.offsetY)*t.scaleY;if(N>=R)return;const P=p[r],W=p[r+1],X=p[r+2],it=p[o],J=p[o+1],Z=p[o+2],ct=p[u],bt=p[u+1],z=p[u+2],K=Math.round(N),ot=Math.round(R);let st,Et,U,tt,ht,At,V,ft;for(let O=K;O<=ot;O++){if(O<M){const mt=O<N?0:(N-O)/(N-M);st=A-(A-E)*mt,Et=P-(P-it)*mt,U=W-(W-J)*mt,tt=X-(X-Z)*mt}else{let mt;O>R?mt=1:M===R?mt=0:mt=(M-O)/(M-R),st=E-(E-L)*mt,Et=it-(it-ct)*mt,U=J-(J-bt)*mt,tt=Z-(Z-z)*mt}let H;O<N?H=0:O>R?H=1:H=(N-O)/(N-R),ht=A-(A-L)*H,At=P-(P-ct)*H,V=W-(W-bt)*H,ft=X-(X-z)*H;const Q=Math.round(Math.min(st,ht)),rt=Math.round(Math.max(st,ht));let at=y*O+Q*4;for(let mt=Q;mt<=rt;mt++)H=(st-mt)/(st-ht),H<0?H=0:H>1&&(H=1),m[at++]=Et-(Et-At)*H|0,m[at++]=U-(U-V)*H|0,m[at++]=tt-(tt-ft)*H|0,m[at++]=255}}function YL(c,t,e){const i=t.coords,a=t.colors;let r,o;switch(t.type){case"lattice":const u=t.verticesPerRow,h=Math.floor(i.length/u)-1,p=u-1;for(r=0;r<h;r++){let m=r*u;for(let y=0;y<p;y++,m++)jy(c,e,i[m],i[m+1],i[m+u],a[m],a[m+1],a[m+u]),jy(c,e,i[m+u+1],i[m+1],i[m+u],a[m+u+1],a[m+1],a[m+u])}break;case"triangles":for(r=0,o=i.length;r<o;r+=3)jy(c,e,i[r],i[r+1],i[r+2],a[r],a[r+1],a[r+2]);break;default:throw new Error("illegal figure")}}class XL extends Pw{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const u=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-u,m=Math.ceil(this._bounds[3])-h,y=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),w=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),A=p/y,N=m/w,E={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-h,scaleX:1/A,scaleY:1/N},M=y+2*2,L=w+2*2,R=i.getCanvas("mesh",M,L),P=R.context,W=P.createImageData(y,w);if(e){const it=W.data;for(let J=0,Z=it.length;J<Z;J+=4)it[J]=e[0],it[J+1]=e[1],it[J+2]=e[2],it[J+3]=255}for(const it of this._figures)YL(W,it,E);return P.putImageData(W,2,2),{canvas:R.canvas,offsetX:u-2*A,offsetY:h-2*N,scaleX:A,scaleY:N}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,a){SA(t,this._bbox);const r=new Float32Array(2);if(a===Os.SHADING)Ae.singularValueDecompose2dScale(gn(t),r);else if(this.matrix){Ae.singularValueDecompose2dScale(this.matrix,r);const[u,h]=r;Ae.singularValueDecompose2dScale(e.baseTransform,r),r[0]*=u,r[1]*=h}else Ae.singularValueDecompose2dScale(e.baseTransform,r);const o=this._createMeshCanvas(r,a===Os.SHADING?null:this._background,e.cachedCanvases);return a!==Os.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class WL extends Pw{getPattern(){return"hotpink"}}function KL(c){switch(c[0]){case"RadialAxial":return new VL(c);case"Mesh":return new XL(c);case"Dummy":return new WL}throw new Error(`Unknown IR type: ${c[0]}`)}const M_={COLORED:1,UNCOLORED:2},ib=class ib{constructor(t,e,i,a){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:a,tilingType:r,color:o,canvasGraphicsFactory:u}=this;let{xstep:h,ystep:p}=this;h=Math.abs(h),p=Math.abs(p),gb("TilingType: "+r);const m=e[0],y=e[1],w=e[2],A=e[3],N=w-m,E=A-y,M=new Float32Array(2);Ae.singularValueDecompose2dScale(this.matrix,M);const[L,R]=M;Ae.singularValueDecompose2dScale(this.baseTransform,M);const P=L*M[0],W=R*M[1];let X=N,it=E,J=!1,Z=!1;const ct=Math.ceil(h*P),bt=Math.ceil(p*W),z=Math.ceil(N*P),K=Math.ceil(E*W);ct>=z?X=h:J=!0,bt>=K?it=p:Z=!0;const ot=this.getSizeAndScale(X,this.ctx.canvas.width,P),st=this.getSizeAndScale(it,this.ctx.canvas.height,W),Et=t.cachedCanvases.getCanvas("pattern",ot.size,st.size),U=Et.context,tt=u.createCanvasGraphics(U);if(tt.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(tt,a,o),U.translate(-ot.scale*m,-st.scale*y),tt.transform(ot.scale,0,0,st.scale,0,0),U.save(),this.clipBbox(tt,m,y,w,A),tt.baseTransform=gn(tt.ctx),tt.executeOperatorList(i),tt.endDrawing(),U.restore(),J||Z){const ht=Et.canvas;J&&(X=h),Z&&(it=p);const At=this.getSizeAndScale(X,this.ctx.canvas.width,P),V=this.getSizeAndScale(it,this.ctx.canvas.height,W),ft=At.size,O=V.size,H=t.cachedCanvases.getCanvas("pattern-workaround",ft,O),Q=H.context,rt=J?Math.floor(N/h):0,at=Z?Math.floor(E/p):0;for(let mt=0;mt<=rt;mt++)for(let St=0;St<=at;St++)Q.drawImage(ht,ft*mt,O*St,ft,O,0,0,ft,O);return{canvas:H.canvas,scaleX:At.scale,scaleY:V.scale,offsetX:m,offsetY:y}}return{canvas:Et.canvas,scaleX:ot.scale,scaleY:st.scale,offsetX:m,offsetY:y}}getSizeAndScale(t,e,i){const a=Math.max(ib.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*i);return r>=a?r=a:i=r/t,{scale:i,size:r}}clipBbox(t,e,i,a,r){const o=a-e,u=r-i;t.ctx.rect(e,i,o,u),Ae.axialAlignedBoundingBox([e,i,a,r],gn(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const a=t.ctx,r=t.current;switch(e){case M_.COLORED:const{fillStyle:o,strokeStyle:u}=this.ctx;a.fillStyle=r.fillColor=o,a.strokeStyle=r.strokeColor=u;break;case M_.UNCOLORED:a.fillStyle=a.strokeStyle=i,r.fillColor=r.strokeColor=i;break;default:throw new pL(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,a){let r=i;a!==Os.SHADING&&(r=Ae.transform(r,e.baseTransform),this.matrix&&(r=Ae.transform(r,this.matrix)));const o=this.createPatternCanvas(e);let u=new DOMMatrix(r);u=u.translate(o.offsetX,o.offsetY),u=u.scale(1/o.scaleX,1/o.scaleY);const h=t.createPattern(o.canvas,"repeat");return h.setTransform(u),h}};Xt(ib,"MAX_PATTERN_SIZE",3e3);let _A=ib;function $L({src:c,srcPos:t=0,dest:e,width:i,height:a,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const u=Ps.isLittleEndian?4278190080:255,[h,p]=o?[r,u]:[u,r],m=i>>3,y=i&7,w=c.length;e=new Uint32Array(e.buffer);let A=0;for(let N=0;N<a;N++){for(const M=t+m;t<M;t++){const L=t<w?c[t]:255;e[A++]=L&128?p:h,e[A++]=L&64?p:h,e[A++]=L&32?p:h,e[A++]=L&16?p:h,e[A++]=L&8?p:h,e[A++]=L&4?p:h,e[A++]=L&2?p:h,e[A++]=L&1?p:h}if(y===0)continue;const E=t<w?c[t++]:255;for(let M=0;M<y;M++)e[A++]=E&1<<7-M?p:h}return{srcPos:t,destPos:A}}const R_=16,O_=100,QL=15,D_=10,za=16,zy=new DOMMatrix,wr=new Float32Array(2),vg=new Float32Array([1/0,1/0,-1/0,-1/0]);function ZL(c,t){if(c._removeMirroring)throw new Error("Context is already forwarding operations.");c.__originalSave=c.save,c.__originalRestore=c.restore,c.__originalRotate=c.rotate,c.__originalScale=c.scale,c.__originalTranslate=c.translate,c.__originalTransform=c.transform,c.__originalSetTransform=c.setTransform,c.__originalResetTransform=c.resetTransform,c.__originalClip=c.clip,c.__originalMoveTo=c.moveTo,c.__originalLineTo=c.lineTo,c.__originalBezierCurveTo=c.bezierCurveTo,c.__originalRect=c.rect,c.__originalClosePath=c.closePath,c.__originalBeginPath=c.beginPath,c._removeMirroring=()=>{c.save=c.__originalSave,c.restore=c.__originalRestore,c.rotate=c.__originalRotate,c.scale=c.__originalScale,c.translate=c.__originalTranslate,c.transform=c.__originalTransform,c.setTransform=c.__originalSetTransform,c.resetTransform=c.__originalResetTransform,c.clip=c.__originalClip,c.moveTo=c.__originalMoveTo,c.lineTo=c.__originalLineTo,c.bezierCurveTo=c.__originalBezierCurveTo,c.rect=c.__originalRect,c.closePath=c.__originalClosePath,c.beginPath=c.__originalBeginPath,delete c._removeMirroring},c.save=function(){t.save(),this.__originalSave()},c.restore=function(){t.restore(),this.__originalRestore()},c.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},c.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},c.transform=function(e,i,a,r,o,u){t.transform(e,i,a,r,o,u),this.__originalTransform(e,i,a,r,o,u)},c.setTransform=function(e,i,a,r,o,u){t.setTransform(e,i,a,r,o,u),this.__originalSetTransform(e,i,a,r,o,u)},c.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},c.rotate=function(e){t.rotate(e),this.__originalRotate(e)},c.clip=function(e){t.clip(e),this.__originalClip(e)},c.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},c.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},c.bezierCurveTo=function(e,i,a,r,o,u){t.bezierCurveTo(e,i,a,r,o,u),this.__originalBezierCurveTo(e,i,a,r,o,u)},c.rect=function(e,i,a,r){t.rect(e,i,a,r),this.__originalRect(e,i,a,r)},c.closePath=function(){t.closePath(),this.__originalClosePath()},c.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class JL{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,i)):(a=this.canvasFactory.create(e,i),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function H5(c,t,e,i,a,r,o,u,h,p){const[m,y,w,A,N,E]=gn(c);if(y===0&&w===0){const R=o*m+N,P=Math.round(R),W=u*A+E,X=Math.round(W),it=(o+h)*m+N,J=Math.abs(Math.round(it)-P)||1,Z=(u+p)*A+E,ct=Math.abs(Math.round(Z)-X)||1;return c.setTransform(Math.sign(m),0,0,Math.sign(A),P,X),c.drawImage(t,e,i,a,r,0,0,J,ct),c.setTransform(m,y,w,A,N,E),[J,ct]}if(m===0&&A===0){const R=u*w+N,P=Math.round(R),W=o*y+E,X=Math.round(W),it=(u+p)*w+N,J=Math.abs(Math.round(it)-P)||1,Z=(o+h)*y+E,ct=Math.abs(Math.round(Z)-X)||1;return c.setTransform(0,Math.sign(y),Math.sign(w),0,P,X),c.drawImage(t,e,i,a,r,0,0,ct,J),c.setTransform(m,y,w,A,N,E),[ct,J]}c.drawImage(t,e,i,a,r,o,u,h,p);const M=Math.hypot(m,y),L=Math.hypot(w,A);return[M*h,L*p]}class k_{constructor(t,e){Xt(this,"alphaIsShape",!1);Xt(this,"fontSize",0);Xt(this,"fontSizeScale",1);Xt(this,"textMatrix",null);Xt(this,"textMatrixScale",1);Xt(this,"fontMatrix",Zy);Xt(this,"leading",0);Xt(this,"x",0);Xt(this,"y",0);Xt(this,"lineX",0);Xt(this,"lineY",0);Xt(this,"charSpacing",0);Xt(this,"wordSpacing",0);Xt(this,"textHScale",1);Xt(this,"textRenderingMode",Qs.FILL);Xt(this,"textRise",0);Xt(this,"fillColor","#000000");Xt(this,"strokeColor","#000000");Xt(this,"patternFill",!1);Xt(this,"patternStroke",!1);Xt(this,"fillAlpha",1);Xt(this,"strokeAlpha",1);Xt(this,"lineWidth",1);Xt(this,"activeSMask",null);Xt(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,t,e]),this.minMax=vg.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Os.FILL,e=null){const i=this.minMax.slice();if(t===Os.STROKE){e||Ii("Stroke bounding box must include transform."),Ae.singularValueDecompose2dScale(e,wr);const a=wr[0]*this.lineWidth/2,r=wr[1]*this.lineWidth/2;i[0]-=a,i[1]-=r,i[2]+=a,i[3]+=r}return i}updateClipFromPath(){const t=Ae.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(vg,0)}getClippedPathBoundingBox(t=Os.FILL,e=null){return Ae.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function P_(c,t){if(t instanceof ImageData){c.putImageData(t,0,0);return}const e=t.height,i=t.width,a=e%za,r=(e-a)/za,o=a===0?r:r+1,u=c.createImageData(i,za);let h=0,p;const m=t.data,y=u.data;let w,A,N,E;if(t.kind===Z5.GRAYSCALE_1BPP){const M=m.byteLength,L=new Uint32Array(y.buffer,0,y.byteLength>>2),R=L.length,P=i+7>>3,W=4294967295,X=Ps.isLittleEndian?4278190080:255;for(w=0;w<o;w++){for(N=w<r?za:a,p=0,A=0;A<N;A++){const it=M-h;let J=0;const Z=it>P?i:it*8-7,ct=Z&-8;let bt=0,z=0;for(;J<ct;J+=8)z=m[h++],L[p++]=z&128?W:X,L[p++]=z&64?W:X,L[p++]=z&32?W:X,L[p++]=z&16?W:X,L[p++]=z&8?W:X,L[p++]=z&4?W:X,L[p++]=z&2?W:X,L[p++]=z&1?W:X;for(;J<Z;J++)bt===0&&(z=m[h++],bt=128),L[p++]=z&bt?W:X,bt>>=1}for(;p<R;)L[p++]=0;c.putImageData(u,0,w*za)}}else if(t.kind===Z5.RGBA_32BPP){for(A=0,E=i*za*4,w=0;w<r;w++)y.set(m.subarray(h,h+E)),h+=E,c.putImageData(u,0,A),A+=za;w<o&&(E=i*a*4,y.set(m.subarray(h,h+E)),c.putImageData(u,0,A))}else if(t.kind===Z5.RGB_24BPP)for(N=za,E=i*N,w=0;w<o;w++){for(w>=r&&(N=a,E=i*N),p=0,A=E;A--;)y[p++]=m[h++],y[p++]=m[h++],y[p++]=m[h++],y[p++]=255;c.putImageData(u,0,w*za)}else throw new Error(`bad image kind: ${t.kind}`)}function I_(c,t){if(t.bitmap){c.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,a=e%za,r=(e-a)/za,o=a===0?r:r+1,u=c.createImageData(i,za);let h=0;const p=t.data,m=u.data;for(let y=0;y<o;y++){const w=y<r?za:a;({srcPos:h}=$L({src:p,srcPos:h,dest:m,width:i,height:w,nonBlackColor:0})),c.putImageData(u,0,y*za)}}function L0(c,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)c[i]!==void 0&&(t[i]=c[i]);c.setLineDash!==void 0&&(t.setLineDash(c.getLineDash()),t.lineDashOffset=c.lineDashOffset)}function G5(c){c.strokeStyle=c.fillStyle="#000000",c.fillRule="nonzero",c.globalAlpha=1,c.lineWidth=1,c.lineCap="butt",c.lineJoin="miter",c.miterLimit=10,c.globalCompositeOperation="source-over",c.font="10px sans-serif",c.setLineDash!==void 0&&(c.setLineDash([]),c.lineDashOffset=0);const{filter:t}=c;t!=="none"&&t!==""&&(c.filter="none")}function F_(c,t){if(t)return!0;Ae.singularValueDecompose2dScale(c,wr);const e=Math.fround(Zl.pixelRatio*of.PDF_TO_CSS_UNITS);return wr[0]<=e&&wr[1]<=e}const tC=["butt","round","square"],eC=["miter","round","bevel"],iC={},B_={};var Uo,xA,EA,NA;const Vw=class Vw{constructor(t,e,i,a,r,{optionalContentConfig:o,markedContentStack:u=null},h,p){F(this,Uo);this.ctx=t,this.current=new k_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=a,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=o,this.cachedCanvases=new JL(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:a=null}){const r=this.ctx.canvas.width,o=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,r,o),this.ctx.fillStyle=u,i){const h=this.cachedCanvases.getCanvas("transparent",r,o);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...gn(this.compositeCtx))}this.ctx.save(),G5(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=gn(this.ctx)}executeOperatorList(t,e,i,a){const r=t.argsArray,o=t.fnArray;let u=e||0;const h=r.length;if(h===u)return u;const p=h-u>D_&&typeof i=="function",m=p?Date.now()+QL:0;let y=0;const w=this.commonObjs,A=this.objs;let N;for(;;){if(a!==void 0&&u===a.nextBreakPoint)return a.breakIt(u,i),u;if(N=o[u],N!==Pv.dependency)this[N].apply(this,r[u]);else for(const E of r[u]){const M=E.startsWith("g_")?w:A;if(!M.has(E))return M.get(E,i),u}if(u++,u===h)return u;if(p&&++y>D_){if(Date.now()>m)return i(),u;y=0}}}endDrawing(){B(this,Uo,xA).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),B(this,Uo,EA).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,a=t.height??t.displayHeight;let r=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),u=i,h=a,p="prescale1",m,y;for(;r>2&&u>1||o>2&&h>1;){let w=u,A=h;r>2&&u>1&&(w=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),r/=u/w),o>2&&h>1&&(A=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,o/=h/A),m=this.cachedCanvases.getCanvas(p,w,A),y=m.context,y.clearRect(0,0,w,A),y.drawImage(t,0,0,u,h,0,0,w,A),t=m.canvas,u=w,h=A,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:h}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:a}=t,r=this.current.fillColor,o=this.current.patternFill,u=gn(e);let h,p,m,y;if((t.bitmap||t.data)&&t.count>1){const ct=t.bitmap||t.data.buffer;p=JSON.stringify(o?u:[u.slice(0,4),r]),h=this._cachedBitmapsMap.get(ct),h||(h=new Map,this._cachedBitmapsMap.set(ct,h));const bt=h.get(p);if(bt&&!o){const z=Math.round(Math.min(u[0],u[2])+u[4]),K=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:bt,offsetX:z,offsetY:K}}m=bt}m||(y=this.cachedCanvases.getCanvas("maskCanvas",i,a),I_(y.context,t));let w=Ae.transform(u,[1/i,0,0,-1/a,0,0]);w=Ae.transform(w,[1,0,0,1,0,-a]);const A=vg.slice();Ae.axialAlignedBoundingBox([0,0,i,a],w,A);const[N,E,M,L]=A,R=Math.round(M-N)||1,P=Math.round(L-E)||1,W=this.cachedCanvases.getCanvas("fillCanvas",R,P),X=W.context,it=N,J=E;X.translate(-it,-J),X.transform(...w),m||(m=this._scaleImage(y.canvas,El(X)),m=m.img,h&&o&&h.set(p,m)),X.imageSmoothingEnabled=F_(gn(X),t.interpolate),H5(X,m,0,0,m.width,m.height,0,0,i,a),X.globalCompositeOperation="source-in";const Z=Ae.transform(El(X),[1,0,0,1,-it,-J]);return X.fillStyle=o?r.getPattern(e,this,Z,Os.FILL):r,X.fillRect(0,0,i,a),h&&!o&&(this.cachedCanvases.delete("fillCanvas"),h.set(p,W.canvas)),{canvas:W.canvas,offsetX:Math.round(it),offsetY:Math.round(J)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=tC[t]}setLineJoin(t){this.ctx.lineJoin=eC[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx;const r=this.ctx=a.context;r.setTransform(this.suspendedCtx.getTransform()),L0(this.suspendedCtx,r),ZL(r,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),L0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,a){const r=a[0],o=a[1],u=a[2]-r,h=a[3]-o;u===0||h===0||(this.genericComposeSMask(e.context,i,u,h,e.subtype,e.backdrop,e.transferMap,r,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,a,r,o,u,h,p,m,y){let w=t.canvas,A=h-m,N=p-y;if(o)if(A<0||N<0||A+i>w.width||N+a>w.height){const M=this.cachedCanvases.getCanvas("maskExtension",i,a),L=M.context;L.drawImage(w,-A,-N),L.globalCompositeOperation="destination-atop",L.fillStyle=o,L.fillRect(0,0,i,a),L.globalCompositeOperation="source-over",w=M.canvas,A=N=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const M=new Path2D;M.rect(A,N,i,a),t.clip(M),t.globalCompositeOperation="destination-atop",t.fillStyle=o,t.fillRect(A,N,i,a),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const E=new Path2D;E.rect(h,p,i,a),e.clip(E),e.globalCompositeOperation="destination-in",e.drawImage(w,A,N,i,a,h,p,i,a),e.restore()}save(){this.inSMaskMode&&L0(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&L0(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,a,r,o){this.ctx.transform(t,e,i,a,r,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){let[a]=e;if(!i){a||(a=e[0]=new Path2D),this[t](a);return}if(!(a instanceof Path2D)){const r=e[0]=new Path2D;for(let o=0,u=a.length;o<u;)switch(a[o++]){case j5.moveTo:r.moveTo(a[o++],a[o++]);break;case j5.lineTo:r.lineTo(a[o++],a[o++]);break;case j5.curveTo:r.bezierCurveTo(a[o++],a[o++],a[o++],a[o++],a[o++],a[o++]);break;case j5.closePath:r.closePath();break;default:ze(`Unrecognized drawing path operator: ${a[o-1]}`);break}a=r}Ae.axialAlignedBoundingBox(i,gn(this.ctx),this.current.minMax),this[t](a)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&(a!=null&&a.getPattern)){const r=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,El(i),Os.STROKE),r){const o=new Path2D;o.addPath(t,i.getTransform().invertSelf().multiplySelf(r)),t=o}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Os.STROKE,gn(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const i=this.ctx,a=this.current.fillColor,r=this.current.patternFill;let o=!1;if(r){const h=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=a.getPattern(i,this,El(i),Os.FILL),h){const p=new Path2D;p.addPath(t,i.getTransform().invertSelf().multiplySelf(h)),t=p}o=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),o&&i.restore(),e&&this.consumePath(t,u)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=iC}eoClip(){this.pendingClip=B_}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const i=new Path2D,a=e.getTransform().invertSelf();for(const{transform:r,x:o,y:u,fontSize:h,path:p}of t)p&&i.addPath(p,new DOMMatrix(r).preMultiplySelf(a).translate(o,u).scale(h,-h));e.clip(i),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const i=this.commonObjs.get(t),a=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=i.fontMatrix||Zy,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&ze("Invalid font matrix for font "+t),e<0?(e=-e,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const r=i.loadedName||"sans-serif",o=((m=i.systemFontInfo)==null?void 0:m.css)||`"${r}", ${i.fallbackName}`;let u="normal";i.black?u="900":i.bold&&(u="bold");const h=i.italic?"italic":"normal";let p=e;e<R_?p=R_:e>O_&&(p=O_),this.current.fontSizeScale=e/p,this.ctx.font=`${h} ${u} ${p}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,a,r){const o=this.ctx,u=this.current,h=u.font,p=u.textRenderingMode,m=u.fontSize/u.fontSizeScale,y=p&Qs.FILL_STROKE_MASK,w=!!(p&Qs.ADD_TO_PATH_FLAG),A=u.patternFill&&!h.missingFile,N=u.patternStroke&&!h.missingFile;let E;if((h.disableFontFace||w||A||N)&&!h.missingFile&&(E=h.getPathGenerator(this.commonObjs,t)),E&&(h.disableFontFace||A||N)){o.save(),o.translate(e,i),o.scale(m,-m);let M;if((y===Qs.FILL||y===Qs.FILL_STROKE)&&(a?(M=o.getTransform(),o.setTransform(...a),o.fill(B(this,Uo,NA).call(this,E,M,a))):o.fill(E)),y===Qs.STROKE||y===Qs.FILL_STROKE)if(r){M||(M=o.getTransform()),o.setTransform(...r);const{a:L,b:R,c:P,d:W}=M,X=Ae.inverseTransform(r),it=Ae.transform([L,R,P,W,0,0],X);Ae.singularValueDecompose2dScale(it,wr),o.lineWidth*=Math.max(wr[0],wr[1])/m,o.stroke(B(this,Uo,NA).call(this,E,M,r))}else o.lineWidth/=m,o.stroke(E);o.restore()}else(y===Qs.FILL||y===Qs.FILL_STROKE)&&o.fillText(t,e,i),(y===Qs.STROKE||y===Qs.FILL_STROKE)&&o.strokeText(t,e,i);w&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:gn(o),x:e,y:i,fontSize:m,path:E})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){i=!0;break}return Ze(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const a=e.fontSize;if(a===0)return;const r=this.ctx,o=e.fontSizeScale,u=e.charSpacing,h=e.wordSpacing,p=e.fontDirection,m=e.textHScale*p,y=t.length,w=i.vertical,A=w?1:-1,N=i.defaultVMetrics,E=a*e.fontMatrix[0],M=e.textRenderingMode===Qs.FILL&&!i.disableFontFace&&!e.patternFill;r.save(),e.textMatrix&&r.transform(...e.textMatrix),r.translate(e.x,e.y+e.textRise),p>0?r.scale(m,-1):r.scale(m,1);let L,R;if(e.patternFill){r.save();const J=e.fillColor.getPattern(r,this,El(r),Os.FILL);L=gn(r),r.restore(),r.fillStyle=J}if(e.patternStroke){r.save();const J=e.strokeColor.getPattern(r,this,El(r),Os.STROKE);R=gn(r),r.restore(),r.strokeStyle=J}let P=e.lineWidth;const W=e.textMatrixScale;if(W===0||P===0){const J=e.textRenderingMode&Qs.FILL_STROKE_MASK;(J===Qs.STROKE||J===Qs.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=W;if(o!==1&&(r.scale(o,o),P/=o),r.lineWidth=P,i.isInvalidPDFjsFont){const J=[];let Z=0;for(const ct of t)J.push(ct.unicode),Z+=ct.width;r.fillText(J.join(""),0,0),e.x+=Z*E*m,r.restore(),this.compose();return}let X=0,it;for(it=0;it<y;++it){const J=t[it];if(typeof J=="number"){X+=A*J*a/1e3;continue}let Z=!1;const ct=(J.isSpace?h:0)+u,bt=J.fontChar,z=J.accent;let K,ot,st=J.width;if(w){const U=J.vmetric||N,tt=-(J.vmetric?U[1]:st*.5)*E,ht=U[2]*E;st=U?-U[0]:st,K=tt/o,ot=(X+ht)/o}else K=X/o,ot=0;if(i.remeasure&&st>0){const U=r.measureText(bt).width*1e3/a*o;if(st<U&&this.isFontSubpixelAAEnabled){const tt=st/U;Z=!0,r.save(),r.scale(tt,1),K/=tt}else st!==U&&(K+=(st-U)/2e3*a/o)}if(this.contentVisible&&(J.isInFont||i.missingFile)){if(M&&!z)r.fillText(bt,K,ot);else if(this.paintChar(bt,K,ot,L,R),z){const U=K+a*z.offset.x/o,tt=ot-a*z.offset.y/o;this.paintChar(z.fontChar,U,tt,L,R)}}const Et=w?st*E-ct*p:st*E+ct*p;X+=Et,Z&&r.restore()}w?e.y-=X:e.x+=X*m,r.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,a=i.font,r=i.fontSize,o=i.fontDirection,u=a.vertical?1:-1,h=i.charSpacing,p=i.wordSpacing,m=i.textHScale*o,y=i.fontMatrix||Zy,w=t.length,A=i.textRenderingMode===Qs.INVISIBLE;let N,E,M,L;if(!(A||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),i.textMatrix&&e.transform(...i.textMatrix),e.translate(i.x,i.y+i.textRise),e.scale(m,o),N=0;N<w;++N){if(E=t[N],typeof E=="number"){L=u*E*r/1e3,this.ctx.translate(L,0),i.x+=L*m;continue}const R=(E.isSpace?p:0)+h,P=a.charProcOperatorList[E.operatorListId];P?this.contentVisible&&(this.save(),e.scale(r,r),e.transform(...y),this.executeOperatorList(P),this.restore()):ze(`Type3 character "${E.operatorListId}" is not available.`);const W=[E.width,0];Ae.applyTransform(W,y),M=W[0]*r+R,e.translate(M,0),i.x+=M*m}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,a,r,o){const u=new Path2D;u.rect(i,a,r-i,o-a),this.ctx.clip(u),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=this.baseTransform||gn(this.ctx),a={createCanvasGraphics:r=>new Vw(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new _A(t,this.ctx,a,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=KL(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,El(e),Os.SHADING);const a=El(e);if(a){const{width:r,height:o}=e.canvas,u=vg.slice();Ae.axialAlignedBoundingBox([0,0,r,o],a,u);const[h,p,m,y]=u;this.ctx.fillRect(h,p,m-h,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ii("Should not call beginInlineImage")}beginImageData(){Ii("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=gn(this.ctx),e)){Ae.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[i,a,r,o]=e,u=new Path2D;u.rect(i,a,r-i,o-a),this.ctx.clip(u),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||gb("TODO: Support non-isolated groups."),t.knockout&&ze("Knockout groups not supported.");const i=gn(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=vg.slice();Ae.axialAlignedBoundingBox(t.bbox,gn(e),a);const r=[0,0,e.canvas.width,e.canvas.height];a=Ae.intersect(a,r)||[0,0,0,0];const o=Math.floor(a[0]),u=Math.floor(a[1]),h=Math.max(Math.ceil(a[2])-o,1),p=Math.max(Math.ceil(a[3])-u,1);this.current.startNewPathAndClipBox([0,0,h,p]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(m,h,p),w=y.context;w.translate(-o,-u),w.transform(...i);let A=new Path2D;const[N,E,M,L]=t.bbox;if(A.rect(N,E,M-N,L-E),t.matrix){const R=new Path2D;R.addPath(A,new DOMMatrix(t.matrix)),A=R}w.clip(A),t.smask?this.smaskStack.push({canvas:y.canvas,context:w,offsetX:o,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,u),e.save()),L0(e,w),this.ctx=w,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=gn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const r=vg.slice();Ae.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],a,r),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(t,e,i,a,r){if(B(this,Uo,xA).call(this),G5(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const o=e[2]-e[0],u=e[3]-e[1];if(r&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=o,e[3]=u,Ae.singularValueDecompose2dScale(gn(this.ctx),wr);const{viewportScale:h}=this,p=Math.ceil(o*this.outputScaleX*h),m=Math.ceil(u*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:y,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(t,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(wr[0],0,0,-wr[1],0,u*wr[1]),G5(this.ctx)}else{G5(this.ctx),this.endPath();const h=new Path2D;h.rect(e[0],e[1],o,u),this.ctx.clip(h)}}this.current=new k_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),B(this,Uo,EA).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,a=this._createMaskCanvas(t),r=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,a.offsetX,a.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,a=0,r,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);const u=this.ctx;u.save();const h=gn(u);u.transform(e,i,a,r,0,0);const p=this._createMaskCanvas(t);u.setTransform(1,0,0,1,p.offsetX-h[4],p.offsetY-h[5]);for(let m=0,y=o.length;m<y;m+=2){const w=Ae.transform(h,[e,i,a,r,o[m],o[m+1]]);u.drawImage(p.canvas,w[4],w[5])}u.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,a=this.current.patternFill;for(const r of t){const{data:o,width:u,height:h,transform:p}=r,m=this.cachedCanvases.getCanvas("maskCanvas",u,h),y=m.context;y.save();const w=this.getObject(o,r);I_(y,w),y.globalCompositeOperation="source-in",y.fillStyle=a?i.getPattern(y,this,El(e),Os.FILL):i,y.fillRect(0,0,u,h),y.restore(),e.save(),e.transform(...p),e.scale(1,-1),H5(e,m.canvas,0,0,u,h,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){ze("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,a){if(!this.contentVisible)return;const r=this.getObject(t);if(!r){ze("Dependent image isn't ready yet");return}const o=r.width,u=r.height,h=[];for(let p=0,m=a.length;p<m;p+=2)h.push({transform:[e,0,0,i,a[p],a[p+1]],x:0,y:0,w:o,h:u});this.paintInlineImageXObjectGroup(r,h)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:a}=t,r=this.cachedCanvases.getCanvas("inlineImage",i,a),o=r.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,a=this.ctx;this.save();const{filter:r}=a;r!=="none"&&r!==""&&(a.filter="none"),a.scale(1/e,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",e,i).context;P_(p,t),o=this.applyTransferMapsToCanvas(p)}const u=this._scaleImage(o,El(a));a.imageSmoothingEnabled=F_(gn(a),t.interpolate),H5(a,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const r=t.width,o=t.height,h=this.cachedCanvases.getCanvas("inlineImage",r,o).context;P_(h,t),a=this.applyTransferMapsToCanvas(h)}for(const r of e)i.save(),i.transform(...r.transform),i.scale(1,-1),H5(i,a,r.x,r.y,r.w,r.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const a=this.ctx;this.pendingClip&&(i||(this.pendingClip===B_?a.clip(t,"evenodd"):a.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=gn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:a,d:r}=this.ctx.getTransform();let o,u;if(i===0&&a===0){const h=Math.abs(e),p=Math.abs(r);if(h===p)if(t===0)o=u=1/h;else{const m=h*t;o=u=m<1?1/m:1}else if(t===0)o=1/h,u=1/p;else{const m=h*t,y=p*t;o=m<1?1/m:1,u=y<1?1/y:1}}else{const h=Math.abs(e*r-i*a),p=Math.hypot(e,i),m=Math.hypot(a,r);if(t===0)o=m/h,u=p/h;else{const y=t*h;o=m>y?m/y:1,u=p>y?p/y:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:a}}=this,[r,o]=this.getScaleForStroking();if(r===o){i.lineWidth=(a||1)*r,i.stroke(t);return}const u=i.getLineDash();e&&i.save(),i.scale(r,o),zy.a=1/r,zy.d=1/o;const h=new Path2D;if(h.addPath(t,zy),u.length>0){const p=Math.max(r,o);i.setLineDash(u.map(m=>m/p)),i.lineDashOffset/=p}i.lineWidth=a||1,i.stroke(h),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Uo=new WeakSet,xA=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},EA=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},NA=function(t,e,i){const a=new Path2D;return a.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),a};let wg=Vw;for(const c in Pv)wg.prototype[c]!==void 0&&(wg.prototype[Pv[c]]=wg.prototype[c]);var km,Pm;class Kl{static get workerPort(){return f(this,km)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");T(this,km,t)}static get workerSrc(){return f(this,Pm)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");T(this,Pm,t)}}km=new WeakMap,Pm=new WeakMap,F(Kl,km,null),F(Kl,Pm,"");var Xg,Im;class nC{constructor({parsedData:t,rawData:e}){F(this,Xg);F(this,Im);T(this,Xg,t),T(this,Im,e)}getRaw(){return f(this,Im)}get(t){return f(this,Xg).get(t)??null}[Symbol.iterator](){return f(this,Xg).entries()}}Xg=new WeakMap,Im=new WeakMap;const fg=Symbol("INTERNAL");var Fm,Bm,jm,Wg;class sC{constructor(t,{name:e,intent:i,usage:a,rbGroups:r}){F(this,Fm,!1);F(this,Bm,!1);F(this,jm,!1);F(this,Wg,!0);T(this,Fm,!!(t&Ar.DISPLAY)),T(this,Bm,!!(t&Ar.PRINT)),this.name=e,this.intent=i,this.usage=a,this.rbGroups=r}get visible(){if(f(this,jm))return f(this,Wg);if(!f(this,Wg))return!1;const{print:t,view:e}=this.usage;return f(this,Fm)?(e==null?void 0:e.viewState)!=="OFF":f(this,Bm)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==fg&&Ii("Internal method `_setVisible` called."),T(this,jm,i),T(this,Wg,e)}}Fm=new WeakMap,Bm=new WeakMap,jm=new WeakMap,Wg=new WeakMap;var Oh,ki,Kg,$g,zm,LA;class aC{constructor(t,e=Ar.DISPLAY){F(this,zm);F(this,Oh,null);F(this,ki,new Map);F(this,Kg,null);F(this,$g,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,T(this,$g,t.order);for(const i of t.groups)f(this,ki).set(i.id,new sC(e,i));if(t.baseState==="OFF")for(const i of f(this,ki).values())i._setVisible(fg,!1);for(const i of t.on)f(this,ki).get(i)._setVisible(fg,!0);for(const i of t.off)f(this,ki).get(i)._setVisible(fg,!1);T(this,Kg,this.getHash())}}isVisible(t){if(f(this,ki).size===0)return!0;if(!t)return gb("Optional content group not defined."),!0;if(t.type==="OCG")return f(this,ki).has(t.id)?f(this,ki).get(t.id).visible:(ze(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return B(this,zm,LA).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!f(this,ki).has(e))return ze(`Optional content group not found: ${e}`),!0;if(f(this,ki).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!f(this,ki).has(e))return ze(`Optional content group not found: ${e}`),!0;if(!f(this,ki).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!f(this,ki).has(e))return ze(`Optional content group not found: ${e}`),!0;if(!f(this,ki).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!f(this,ki).has(e))return ze(`Optional content group not found: ${e}`),!0;if(f(this,ki).get(e).visible)return!1}return!0}return ze(`Unknown optional content policy ${t.policy}.`),!0}return ze(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var r;const a=f(this,ki).get(t);if(!a){ze(`Optional content group not found: ${t}`);return}if(i&&e&&a.rbGroups.length)for(const o of a.rbGroups)for(const u of o)u!==t&&((r=f(this,ki).get(u))==null||r._setVisible(fg,!1,!0));a._setVisible(fg,!!e,!0),T(this,Oh,null)}setOCGState({state:t,preserveRB:e}){let i;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":i=a;continue}const r=f(this,ki).get(a);if(r)switch(i){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!r.visible,e);break}}T(this,Oh,null)}get hasInitialVisibility(){return f(this,Kg)===null||this.getHash()===f(this,Kg)}getOrder(){return f(this,ki).size?f(this,$g)?f(this,$g).slice():[...f(this,ki).keys()]:null}getGroup(t){return f(this,ki).get(t)||null}getHash(){if(f(this,Oh)!==null)return f(this,Oh);const t=new sx;for(const[e,i]of f(this,ki))t.update(`${e}:${i.visible}`);return T(this,Oh,t.hexdigest())}[Symbol.iterator](){return f(this,ki).entries()}}Oh=new WeakMap,ki=new WeakMap,Kg=new WeakMap,$g=new WeakMap,zm=new WeakSet,LA=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let a=1;a<e;a++){const r=t[a];let o;if(Array.isArray(r))o=B(this,zm,LA).call(this,r);else if(f(this,ki).has(r))o=f(this,ki).get(r).visible;else return ze(`Optional content group not found: ${r}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class rC{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Xn(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:r,progressiveDone:o,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=u,(r==null?void 0:r.length)>0){const h=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,p)=>{this._onReceiveData({begin:h,chunk:p})}),t.addProgressListener((h,p)=>{this._onProgress({loaded:h,total:p})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const a=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(i),!0)});Xn(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,a,r;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(r=(a=this._fullRequestReader)==null?void 0:a.onProgress)==null||r.call(a,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Xn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new oC(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new lC(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class oC{constructor(t,e,i=!1,a=null){this._stream=t,this._done=i||!1,this._filename=Ow(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class lC{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function cC(c){let t=!0,e=i("filename\\*","i").exec(c);if(e){e=e[1];let m=u(e);return m=unescape(m),m=h(m),m=p(m),r(m)}if(e=o(c),e){const m=p(e);return r(m)}if(e=i("filename","i").exec(c),e){e=e[1];let m=u(e);return m=p(m),r(m)}function i(m,y){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function a(m,y){if(m){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const w=new TextDecoder(m,{fatal:!0}),A=I2(y);y=w.decode(A),t=!1}catch{}}return y}function r(m){return t&&/[\x80-\xff]/.test(m)&&(m=a("utf-8",m),t&&(m=a("iso-8859-1",m))),m}function o(m){const y=[];let w;const A=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(w=A.exec(m))!==null;){let[,E,M,L]=w;if(E=parseInt(E,10),E in y){if(E===0)break;continue}y[E]=[M,L]}const N=[];for(let E=0;E<y.length&&E in y;++E){let[M,L]=y[E];L=u(L),M&&(L=unescape(L),E===0&&(L=h(L))),N.push(L)}return N.join("")}function u(m){if(m.startsWith('"')){const y=m.slice(1).split('\\"');for(let w=0;w<y.length;++w){const A=y[w].indexOf('"');A!==-1&&(y[w]=y[w].slice(0,A),y.length=w+1),y[w]=y[w].replaceAll(/\\(.)/g,"$1")}m=y.join('"')}return m}function h(m){const y=m.indexOf("'");if(y===-1)return m;const w=m.slice(0,y),N=m.slice(y+1).replace(/^[^']*'/,"");return a(w,N)}function p(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,w,A,N){if(A==="q"||A==="Q")return N=N.replaceAll("_"," "),N=N.replaceAll(/=([0-9a-fA-F]{2})/g,function(E,M){return String.fromCharCode(parseInt(M,16))}),a(w,N);try{N=atob(N)}catch{}return a(w,N)})}return""}function mx(c,t){const e=new Headers;if(!c||!t||typeof t!="object")return e;for(const i in t){const a=t[i];a!==void 0&&e.append(i,a)}return e}function bb(c){var t;return((t=URL.parse(c))==null?void 0:t.origin)??null}function vx({responseHeaders:c,isHttp:t,rangeChunkSize:e,disableRange:i}){const a={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(c.get("Content-Length"),10);return!Number.isInteger(r)||(a.suggestedLength=r,r<=2*e)||i||!t||c.get("Accept-Ranges")!=="bytes"||(c.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function bx(c){const t=c.get("Content-Disposition");if(t){let e=cC(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Ow(e))return e}return null}function z2(c,t){return new Iv(`Unexpected server response (${c}) while retrieving PDF "${t}".`,c,c===404||c===0&&t.startsWith("file:"))}function yx(c){return c===200||c===206}function Ax(c,t,e){return{method:"GET",headers:c,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function wx(c){return c instanceof Uint8Array?c.buffer:c instanceof ArrayBuffer?c:(ze(`getArrayBuffer - unexpected data format: ${c}`),new Uint8Array(c).buffer)}class uC{constructor(t){Xt(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=mx(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Xn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new hC(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new fC(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class hC{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),a=e.url;fetch(a,Ax(i,this._withCredentials,this._abortController)).then(r=>{if(t._responseOrigin=bb(r.url),!yx(r.status))throw z2(r.status,a);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=r.headers,{allowRangeRequests:u,suggestedLength:h}=vx({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=h||this._contentLength,this._filename=bx(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new rf("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:wx(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class fC{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range",`bytes=${e}-${i-1}`);const o=a.url;fetch(o,Ax(r,this._withCredentials,this._abortController)).then(u=>{const h=bb(u.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!yx(u.status))throw z2(u.status,o);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:wx(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const qy=200,Uy=206;function dC(c){const t=c.response;return typeof t!="string"?t:I2(t).buffer}class pC{constructor({url:t,httpHeaders:e,withCredentials:i}){Xt(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=mx(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,a=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[r,o]of this.headers)e.setRequestHeader(r,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=Uy):a.expectedStatus=qy,e.responseType="arraybuffer",Xn(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var a;const i=this.pendingRequests[t];i&&((a=i.onProgress)==null||a.call(i,e))}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const a=i.xhr;if(a.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){i.onError(a.status);return}const r=a.status||qy;if(!(r===qy&&i.expectedStatus===Uy)&&r!==i.expectedStatus){i.onError(a.status);return}const u=dC(a);if(r===Uy){const h=a.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);p?i.onDone({begin:parseInt(p[1],10),chunk:u}):(ze('Missing or invalid "Content-Range" header.'),i.onError(0))}else u?i.onDone({begin:0,chunk:u}):i.onError(a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class gC{constructor(t){this._source=t,this._manager=new pC(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Xn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new mC(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new vC(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class mC{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=bb(e.responseURL);const i=e.getAllResponseHeaders(),a=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[h,...p]=u.split(": ");return[h,p.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:o}=vx({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=bx(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=z2(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class vC{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=bb((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=z2(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const bC=/^[a-z][a-z0-9\-+.]+:/i;function yC(c){if(bC.test(c))return new URL(c);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(c))}class AC{constructor(t){this.source=t,this.url=yC(t.url),Xn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Xn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new wC(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new SC(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class wC{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=z2(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new rf("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class SC{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=t.source;this._isStreamingSupported=!a.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const C0=Symbol("INITIAL_DATA");var lr,qm,CA;class Sx{constructor(){F(this,qm);F(this,lr,Object.create(null))}get(t,e=null){if(e){const a=B(this,qm,CA).call(this,t);return a.promise.then(()=>e(a.data)),null}const i=f(this,lr)[t];if(!i||i.data===C0)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=f(this,lr)[t];return!!e&&e.data!==C0}delete(t){const e=f(this,lr)[t];return!e||e.data===C0?!1:(delete f(this,lr)[t],!0)}resolve(t,e=null){const i=B(this,qm,CA).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in f(this,lr)){const{data:i}=f(this,lr)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}T(this,lr,Object.create(null))}*[Symbol.iterator](){for(const t in f(this,lr)){const{data:e}=f(this,lr)[t];e!==C0&&(yield[t,e])}}}lr=new WeakMap,qm=new WeakSet,CA=function(t){var e;return(e=f(this,lr))[t]||(e[t]={...Promise.withResolvers(),data:C0})};const _C=1e5,j_=30;var h4,Dh,Ba,Um,Hm,Nd,Zc,Gm,Vm,Ld,Qg,Zg,kh,Jg,Ym,t1,Cd,Xm,Wm,e1,Td,Km,Ph,i1,yu,_x,xx,TA,xr,lv,MA,Ex,Nx;const Zn=class Zn{constructor({textContentSource:t,container:e,viewport:i}){F(this,yu);F(this,Dh,Promise.withResolvers());F(this,Ba,null);F(this,Um,!1);F(this,Hm,!!((h4=globalThis.FontInspector)!=null&&h4.enabled));F(this,Nd,null);F(this,Zc,null);F(this,Gm,0);F(this,Vm,0);F(this,Ld,null);F(this,Qg,null);F(this,Zg,0);F(this,kh,0);F(this,Jg,Object.create(null));F(this,Ym,[]);F(this,t1,null);F(this,Cd,[]);F(this,Xm,new WeakMap);F(this,Wm,null);var h;if(t instanceof ReadableStream)T(this,t1,t);else if(typeof t=="object")T(this,t1,new ReadableStream({start(p){p.enqueue(t),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');T(this,Ba,T(this,Qg,e)),T(this,kh,i.scale*Zl.pixelRatio),T(this,Zg,i.rotation),T(this,Zc,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:r,pageX:o,pageY:u}=i.rawDims;T(this,Wm,[1,0,0,-1,-o,u+r]),T(this,Vm,a),T(this,Gm,r),B(h=Zn,xr,Ex).call(h),fp(e,i),f(this,Dh).promise.finally(()=>{f(Zn,i1).delete(this),T(this,Zc,null),T(this,Jg,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Ps.platform;return Ze(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{f(this,Ld).read().then(({value:e,done:i})=>{if(i){f(this,Dh).resolve();return}f(this,Nd)??T(this,Nd,e.lang),Object.assign(f(this,Jg),e.styles),B(this,yu,_x).call(this,e.items),t()},f(this,Dh).reject)};return T(this,Ld,f(this,t1).getReader()),f(Zn,i1).add(this),t(),f(this,Dh).promise}update({viewport:t,onBefore:e=null}){var r;const i=t.scale*Zl.pixelRatio,a=t.rotation;if(a!==f(this,Zg)&&(e==null||e(),T(this,Zg,a),fp(f(this,Qg),{rotation:a})),i!==f(this,kh)){e==null||e(),T(this,kh,i);const o={div:null,properties:null,ctx:B(r=Zn,xr,lv).call(r,f(this,Nd))};for(const u of f(this,Cd))o.properties=f(this,Xm).get(u),o.div=u,B(this,yu,TA).call(this,o)}}cancel(){var e;const t=new rf("TextLayer task cancelled.");(e=f(this,Ld))==null||e.cancel(t).catch(()=>{}),T(this,Ld,null),f(this,Dh).reject(t)}get textDivs(){return f(this,Cd)}get textContentItemsStr(){return f(this,Ym)}static cleanup(){if(!(f(this,i1).size>0)){f(this,e1).clear();for(const{canvas:t}of f(this,Td).values())t.remove();f(this,Td).clear()}}};Dh=new WeakMap,Ba=new WeakMap,Um=new WeakMap,Hm=new WeakMap,Nd=new WeakMap,Zc=new WeakMap,Gm=new WeakMap,Vm=new WeakMap,Ld=new WeakMap,Qg=new WeakMap,Zg=new WeakMap,kh=new WeakMap,Jg=new WeakMap,Ym=new WeakMap,t1=new WeakMap,Cd=new WeakMap,Xm=new WeakMap,Wm=new WeakMap,e1=new WeakMap,Td=new WeakMap,Km=new WeakMap,Ph=new WeakMap,i1=new WeakMap,yu=new WeakSet,_x=function(t){var a,r;if(f(this,Um))return;(r=f(this,Zc)).ctx??(r.ctx=B(a=Zn,xr,lv).call(a,f(this,Nd)));const e=f(this,Cd),i=f(this,Ym);for(const o of t){if(e.length>_C){ze("Ignoring additional textDivs for performance reasons."),T(this,Um,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const u=f(this,Ba);T(this,Ba,document.createElement("span")),f(this,Ba).classList.add("markedContent"),o.id&&f(this,Ba).setAttribute("id",`${o.id}`),u.append(f(this,Ba))}else o.type==="endMarkedContent"&&T(this,Ba,f(this,Ba).parentNode);continue}i.push(o.str),B(this,yu,xx).call(this,o)}},xx=function(t){var E;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};f(this,Cd).push(e);const a=Ae.transform(f(this,Wm),t.transform);let r=Math.atan2(a[1],a[0]);const o=f(this,Jg)[t.fontName];o.vertical&&(r+=Math.PI/2);let u=f(this,Hm)&&o.fontSubstitution||o.fontFamily;u=Zn.fontFamilyMap.get(u)||u;const h=Math.hypot(a[2],a[3]),p=h*B(E=Zn,xr,Nx).call(E,u,o,f(this,Nd));let m,y;r===0?(m=a[4],y=a[5]-p):(m=a[4]+p*Math.sin(r),y=a[5]-p*Math.cos(r));const w="calc(var(--total-scale-factor) *",A=e.style;f(this,Ba)===f(this,Qg)?(A.left=`${(100*m/f(this,Vm)).toFixed(2)}%`,A.top=`${(100*y/f(this,Gm)).toFixed(2)}%`):(A.left=`${w}${m.toFixed(2)}px)`,A.top=`${w}${y.toFixed(2)}px)`),A.fontSize=`${w}${(f(Zn,Ph)*h).toFixed(2)}px)`,A.fontFamily=u,i.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,f(this,Hm)&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),r!==0&&(i.angle=r*(180/Math.PI));let N=!1;if(t.str.length>1)N=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const M=Math.abs(t.transform[0]),L=Math.abs(t.transform[3]);M!==L&&Math.max(M,L)/Math.min(M,L)>1.5&&(N=!0)}if(N&&(i.canvasWidth=o.vertical?t.height:t.width),f(this,Xm).set(e,i),f(this,Zc).div=e,f(this,Zc).properties=i,B(this,yu,TA).call(this,f(this,Zc)),i.hasText&&f(this,Ba).append(e),i.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),f(this,Ba).append(M)}},TA=function(t){var u;const{div:e,properties:i,ctx:a}=t,{style:r}=e;let o="";if(f(Zn,Ph)>1&&(o=`scale(${1/f(Zn,Ph)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:h}=r,{canvasWidth:p,fontSize:m}=i;B(u=Zn,xr,MA).call(u,a,m*f(this,kh),h);const{width:y}=a.measureText(e.textContent);y>0&&(o=`scaleX(${p*f(this,kh)/y}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(r.transform=o)},xr=new WeakSet,lv=function(t=null){let e=f(this,Td).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,Td).set(t,e),f(this,Km).set(e,{size:0,family:""})}return e},MA=function(t,e,i){const a=f(this,Km).get(t);e===a.size&&i===a.family||(t.font=`${e}px ${i}`,a.size=e,a.family=i)},Ex=function(){if(f(this,Ph)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),T(this,Ph,t.getBoundingClientRect().height),t.remove()},Nx=function(t,e,i){const a=f(this,e1).get(t);if(a)return a;const r=B(this,xr,lv).call(this,i);r.canvas.width=r.canvas.height=j_,B(this,xr,MA).call(this,r,j_,t);const o=r.measureText(""),u=o.fontBoundingBoxAscent,h=Math.abs(o.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let p=.8;return u?p=u/(u+h):(Ps.platform.isFirefox&&ze("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?p=e.ascent:e.descent&&(p=1+e.descent)),f(this,e1).set(t,p),p},F(Zn,xr),F(Zn,e1,new Map),F(Zn,Td,new Map),F(Zn,Km,new WeakMap),F(Zn,Ph,null),F(Zn,i1,new Set);let im=Zn;class nm{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function a(r){var h;if(!r)return;let o=null;const u=r.name;if(u==="#text")o=r.value;else if(nm.shouldBuildText(u))(h=r==null?void 0:r.attributes)!=null&&h.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&e.push({str:o}),!!r.children)for(const p of r.children)a(p)}return a(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const xC=100;function Lx(c={}){typeof c=="string"||c instanceof URL?c={url:c}:(c instanceof ArrayBuffer||ArrayBuffer.isView(c))&&(c={data:c});const t=new RA,{docId:e}=t,i=c.url?DL(c.url):null,a=c.data?kL(c.data):null,r=c.httpHeaders||null,o=c.withCredentials===!0,u=c.password??null,h=c.range instanceof Cx?c.range:null,p=Number.isInteger(c.rangeChunkSize)&&c.rangeChunkSize>0?c.rangeChunkSize:2**16;let m=c.worker instanceof sm?c.worker:null;const y=c.verbosity,w=typeof c.docBaseUrl=="string"&&!mb(c.docBaseUrl)?c.docBaseUrl:null,A=q5(c.cMapUrl),N=c.cMapPacked!==!1,E=c.CMapReaderFactory||(wa?UL:L_),M=q5(c.iccUrl),L=q5(c.standardFontDataUrl),R=c.StandardFontDataFactory||(wa?HL:C_),P=q5(c.wasmUrl),W=c.WasmFactory||(wa?GL:T_),X=c.stopAtErrors!==!0,it=Number.isInteger(c.maxImageSize)&&c.maxImageSize>-1?c.maxImageSize:-1,J=c.isEvalSupported!==!1,Z=typeof c.isOffscreenCanvasSupported=="boolean"?c.isOffscreenCanvasSupported:!wa,ct=typeof c.isImageDecoderSupported=="boolean"?c.isImageDecoderSupported:!wa&&(Ps.platform.isFirefox||!globalThis.chrome),bt=Number.isInteger(c.canvasMaxAreaInBytes)?c.canvasMaxAreaInBytes:-1,z=typeof c.disableFontFace=="boolean"?c.disableFontFace:wa,K=c.fontExtraProperties===!0,ot=c.enableXfa===!0,st=c.ownerDocument||globalThis.document,Et=c.disableRange===!0,U=c.disableStream===!0,tt=c.disableAutoFetch===!0,ht=c.pdfBug===!0,At=c.CanvasFactory||(wa?qL:BL),V=c.FilterFactory||(wa?zL:jL),ft=c.enableHWA===!0,O=c.useWasm!==!1,H=h?h.length:c.length??NaN,Q=typeof c.useSystemFonts=="boolean"?c.useSystemFonts:!wa&&!z,rt=typeof c.useWorkerFetch=="boolean"?c.useWorkerFetch:!!(E===L_&&R===C_&&W===T_&&A&&L&&P&&D0(A,document.baseURI)&&D0(L,document.baseURI)&&D0(P,document.baseURI)),at=null;hL(y);const mt={canvasFactory:new At({ownerDocument:st,enableHWA:ft}),filterFactory:new V({docId:e,ownerDocument:st}),cMapReaderFactory:rt?null:new E({baseUrl:A,isCompressed:N}),standardFontDataFactory:rt?null:new R({baseUrl:L}),wasmFactory:rt?null:new W({baseUrl:P})};m||(m=sm.create({verbosity:y,port:Kl.workerPort}),t._worker=m);const St={docId:e,apiVersion:"5.4.54",data:a,password:u,disableAutoFetch:tt,rangeChunkSize:p,length:H,docBaseUrl:w,enableXfa:ot,evaluatorOptions:{maxImageSize:it,disableFontFace:z,ignoreErrors:X,isEvalSupported:J,isOffscreenCanvasSupported:Z,isImageDecoderSupported:ct,canvasMaxAreaInBytes:bt,fontExtraProperties:K,useSystemFonts:Q,useWasm:O,useWorkerFetch:rt,cMapUrl:A,iccUrl:M,standardFontDataUrl:L,wasmUrl:P}},Ct={ownerDocument:st,pdfBug:ht,styleElement:at,loadingParams:{disableAutoFetch:tt,enableXfa:ot}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Vt=m.messageHandler.sendWithPromise("GetDocRequest",St,a?[a.buffer]:null);let Ht;if(h)Ht=new rC(h,{disableRange:Et,disableStream:U});else if(!a){if(!i)throw new Error("getDocument - no `url` parameter provided.");const Wt=D0(i)?uC:wa?AC:gC;Ht=new Wt({url:i,length:H,httpHeaders:r,withCredentials:o,rangeChunkSize:p,disableRange:Et,disableStream:U})}return Vt.then(Wt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Kt=new B0(e,Wt,m.port),ve=new LC(Kt,t,Ht,Ct,mt,ft);t._transport=ve,Kt.send("Ready",null)})}).catch(t._capability.reject),t}var nb;const sb=class sb{constructor(){Xt(this,"_capability",Promise.withResolvers());Xt(this,"_transport",null);Xt(this,"_worker",null);Xt(this,"docId",`d${ga(sb,nb)._++}`);Xt(this,"destroyed",!1);Xt(this,"onPassword",null);Xt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,i,a;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,(a=this._worker)==null||a.destroy(),this._worker=null}async getData(){return this._transport.getData()}};nb=new WeakMap,F(sb,nb,0);let RA=sb;var Md,$m,Qm,Zm,Jm;class Cx{constructor(t,e,i=!1,a=null){F(this,Md,Promise.withResolvers());F(this,$m,[]);F(this,Qm,[]);F(this,Zm,[]);F(this,Jm,[]);this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=a}addRangeListener(t){f(this,Jm).push(t)}addProgressListener(t){f(this,Zm).push(t)}addProgressiveReadListener(t){f(this,Qm).push(t)}addProgressiveDoneListener(t){f(this,$m).push(t)}onDataRange(t,e){for(const i of f(this,Jm))i(t,e)}onDataProgress(t,e){f(this,Md).promise.then(()=>{for(const i of f(this,Zm))i(t,e)})}onDataProgressiveRead(t){f(this,Md).promise.then(()=>{for(const e of f(this,Qm))e(t)})}onDataProgressiveDone(){f(this,Md).promise.then(()=>{for(const t of f(this,$m))t()})}transportReady(){f(this,Md).resolve()}requestDataRange(t,e){Ii("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Md=new WeakMap,$m=new WeakMap,Qm=new WeakMap,Zm=new WeakMap,Jm=new WeakMap;class EC{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Jc,Rd,H0;class NC{constructor(t,e,i,a=!1){F(this,Rd);F(this,Jc,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=a?new x_:null,this._pdfBug=a,this.commonObjs=i.commonObjs,this.objs=new Sx,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:a=0,dontFlip:r=!1}={}){return new B2({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,canvas:e=t.canvas,viewport:i,intent:a="display",annotationMode:r=ph.ENABLE,transform:o=null,background:u=null,optionalContentConfigPromise:h=null,annotationCanvasMap:p=null,pageColors:m=null,printAnnotationStorage:y=null,isEditing:w=!1}){var X,it;(X=this._stats)==null||X.time("Overall");const A=this._transport.getRenderingIntent(a,r,y,w),{renderingIntent:N,cacheKey:E}=A;T(this,Jc,!1),h||(h=this._transport.getOptionalContentConfig(N));let M=this._intentStates.get(E);M||(M=Object.create(null),this._intentStates.set(E,M)),M.streamReaderCancelTimeout&&(clearTimeout(M.streamReaderCancelTimeout),M.streamReaderCancelTimeout=null);const L=!!(N&Ar.PRINT);M.displayReadyCapability||(M.displayReadyCapability=Promise.withResolvers(),M.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(it=this._stats)==null||it.time("Page Request"),this._pumpOperatorList(A));const R=J=>{var Z;M.renderTasks.delete(P),L&&T(this,Jc,!0),B(this,Rd,H0).call(this),J?(P.capability.reject(J),this._abortOperatorList({intentState:M,reason:J instanceof Error?J:new Error(J)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Z=globalThis.Stats)!=null&&Z.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new OA({callback:R,params:{canvas:e,canvasContext:t,viewport:i,transform:o,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:M.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!L,pdfBug:this._pdfBug,pageColors:m,enableHWA:this._transport.enableHWA});(M.renderTasks||(M.renderTasks=new Set)).add(P);const W=P.task;return Promise.all([M.displayReadyCapability.promise,h]).then(([J,Z])=>{var ct;if(this.destroyed){R();return}if((ct=this._stats)==null||ct.time("Rendering"),!(Z.renderingIntent&N))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:J,optionalContentConfig:Z}),P.operatorListChanged()}).catch(R),W}getOperatorList({intent:t="display",annotationMode:e=ph.ENABLE,printAnnotationStorage:i=null,isEditing:a=!1}={}){var p;function r(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(h))}const o=this._transport.getRenderingIntent(t,e,i,a,!0);let u=this._intentStates.get(o.cacheKey);u||(u=Object.create(null),this._intentStates.set(o.cacheKey,u));let h;return u.opListReadCapability||(h=Object.create(null),h.operatorListChanged=r,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(h),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(o)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>nm.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,a){function r(){o.read().then(function({value:h,done:p}){if(p){i(u);return}u.lang??(u.lang=h.lang),Object.assign(u.styles,h.styles),u.items.push(...h.items),r()},a)}const o=e.getReader(),u={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),T(this,Jc,!1),Promise.all(t)}cleanup(t=!1){T(this,Jc,!0);const e=B(this,Rd,H0).call(this);return t&&e&&this._stats&&(this._stats=new x_),e}_startRenderPage(t,e){var a,r;const i=this._intentStates.get(e);i&&((a=this._stats)==null||a.timeEnd("Page Request"),(r=i.displayReadyCapability)==null||r.resolve(t))}_renderPageChunk(t,e){for(let i=0,a=t.length;i<a;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&B(this,Rd,H0).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:a}){const{map:r,transfer:o}=i,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:r,modifiedIds:a},o).getReader(),p=this._intentStates.get(e);p.streamReader=h;const m=()=>{h.read().then(({value:y,done:w})=>{if(w){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,p),m())},y=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const w of p.renderTasks)w.operatorListChanged();B(this,Rd,H0).call(this)}if(p.displayReadyCapability)p.displayReadyCapability.reject(y);else if(p.opListReadCapability)p.opListReadCapability.reject(y);else throw y}})};m()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof Rw){let a=xC;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new rf(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,r]of this._intentStates)if(r===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}Jc=new WeakMap,Rd=new WeakSet,H0=function(){if(!f(this,Jc)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),T(this,Jc,!1),!0};var Ih,ko,tu,Od,ab,Dd,kd,_a,cv,Tx,Mx,G0,n1,uv;const nn=class nn{constructor({name:t=null,port:e=null,verbosity:i=fL()}={}){F(this,_a);F(this,Ih,Promise.withResolvers());F(this,ko,null);F(this,tu,null);F(this,Od,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(f(nn,kd).has(e))throw new Error("Cannot use more than one PDFWorker per port.");f(nn,kd).set(e,this),B(this,_a,Tx).call(this,e)}else B(this,_a,Mx).call(this)}get promise(){return f(this,Ih).promise}get port(){return f(this,tu)}get messageHandler(){return f(this,ko)}destroy(){var t,e;this.destroyed=!0,(t=f(this,Od))==null||t.terminate(),T(this,Od,null),f(nn,kd).delete(f(this,tu)),T(this,tu,null),(e=f(this,ko))==null||e.destroy(),T(this,ko,null)}static create(t){const e=f(this,kd).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new nn(t)}static get workerSrc(){if(Kl.workerSrc)return Kl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ze(this,"_setupFakeWorkerGlobal",(async()=>f(this,n1,uv)?f(this,n1,uv):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ih=new WeakMap,ko=new WeakMap,tu=new WeakMap,Od=new WeakMap,ab=new WeakMap,Dd=new WeakMap,kd=new WeakMap,_a=new WeakSet,cv=function(){f(this,Ih).resolve(),f(this,ko).send("configure",{verbosity:this.verbosity})},Tx=function(t){T(this,tu,t),T(this,ko,new B0("main","worker",t)),f(this,ko).on("ready",()=>{}),B(this,_a,cv).call(this)},Mx=function(){if(f(nn,Dd)||f(nn,n1,uv)){B(this,_a,G0).call(this);return}let{workerSrc:t}=nn;try{nn._isSameOrigin(window.location,t)||(t=nn._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new B0("main","worker",e),a=()=>{r.abort(),i.destroy(),e.terminate(),this.destroyed?f(this,Ih).reject(new Error("Worker was destroyed")):B(this,_a,G0).call(this)},r=new AbortController;e.addEventListener("error",()=>{f(this,Od)||a()},{signal:r.signal}),i.on("test",u=>{if(r.abort(),this.destroyed||!u){a();return}T(this,ko,i),T(this,tu,e),T(this,Od,e),B(this,_a,cv).call(this)}),i.on("ready",u=>{if(r.abort(),this.destroyed){a();return}try{o()}catch{B(this,_a,G0).call(this)}});const o=()=>{const u=new Uint8Array;i.send("test",u,[u.buffer])};o();return}catch{gb("The worker has been disabled.")}B(this,_a,G0).call(this)},G0=function(){f(nn,Dd)||(ze("Setting up fake worker."),T(nn,Dd,!0)),nn._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){f(this,Ih).reject(new Error("Worker was destroyed"));return}const e=new FL;T(this,tu,e);const i=`fake${ga(nn,ab)._++}`,a=new B0(i+"_worker",i,e);t.setup(a,e),T(this,ko,new B0(i,i+"_worker",e)),B(this,_a,cv).call(this)}).catch(t=>{f(this,Ih).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},n1=new WeakSet,uv=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},F(nn,n1),F(nn,ab,0),F(nn,Dd,!1),F(nn,kd,new WeakMap),wa&&(T(nn,Dd,!0),Kl.workerSrc||(Kl.workerSrc="./pdf.worker.mjs")),nn._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const a=new URL(e,i);return i.origin===a.origin},nn._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},nn.fromPort=t=>{if(xL("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return nn.create(t)};let sm=nn;var eu,jl,s1,a1,iu,Pd,V0;class LC{constructor(t,e,i,a,r,o){F(this,Pd);F(this,eu,new Map);F(this,jl,new Map);F(this,s1,new Map);F(this,a1,new Map);F(this,iu,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Sx,this.fontLoader=new RL({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return Ze(this,"annotationStorage",new Dw)}getRenderingIntent(t,e=ph.ENABLE,i=null,a=!1,r=!1){let o=Ar.DISPLAY,u=bA;switch(t){case"any":o=Ar.ANY;break;case"display":break;case"print":o=Ar.PRINT;break;default:ze(`getRenderingIntent - invalid intent: ${t}`)}const h=o&Ar.PRINT&&i instanceof rx?i:this.annotationStorage;switch(e){case ph.DISABLE:o+=Ar.ANNOTATIONS_DISABLE;break;case ph.ENABLE:break;case ph.ENABLE_FORMS:o+=Ar.ANNOTATIONS_FORMS;break;case ph.ENABLE_STORAGE:o+=Ar.ANNOTATIONS_STORAGE,u=h.serializable;break;default:ze(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(o+=Ar.IS_EDITING),r&&(o+=Ar.OPLIST);const{ids:p,hash:m}=h.modifiedIds,y=[o,u.hash,m];return{renderingIntent:o,cacheKey:y.join("_"),annotationStorageSerializable:u,modifiedIds:p}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=f(this,iu))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const a of f(this,jl).values())t.push(a._destroy());f(this,jl).clear(),f(this,s1).clear(),f(this,a1).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var a,r;this.commonObjs.clear(),this.fontLoader.clear(),f(this,eu).clear(),this.filterFactory.destroy(),im.cleanup(),(a=this._networkStream)==null||a.cancelAllRequests(new rf("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,a)=>{Xn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},a.onPull=()=>{this._fullReader.read().then(function({value:r,done:o}){if(o){a.close();return}Xn(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{a.error(r)})},a.onCancel=r=>{this._fullReader.cancel(r),a.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async i=>{var u;await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:r,contentLength:o}=this._fullReader;return(!a||!r)&&(this._lastProgress&&((u=e.onProgress)==null||u.call(e,this._lastProgress)),this._fullReader.onProgress=h=>{var p;(p=e.onProgress)==null||p.call(e,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:a,isRangeSupported:r,contentLength:o}}),t.on("GetRangeReader",(i,a)=>{Xn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){a.close();return}a.onPull=()=>{r.read().then(function({value:o,done:u}){if(u){a.close();return}Xn(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{a.error(o)})},a.onCancel=o=>{r.cancel(o),a.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new EC(i,this))}),t.on("DocException",i=>{e._capability.reject(Pa(i))}),t.on("PasswordRequest",i=>{T(this,iu,Promise.withResolvers());try{if(!e.onPassword)throw Pa(i);const a=r=>{r instanceof Error?f(this,iu).reject(r):f(this,iu).resolve({password:r})};e.onPassword(a,i.code)}catch(a){f(this,iu).reject(a)}return f(this,iu).promise}),t.on("DataLoaded",i=>{var a;(a=e.onProgress)==null||a.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;f(this,jl).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,a,r])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(a){case"Font":if("error"in r){const m=r.error;ze(`Error during font loading: ${m}`),this.commonObjs.resolve(i,m);break}const u=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(m,y)=>globalThis.FontInspector.fontAdded(m,y):null,h=new OL(r,u);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(i,h)});break;case"CopyLocalImage":const{imageRef:p}=r;Xn(p,"The imageRef must be defined.");for(const m of f(this,jl).values())for(const[,y]of m.objs)if((y==null?void 0:y.ref)===p)return y.dataLen?(this.commonObjs.resolve(i,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([i,a,r,o])=>{var h;if(this.destroyed)return;const u=f(this,jl).get(a);if(!u.objs.has(i)){if(u._intentStates.size===0){(h=o==null?void 0:o.bitmap)==null||h.close();return}switch(r){case"Image":case"Pattern":u.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",i=>{var a;this.destroyed||(a=e.onProgress)==null||a.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[i.type];if(!a)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&ze("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=f(this,s1).get(e);if(i)return i;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&f(this,a1).set(r.refStr,t);const o=new NC(e,r,this,this._params.pdfBug);return f(this,jl).set(e,o),o});return f(this,s1).set(e,a),a}getPageIndex(t){return yA(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return B(this,Pd,V0).call(this,"GetFieldObjects")}hasJSActions(){return B(this,Pd,V0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return B(this,Pd,V0).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return B(this,Pd,V0).call(this,"GetOptionalContentConfig").then(e=>new aC(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=f(this,eu).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(a=>{var r,o;return{info:a[0],metadata:a[1]?new nC(a[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return f(this,eu).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of f(this,jl).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),f(this,eu).clear(),this.filterFactory.destroy(!0),im.cleanup()}}cachedPageNumber(t){if(!yA(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return f(this,a1).get(e)??null}}eu=new WeakMap,jl=new WeakMap,s1=new WeakMap,a1=new WeakMap,iu=new WeakMap,Pd=new WeakSet,V0=function(t,e=null){const i=f(this,eu).get(t);if(i)return i;const a=this.messageHandler.sendWithPromise(t,e);return f(this,eu).set(t,a),a};var Fh;class CC{constructor(t){F(this,Fh,null);Xt(this,"onContinue",null);Xt(this,"onError",null);T(this,Fh,t)}get promise(){return f(this,Fh).capability.promise}cancel(t=0){f(this,Fh).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=f(this,Fh).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=f(this,Fh);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Fh=new WeakMap;var Bh,Id;const id=class id{constructor({callback:t,params:e,objs:i,commonObjs:a,annotationCanvasMap:r,operatorList:o,pageIndex:u,canvasFactory:h,filterFactory:p,useRequestAnimationFrame:m=!1,pdfBug:y=!1,pageColors:w=null,enableHWA:A=!1}){F(this,Bh,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=u,this.canvasFactory=h,this.filterFactory=p,this._pdfBug=y,this.pageColors=w,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new CC(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=A}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var u,h;if(this.cancelled)return;if(this._canvas){if(f(id,Id).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(id,Id).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:a,background:r}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new wg(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:i,transparency:t,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(t=null,e=0){var i,a,r;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),f(this,Bh)&&(window.cancelAnimationFrame(f(this,Bh)),T(this,Bh,null)),f(id,Id).delete(this._canvas),t||(t=new Rw(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(r=(a=this.task).onError)==null||r.call(a,t)}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?T(this,Bh,window.requestAnimationFrame(()=>{T(this,Bh,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(id,Id).delete(this._canvas),this.callback())))}};Bh=new WeakMap,Id=new WeakMap,F(id,Id,new WeakSet);let OA=id;const TC="5.4.54",MC="295fb3ec4";var cr,Fd,r1,es,t2,o1,nu,e2,jh,Po,i2,Pi,DA,kA,PA,$f,Rx,fh;const Ia=class Ia{constructor({editor:t=null,uiManager:e=null}){F(this,Pi);F(this,cr,null);F(this,Fd,null);F(this,r1);F(this,es,null);F(this,t2,!1);F(this,o1,!1);F(this,nu,null);F(this,e2);F(this,jh,null);F(this,Po,null);var i,a;t?(T(this,o1,!1),T(this,nu,t)):T(this,o1,!0),T(this,Po,(t==null?void 0:t._uiManager)||e),T(this,e2,f(this,Po)._eventBus),T(this,r1,((i=t==null?void 0:t.color)==null?void 0:i.toUpperCase())||((a=f(this,Po))==null?void 0:a.highlightColors.values().next().value)||"#FFFF98"),f(Ia,i2)||T(Ia,i2,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ze(this,"_keyboardManager",new j2([[["Escape","mac+Escape"],Ia.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ia.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ia.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ia.prototype._moveToPrevious],[["Home","mac+Home"],Ia.prototype._moveToBeginning],[["End","mac+End"],Ia.prototype._moveToEnd]]))}renderButton(){const t=T(this,cr,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",f(this,nu)&&(t.ariaControls=`${f(this,nu).id}_colorpicker_dropdown`);const e=f(this,Po)._signal;t.addEventListener("click",B(this,Pi,$f).bind(this),{signal:e}),t.addEventListener("keydown",B(this,Pi,PA).bind(this),{signal:e});const i=T(this,Fd,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=f(this,r1),t.append(i),t}renderMainDropdown(){const t=T(this,es,B(this,Pi,DA).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===f(this,cr)){B(this,Pi,$f).call(this,t);return}const e=t.target.getAttribute("data-color");e&&B(this,Pi,kA).call(this,e,t)}_moveToNext(t){var e,i;if(!f(this,Pi,fh)){B(this,Pi,$f).call(this,t);return}if(t.target===f(this,cr)){(e=f(this,es).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=f(this,es))==null?void 0:e.firstChild)||t.target===f(this,cr)){f(this,Pi,fh)&&this._hideDropdownFromKeyboard();return}f(this,Pi,fh)||B(this,Pi,$f).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!f(this,Pi,fh)){B(this,Pi,$f).call(this,t);return}(e=f(this,es).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!f(this,Pi,fh)){B(this,Pi,$f).call(this,t);return}(e=f(this,es).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=f(this,es))==null||t.classList.add("hidden"),f(this,cr).ariaExpanded="false",(e=f(this,jh))==null||e.abort(),T(this,jh,null)}_hideDropdownFromKeyboard(){var t;if(!f(this,o1)){if(!f(this,Pi,fh)){(t=f(this,nu))==null||t.unselect();return}this.hideDropdown(),f(this,cr).focus({preventScroll:!0,focusVisible:f(this,t2)})}}updateColor(t){if(f(this,Fd)&&(f(this,Fd).style.backgroundColor=t),!f(this,es))return;const e=f(this,Po).highlightColors.values();for(const i of f(this,es).children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;(t=f(this,cr))==null||t.remove(),T(this,cr,null),T(this,Fd,null),(e=f(this,es))==null||e.remove(),T(this,es,null)}};cr=new WeakMap,Fd=new WeakMap,r1=new WeakMap,es=new WeakMap,t2=new WeakMap,o1=new WeakMap,nu=new WeakMap,e2=new WeakMap,jh=new WeakMap,Po=new WeakMap,i2=new WeakMap,Pi=new WeakSet,DA=function(){const t=document.createElement("div"),e=f(this,Po)._signal;t.addEventListener("contextmenu",Zr,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),f(this,nu)&&(t.id=`${f(this,nu).id}_colorpicker_dropdown`);for(const[i,a]of f(this,Po).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",a),r.title=i,r.setAttribute("data-l10n-id",f(Ia,i2)[i]);const o=document.createElement("span");r.append(o),o.className="swatch",o.style.backgroundColor=a,r.ariaSelected=a===f(this,r1),r.addEventListener("click",B(this,Pi,kA).bind(this,a),{signal:e}),t.append(r)}return t.addEventListener("keydown",B(this,Pi,PA).bind(this),{signal:e}),t},kA=function(t,e){e.stopPropagation(),f(this,e2).dispatch("switchannotationeditorparams",{source:this,type:ri.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)},PA=function(t){Ia._keyboardManager.exec(this,t)},$f=function(t){if(f(this,Pi,fh)){this.hideDropdown();return}if(T(this,t2,t.detail===0),f(this,jh)||(T(this,jh,new AbortController),window.addEventListener("pointerdown",B(this,Pi,Rx).bind(this),{signal:f(this,Po).combinedSignal(f(this,jh))})),f(this,cr).ariaExpanded="true",f(this,es)){f(this,es).classList.remove("hidden");return}const e=T(this,es,B(this,Pi,DA).call(this));f(this,cr).append(e)},Rx=function(t){var e;(e=f(this,es))!=null&&e.contains(t.target)||this.hideDropdown()},fh=function(){return f(this,es)&&!f(this,es).classList.contains("hidden")},F(Ia,i2,null);let zv=Ia;var zl,n2,l1,s2;const nd=class nd{constructor(t){F(this,zl,null);F(this,n2,null);F(this,l1,null);T(this,n2,t),T(this,l1,t._uiManager),f(nd,s2)||T(nd,s2,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(f(this,zl))return f(this,zl);const{editorType:t,colorType:e,colorValue:i}=f(this,n2),a=T(this,zl,document.createElement("input"));return a.type="color",a.value=i||"#000000",a.className="basicColorPicker",a.tabIndex=0,a.setAttribute("data-l10n-id",f(nd,s2)[t]),a.addEventListener("input",()=>{f(this,l1).updateParams(e,a.value)},{signal:f(this,l1)._signal}),a}update(t){f(this,zl)&&(f(this,zl).value=t)}destroy(){var t;(t=f(this,zl))==null||t.remove(),T(this,zl,null)}hideDropdown(){}};zl=new WeakMap,n2=new WeakMap,l1=new WeakMap,s2=new WeakMap,F(nd,s2,null);let qv=nd;function z_(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function T0(c){return Math.max(0,Math.min(255,255*c))}class q_{static CMYK_G([t,e,i,a]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=T0(t),[t,t,t]}static G_HTML([t]){const e=z_(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(T0)}static RGB_HTML(t){return`#${t.map(z_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,i+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,i,a]){return[T0(1-Math.min(1,t+a)),T0(1-Math.min(1,i+a)),T0(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const a=1-t,r=1-e,o=1-i,u=Math.min(a,r,o);return["CMYK",a,r,o,u]}}class RC{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),i||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Ii("Abstract method `_createSVG` called.")}}class Uv extends RC{_createSVG(t){return document.createElementNS(Dc,t)}}class Ox{static setupStorage(t,e,i,a,r){const o=a.getValue(e,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),r==="print")break;t.addEventListener("input",u=>{a.setValue(e,{value:u.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?t.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",u=>{a.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),r==="print")break;t.addEventListener("input",u=>{a.setValue(e,{value:u.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const u of i.children)u.attributes.value===o.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const h=u.target.options,p=h.selectedIndex===-1?"":h[h.selectedIndex].value;a.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:a,linkService:r}){const{attributes:o}=e,u=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${a}`);for(const[h,p]of Object.entries(o))if(p!=null)switch(h){case"class":p.length&&t.setAttribute(h,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!u||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,p)}u&&r.addLinkAttributes(t,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(t,o.dataId,e,i)}static render(t){var y,w;const e=t.annotationStorage,i=t.linkService,a=t.xfaHtml,r=t.intent||"display",o=document.createElement(a.name);a.attributes&&this.setAttributes({html:o,element:a,intent:r,linkService:i});const u=r!=="richText",h=t.div;if(h.append(o),t.viewport){const A=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=A}u&&h.setAttribute("class","xfaLayer xfaFont");const p=[];if(a.children.length===0){if(a.value){const A=document.createTextNode(a.value);o.append(A),u&&nm.shouldBuildText(a.name)&&p.push(A)}return{textDivs:p}}const m=[[a,-1,o]];for(;m.length>0;){const[A,N,E]=m.at(-1);if(N+1===A.children.length){m.pop();continue}const M=A.children[++m.at(-1)[1]];if(M===null)continue;const{name:L}=M;if(L==="#text"){const P=document.createTextNode(M.value);p.push(P),E.append(P);continue}const R=(y=M==null?void 0:M.attributes)!=null&&y.xmlns?document.createElementNS(M.attributes.xmlns,L):document.createElement(L);if(E.append(R),M.attributes&&this.setAttributes({html:R,element:M,storage:e,intent:r,linkService:i}),((w=M.children)==null?void 0:w.length)>0)m.push([M,-1,R]);else if(M.value){const P=document.createTextNode(M.value);u&&nm.shouldBuildText(L)&&p.push(P),R.append(P)}}for(const A of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const OC=9,pp=new WeakSet,DC=new Date().getTimezoneOffset()*60*1e3;class U_{static create(t){switch(t.data.annotationType){case Vn.LINK:return new Iw(t);case Vn.TEXT:return new kC(t);case Vn.WIDGET:switch(t.data.fieldType){case"Tx":return new PC(t);case"Btn":return t.data.radioButton?new Px(t):t.data.checkBox?new FC(t):new BC(t);case"Ch":return new jC(t);case"Sig":return new IC(t)}return new mp(t);case Vn.POPUP:return new FA(t);case Vn.FREETEXT:return new zx(t);case Vn.LINE:return new qC(t);case Vn.SQUARE:return new UC(t);case Vn.CIRCLE:return new HC(t);case Vn.POLYLINE:return new qx(t);case Vn.CARET:return new VC(t);case Vn.INK:return new Fw(t);case Vn.POLYGON:return new GC(t);case Vn.HIGHLIGHT:return new Ux(t);case Vn.UNDERLINE:return new YC(t);case Vn.SQUIGGLY:return new XC(t);case Vn.STRIKEOUT:return new WC(t);case Vn.STAMP:return new Hx(t);case Vn.FILEATTACHMENT:return new KC(t);default:return new Fn(t)}}}var Bd,c1,su,a2,IA;const Yw=class Yw{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:a=!1}={}){F(this,a2);F(this,Bd,null);F(this,c1,!1);F(this,su,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t!=null&&t.str||e!=null&&e.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Yw._hasPopupData(this.data)}updateEdited(t){var r;if(!this.container)return;t.rect&&(f(this,Bd)||T(this,Bd,{rect:this.data.rect.slice(0)}));const{rect:e,popup:i}=t;e&&B(this,a2,IA).call(this,e);let a=((r=f(this,su))==null?void 0:r.popup)||this.popup;!a&&(i!=null&&i.text)&&(this._createPopup(i),a=f(this,su).popup),a&&(a.updateEdited(t),i!=null&&i.deleted&&(a.remove(),T(this,su,null),this.popup=null))}resetEdited(){var t;f(this,Bd)&&(B(this,a2,IA).call(this,f(this,Bd).rect),(t=f(this,su))==null||t.popup.resetEdited(),T(this,Bd,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:a}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),!(this instanceof mp)&&!(this instanceof Iw)&&(r.tabIndex=0);const{style:o}=r;if(o.zIndex=this.parent.zIndex++,e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof FA){const{rotation:E}=e;return!e.hasOwnCanvas&&E!==0&&this.setRotation(E,r),r}const{width:u,height:h}=this;if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const E=e.borderStyle.horizontalCornerRadius,M=e.borderStyle.verticalCornerRadius;if(E>0||M>0){const R=`calc(${E}px * var(--total-scale-factor)) / calc(${M}px * var(--total-scale-factor))`;o.borderRadius=R}else if(this instanceof Px){const R=`calc(${u}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;o.borderRadius=R}switch(e.borderStyle.style){case og.SOLID:o.borderStyle="solid";break;case og.DASHED:o.borderStyle="dashed";break;case og.BEVELED:ze("Unimplemented border style: beveled");break;case og.INSET:ze("Unimplemented border style: inset");break;case og.UNDERLINE:o.borderBottomStyle="solid";break}const L=e.borderColor||null;L?(T(this,c1,!0),o.borderColor=Ae.makeHexColor(L[0]|0,L[1]|0,L[2]|0)):o.borderWidth=0}const p=Ae.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:m,pageHeight:y,pageX:w,pageY:A}=a.rawDims;o.left=`${100*(p[0]-w)/m}%`,o.top=`${100*(p[1]-A)/y}%`;const{rotation:N}=e;return e.hasOwnCanvas||N===0?(o.width=`${100*u/m}%`,o.height=`${100*h/y}%`):this.setRotation(N,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:a}=this.parent.viewport.rawDims;let{width:r,height:o}=this;t%180!==0&&([r,o]=[o,r]),e.style.width=`${100*r/i}%`,e.style.height=`${100*o/a}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,a)=>{const r=a.detail[e],o=r[0],u=r.slice(1);a.target.style[i]=q_[`${o}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[i]:q_[`${o}_rgb`](u)})};return Ze(this,"_commonActions",{display:e=>{const{display:i}=e.detail,a=i%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const a of Object.keys(e.detail)){const r=t[a]||i[a];r==null||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[a,r]of Object.entries(e)){const o=i[a];if(o){const u={detail:{[a]:r},target:t};o(u),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,a,r]=this.data.rect.map(E=>Math.fround(E));if(t.length===8){const[E,M,L,R]=t.subarray(2,6);if(a===E&&r===M&&e===L&&i===R)return}const{style:o}=this.container;let u;if(f(this,c1)){const{borderColor:E,borderWidth:M}=o;o.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${E}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const h=a-e,p=r-i,{svgFactory:m}=this,y=m.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0),y.role="none";const w=m.createElement("defs");y.append(w);const A=m.createElement("clipPath"),N=`clippath_${this.data.id}`;A.setAttribute("id",N),A.setAttribute("clipPathUnits","objectBoundingBox"),w.append(A);for(let E=2,M=t.length;E<M;E+=8){const L=t[E],R=t[E+1],P=t[E+2],W=t[E+3],X=m.createElement("rect"),it=(P-e)/h,J=(r-R)/p,Z=(L-P)/h,ct=(R-W)/p;X.setAttribute("x",it),X.setAttribute("y",J),X.setAttribute("width",Z),X.setAttribute("height",ct),A.append(X),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${it}" y="${J}" width="${Z}" height="${ct}"/>`)}f(this,c1)&&(u.push("</g></svg>')"),o.backgroundImage=u.join("")),this.container.append(y),this.container.style.clipPath=`url(#${N})`}_createPopup(t=null){const{data:e}=this;let i,a;t?(i={str:t.text},a=t.date):(i=e.contentsObj,a=e.modificationDate);const r=T(this,su,new FA({data:{color:e.color,titleObj:e.titleObj,modificationDate:a,contentsObj:i,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}get hasPopupElement(){return!!(f(this,su)||this.popup||this.data.popupRef)}render(){Ii("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:r,id:o,exportValues:u}of a){if(r===-1||o===e)continue;const h=typeof u=="string"?u:null,p=document.querySelector(`[data-element-id="${o}"]`);if(p&&!pp.has(p)){ze(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:h,domElement:p})}return i}for(const a of document.getElementsByName(t)){const{exportValue:r}=a,o=a.getAttribute("data-element-id");o!==e&&pp.has(a)&&i.push({id:o,exportValue:r,domElement:a})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Bd=new WeakMap,c1=new WeakMap,su=new WeakMap,a2=new WeakSet,IA=function(t){const{container:{style:e},data:{rect:i,rotation:a},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:u,pageY:h}}}}=this;i==null||i.splice(0,4,...t),e.left=`${100*(t[0]-u)/r}%`,e.top=`${100*(o-t[3]+h)/o}%`,a===0?(e.width=`${100*(t[2]-t[0])/r}%`,e.height=`${100*(t[3]-t[1])/o}%`):this.setRotation(a)};let Fn=Yw;var Sr,Qf,Dx,kx;class Iw extends Fn{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});F(this,Sr);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,a=document.createElement("a");a.setAttribute("data-element-id",e.id);let r=!1;return e.url?(i.addLinkAttributes(a,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(a,e.action,e.overlaidText),r=!0):e.attachment?(B(this,Sr,Dx).call(this,a,e.attachment,e.overlaidText,e.attachmentDest),r=!0):e.setOCGState?(B(this,Sr,kx).call(this,a,e.setOCGState,e.overlaidText),r=!0):e.dest?(this._bindLink(a,e.dest,e.overlaidText),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(a,e),r=!0),e.resetForm?(this._bindResetFormAction(a,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(a,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(a),this.container}_bindLink(e,i,a=""){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&B(this,Sr,Qf).call(this),a&&(e.title=a)}_bindNamedAction(e,i,a=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),a&&(e.title=a),B(this,Sr,Qf).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(i.actions)){const o=a.get(r);o&&(e[o]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:r}}),!1})}i.overlaidText&&(e.title=i.overlaidText),e.onclick||(e.onclick=()=>!1),B(this,Sr,Qf).call(this)}_bindResetFormAction(e,i){const a=e.onclick;if(a||(e.href=this.linkService.getAnchorUrl("")),B(this,Sr,Qf).call(this),!this._fieldObjects){ze('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),a||(e.onclick=()=>!1);return}e.onclick=()=>{var y;a==null||a();const{fields:r,refs:o,include:u}=i,h=[];if(r.length!==0||o.length!==0){const w=new Set(o);for(const A of r){const N=this._fieldObjects[A]||[];for(const{id:E}of N)w.add(E)}for(const A of Object.values(this._fieldObjects))for(const N of A)w.has(N.id)===u&&h.push(N)}else for(const w of Object.values(this._fieldObjects))h.push(...w);const p=this.annotationStorage,m=[];for(const w of h){const{id:A}=w;switch(m.push(A),w.type){case"text":{const E=w.defaultValue||"";p.setValue(A,{value:E});break}case"checkbox":case"radiobutton":{const E=w.defaultValue===w.exportValues;p.setValue(A,{value:E});break}case"combobox":case"listbox":{const E=w.defaultValue||"";p.setValue(A,{value:E});break}default:continue}const N=document.querySelector(`[data-element-id="${A}"]`);if(N){if(!pp.has(N)){ze(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;N.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}Sr=new WeakSet,Qf=function(){this.container.setAttribute("data-internal-link","")},Dx=function(e,i,a="",r=null){e.href=this.linkService.getAnchorUrl(""),i.description?e.title=i.description:a&&(e.title=a),e.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,r),!1},B(this,Sr,Qf).call(this)},kx=function(e,i,a=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),a&&(e.title=a),B(this,Sr,Qf).call(this)};class kC extends Fn{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class mp extends Fn{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ps.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,a,r){i.includes("mouse")?t.addEventListener(i,o=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:r(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(i,o=>{var u;if(i==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}r&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:r(o)}}))})}_setEventListeners(t,e,i,a){var r,o,u;for(const[h,p]of i)(p==="Action"||(r=this.data.actions)!=null&&r[p])&&((p==="Focus"||p==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,h,p,a),p==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(t,e,"blur","Blur",null):p==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Ae.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||OC,r=t.style;let o;const u=2,h=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-u),m=Math.round(p/(Py*a))||1,y=p/m;o=Math.min(a,h(y/Py))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-u);o=Math.min(a,h(p/Py))}r.fontSize=`calc(${o}px * var(--total-scale-factor))`,r.color=Ae.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class PC extends mp{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,a){const r=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=i),r.setValue(o.id,{[a]:i})}render(){var a,r;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=t.getValue(e,{value:this.data.fieldValue});let u=o.value||"";const h=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;h&&u.length>h&&(u=u.slice(0,h));let p=o.formattedValue||((a=this.data.textContent)==null?void 0:a.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const m={userValue:u,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=p??u,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",p??u),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),pp.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:y,datetimeType:w,timeStep:A}=this.data,N=!!w&&this.enableScripting;y&&(i.title=y),this._setRequired(i,this.data.required),h&&(i.maxLength=h),i.addEventListener("input",M=>{t.setValue(e,{value:M.target.value}),this.setPropertyOnSiblings(i,"value",M.target.value,"value"),m.formattedValue=null}),i.addEventListener("resetform",M=>{const L=this.data.defaultFieldValue??"";i.value=m.userValue=L,m.formattedValue=null});let E=M=>{const{formattedValue:L}=m;L!=null&&(M.target.value=L),M.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",L=>{var P;if(m.focused)return;const{target:R}=L;if(N&&(R.type=w,A&&(R.step=A)),m.userValue){const W=m.userValue;if(N)if(w==="time"){const X=new Date(W),it=[X.getHours(),X.getMinutes(),X.getSeconds()];R.value=it.map(J=>J.toString().padStart(2,"0")).join(":")}else R.value=new Date(W-DC).toISOString().split(w==="date"?"T":".",1)[0];else R.value=W}m.lastCommittedValue=R.value,m.commitKey=1,(P=this.data.actions)!=null&&P.Focus||(m.focused=!0)}),i.addEventListener("updatefromsandbox",L=>{this.showElementAndHideCanvas(L.target);const R={value(P){m.userValue=P.detail.value??"",N||t.setValue(e,{value:m.userValue.toString()}),P.target.value=m.userValue},formattedValue(P){const{formattedValue:W}=P.detail;m.formattedValue=W,W!=null&&P.target!==document.activeElement&&(P.target.value=W);const X={formattedValue:W};N&&(X.value=W),t.setValue(e,X)},selRange(P){P.target.setSelectionRange(...P.detail.selRange)},charLimit:P=>{var J;const{charLimit:W}=P.detail,{target:X}=P;if(W===0){X.removeAttribute("maxLength");return}X.setAttribute("maxLength",W);let it=m.userValue;!it||it.length<=W||(it=it.slice(0,W),X.value=m.userValue=it,t.setValue(e,{value:it}),(J=this.linkService.eventBus)==null||J.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:it,willCommit:!0,commitKey:1,selStart:X.selectionStart,selEnd:X.selectionEnd}}))}};this._dispatchEventFromSandbox(R,L)}),i.addEventListener("keydown",L=>{var W;m.commitKey=1;let R=-1;if(L.key==="Escape"?R=0:L.key==="Enter"&&!this.data.multiLine?R=2:L.key==="Tab"&&(m.commitKey=3),R===-1)return;const{value:P}=L.target;m.lastCommittedValue!==P&&(m.lastCommittedValue=P,m.userValue=P,(W=this.linkService.eventBus)==null||W.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:P,willCommit:!0,commitKey:R,selStart:L.target.selectionStart,selEnd:L.target.selectionEnd}}))});const M=E;E=null,i.addEventListener("blur",L=>{var W,X;if(!m.focused||!L.relatedTarget)return;(W=this.data.actions)!=null&&W.Blur||(m.focused=!1);const{target:R}=L;let{value:P}=R;if(N){if(P&&w==="time"){const it=P.split(":").map(J=>parseInt(J,10));P=new Date(2e3,0,1,it[0],it[1],it[2]||0).valueOf(),R.step=""}else P=new Date(P).valueOf();R.type="text"}m.userValue=P,m.lastCommittedValue!==P&&((X=this.linkService.eventBus)==null||X.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:P,willCommit:!0,commitKey:m.commitKey,selStart:L.target.selectionStart,selEnd:L.target.selectionEnd}})),M(L)}),(r=this.data.actions)!=null&&r.Keystroke&&i.addEventListener("beforeinput",L=>{var ct;m.lastCommittedValue=null;const{data:R,target:P}=L,{value:W,selectionStart:X,selectionEnd:it}=P;let J=X,Z=it;switch(L.inputType){case"deleteWordBackward":{const bt=W.substring(0,X).match(/\w*[^\w]*$/);bt&&(J-=bt[0].length);break}case"deleteWordForward":{const bt=W.substring(X).match(/^[^\w]*\w*/);bt&&(Z+=bt[0].length);break}case"deleteContentBackward":X===it&&(J-=1);break;case"deleteContentForward":X===it&&(Z+=1);break}L.preventDefault(),(ct=this.linkService.eventBus)==null||ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:W,change:R||"",willCommit:!1,selStart:J,selEnd:Z}})}),this._setEventListeners(i,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],L=>L.target.value)}if(E&&i.addEventListener("blur",E),this.data.comb){const L=(this.data.rect[2]-this.data.rect[0])/h;i.classList.add("comb"),i.style.letterSpacing=`calc(${L}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class IC extends mp{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class FC extends mp{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(i,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return pp.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,a&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=0,r.addEventListener("change",o=>{const{name:u,checked:h}=o.target;for(const p of this._getElementsByName(u,i)){const m=h&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}t.setValue(i,{value:h})}),r.addEventListener("resetform",o=>{const u=e.defaultFieldValue||"Off";o.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",o=>{const u={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(i,{value:h.target.checked})}};this._dispatchEventFromSandbox(u,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Px extends mp{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(i,{value:a})),a)for(const o of this._getElementsByName(e.fieldName,i))t.setValue(o.id,{value:!1});const r=document.createElement("input");if(pp.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,a&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",o=>{const{name:u,checked:h}=o.target;for(const p of this._getElementsByName(u,i))t.setValue(p.id,{value:!1});t.setValue(i,{value:h})}),r.addEventListener("resetform",o=>{const u=e.defaultFieldValue;o.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;r.addEventListener("updatefromsandbox",u=>{const h={value:p=>{const m=o===p.detail.value;for(const y of this._getElementsByName(p.target.name)){const w=m&&y.id===i;y.domElement&&(y.domElement.checked=w),t.setValue(y.id,{value:w})}}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class BC extends Iw{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class jC extends mp{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");pp.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",m=>{const y=this.data.defaultFieldValue;for(const w of a.options)w.selected=w.value===y});for(const m of this.data.options){const y=document.createElement("option");y.textContent=m.displayValue,y.value=m.exportValue,i.value.includes(m.exportValue)&&(y.setAttribute("selected",!0),r=!1),a.append(y)}let o=null;if(r){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),a.prepend(m),o=()=>{m.remove(),a.removeEventListener("input",o),o=null},a.addEventListener("input",o)}const u=m=>{const y=m?"value":"textContent",{options:w,multiple:A}=a;return A?Array.prototype.filter.call(w,N=>N.selected).map(N=>N[y]):w.selectedIndex===-1?null:w[w.selectedIndex][y]};let h=u(!1);const p=m=>{const y=m.target.options;return Array.prototype.map.call(y,w=>({displayValue:w.textContent,exportValue:w.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",m=>{const y={value(w){o==null||o();const A=w.detail.value,N=new Set(Array.isArray(A)?A:[A]);for(const E of a.options)E.selected=N.has(E.value);t.setValue(e,{value:u(!0)}),h=u(!1)},multipleSelection(w){a.multiple=!0},remove(w){const A=a.options,N=w.detail.remove;A[N].selected=!1,a.remove(N),A.length>0&&Array.prototype.findIndex.call(A,M=>M.selected)===-1&&(A[0].selected=!0),t.setValue(e,{value:u(!0),items:p(w)}),h=u(!1)},clear(w){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),h=u(!1)},insert(w){const{index:A,displayValue:N,exportValue:E}=w.detail.insert,M=a.children[A],L=document.createElement("option");L.textContent=N,L.value=E,M?M.before(L):a.append(L),t.setValue(e,{value:u(!0),items:p(w)}),h=u(!1)},items(w){const{items:A}=w.detail;for(;a.length!==0;)a.remove(0);for(const N of A){const{displayValue:E,exportValue:M}=N,L=document.createElement("option");L.textContent=E,L.value=M,a.append(L)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:u(!0),items:p(w)}),h=u(!1)},indices(w){const A=new Set(w.detail.indices);for(const N of w.target.options)N.selected=A.has(N.index);t.setValue(e,{value:u(!0)}),h=u(!1)},editable(w){w.target.disabled=!w.detail.editable}};this._dispatchEventFromSandbox(y,m)}),a.addEventListener("input",m=>{var A;const y=u(!0),w=u(!1);t.setValue(e,{value:y}),m.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:w,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):a.addEventListener("input",function(m){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class FA extends Fn{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:Fn._hasPopupData(e)}),this.elements=i,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=new zC({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const a of this.elements)a.popup=e,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${Mw}${a}`).join(",")),this.container}}var u1,rb,ob,h1,f1,wn,au,zh,d1,r2,p1,ql,ur,qh,ru,o2,ou,g1,jd,Uh,yi,hv,fv,BA,Ix,Fx,Bx,jx,dv,pv,jA;class zC{constructor({container:t,color:e,elements:i,titleObj:a,modificationDate:r,contentsObj:o,richText:u,parent:h,rect:p,parentRect:m,open:y}){F(this,yi);F(this,u1,B(this,yi,Bx).bind(this));F(this,rb,B(this,yi,jA).bind(this));F(this,ob,B(this,yi,pv).bind(this));F(this,h1,B(this,yi,dv).bind(this));F(this,f1,null);F(this,wn,null);F(this,au,null);F(this,zh,null);F(this,d1,null);F(this,r2,null);F(this,p1,null);F(this,ql,!1);F(this,ur,null);F(this,qh,null);F(this,ru,null);F(this,o2,null);F(this,ou,null);F(this,g1,null);F(this,jd,null);F(this,Uh,!1);T(this,wn,t),T(this,g1,a),T(this,au,o),T(this,ou,u),T(this,r2,h),T(this,f1,e),T(this,o2,p),T(this,p1,m),T(this,d1,i),T(this,zh,Fv.toDateObject(r)),this.trigger=i.flatMap(w=>w.getElementsToTriggerPopup()),B(this,yi,hv).call(this),f(this,wn).hidden=!0,y&&B(this,yi,dv).call(this)}render(){var a;if(f(this,ur))return;const t=T(this,ur,document.createElement("div"));if(t.className="popup",f(this,f1)){const r=t.style.outlineColor=Ae.makeHexColor(...f(this,f1));t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const e=document.createElement("span");if(e.className="header",(a=f(this,g1))!=null&&a.str){const r=document.createElement("span");r.className="title",e.append(r),{dir:r.dir,str:r.textContent}=f(this,g1)}if(t.append(e),f(this,zh)){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,zh).valueOf()})),r.dateTime=f(this,zh).toISOString(),e.append(r)}const i=f(this,yi,fv);if(i)Ox.render({xfaHtml:i,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(f(this,au));t.append(r)}f(this,wn).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const a=t.split(/(?:\r\n?|\n)/);for(let r=0,o=a.length;r<o;++r){const u=a[r];i.append(document.createTextNode(u)),r<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popup:e,deleted:i}){var a;if(i||e!=null&&e.deleted){this.remove();return}B(this,yi,hv).call(this),f(this,jd)||T(this,jd,{contentsObj:f(this,au),richText:f(this,ou)}),t&&T(this,ru,null),e&&(T(this,ou,B(this,yi,Fx).call(this,e.text)),T(this,zh,Fv.toDateObject(e.date)),T(this,au,null)),(a=f(this,ur))==null||a.remove(),T(this,ur,null)}resetEdited(){var t;f(this,jd)&&({contentsObj:ga(this,au)._,richText:ga(this,ou)._}=f(this,jd),T(this,jd,null),(t=f(this,ur))==null||t.remove(),T(this,ur,null),T(this,ru,null))}remove(){var t,e;(t=f(this,qh))==null||t.abort(),T(this,qh,null),(e=f(this,ur))==null||e.remove(),T(this,ur,null),T(this,Uh,!1),T(this,ql,!1);for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){T(this,Uh,this.isVisible),f(this,Uh)&&(f(this,wn).hidden=!0)}maybeShow(){B(this,yi,hv).call(this),f(this,Uh)&&(f(this,ur)||B(this,yi,pv).call(this),T(this,Uh,!1),f(this,wn).hidden=!1)}get isVisible(){return f(this,wn).hidden===!1}}u1=new WeakMap,rb=new WeakMap,ob=new WeakMap,h1=new WeakMap,f1=new WeakMap,wn=new WeakMap,au=new WeakMap,zh=new WeakMap,d1=new WeakMap,r2=new WeakMap,p1=new WeakMap,ql=new WeakMap,ur=new WeakMap,qh=new WeakMap,ru=new WeakMap,o2=new WeakMap,ou=new WeakMap,g1=new WeakMap,jd=new WeakMap,Uh=new WeakMap,yi=new WeakSet,hv=function(){var e;if(f(this,qh))return;T(this,qh,new AbortController);const{signal:t}=f(this,qh);for(const i of this.trigger)i.addEventListener("click",f(this,h1),{signal:t}),i.addEventListener("mouseenter",f(this,ob),{signal:t}),i.addEventListener("mouseleave",f(this,rb),{signal:t}),i.classList.add("popupTriggerArea");for(const i of f(this,d1))(e=i.container)==null||e.addEventListener("keydown",f(this,u1),{signal:t})},fv=function(){const t=f(this,ou),e=f(this,au);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&f(this,ou).html||null},BA=function(){var t,e,i;return((i=(e=(t=f(this,yi,fv))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},Ix=function(){var t,e,i;return((i=(e=(t=f(this,yi,fv))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},Fx=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:f(this,yi,Ix),fontSize:f(this,yi,BA)?`calc(${f(this,yi,BA)}px * var(--total-scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:a});return i},Bx=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&f(this,ql))&&B(this,yi,dv).call(this)},jx=function(){if(f(this,ru)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:a,pageY:r}}}=f(this,r2);let o=!!f(this,p1),u=o?f(this,p1):f(this,o2);for(const N of f(this,d1))if(!u||Ae.intersect(N.data.rect,u)!==null){u=N.data.rect,o=!0;break}const h=Ae.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),m=o?u[2]-u[0]+5:0,y=h[0]+m,w=h[1];T(this,ru,[100*(y-a)/e,100*(w-r)/i]);const{style:A}=f(this,wn);A.left=`${f(this,ru)[0]}%`,A.top=`${f(this,ru)[1]}%`},dv=function(){T(this,ql,!f(this,ql)),f(this,ql)?(B(this,yi,pv).call(this),f(this,wn).addEventListener("click",f(this,h1)),f(this,wn).addEventListener("keydown",f(this,u1))):(B(this,yi,jA).call(this),f(this,wn).removeEventListener("click",f(this,h1)),f(this,wn).removeEventListener("keydown",f(this,u1)))},pv=function(){f(this,ur)||this.render(),this.isVisible?f(this,ql)&&f(this,wn).classList.add("focused"):(B(this,yi,jx).call(this),f(this,wn).hidden=!1,f(this,wn).style.zIndex=parseInt(f(this,wn).style.zIndex)+1e3)},jA=function(){f(this,wn).classList.remove("focused"),!(f(this,ql)||!this.isVisible)&&(f(this,wn).hidden=!0,f(this,wn).style.zIndex=parseInt(f(this,wn).style.zIndex)-1e3)};class zx extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=je.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var l2;class qC extends Fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});F(this,l2,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:i,height:a}=this,r=this.svgFactory.create(i,a,!0),o=T(this,l2,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,l2)}addHighlightArea(){this.container.classList.add("highlightArea")}}l2=new WeakMap;var c2;class UC extends Fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});F(this,c2,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:i,height:a}=this,r=this.svgFactory.create(i,a,!0),o=e.borderStyle.width,u=T(this,c2,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",o/2),u.setAttribute("y",o/2),u.setAttribute("width",i-o),u.setAttribute("height",a-o),u.setAttribute("stroke-width",o||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),r.append(u),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,c2)}addHighlightArea(){this.container.classList.add("highlightArea")}}c2=new WeakMap;var u2;class HC extends Fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});F(this,u2,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:i,height:a}=this,r=this.svgFactory.create(i,a,!0),o=e.borderStyle.width,u=T(this,u2,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",i/2),u.setAttribute("cy",a/2),u.setAttribute("rx",i/2-o/2),u.setAttribute("ry",a/2-o/2),u.setAttribute("stroke-width",o||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),r.append(u),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,u2)}addHighlightArea(){this.container.classList.add("highlightArea")}}u2=new WeakMap;var h2;class qx extends Fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});F(this,h2,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:a,popupRef:r},width:o,height:u}=this;if(!i)return this.container;const h=this.svgFactory.create(o,u,!0);let p=[];for(let y=0,w=i.length;y<w;y+=2){const A=i[y]-e[0],N=e[3]-i[y+1];p.push(`${A},${N}`)}p=p.join(" ");const m=T(this,h2,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",p),m.setAttribute("stroke-width",a.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),h.append(m),this.container.append(h),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,h2)}addHighlightArea(){this.container.classList.add("highlightArea")}}h2=new WeakMap;class GC extends qx{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class VC extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var f2,zd,d2,zA;class Fw extends Fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});F(this,d2);F(this,f2,null);F(this,zd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?je.HIGHLIGHT:je.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:i,inkLists:a,borderStyle:r,popupRef:o}}=this,{transform:u,width:h,height:p}=B(this,d2,zA).call(this,i,e),m=this.svgFactory.create(h,p,!0),y=T(this,f2,this.svgFactory.createElement("svg:g"));m.append(y),y.setAttribute("stroke-width",r.width||1),y.setAttribute("stroke-linecap","round"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("stroke-miterlimit",10),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),y.setAttribute("transform",u);for(let w=0,A=a.length;w<A;w++){const N=this.svgFactory.createElement(this.svgElementName);f(this,zd).push(N),N.setAttribute("points",a[w].join(",")),y.append(N)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(m),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:i,points:a,rect:r}=e,o=f(this,f2);if(i>=0&&o.setAttribute("stroke-width",i||1),a)for(let u=0,h=f(this,zd).length;u<h;u++)f(this,zd)[u].setAttribute("points",a[u].join(","));if(r){const{transform:u,width:h,height:p}=B(this,d2,zA).call(this,this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${h} ${p}`),o.setAttribute("transform",u)}}getElementsToTriggerPopup(){return f(this,zd)}addHighlightArea(){this.container.classList.add("highlightArea")}}f2=new WeakMap,zd=new WeakMap,d2=new WeakSet,zA=function(e,i){switch(e){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class Ux extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=je.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class YC extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class XC extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class WC extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class Hx extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=je.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var p2,g2,qA;class KC extends Fn{constructor(e){var a;super(e,{isRenderable:!0});F(this,g2);F(this,p2,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(a=this.linkService.eventBus)==null||a.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let a;i.hasAppearance||i.fillAlpha===0?a=document.createElement("div"):(a=document.createElement("img"),a.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(a.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),a.addEventListener("dblclick",B(this,g2,qA).bind(this)),T(this,p2,a);const{isMac:r}=Ps.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&B(this,g2,qA).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():a.classList.add("popupTriggerArea"),e.append(a),e}getElementsToTriggerPopup(){return f(this,p2)}addHighlightArea(){this.container.classList.add("highlightArea")}}p2=new WeakMap,g2=new WeakSet,qA=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var m2,qd,Hh,v2,ff,HA,GA;const Xw=class Xw{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:a,page:r,viewport:o,structTreeLayer:u}){F(this,ff);F(this,m2,null);F(this,qd,null);F(this,Hh,new Map);F(this,v2,null);this.div=t,T(this,m2,e),T(this,qd,i),T(this,v2,u||null),this.page=r,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return f(this,Hh).size>0}async render(t){var o;const{annotations:e}=t,i=this.div;fp(i,this.viewport);const a=new Map,r={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Uv,annotationStorage:t.annotationStorage||new Dw,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const u of e){if(u.noHTML)continue;const h=u.annotationType===Vn.POPUP;if(h){const y=a.get(u.id);if(!y)continue;r.elements=y}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;r.data=u;const p=U_.create(r);if(!p.isRenderable)continue;if(!h&&u.popupRef){const y=a.get(u.popupRef);y?y.push(p):a.set(u.popupRef,[p])}const m=p.render();u.hidden&&(m.style.visibility="hidden"),await B(this,ff,HA).call(this,m,u.id,r.elements),p._isEditable&&(f(this,Hh).set(p.data.id,p),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(p))}B(this,ff,GA).call(this)}async addLinkAnnotations(t,e){const i={data:null,layer:this.div,linkService:e,svgFactory:new Uv,parent:this};for(const a of t){a.borderStyle||(a.borderStyle=Xw._defaultBorderStyle),i.data=a;const r=U_.create(i);if(!r.isRenderable)continue;const o=r.render();await B(this,ff,HA).call(this,o,a.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,fp(e,{rotation:t.rotation}),B(this,ff,GA).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(f(this,Hh).values())}getEditableAnnotation(t){return f(this,Hh).get(t)}static get _defaultBorderStyle(){return Ze(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:og.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};m2=new WeakMap,qd=new WeakMap,Hh=new WeakMap,v2=new WeakMap,ff=new WeakSet,HA=async function(t,e,i){var u,h;const a=t.firstChild||t,r=a.id=`${Mw}${e}`,o=await((u=f(this,v2))==null?void 0:u.getAriaAttributes(r));if(o)for(const[p,m]of o)a.setAttribute(p,m);i?i.at(-1).container.after(t):(this.div.append(t),(h=f(this,m2))==null||h.moveElementInDOM(this.div,t,a,!1))},GA=function(){var e;if(!f(this,qd))return;const t=this.div;for(const[i,a]of f(this,qd)){const r=t.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;a.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(a):o.classList.contains("annotationContent")?o.after(a):o.before(a):r.append(a);const u=f(this,Hh).get(i);u&&(u._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(i,r.id,a),u._hasNoCanvas=!1):u.canvas=a)}f(this,qd).clear()};let UA=Xw;const V5=/\r\n?|\n/g;var Yr,hr,b2,Ud,fr,Wn,Gx,Vx,Yx,gv,bu,mv,vv,Xx,YA,Wx;const Hi=class Hi extends Gi{constructor(e){super({...e,name:"freeTextEditor"});F(this,Wn);F(this,Yr);F(this,hr,"");F(this,b2,`${this.id}-editor`);F(this,Ud,null);F(this,fr);Xt(this,"_colorPicker",null);T(this,Yr,e.color||Hi._defaultColor||Gi._defaultLineColor),T(this,fr,e.fontSize||Hi._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const e=Hi.prototype,i=o=>o.isEmpty(),a=dp.TRANSLATE_SMALL,r=dp.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new j2([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[a,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,a],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:i}]]))}static initialize(e,i){Gi.initialize(e,i);const a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case ri.FREETEXT_SIZE:Hi._defaultFontSize=i;break;case ri.FREETEXT_COLOR:Hi._defaultColor=i;break}}updateParams(e,i){switch(e){case ri.FREETEXT_SIZE:B(this,Wn,Gx).call(this,i);break;case ri.FREETEXT_COLOR:B(this,Wn,Vx).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ri.FREETEXT_SIZE,Hi._defaultFontSize],[ri.FREETEXT_COLOR,Hi._defaultColor||Gi._defaultLineColor]]}get propertiesToUpdate(){return[[ri.FREETEXT_SIZE,f(this,fr)],[ri.FREETEXT_COLOR,f(this,Yr)]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new qv(this)),[["colorPicker",this._colorPicker]]}get colorType(){return ri.FREETEXT_COLOR}get colorValue(){return f(this,Yr)}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-Hi._internalPadding*e,-(Hi._internalPadding+f(this,fr))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),T(this,Ud,new AbortController);const e=this._uiManager.combinedSignal(f(this,Ud));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,b2)),this._isDraggable=!0,(e=f(this,Ud))==null||e.abort(),T(this,Ud,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var i;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=f(this,hr),i=T(this,hr,B(this,Wn,Yx).call(this).trimEnd());if(e===i)return;const a=r=>{if(T(this,hr,r),!r){this.remove();return}B(this,Wn,vv).call(this),this._uiManager.rebuild(this),B(this,Wn,gv).call(this)};this.addCommands({cmd:()=>{a(i)},undo:()=>{a(e)},mustExec:!1}),B(this,Wn,gv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Hi._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,i;(this._isCopy||this.annotationElementId)&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,b2)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:a}=this.editorDiv;if(a.fontSize=`calc(${f(this,fr)}px * var(--total-scale-factor))`,a.color=f(this,Yr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[h,p]=this.getInitialTranslation();[h,p]=this.pageTranslationToScreen(h,p);const[m,y]=this.pageDimensions,[w,A]=this.pageTranslation;let N,E;switch(this.rotation){case 0:N=e+(u[0]-w)/m,E=i+this.height-(u[1]-A)/y;break;case 90:N=e+(u[0]-w)/m,E=i-(u[1]-A)/y,[h,p]=[p,-h];break;case 180:N=e-this.width+(u[0]-w)/m,E=i-(u[1]-A)/y,[h,p]=[-h,-p];break;case 270:N=e+(u[0]-w-this.height*y)/m,E=i+(u[1]-A-this.width*m)/y,[h,p]=[-p,h];break}this.setAt(N*r,E*o,h,p)}else this._moveAfterPaste(e,i);B(this,Wn,vv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var N,E,M;const i=e.clipboardData||window.clipboardData,{types:a}=i;if(a.length===1&&a[0]==="text/plain")return;e.preventDefault();const r=B(N=Hi,bu,YA).call(N,i.getData("text")||"").replaceAll(V5,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const u=o.getRangeAt(0);if(!r.includes(`
`)){u.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:h,startOffset:p}=u,m=[],y=[];if(h.nodeType===Node.TEXT_NODE){const L=h.parentElement;if(y.push(h.nodeValue.slice(p).replaceAll(V5,"")),L!==this.editorDiv){let R=m;for(const P of this.editorDiv.childNodes){if(P===L){R=y;continue}R.push(B(E=Hi,bu,mv).call(E,P))}}m.push(h.nodeValue.slice(0,p).replaceAll(V5,""))}else if(h===this.editorDiv){let L=m,R=0;for(const P of this.editorDiv.childNodes)R++===p&&(L=y),L.push(B(M=Hi,bu,mv).call(M,P))}T(this,hr,`${m.join(`
`)}${r}${y.join(`
`)}`),B(this,Wn,vv).call(this);const w=new Range;let A=Math.sumPrecise(m.map(L=>L.length));for(const{firstChild:L}of this.editorDiv.childNodes)if(L.nodeType===Node.TEXT_NODE){const R=L.nodeValue.length;if(A<=R){w.setStart(L,A),w.setEnd(L,A);break}A-=R}o.removeAllRanges(),o.addRange(w)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,a){var u;let r=null;if(e instanceof zx){const{data:{defaultAppearanceData:{fontSize:h,fontColor:p},rect:m,rotation:y,id:w,popupRef:A,contentsObj:N},textContent:E,textPosition:M,parent:{page:{pageNumber:L}}}=e;if(!E||E.length===0)return null;r=e={annotationType:je.FREETEXT,color:Array.from(p),fontSize:h,value:E.join(`
`),position:M,pageIndex:L-1,rect:m.slice(0),rotation:y,annotationElementId:w,id:w,deleted:!1,popupRef:A,comment:(N==null?void 0:N.str)||null}}const o=await super.deserialize(e,i,a);return T(o,fr,e.fontSize),T(o,Yr,Ae.makeHexColor(...e.color)),T(o,hr,B(u=Hi,bu,YA).call(u,e.value)),o._initialData=r,e.comment&&o.setCommentData(e.comment),o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Hi._internalPadding*this.parentScale,a=this.getRect(i,i),r=Gi._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:f(this,Yr)),o={annotationType:je.FREETEXT,color:r,fontSize:f(this,fr),value:B(this,Wn,Xx).call(this),pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(o),e?(o.isCopy=!0,o):this.annotationElementId&&!B(this,Wn,Wx).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e),{style:a}=i;a.fontSize=`calc(${f(this,fr)}px * var(--total-scale-factor))`,a.color=f(this,Yr),i.replaceChildren();for(const u of f(this,hr).split(`
`)){const h=document.createElement("div");h.append(u?document.createTextNode(u):document.createElement("br")),i.append(h)}const r=Hi._internalPadding*this.parentScale,o={rect:this.getRect(r,r)};return o.popup=this.hasEditedComment?this.comment:{text:f(this,hr)},e.updateEdited(o),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Yr=new WeakMap,hr=new WeakMap,b2=new WeakMap,Ud=new WeakMap,fr=new WeakMap,Wn=new WeakSet,Gx=function(e){const i=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-f(this,fr))*this.parentScale),T(this,fr,r),B(this,Wn,gv).call(this)},a=f(this,fr);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ri.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Vx=function(e){const i=r=>{var o;T(this,Yr,this.editorDiv.style.color=r),(o=this._colorPicker)==null||o.update(r)},a=f(this,Yr);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ri.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Yx=function(){var a;const e=[];this.editorDiv.normalize();let i=null;for(const r of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(B(a=Hi,bu,mv).call(a,r)),i=r);return e.join(`
`)},gv=function(){const[e,i]=this.parentDimensions;let a;if(this.isAttachedToDOM)a=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,u=o.style.display,h=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),a=o.getBoundingClientRect(),o.remove(),o.style.display=u,o.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=a.width/e,this.height=a.height/i):(this.width=a.height/e,this.height=a.width/i),this.fixAndSetPosition()},bu=new WeakSet,mv=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(V5,"")},vv=function(){if(this.editorDiv.replaceChildren(),!!f(this,hr))for(const e of f(this,hr).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},Xx=function(){return f(this,hr).replaceAll(" "," ")},YA=function(e){return e.replaceAll(" "," ")},Wx=function(e){const{value:i,fontSize:a,color:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==i||e.fontSize!==a||e.color.some((u,h)=>u!==r[h])||e.pageIndex!==o},F(Hi,bu),Xt(Hi,"_freeTextDefaultContent",""),Xt(Hi,"_internalPadding",0),Xt(Hi,"_defaultColor",null),Xt(Hi,"_defaultFontSize",10),Xt(Hi,"_type","freetext"),Xt(Hi,"_editorType",je.FREETEXT);let VA=Hi;class re{toSVGPath(){Ii("Abstract method `toSVGPath` must be implemented.")}get box(){Ii("Abstract getter `box` must be implemented.")}serialize(t,e){Ii("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,a,r,o){o||(o=new Float32Array(t.length));for(let u=0,h=t.length;u<h;u+=2)o[u]=e+t[u]*a,o[u+1]=i+t[u+1]*r;return o}static _rescaleAndSwap(t,e,i,a,r,o){o||(o=new Float32Array(t.length));for(let u=0,h=t.length;u<h;u+=2)o[u]=e+t[u+1]*a,o[u+1]=i+t[u]*r;return o}static _translate(t,e,i,a){a||(a=new Float32Array(t.length));for(let r=0,o=t.length;r<o;r+=2)a[r]=e+t[r],a[r+1]=i+t[r+1];return a}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,a,r){switch(r){case 90:return[1-e/i,t/a];case 180:return[1-t/i,1-e/a];case 270:return[e/i,1-t/a];default:return[t/i,e/a]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,a,r,o){return[(t+5*i)/6,(e+5*a)/6,(5*i+r)/6,(5*a+o)/6,(i+r)/2,(a+o)/2]}}Xt(re,"PRECISION",1e-4);var dr,Io,m1,v1,Ul,Qe,Hd,Gd,y2,A2,b1,y1,Gh,w2,lb,cb,is,Y0,Kx,$x,Qx,Zx,Jx,tE;const Fc=class Fc{constructor({x:t,y:e},i,a,r,o,u=0){F(this,is);F(this,dr);F(this,Io,[]);F(this,m1);F(this,v1);F(this,Ul,[]);F(this,Qe,new Float32Array(18));F(this,Hd);F(this,Gd);F(this,y2);F(this,A2);F(this,b1);F(this,y1);F(this,Gh,[]);T(this,dr,i),T(this,y1,r*a),T(this,v1,o),f(this,Qe).set([NaN,NaN,NaN,NaN,t,e],6),T(this,m1,u),T(this,A2,f(Fc,w2)*a),T(this,y2,f(Fc,cb)*a),T(this,b1,a),f(this,Gh).push(t,e)}isEmpty(){return isNaN(f(this,Qe)[8])}add({x:t,y:e}){var ct;T(this,Hd,t),T(this,Gd,e);const[i,a,r,o]=f(this,dr);let[u,h,p,m]=f(this,Qe).subarray(8,12);const y=t-p,w=e-m,A=Math.hypot(y,w);if(A<f(this,y2))return!1;const N=A-f(this,A2),E=N/A,M=E*y,L=E*w;let R=u,P=h;u=p,h=m,p+=M,m+=L,(ct=f(this,Gh))==null||ct.push(t,e);const W=-L/N,X=M/N,it=W*f(this,y1),J=X*f(this,y1);return f(this,Qe).set(f(this,Qe).subarray(2,8),0),f(this,Qe).set([p+it,m+J],4),f(this,Qe).set(f(this,Qe).subarray(14,18),12),f(this,Qe).set([p-it,m-J],16),isNaN(f(this,Qe)[6])?(f(this,Ul).length===0&&(f(this,Qe).set([u+it,h+J],2),f(this,Ul).push(NaN,NaN,NaN,NaN,(u+it-i)/r,(h+J-a)/o),f(this,Qe).set([u-it,h-J],14),f(this,Io).push(NaN,NaN,NaN,NaN,(u-it-i)/r,(h-J-a)/o)),f(this,Qe).set([R,P,u,h,p,m],6),!this.isEmpty()):(f(this,Qe).set([R,P,u,h,p,m],6),Math.abs(Math.atan2(P-h,R-u)-Math.atan2(L,M))<Math.PI/2?([u,h,p,m]=f(this,Qe).subarray(2,6),f(this,Ul).push(NaN,NaN,NaN,NaN,((u+p)/2-i)/r,((h+m)/2-a)/o),[u,h,R,P]=f(this,Qe).subarray(14,18),f(this,Io).push(NaN,NaN,NaN,NaN,((R+u)/2-i)/r,((P+h)/2-a)/o),!0):([R,P,u,h,p,m]=f(this,Qe).subarray(0,6),f(this,Ul).push(((R+5*u)/6-i)/r,((P+5*h)/6-a)/o,((5*u+p)/6-i)/r,((5*h+m)/6-a)/o,((u+p)/2-i)/r,((h+m)/2-a)/o),[p,m,u,h,R,P]=f(this,Qe).subarray(12,18),f(this,Io).push(((R+5*u)/6-i)/r,((P+5*h)/6-a)/o,((5*u+p)/6-i)/r,((5*h+m)/6-a)/o,((u+p)/2-i)/r,((h+m)/2-a)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=f(this,Ul),e=f(this,Io);if(isNaN(f(this,Qe)[6])&&!this.isEmpty())return B(this,is,Kx).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?i.push(`L${t[a+4]} ${t[a+5]}`):i.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);B(this,is,Qx).call(this,i);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?i.push(`L${e[a+4]} ${e[a+5]}`):i.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return B(this,is,$x).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,a,r,o){return new eE(t,e,i,a,r,o)}getOutlines(){var y;const t=f(this,Ul),e=f(this,Io),i=f(this,Qe),[a,r,o,u]=f(this,dr),h=new Float32Array((((y=f(this,Gh))==null?void 0:y.length)??0)+2);for(let w=0,A=h.length-2;w<A;w+=2)h[w]=(f(this,Gh)[w]-a)/o,h[w+1]=(f(this,Gh)[w+1]-r)/u;if(h[h.length-2]=(f(this,Hd)-a)/o,h[h.length-1]=(f(this,Gd)-r)/u,isNaN(i[6])&&!this.isEmpty())return B(this,is,Zx).call(this,h);const p=new Float32Array(f(this,Ul).length+24+f(this,Io).length);let m=t.length;for(let w=0;w<m;w+=2){if(isNaN(t[w])){p[w]=p[w+1]=NaN;continue}p[w]=t[w],p[w+1]=t[w+1]}m=B(this,is,tE).call(this,p,m);for(let w=e.length-6;w>=6;w-=6)for(let A=0;A<6;A+=2){if(isNaN(e[w+A])){p[m]=p[m+1]=NaN,m+=2;continue}p[m]=e[w+A],p[m+1]=e[w+A+1],m+=2}return B(this,is,Jx).call(this,p,m),this.newFreeDrawOutline(p,h,f(this,dr),f(this,b1),f(this,m1),f(this,v1))}};dr=new WeakMap,Io=new WeakMap,m1=new WeakMap,v1=new WeakMap,Ul=new WeakMap,Qe=new WeakMap,Hd=new WeakMap,Gd=new WeakMap,y2=new WeakMap,A2=new WeakMap,b1=new WeakMap,y1=new WeakMap,Gh=new WeakMap,w2=new WeakMap,lb=new WeakMap,cb=new WeakMap,is=new WeakSet,Y0=function(){const t=f(this,Qe).subarray(4,6),e=f(this,Qe).subarray(16,18),[i,a,r,o]=f(this,dr);return[(f(this,Hd)+(t[0]-e[0])/2-i)/r,(f(this,Gd)+(t[1]-e[1])/2-a)/o,(f(this,Hd)+(e[0]-t[0])/2-i)/r,(f(this,Gd)+(e[1]-t[1])/2-a)/o]},Kx=function(){const[t,e,i,a]=f(this,dr),[r,o,u,h]=B(this,is,Y0).call(this);return`M${(f(this,Qe)[2]-t)/i} ${(f(this,Qe)[3]-e)/a} L${(f(this,Qe)[4]-t)/i} ${(f(this,Qe)[5]-e)/a} L${r} ${o} L${u} ${h} L${(f(this,Qe)[16]-t)/i} ${(f(this,Qe)[17]-e)/a} L${(f(this,Qe)[14]-t)/i} ${(f(this,Qe)[15]-e)/a} Z`},$x=function(t){const e=f(this,Io);t.push(`L${e[4]} ${e[5]} Z`)},Qx=function(t){const[e,i,a,r]=f(this,dr),o=f(this,Qe).subarray(4,6),u=f(this,Qe).subarray(16,18),[h,p,m,y]=B(this,is,Y0).call(this);t.push(`L${(o[0]-e)/a} ${(o[1]-i)/r} L${h} ${p} L${m} ${y} L${(u[0]-e)/a} ${(u[1]-i)/r}`)},Zx=function(t){const e=f(this,Qe),[i,a,r,o]=f(this,dr),[u,h,p,m]=B(this,is,Y0).call(this),y=new Float32Array(36);return y.set([NaN,NaN,NaN,NaN,(e[2]-i)/r,(e[3]-a)/o,NaN,NaN,NaN,NaN,(e[4]-i)/r,(e[5]-a)/o,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(e[16]-i)/r,(e[17]-a)/o,NaN,NaN,NaN,NaN,(e[14]-i)/r,(e[15]-a)/o],0),this.newFreeDrawOutline(y,t,f(this,dr),f(this,b1),f(this,m1),f(this,v1))},Jx=function(t,e){const i=f(this,Io);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},tE=function(t,e){const i=f(this,Qe).subarray(4,6),a=f(this,Qe).subarray(16,18),[r,o,u,h]=f(this,dr),[p,m,y,w]=B(this,is,Y0).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-r)/u,(i[1]-o)/h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,y,w,NaN,NaN,NaN,NaN,(a[0]-r)/u,(a[1]-o)/h],e),e+=24},F(Fc,w2,8),F(Fc,lb,2),F(Fc,cb,f(Fc,w2)+f(Fc,lb));let Hv=Fc;var A1,Vd,lu,S2,pr,_2,On,ub,iE;class eE extends re{constructor(e,i,a,r,o,u){super();F(this,ub);F(this,A1);F(this,Vd,new Float32Array(4));F(this,lu);F(this,S2);F(this,pr);F(this,_2);F(this,On);T(this,On,e),T(this,pr,i),T(this,A1,a),T(this,_2,r),T(this,lu,o),T(this,S2,u),this.lastPoint=[NaN,NaN],B(this,ub,iE).call(this,u);const[h,p,m,y]=f(this,Vd);for(let w=0,A=e.length;w<A;w+=2)e[w]=(e[w]-h)/m,e[w+1]=(e[w+1]-p)/y;for(let w=0,A=i.length;w<A;w+=2)i[w]=(i[w]-h)/m,i[w+1]=(i[w+1]-p)/y}toSVGPath(){const e=[`M${f(this,On)[4]} ${f(this,On)[5]}`];for(let i=6,a=f(this,On).length;i<a;i+=6){if(isNaN(f(this,On)[i])){e.push(`L${f(this,On)[i+4]} ${f(this,On)[i+5]}`);continue}e.push(`C${f(this,On)[i]} ${f(this,On)[i+1]} ${f(this,On)[i+2]} ${f(this,On)[i+3]} ${f(this,On)[i+4]} ${f(this,On)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,a,r],o){const u=a-e,h=r-i;let p,m;switch(o){case 0:p=re._rescale(f(this,On),e,r,u,-h),m=re._rescale(f(this,pr),e,r,u,-h);break;case 90:p=re._rescaleAndSwap(f(this,On),e,i,u,h),m=re._rescaleAndSwap(f(this,pr),e,i,u,h);break;case 180:p=re._rescale(f(this,On),a,i,-u,h),m=re._rescale(f(this,pr),a,i,-u,h);break;case 270:p=re._rescaleAndSwap(f(this,On),a,r,-u,-h),m=re._rescaleAndSwap(f(this,pr),a,r,-u,-h);break}return{outline:Array.from(p),points:[Array.from(m)]}}get box(){return f(this,Vd)}newOutliner(e,i,a,r,o,u=0){return new Hv(e,i,a,r,o,u)}getNewOutline(e,i){const[a,r,o,u]=f(this,Vd),[h,p,m,y]=f(this,A1),w=o*m,A=u*y,N=a*m+h,E=r*y+p,M=this.newOutliner({x:f(this,pr)[0]*w+N,y:f(this,pr)[1]*A+E},f(this,A1),f(this,_2),e,f(this,S2),i??f(this,lu));for(let L=2;L<f(this,pr).length;L+=2)M.add({x:f(this,pr)[L]*w+N,y:f(this,pr)[L+1]*A+E});return M.getOutlines()}}A1=new WeakMap,Vd=new WeakMap,lu=new WeakMap,S2=new WeakMap,pr=new WeakMap,_2=new WeakMap,On=new WeakMap,ub=new WeakSet,iE=function(e){const i=f(this,On);let a=i[4],r=i[5];const o=[a,r,a,r];let u=a,h=r;const p=e?Math.max:Math.min;for(let y=6,w=i.length;y<w;y+=6){const A=i[y+4],N=i[y+5];if(isNaN(i[y]))Ae.pointBoundingBox(A,N,o),h<N?(u=A,h=N):h===N&&(u=p(u,A));else{const E=[1/0,1/0,-1/0,-1/0];Ae.bezierBoundingBox(a,r,...i.slice(y,y+6),E),Ae.rectBoundingBox(...E,o),h<E[3]?(u=E[2],h=E[3]):h===E[3]&&(u=p(u,E[2]))}a=A,r=N}const m=f(this,Vd);m[0]=o[0]-f(this,lu),m[1]=o[1]-f(this,lu),m[2]=o[2]-o[0]+2*f(this,lu),m[3]=o[3]-o[1]+2*f(this,lu),this.lastPoint=[u,h]};var x2,E2,Vh,Fo,xa,nE,bv,sE,aE,WA;class XA{constructor(t,e=0,i=0,a=!0){F(this,xa);F(this,x2);F(this,E2);F(this,Vh,[]);F(this,Fo,[]);const r=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:A,y:N,width:E,height:M}of t){const L=Math.floor((A-e)/o)*o,R=Math.ceil((A+E+e)/o)*o,P=Math.floor((N-e)/o)*o,W=Math.ceil((N+M+e)/o)*o,X=[L,P,W,!0],it=[R,P,W,!1];f(this,Vh).push(X,it),Ae.rectBoundingBox(L,P,R,W,r)}const u=r[2]-r[0]+2*i,h=r[3]-r[1]+2*i,p=r[0]-i,m=r[1]-i,y=f(this,Vh).at(a?-1:-2),w=[y[0],y[2]];for(const A of f(this,Vh)){const[N,E,M]=A;A[0]=(N-p)/u,A[1]=(E-m)/h,A[2]=(M-m)/h}T(this,x2,new Float32Array([p,m,u,h])),T(this,E2,w)}getOutlines(){f(this,Vh).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of f(this,Vh))e[3]?(t.push(...B(this,xa,WA).call(this,e)),B(this,xa,sE).call(this,e)):(B(this,xa,aE).call(this,e),t.push(...B(this,xa,WA).call(this,e)));return B(this,xa,nE).call(this,t)}}x2=new WeakMap,E2=new WeakMap,Vh=new WeakMap,Fo=new WeakMap,xa=new WeakSet,nE=function(t){const e=[],i=new Set;for(const o of t){const[u,h,p]=o;e.push([u,h,o],[u,p,o])}e.sort((o,u)=>o[1]-u[1]||o[0]-u[0]);for(let o=0,u=e.length;o<u;o+=2){const h=e[o][2],p=e[o+1][2];h.push(p),p.push(h),i.add(h),i.add(p)}const a=[];let r;for(;i.size>0;){const o=i.values().next().value;let[u,h,p,m,y]=o;i.delete(o);let w=u,A=h;for(r=[u,p],a.push(r);;){let N;if(i.has(m))N=m;else if(i.has(y))N=y;else break;i.delete(N),[u,h,p,m,y]=N,w!==u&&(r.push(w,A,u,A===h?h:p),w=u),A=A===h?p:h}r.push(w,A)}return new $C(a,f(this,x2),f(this,E2))},bv=function(t){const e=f(this,Fo);let i=0,a=e.length-1;for(;i<=a;){const r=i+a>>1,o=e[r][0];if(o===t)return r;o<t?i=r+1:a=r-1}return a+1},sE=function([,t,e]){const i=B(this,xa,bv).call(this,t);f(this,Fo).splice(i,0,[t,e])},aE=function([,t,e]){const i=B(this,xa,bv).call(this,t);for(let a=i;a<f(this,Fo).length;a++){const[r,o]=f(this,Fo)[a];if(r!==t)break;if(r===t&&o===e){f(this,Fo).splice(a,1);return}}for(let a=i-1;a>=0;a--){const[r,o]=f(this,Fo)[a];if(r!==t)break;if(r===t&&o===e){f(this,Fo).splice(a,1);return}}},WA=function(t){const[e,i,a]=t,r=[[e,i,a]],o=B(this,xa,bv).call(this,a);for(let u=0;u<o;u++){const[h,p]=f(this,Fo)[u];for(let m=0,y=r.length;m<y;m++){const[,w,A]=r[m];if(!(p<=w||A<=h)){if(w>=h){if(A>p)r[m][1]=p;else{if(y===1)return[];r.splice(m,1),m--,y--}continue}r[m][2]=h,A>p&&r.push([e,p,A])}}}return r};var N2,w1;class $C extends re{constructor(e,i,a){super();F(this,N2);F(this,w1);T(this,w1,e),T(this,N2,i),this.lastPoint=a}toSVGPath(){const e=[];for(const i of f(this,w1)){let[a,r]=i;e.push(`M${a} ${r}`);for(let o=2;o<i.length;o+=2){const u=i[o],h=i[o+1];u===a?(e.push(`V${h}`),r=h):h===r&&(e.push(`H${u}`),a=u)}e.push("Z")}return e.join(" ")}serialize([e,i,a,r],o){const u=[],h=a-e,p=r-i;for(const m of f(this,w1)){const y=new Array(m.length);for(let w=0;w<m.length;w+=2)y[w]=e+m[w]*h,y[w+1]=r-m[w+1]*p;u.push(y)}return u}get box(){return f(this,N2)}get classNamesForOutlining(){return["highlightOutline"]}}N2=new WeakMap,w1=new WeakMap;class KA extends Hv{newFreeDrawOutline(t,e,i,a,r,o){return new QC(t,e,i,a,r,o)}}class QC extends eE{newOutliner(t,e,i,a,r,o=0){return new KA(t,e,i,a,r,o)}}var S1,L2,cu,Yd,C2,ja,T2,M2,Xd,Xr,gr,Ms,_1,uu,ea,x1,Wr,R2,Ue,$A,yv,rE,oE,lE,QA,Zf,$r,dg,cE,Av,X0,uE,hE,fE,dE,pE;const Ai=class Ai extends Gi{constructor(e){super({...e,name:"highlightEditor"});F(this,Ue);F(this,S1,null);F(this,L2,0);F(this,cu);F(this,Yd,null);F(this,C2,null);F(this,ja,null);F(this,T2,null);F(this,M2,0);F(this,Xd,null);F(this,Xr,null);F(this,gr,null);F(this,Ms,!1);F(this,_1,null);F(this,uu);F(this,ea,null);F(this,x1,"");F(this,Wr);F(this,R2,"");this.color=e.color||Ai._defaultColor,T(this,Wr,e.thickness||Ai._defaultThickness),T(this,uu,e.opacity||Ai._defaultOpacity),T(this,cu,e.boxes||null),T(this,R2,e.methodOfCreation||""),T(this,x1,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(T(this,Ms,!0),B(this,Ue,yv).call(this,e),B(this,Ue,Zf).call(this)):f(this,cu)&&(T(this,S1,e.anchorNode),T(this,L2,e.anchorOffset),T(this,T2,e.focusNode),T(this,M2,e.focusOffset),B(this,Ue,$A).call(this),B(this,Ue,Zf).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const e=Ai.prototype;return Ze(this,"_keyboardManager",new j2([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,Ms)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:f(this,Wr),methodOfCreation:f(this,R2)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var a;Gi.initialize(e,i),Ai._defaultColor||(Ai._defaultColor=((a=i.highlightColors)==null?void 0:a.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case ri.HIGHLIGHT_COLOR:Ai._defaultColor=i;break;case ri.HIGHLIGHT_THICKNESS:Ai._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return f(this,_1)}updateParams(e,i){switch(e){case ri.HIGHLIGHT_COLOR:B(this,Ue,rE).call(this,i);break;case ri.HIGHLIGHT_THICKNESS:B(this,Ue,oE).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ri.HIGHLIGHT_COLOR,Ai._defaultColor],[ri.HIGHLIGHT_THICKNESS,Ai._defaultThickness]]}get propertiesToUpdate(){return[[ri.HIGHLIGHT_COLOR,this.color||Ai._defaultColor],[ri.HIGHLIGHT_THICKNESS,f(this,Wr)||Ai._defaultThickness],[ri.HIGHLIGHT_FREE,f(this,Ms)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",T(this,C2,new zv({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(B(this,Ue,X0).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,B(this,Ue,X0).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){B(this,Ue,QA).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(B(this,Ue,Zf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var a;let i=!1;this.parent&&!e?B(this,Ue,QA).call(this):e&&(B(this,Ue,Zf).call(this,e),i=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var r,o,u;const{drawLayer:i}=this.parent;let a;f(this,Ms)?(e=(e-this.rotation+360)%360,a=B(r=Ai,$r,dg).call(r,f(this,Xr).box,e)):a=B(o=Ai,$r,dg).call(o,[this.x,this.y,this.width,this.height],e),i.updateProperties(f(this,gr),{bbox:a,root:{"data-main-rotation":e}}),i.updateProperties(f(this,ea),{bbox:B(u=Ai,$r,dg).call(u,f(this,ja).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();f(this,x1)&&(e.setAttribute("aria-label",f(this,x1)),e.setAttribute("role","mark")),f(this,Ms)?e.classList.add("free"):this.div.addEventListener("keydown",B(this,Ue,cE).bind(this),{signal:this._uiManager._signal});const i=T(this,Xd,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=f(this,Yd);const[a,r]=this.parentDimensions;return this.setDims(this.width*a,this.height*r),k4(this,f(this,Xd),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(f(this,ea),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(f(this,ea),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:B(this,Ue,Av).call(this,!0);break;case 1:case 3:B(this,Ue,Av).call(this,!1);break}}select(){var e;super.select(),f(this,ea)&&((e=this.parent)==null||e.drawLayer.updateProperties(f(this,ea),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),f(this,ea)&&((e=this.parent)==null||e.drawLayer.updateProperties(f(this,ea),{rootClass:{selected:!1}}),f(this,Ms)||B(this,Ue,Av).call(this,!1))}get _mustFixPosition(){return!f(this,Ms)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(f(this,gr),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(f(this,ea),{rootClass:{hidden:!e}}))}static startHighlighting(e,i,{target:a,x:r,y:o}){const{x:u,y:h,width:p,height:m}=a.getBoundingClientRect(),y=new AbortController,w=e.combinedSignal(y),A=N=>{y.abort(),B(this,$r,dE).call(this,e,N)};window.addEventListener("blur",A,{signal:w}),window.addEventListener("pointerup",A,{signal:w}),window.addEventListener("pointerdown",Yn,{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",Zr,{signal:w}),a.addEventListener("pointermove",B(this,$r,fE).bind(this,e),{signal:w}),this._freeHighlight=new KA({x:r,y:o},[u,h,p,m],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,i,a){var E,M,L,R;let r=null;if(e instanceof Ux){const{data:{quadPoints:P,rect:W,rotation:X,id:it,color:J,opacity:Z,popupRef:ct,contentsObj:bt},parent:{page:{pageNumber:z}}}=e;r=e={annotationType:je.HIGHLIGHT,color:Array.from(J),opacity:Z,quadPoints:P,boxes:null,pageIndex:z-1,rect:W.slice(0),rotation:X,annotationElementId:it,id:it,deleted:!1,popupRef:ct,comment:(bt==null?void 0:bt.str)||null}}else if(e instanceof Fw){const{data:{inkLists:P,rect:W,rotation:X,id:it,color:J,borderStyle:{rawWidth:Z},popupRef:ct,contentsObj:bt},parent:{page:{pageNumber:z}}}=e;r=e={annotationType:je.HIGHLIGHT,color:Array.from(J),thickness:Z,inkLists:P,boxes:null,pageIndex:z-1,rect:W.slice(0),rotation:X,annotationElementId:it,id:it,deleted:!1,popupRef:ct,comment:(bt==null?void 0:bt.str)||null}}const{color:o,quadPoints:u,inkLists:h,opacity:p}=e,m=await super.deserialize(e,i,a);m.color=Ae.makeHexColor(...o),T(m,uu,p||1),h&&T(m,Wr,e.thickness),m._initialData=r,e.comment&&m.setCommentData(e.comment);const[y,w]=m.pageDimensions,[A,N]=m.pageTranslation;if(u){const P=T(m,cu,[]);for(let W=0;W<u.length;W+=8)P.push({x:(u[W]-A)/y,y:1-(u[W+1]-N)/w,width:(u[W+2]-u[W])/y,height:(u[W+1]-u[W+5])/w});B(E=m,Ue,$A).call(E),B(M=m,Ue,Zf).call(M),m.rotate(m.rotation)}else if(h){T(m,Ms,!0);const P=h[0],W={x:P[0]-A,y:w-(P[1]-N)},X=new KA(W,[0,0,y,w],1,f(m,Wr)/2,!0,.001);for(let Z=0,ct=P.length;Z<ct;Z+=2)W.x=P[Z]-A,W.y=w-(P[Z+1]-N),X.add(W);const{id:it,clipPathId:J}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:m.color,"fill-opacity":m._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:X.toSVGPath()}},!0,!0);B(L=m,Ue,yv).call(L,{highlightOutlines:X.getOutlines(),highlightId:it,clipPathId:J}),B(R=m,Ue,Zf).call(R),m.rotate(m.parentRotation)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),a=Gi._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r={annotationType:je.HIGHLIGHT,color:a,opacity:f(this,uu),thickness:f(this,Wr),quadPoints:B(this,Ue,uE).call(this),outlines:B(this,Ue,hE).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:B(this,Ue,X0).call(this),structTreeParentId:this._structTreeParentId};return this.addComment(r),this.annotationElementId&&!B(this,Ue,pE).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){const i={rect:this.getRect(0,0)};return this.hasEditedComment&&(i.popup=this.comment),e.updateEdited(i),null}static canCreateNewEmptyEditor(){return!1}};S1=new WeakMap,L2=new WeakMap,cu=new WeakMap,Yd=new WeakMap,C2=new WeakMap,ja=new WeakMap,T2=new WeakMap,M2=new WeakMap,Xd=new WeakMap,Xr=new WeakMap,gr=new WeakMap,Ms=new WeakMap,_1=new WeakMap,uu=new WeakMap,ea=new WeakMap,x1=new WeakMap,Wr=new WeakMap,R2=new WeakMap,Ue=new WeakSet,$A=function(){const e=new XA(f(this,cu),.001);T(this,Xr,e.getOutlines()),[this.x,this.y,this.width,this.height]=f(this,Xr).box;const i=new XA(f(this,cu),.0025,.001,this._uiManager.direction==="ltr");T(this,ja,i.getOutlines());const{lastPoint:a}=f(this,ja);T(this,_1,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},yv=function({highlightOutlines:e,highlightId:i,clipPathId:a}){var y,w;if(T(this,Xr,e),T(this,ja,e.getNewOutline(f(this,Wr)/2+1.5,.0025)),i>=0)T(this,gr,i),T(this,Yd,a),this.parent.drawLayer.finalizeDraw(i,{bbox:e.box,path:{d:e.toSVGPath()}}),T(this,ea,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:f(this,ja).box,path:{d:f(this,ja).toSVGPath()}},!0));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(f(this,gr),{bbox:B(y=Ai,$r,dg).call(y,f(this,Xr).box,(A-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(f(this,ea),{bbox:B(w=Ai,$r,dg).call(w,f(this,ja).box,A),path:{d:f(this,ja).toSVGPath()}})}const[o,u,h,p]=e.box;switch(this.rotation){case 0:this.x=o,this.y=u,this.width=h,this.height=p;break;case 90:{const[A,N]=this.parentDimensions;this.x=u,this.y=1-o,this.width=h*N/A,this.height=p*A/N;break}case 180:this.x=1-o,this.y=1-u,this.width=h,this.height=p;break;case 270:{const[A,N]=this.parentDimensions;this.x=1-u,this.y=o,this.width=h*N/A,this.height=p*A/N;break}}const{lastPoint:m}=f(this,ja);T(this,_1,[(m[0]-o)/h,(m[1]-u)/p])},rE=function(e){const i=(o,u)=>{var h,p;this.color=o,T(this,uu,u),(h=this.parent)==null||h.drawLayer.updateProperties(f(this,gr),{root:{fill:o,"fill-opacity":u}}),(p=f(this,C2))==null||p.updateColor(o)},a=this.color,r=f(this,uu);this.addCommands({cmd:i.bind(this,e,Ai._defaultOpacity),undo:i.bind(this,a,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ri.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)},oE=function(e){const i=f(this,Wr),a=r=>{T(this,Wr,r),B(this,Ue,lE).call(this,r)};this.addCommands({cmd:a.bind(this,e),undo:a.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ri.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},lE=function(e){if(!f(this,Ms))return;B(this,Ue,yv).call(this,{highlightOutlines:f(this,Xr).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,a]=this.parentDimensions;this.setDims(this.width*i,this.height*a)},QA=function(){f(this,gr)===null||!this.parent||(this.parent.drawLayer.remove(f(this,gr)),T(this,gr,null),this.parent.drawLayer.remove(f(this,ea)),T(this,ea,null))},Zf=function(e=this.parent){f(this,gr)===null&&({id:ga(this,gr)._,clipPathId:ga(this,Yd)._}=e.drawLayer.draw({bbox:f(this,Xr).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":f(this,uu)},rootClass:{highlight:!0,free:f(this,Ms)},path:{d:f(this,Xr).toSVGPath()}},!1,!0),T(this,ea,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:f(this,Ms)},bbox:f(this,ja).box,path:{d:f(this,ja).toSVGPath()}},f(this,Ms))),f(this,Xd)&&(f(this,Xd).style.clipPath=f(this,Yd)))},$r=new WeakSet,dg=function([e,i,a,r],o){switch(o){case 90:return[1-i-r,e,r,a];case 180:return[1-e-a,1-i-r,a,r];case 270:return[i,1-e-a,r,a]}return[e,i,a,r]},cE=function(e){Ai._keyboardManager.exec(this,e)},Av=function(e){if(!f(this,S1))return;const i=window.getSelection();e?i.setPosition(f(this,S1),f(this,L2)):i.setPosition(f(this,T2),f(this,M2))},X0=function(){return f(this,Ms)?this.rotation:0},uE=function(){if(f(this,Ms))return null;const[e,i]=this.pageDimensions,[a,r]=this.pageTranslation,o=f(this,cu),u=new Float32Array(o.length*8);let h=0;for(const{x:p,y:m,width:y,height:w}of o){const A=p*e+a,N=(1-m)*i+r;u[h]=u[h+4]=A,u[h+1]=u[h+3]=N,u[h+2]=u[h+6]=A+y*e,u[h+5]=u[h+7]=N-w*i,h+=8}return u},hE=function(e){return f(this,Xr).serialize(e,B(this,Ue,X0).call(this))},fE=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},dE=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},pE=function(e){const{color:i}=this._initialData;return this.hasEditedComment||e.color.some((a,r)=>a!==i[r])},F(Ai,$r),Xt(Ai,"_defaultColor",null),Xt(Ai,"_defaultOpacity",1),Xt(Ai,"_defaultThickness",12),Xt(Ai,"_type","highlight"),Xt(Ai,"_editorType",je.HIGHLIGHT),Xt(Ai,"_freeHighlightId",-1),Xt(Ai,"_freeHighlight",null),Xt(Ai,"_freeHighlightClipId","");let Gv=Ai;var Wd;class gE{constructor(){F(this,Wd,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){f(this,Wd)[t]=e}toSVGProperties(){const t=f(this,Wd);return T(this,Wd,Object.create(null)),{root:t}}reset(){T(this,Wd,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){Ii("Not implemented")}}Wd=new WeakMap;var mr,E1,ds,Kd,$d,Yh,Xh,Wh,Qd,fi,ZA,JA,tw,W0,mE,wv,K0,pg;const oe=class oe extends Gi{constructor(e){super(e);F(this,fi);F(this,mr,null);F(this,E1);Xt(this,"_colorPicker",null);Xt(this,"_drawId",null);T(this,E1,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(B(this,fi,ZA).call(this,e),B(this,fi,W0).call(this))}static _mergeSVGProperties(e,i){const a=new Set(Object.keys(e));for(const[r,o]of Object.entries(i))a.has(r)?Object.assign(e[r],o):e[r]=o;return e}static getDefaultDrawingOptions(e){Ii("Not implemented")}static get typesMap(){Ii("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){const a=this.typesMap.get(e);a&&this._defaultDrawingOptions.updateProperty(a,i),this._currentParent&&(f(oe,ds).updateProperty(a,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){const a=this.constructor.typesMap.get(e);a&&this._updateProperty(e,a,i)}static get defaultPropertiesToUpdate(){const e=[],i=this._defaultDrawingOptions;for(const[a,r]of this.typesMap)e.push([a,i[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:i}=this;for(const[a,r]of this.constructor.typesMap)e.push([a,i[r]]);return e}_updateProperty(e,i,a){const r=this._drawingOptions,o=r[i],u=h=>{var m,y;r.updateProperty(i,h);const p=f(this,mr).updateProperty(i,h);p&&B(this,fi,K0).call(this,p),(m=this.parent)==null||m.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),e===this.colorType&&((y=this._colorPicker)==null||y.update(h))};this.addCommands({cmd:u.bind(this,a),undo:u.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,oe._mergeSVGProperties(f(this,mr).getPathResizingSVGProperties(B(this,fi,wv).call(this)),{bbox:B(this,fi,pg).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,oe._mergeSVGProperties(f(this,mr).getPathResizedSVGProperties(B(this,fi,wv).call(this)),{bbox:B(this,fi,pg).call(this)}))}_onTranslating(e,i){var a;(a=this.parent)==null||a.drawLayer.updateProperties(this._drawId,{bbox:B(this,fi,pg).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,oe._mergeSVGProperties(f(this,mr).getPathTranslatedSVGProperties(B(this,fi,wv).call(this),this.parentDimensions),{bbox:B(this,fi,pg).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,f(this,E1)&&(T(this,E1,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){B(this,fi,tw).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(B(this,fi,W0).call(this),B(this,fi,K0).call(this,f(this,mr).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var a;let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),B(this,fi,tw).call(this)):e&&(this._uiManager.addShouldRescale(this),B(this,fi,W0).call(this,e),i=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(e),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,oe._mergeSVGProperties({bbox:B(this,fi,pg).call(this)},f(this,mr).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&B(this,fi,K0).call(this,f(this,mr).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,i;this._isCopy&&(e=this.x,i=this.y);const a=super.render();a.classList.add("draw");const r=document.createElement("div");a.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[o,u]=this.parentDimensions;return this.setDims(this.width*o,this.height*u),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,i),a}static createDrawerInstance(e,i,a,r,o){Ii("Not implemented")}static startDrawing(e,i,a,r){var M;const{target:o,offsetX:u,offsetY:h,pointerId:p,pointerType:m}=r;if(f(oe,Xh)&&f(oe,Xh)!==m)return;const{viewport:{rotation:y}}=e,{width:w,height:A}=o.getBoundingClientRect(),N=T(oe,Kd,new AbortController),E=e.combinedSignal(N);if(f(oe,Yh)||T(oe,Yh,p),f(oe,Xh)??T(oe,Xh,m),window.addEventListener("pointerup",L=>{var R;f(oe,Yh)===L.pointerId?this._endDraw(L):(R=f(oe,Wh))==null||R.delete(L.pointerId)},{signal:E}),window.addEventListener("pointercancel",L=>{var R;f(oe,Yh)===L.pointerId?this._currentParent.endDrawingSession():(R=f(oe,Wh))==null||R.delete(L.pointerId)},{signal:E}),window.addEventListener("pointerdown",L=>{f(oe,Xh)===L.pointerType&&((f(oe,Wh)||T(oe,Wh,new Set)).add(L.pointerId),f(oe,ds).isCancellable()&&(f(oe,ds).removeLastElement(),f(oe,ds).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:E}),window.addEventListener("contextmenu",Zr,{signal:E}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:E}),o.addEventListener("touchmove",L=>{L.timeStamp===f(oe,Qd)&&Yn(L)},{signal:E}),e.toggleDrawing(),(M=i._editorUndoBar)==null||M.hide(),f(oe,ds)){e.drawLayer.updateProperties(this._currentDrawId,f(oe,ds).startNew(u,h,w,A,y));return}i.updateUIForDefaultProperties(this),T(oe,ds,this.createDrawerInstance(u,h,w,A,y)),T(oe,$d,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(f(oe,$d).toSVGProperties(),f(oe,ds).defaultSVGProperties),!0,!1)}static _drawMove(e){var o;if(T(oe,Qd,-1),!f(oe,ds))return;const{offsetX:i,offsetY:a,pointerId:r}=e;if(f(oe,Yh)===r){if(((o=f(oe,Wh))==null?void 0:o.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,f(oe,ds).add(i,a)),T(oe,Qd,e.timeStamp),Yn(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,T(oe,ds,null),T(oe,$d,null),T(oe,Xh,null),T(oe,Qd,NaN)),f(oe,Kd)&&(f(oe,Kd).abort(),T(oe,Kd,null),T(oe,Yh,NaN),T(oe,Wh,null))}static _endDraw(e){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,f(oe,ds).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const a=f(oe,ds),r=this._currentDrawId,o=a.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(r,a.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(r,a.removeLastElement())},mustExec:!1,type:ri.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(ri.DRAW_STEP),!f(oe,ds).isEmpty()){const{pageDimensions:[a,r],scale:o}=i,u=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:f(oe,ds).getOutlines(a*o,r*o,o,this._INNER_MARGIN),drawingOptions:f(oe,$d),mustBeCommitted:!e});return this._cleanup(!0),u}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,a,r,o,u){Ii("Not implemented")}static async deserialize(e,i,a){var y,w;const{rawDims:{pageWidth:r,pageHeight:o,pageX:u,pageY:h}}=i.viewport,p=this.deserializeDraw(u,h,r,o,this._INNER_MARGIN,e),m=await super.deserialize(e,i,a);return m.createDrawingOptions(e),B(y=m,fi,ZA).call(y,{drawOutlines:p}),B(w=m,fi,W0).call(w),m.onScaleChanging(),m.rotate(),m}serializeDraw(e){const[i,a]=this.pageTranslation,[r,o]=this.pageDimensions;return f(this,mr).serialize([i,a,r,o],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};mr=new WeakMap,E1=new WeakMap,ds=new WeakMap,Kd=new WeakMap,$d=new WeakMap,Yh=new WeakMap,Xh=new WeakMap,Wh=new WeakMap,Qd=new WeakMap,fi=new WeakSet,ZA=function({drawOutlines:e,drawId:i,drawingOptions:a}){T(this,mr,e),this._drawingOptions||(this._drawingOptions=a),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=B(this,fi,JA).call(this,e,this.parent),B(this,fi,K0).call(this,e.box)},JA=function(e,i){const{id:a}=i.drawLayer.draw(oe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return a},tw=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},W0=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=B(this,fi,JA).call(this,f(this,mr),e)}},mE=function([e,i,a,r]){const{parentDimensions:[o,u],rotation:h}=this;switch(h){case 90:return[i,1-e,a*(u/o),r*(o/u)];case 180:return[1-e,1-i,a,r];case 270:return[1-i,e,a*(u/o),r*(o/u)];default:return[e,i,a,r]}},wv=function(){const{x:e,y:i,width:a,height:r,parentDimensions:[o,u],rotation:h}=this;switch(h){case 90:return[1-i,e,a*(o/u),r*(u/o)];case 180:return[1-e,1-i,a,r];case 270:return[i,1-e,a*(o/u),r*(u/o)];default:return[e,i,a,r]}},K0=function(e){if([this.x,this.y,this.width,this.height]=B(this,fi,mE).call(this,e),this.div){this.fixAndSetPosition();const[i,a]=this.parentDimensions;this.setDims(this.width*i,this.height*a)}this._onResized()},pg=function(){const{x:e,y:i,width:a,height:r,rotation:o,parentRotation:u,parentDimensions:[h,p]}=this;switch((o*4+u)/90){case 1:return[1-i-r,e,r,a];case 2:return[1-e-a,1-i-r,a,r];case 3:return[i,1-e-a,r,a];case 4:return[e,i-a*(h/p),r*(p/h),a*(h/p)];case 5:return[1-i,e,a*(h/p),r*(p/h)];case 6:return[1-e-r*(p/h),1-i,r*(p/h),a*(h/p)];case 7:return[i-a*(h/p),1-e-r*(p/h),a*(h/p),r*(p/h)];case 8:return[e-a,i-r,a,r];case 9:return[1-i,e-a,r,a];case 10:return[1-e,1-i,a,r];case 11:return[i-r,1-e,r,a];case 12:return[e-r*(p/h),i,r*(p/h),a*(h/p)];case 13:return[1-i-a*(h/p),e-r*(p/h),a*(h/p),r*(p/h)];case 14:return[1-e,1-i-a*(h/p),r*(p/h),a*(h/p)];case 15:return[i,1-e,a*(h/p),r*(p/h)];default:return[e,i,a,r]}},Xt(oe,"_currentDrawId",-1),Xt(oe,"_currentParent",null),F(oe,ds,null),F(oe,Kd,null),F(oe,$d,null),F(oe,Yh,NaN),F(oe,Xh,null),F(oe,Wh,null),F(oe,Qd,NaN),Xt(oe,"_INNER_MARGIN",3);let Vv=oe;var Hl,ps,gs,Zd,N1,ba,Rs,Kr,Jd,tp,ep,L1,Sv;class ZC{constructor(t,e,i,a,r,o){F(this,L1);F(this,Hl,new Float64Array(6));F(this,ps);F(this,gs);F(this,Zd);F(this,N1);F(this,ba);F(this,Rs,"");F(this,Kr,0);F(this,Jd,new q2);F(this,tp);F(this,ep);T(this,tp,i),T(this,ep,a),T(this,Zd,r),T(this,N1,o),[t,e]=B(this,L1,Sv).call(this,t,e);const u=T(this,ps,[NaN,NaN,NaN,NaN,t,e]);T(this,ba,[t,e]),T(this,gs,[{line:u,points:f(this,ba)}]),f(this,Hl).set(u,0)}updateProperty(t,e){t==="stroke-width"&&T(this,N1,e)}isEmpty(){return!f(this,gs)||f(this,gs).length===0}isCancellable(){return f(this,ba).length<=10}add(t,e){[t,e]=B(this,L1,Sv).call(this,t,e);const[i,a,r,o]=f(this,Hl).subarray(2,6),u=t-r,h=e-o;return Math.hypot(f(this,tp)*u,f(this,ep)*h)<=2?null:(f(this,ba).push(t,e),isNaN(i)?(f(this,Hl).set([r,o,t,e],2),f(this,ps).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(f(this,Hl)[0])&&f(this,ps).splice(6,6),f(this,Hl).set([i,a,r,o,t,e],0),f(this,ps).push(...re.createBezierPoints(i,a,r,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(f(this,ba).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,a,r){T(this,tp,i),T(this,ep,a),T(this,Zd,r),[t,e]=B(this,L1,Sv).call(this,t,e);const o=T(this,ps,[NaN,NaN,NaN,NaN,t,e]);T(this,ba,[t,e]);const u=f(this,gs).at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),f(this,gs).push({line:o,points:f(this,ba)}),f(this,Hl).set(o,0),T(this,Kr,0),this.toSVGPath(),null}getLastElement(){return f(this,gs).at(-1)}setLastElement(t){return f(this,gs)?(f(this,gs).push(t),T(this,ps,t.line),T(this,ba,t.points),T(this,Kr,0),{path:{d:this.toSVGPath()}}):f(this,Jd).setLastElement(t)}removeLastElement(){if(!f(this,gs))return f(this,Jd).removeLastElement();f(this,gs).pop(),T(this,Rs,"");for(let t=0,e=f(this,gs).length;t<e;t++){const{line:i,points:a}=f(this,gs)[t];T(this,ps,i),T(this,ba,a),T(this,Kr,0),this.toSVGPath()}return{path:{d:f(this,Rs)}}}toSVGPath(){const t=re.svgRound(f(this,ps)[4]),e=re.svgRound(f(this,ps)[5]);if(f(this,ba).length===2)return T(this,Rs,`${f(this,Rs)} M ${t} ${e} Z`),f(this,Rs);if(f(this,ba).length<=6){const a=f(this,Rs).lastIndexOf("M");T(this,Rs,`${f(this,Rs).slice(0,a)} M ${t} ${e}`),T(this,Kr,6)}if(f(this,ba).length===4){const a=re.svgRound(f(this,ps)[10]),r=re.svgRound(f(this,ps)[11]);return T(this,Rs,`${f(this,Rs)} L ${a} ${r}`),T(this,Kr,12),f(this,Rs)}const i=[];f(this,Kr)===0&&(i.push(`M ${t} ${e}`),T(this,Kr,6));for(let a=f(this,Kr),r=f(this,ps).length;a<r;a+=6){const[o,u,h,p,m,y]=f(this,ps).slice(a,a+6).map(re.svgRound);i.push(`C${o} ${u} ${h} ${p} ${m} ${y}`)}return T(this,Rs,f(this,Rs)+i.join(" ")),T(this,Kr,f(this,ps).length),f(this,Rs)}getOutlines(t,e,i,a){const r=f(this,gs).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),f(this,Jd).build(f(this,gs),t,e,i,f(this,Zd),f(this,N1),a),T(this,Hl,null),T(this,ps,null),T(this,gs,null),T(this,Rs,null),f(this,Jd)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Hl=new WeakMap,ps=new WeakMap,gs=new WeakMap,Zd=new WeakMap,N1=new WeakMap,ba=new WeakMap,Rs=new WeakMap,Kr=new WeakMap,Jd=new WeakMap,tp=new WeakMap,ep=new WeakMap,L1=new WeakSet,Sv=function(t,e){return re._normalizePoint(t,e,f(this,tp),f(this,ep),f(this,Zd))};var ya,O2,D2,vr,Gl,Vl,C1,T1,ip,Ds,Pc,vE,bE,yE;class q2 extends re{constructor(){super(...arguments);F(this,Ds);F(this,ya);F(this,O2,0);F(this,D2);F(this,vr);F(this,Gl);F(this,Vl);F(this,C1);F(this,T1);F(this,ip)}build(e,i,a,r,o,u,h){T(this,Gl,i),T(this,Vl,a),T(this,C1,r),T(this,T1,o),T(this,ip,u),T(this,D2,h??0),T(this,vr,e),B(this,Ds,bE).call(this)}get thickness(){return f(this,ip)}setLastElement(e){return f(this,vr).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return f(this,vr).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:i}of f(this,vr)){if(e.push(`M${re.svgRound(i[4])} ${re.svgRound(i[5])}`),i.length===6){e.push("Z");continue}if(i.length===12&&isNaN(i[6])){e.push(`L${re.svgRound(i[10])} ${re.svgRound(i[11])}`);continue}for(let a=6,r=i.length;a<r;a+=6){const[o,u,h,p,m,y]=i.subarray(a,a+6).map(re.svgRound);e.push(`C${o} ${u} ${h} ${p} ${m} ${y}`)}}return e.join("")}serialize([e,i,a,r],o){const u=[],h=[],[p,m,y,w]=B(this,Ds,vE).call(this);let A,N,E,M,L,R,P,W,X;switch(f(this,T1)){case 0:X=re._rescale,A=e,N=i+r,E=a,M=-r,L=e+p*a,R=i+(1-m-w)*r,P=e+(p+y)*a,W=i+(1-m)*r;break;case 90:X=re._rescaleAndSwap,A=e,N=i,E=a,M=r,L=e+m*a,R=i+p*r,P=e+(m+w)*a,W=i+(p+y)*r;break;case 180:X=re._rescale,A=e+a,N=i,E=-a,M=r,L=e+(1-p-y)*a,R=i+m*r,P=e+(1-p)*a,W=i+(m+w)*r;break;case 270:X=re._rescaleAndSwap,A=e+a,N=i+r,E=-a,M=-r,L=e+(1-m-w)*a,R=i+(1-p-y)*r,P=e+(1-m)*a,W=i+(1-p)*r;break}for(const{line:it,points:J}of f(this,vr))u.push(X(it,A,N,E,M,o?new Array(it.length):null)),h.push(X(J,A,N,E,M,o?new Array(J.length):null));return{lines:u,points:h,rect:[L,R,P,W]}}static deserialize(e,i,a,r,o,{paths:{lines:u,points:h},rotation:p,thickness:m}){const y=[];let w,A,N,E,M;switch(p){case 0:M=re._rescale,w=-e/a,A=i/r+1,N=1/a,E=-1/r;break;case 90:M=re._rescaleAndSwap,w=-i/r,A=-e/a,N=1/r,E=1/a;break;case 180:M=re._rescale,w=e/a+1,A=-i/r,N=-1/a,E=1/r;break;case 270:M=re._rescaleAndSwap,w=i/r+1,A=e/a+1,N=-1/r,E=-1/a;break}if(!u){u=[];for(const R of h){const P=R.length;if(P===2){u.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1]]));continue}if(P===4){u.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1],NaN,NaN,NaN,NaN,R[2],R[3]]));continue}const W=new Float32Array(3*(P-2));u.push(W);let[X,it,J,Z]=R.subarray(0,4);W.set([NaN,NaN,NaN,NaN,X,it],0);for(let ct=4;ct<P;ct+=2){const bt=R[ct],z=R[ct+1];W.set(re.createBezierPoints(X,it,J,Z,bt,z),(ct-2)*3),[X,it,J,Z]=[J,Z,bt,z]}}}for(let R=0,P=u.length;R<P;R++)y.push({line:M(u[R].map(W=>W??NaN),w,A,N,E),points:M(h[R].map(W=>W??NaN),w,A,N,E)});const L=new this.prototype.constructor;return L.build(y,a,r,1,p,m,o),L}get box(){return f(this,ya)}updateProperty(e,i){return e==="stroke-width"?B(this,Ds,yE).call(this,i):null}updateParentDimensions([e,i],a){const[r,o]=B(this,Ds,Pc).call(this);T(this,Gl,e),T(this,Vl,i),T(this,C1,a);const[u,h]=B(this,Ds,Pc).call(this),p=u-r,m=h-o,y=f(this,ya);return y[0]-=p,y[1]-=m,y[2]+=2*p,y[3]+=2*m,y}updateRotation(e){return T(this,O2,e),{path:{transform:this.rotationTransform}}}get viewBox(){return f(this,ya).map(re.svgRound).join(" ")}get defaultProperties(){const[e,i]=f(this,ya);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${re.svgRound(e)} ${re.svgRound(i)}`}}}get rotationTransform(){const[,,e,i]=f(this,ya);let a=0,r=0,o=0,u=0,h=0,p=0;switch(f(this,O2)){case 90:r=i/e,o=-e/i,h=e;break;case 180:a=-1,u=-1,h=e,p=i;break;case 270:r=-i/e,o=e/i,p=i;break;default:return""}return`matrix(${a} ${r} ${o} ${u} ${re.svgRound(h)} ${re.svgRound(p)})`}getPathResizingSVGProperties([e,i,a,r]){const[o,u]=B(this,Ds,Pc).call(this),[h,p,m,y]=f(this,ya);if(Math.abs(m-o)<=re.PRECISION||Math.abs(y-u)<=re.PRECISION){const M=e+a/2-(h+m/2),L=i+r/2-(p+y/2);return{path:{"transform-origin":`${re.svgRound(e)} ${re.svgRound(i)}`,transform:`${this.rotationTransform} translate(${M} ${L})`}}}const w=(a-2*o)/(m-2*o),A=(r-2*u)/(y-2*u),N=m/a,E=y/r;return{path:{"transform-origin":`${re.svgRound(h)} ${re.svgRound(p)}`,transform:`${this.rotationTransform} scale(${N} ${E}) translate(${re.svgRound(o)} ${re.svgRound(u)}) scale(${w} ${A}) translate(${re.svgRound(-o)} ${re.svgRound(-u)})`}}}getPathResizedSVGProperties([e,i,a,r]){const[o,u]=B(this,Ds,Pc).call(this),h=f(this,ya),[p,m,y,w]=h;if(h[0]=e,h[1]=i,h[2]=a,h[3]=r,Math.abs(y-o)<=re.PRECISION||Math.abs(w-u)<=re.PRECISION){const L=e+a/2-(p+y/2),R=i+r/2-(m+w/2);for(const{line:P,points:W}of f(this,vr))re._translate(P,L,R,P),re._translate(W,L,R,W);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${re.svgRound(e)} ${re.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const A=(a-2*o)/(y-2*o),N=(r-2*u)/(w-2*u),E=-A*(p+o)+e+o,M=-N*(m+u)+i+u;if(A!==1||N!==1||E!==0||M!==0)for(const{line:L,points:R}of f(this,vr))re._rescale(L,E,M,A,N,L),re._rescale(R,E,M,A,N,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${re.svgRound(e)} ${re.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,i],a){const[r,o]=a,u=f(this,ya),h=e-u[0],p=i-u[1];if(f(this,Gl)===r&&f(this,Vl)===o)for(const{line:m,points:y}of f(this,vr))re._translate(m,h,p,m),re._translate(y,h,p,y);else{const m=f(this,Gl)/r,y=f(this,Vl)/o;T(this,Gl,r),T(this,Vl,o);for(const{line:w,points:A}of f(this,vr))re._rescale(w,h,p,m,y,w),re._rescale(A,h,p,m,y,A);u[2]*=m,u[3]*=y}return u[0]=e,u[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${re.svgRound(e)} ${re.svgRound(i)}`}}}get defaultSVGProperties(){const e=f(this,ya);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${re.svgRound(e[0])} ${re.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}ya=new WeakMap,O2=new WeakMap,D2=new WeakMap,vr=new WeakMap,Gl=new WeakMap,Vl=new WeakMap,C1=new WeakMap,T1=new WeakMap,ip=new WeakMap,Ds=new WeakSet,Pc=function(e=f(this,ip)){const i=f(this,D2)+e/2*f(this,C1);return f(this,T1)%180===0?[i/f(this,Gl),i/f(this,Vl)]:[i/f(this,Vl),i/f(this,Gl)]},vE=function(){const[e,i,a,r]=f(this,ya),[o,u]=B(this,Ds,Pc).call(this,0);return[e+o,i+u,a-2*o,r-2*u]},bE=function(){const e=T(this,ya,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of f(this,vr)){if(r.length<=12){for(let h=4,p=r.length;h<p;h+=6)Ae.pointBoundingBox(r[h],r[h+1],e);continue}let o=r[4],u=r[5];for(let h=6,p=r.length;h<p;h+=6){const[m,y,w,A,N,E]=r.subarray(h,h+6);Ae.bezierBoundingBox(o,u,m,y,w,A,N,E,e),o=N,u=E}}const[i,a]=B(this,Ds,Pc).call(this);e[0]=Sa(e[0]-i,0,1),e[1]=Sa(e[1]-a,0,1),e[2]=Sa(e[2]+i,0,1),e[3]=Sa(e[3]+a,0,1),e[2]-=e[0],e[3]-=e[1]},yE=function(e){const[i,a]=B(this,Ds,Pc).call(this);T(this,ip,e);const[r,o]=B(this,Ds,Pc).call(this),[u,h]=[r-i,o-a],p=f(this,ya);return p[0]-=u,p[1]-=h,p[2]+=2*u,p[3]+=2*h,p};class yb extends gE{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Gi._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new yb(this._viewParameters);return t.updateAll(this),t}}var hb,AE;const Ag=class Ag extends Vv{constructor(e){super({...e,name:"inkEditor"});F(this,hb);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,i){Gi.initialize(e,i),this._defaultDrawingOptions=new yb(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ze(this,"typesMap",new Map([[ri.INK_THICKNESS,"stroke-width"],[ri.INK_COLOR,"stroke"],[ri.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,i,a,r,o){return new ZC(e,i,a,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,i,a,r,o,u){return q2.deserialize(e,i,a,r,o,u)}static async deserialize(e,i,a){let r=null;if(e instanceof Fw){const{data:{inkLists:u,rect:h,rotation:p,id:m,color:y,opacity:w,borderStyle:{rawWidth:A},popupRef:N,contentsObj:E},parent:{page:{pageNumber:M}}}=e;r=e={annotationType:je.INK,color:Array.from(y),thickness:A,opacity:w,paths:{points:u},boxes:null,pageIndex:M-1,rect:h.slice(0),rotation:p,annotationElementId:m,id:m,deleted:!1,popupRef:N,comment:(E==null?void 0:E.str)||null}}const o=await super.deserialize(e,i,a);return o._initialData=r,e.comment&&o.setCommentData(e.comment),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new qv(this)),[["colorPicker",this._colorPicker]]}get colorType(){return ri.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:i,parent:a}=this;i.updateSVGProperty("stroke-width"),a.drawLayer.updateProperties(e,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:i,opacity:a}){this._drawingOptions=Ag.getDefaultDrawingOptions({stroke:Ae.makeHexColor(...e),"stroke-width":i,"stroke-opacity":a})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:a,rect:r}=this.serializeDraw(e),{_drawingOptions:{stroke:o,"stroke-opacity":u,"stroke-width":h}}=this,p={annotationType:je.INK,color:Gi._colorManager.convert(o),opacity:u,thickness:h,paths:{lines:i,points:a},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(p),e?(p.isCopy=!0,p):this.annotationElementId&&!B(this,hb,AE).call(this,p)?null:(p.id=this.annotationElementId,p)}renderAnnotationElement(e){const{points:i,rect:a}=this.serializeDraw(!1),r={rect:a,thickness:this._drawingOptions["stroke-width"],points:i};return this.hasEditedComment&&(r.popup=this.comment),e.updateEdited(r),null}};hb=new WeakSet,AE=function(e){const{color:i,thickness:a,opacity:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((u,h)=>u!==i[h])||e.thickness!==a||e.opacity!==r||e.pageIndex!==o},Xt(Ag,"_type","ink"),Xt(Ag,"_editorType",je.INK),Xt(Ag,"_defaultDrawingOptions",null);let ew=Ag;class iw extends q2{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Y5=8,M0=3;var np,Si,nw,Bo,wE,SE,sw,_v,_E,xE,EE,aw,rw,NE;class mu{static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:a},r,o,u,h){let p=new OffscreenCanvas(1,1),m=p.getContext("2d",{alpha:!1});const y=200,w=m.font=`${i} ${a} ${y}px ${e}`,{actualBoundingBoxLeft:A,actualBoundingBoxRight:N,actualBoundingBoxAscent:E,actualBoundingBoxDescent:M,fontBoundingBoxAscent:L,fontBoundingBoxDescent:R,width:P}=m.measureText(t),W=1.5,X=Math.ceil(Math.max(Math.abs(A)+Math.abs(N)||0,P)*W),it=Math.ceil(Math.max(Math.abs(E)+Math.abs(M)||y,Math.abs(L)+Math.abs(R)||y)*W);p=new OffscreenCanvas(X,it),m=p.getContext("2d",{alpha:!0,willReadFrequently:!0}),m.font=w,m.filter="grayscale(1)",m.fillStyle="white",m.fillRect(0,0,X,it),m.fillStyle="black",m.fillText(t,X*(W-1)/2,it*(3-W)/2);const J=B(this,Si,aw).call(this,m.getImageData(0,0,X,it).data),Z=B(this,Si,EE).call(this,J),ct=B(this,Si,rw).call(this,Z),bt=B(this,Si,sw).call(this,J,X,it,ct);return this.processDrawnLines({lines:{curves:bt,width:X,height:it},pageWidth:r,pageHeight:o,rotation:u,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,i,a,r){const[o,u,h]=B(this,Si,NE).call(this,t),[p,m]=B(this,Si,xE).call(this,o,u,h,Math.hypot(u,h)*f(this,np).sigmaSFactor,f(this,np).sigmaR,f(this,np).kernelSize),y=B(this,Si,rw).call(this,m),w=B(this,Si,sw).call(this,p,u,h,y);return this.processDrawnLines({lines:{curves:w,width:u,height:h},pageWidth:e,pageHeight:i,rotation:a,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:a,innerMargin:r,mustSmooth:o,areContours:u}){a%180!==0&&([e,i]=[i,e]);const{curves:h,width:p,height:m}=t,y=t.thickness??0,w=[],A=Math.min(e/p,i/m),N=A/e,E=A/i,M=[];for(const{points:R}of h){const P=o?B(this,Si,_E).call(this,R):R;if(!P)continue;M.push(P);const W=P.length,X=new Float32Array(W),it=new Float32Array(3*(W===2?2:W-2));if(w.push({line:it,points:X}),W===2){X[0]=P[0]*N,X[1]=P[1]*E,it.set([NaN,NaN,NaN,NaN,X[0],X[1]],0);continue}let[J,Z,ct,bt]=P;J*=N,Z*=E,ct*=N,bt*=E,X.set([J,Z,ct,bt],0),it.set([NaN,NaN,NaN,NaN,J,Z],0);for(let z=4;z<W;z+=2){const K=X[z]=P[z]*N,ot=X[z+1]=P[z+1]*E;it.set(re.createBezierPoints(J,Z,ct,bt,K,ot),(z-2)*3),[J,Z,ct,bt]=[ct,bt,K,ot]}}if(w.length===0)return null;const L=u?new iw:new q2;return L.build(w,e,i,1,a,u?0:y,r),{outline:L,newCurves:M,areContours:u,thickness:y,width:p,height:m}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:a,height:r}){let o=1/0,u=-1/0,h=0;for(const P of t){h+=P.length;for(let W=2,X=P.length;W<X;W++){const it=P[W]-P[W-2];o=Math.min(o,it),u=Math.max(u,it)}}let p;o>=-128&&u<=127?p=Int8Array:o>=-32768&&u<=32767?p=Int16Array:p=Int32Array;const m=t.length,y=Y5+M0*m,w=new Uint32Array(y);let A=0;w[A++]=y*Uint32Array.BYTES_PER_ELEMENT+(h-2*m)*p.BYTES_PER_ELEMENT,w[A++]=0,w[A++]=a,w[A++]=r,w[A++]=e?0:1,w[A++]=Math.max(0,Math.floor(i??0)),w[A++]=m,w[A++]=p.BYTES_PER_ELEMENT;for(const P of t)w[A++]=P.length-2,w[A++]=P[0],w[A++]=P[1];const N=new CompressionStream("deflate-raw"),E=N.writable.getWriter();await E.ready,E.write(w);const M=p.prototype.constructor;for(const P of t){const W=new M(P.length-2);for(let X=2,it=P.length;X<it;X++)W[X-2]=P[X]-P[X-2];E.write(W)}E.close();const L=await new Response(N.readable).arrayBuffer(),R=new Uint8Array(L);return L4(R)}static async decompressSignature(t){try{const e=wL(t),{readable:i,writable:a}=new DecompressionStream("deflate-raw"),r=a.getWriter();await r.ready,r.write(e).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let o=null,u=0;for await(const P of i)o||(o=new Uint8Array(new Uint32Array(P.buffer,0,4)[0])),o.set(P,u),u+=P.length;const h=new Uint32Array(o.buffer,0,o.length>>2),p=h[1];if(p!==0)throw new Error(`Invalid version: ${p}`);const m=h[2],y=h[3],w=h[4]===0,A=h[5],N=h[6],E=h[7],M=[],L=(Y5+M0*N)*Uint32Array.BYTES_PER_ELEMENT;let R;switch(E){case Int8Array.BYTES_PER_ELEMENT:R=new Int8Array(o.buffer,L);break;case Int16Array.BYTES_PER_ELEMENT:R=new Int16Array(o.buffer,L);break;case Int32Array.BYTES_PER_ELEMENT:R=new Int32Array(o.buffer,L);break}u=0;for(let P=0;P<N;P++){const W=h[M0*P+Y5],X=new Float32Array(W+2);M.push(X);for(let it=0;it<M0-1;it++)X[it]=h[M0*P+Y5+it+1];for(let it=0;it<W;it++)X[it+2]=X[it]+R[u++]}return{areContours:w,thickness:A,outlines:M,width:m,height:y}}catch(e){return ze(`decompressSignature: ${e}`),null}}}np=new WeakMap,Si=new WeakSet,nw=function(t,e,i,a){return i-=t,a-=e,i===0?a>0?0:4:i===1?a+6:2-a},Bo=new WeakMap,wE=function(t,e,i,a,r,o,u){const h=B(this,Si,nw).call(this,i,a,r,o);for(let p=0;p<8;p++){const m=(-p+h-u+16)%8,y=f(this,Bo)[2*m],w=f(this,Bo)[2*m+1];if(t[(i+y)*e+(a+w)]!==0)return m}return-1},SE=function(t,e,i,a,r,o,u){const h=B(this,Si,nw).call(this,i,a,r,o);for(let p=0;p<8;p++){const m=(p+h+u+16)%8,y=f(this,Bo)[2*m],w=f(this,Bo)[2*m+1];if(t[(i+y)*e+(a+w)]!==0)return m}return-1},sw=function(t,e,i,a){const r=t.length,o=new Int32Array(r);for(let m=0;m<r;m++)o[m]=t[m]<=a?1:0;for(let m=1;m<i-1;m++)o[m*e]=o[m*e+e-1]=0;for(let m=0;m<e;m++)o[m]=o[e*i-1-m]=0;let u=1,h;const p=[];for(let m=1;m<i-1;m++){h=1;for(let y=1;y<e-1;y++){const w=m*e+y,A=o[w];if(A===0)continue;let N=m,E=y;if(A===1&&o[w-1]===0)u+=1,E-=1;else if(A>=1&&o[w+1]===0)u+=1,E+=1,A>1&&(h=A);else{A!==1&&(h=Math.abs(A));continue}const M=[y,m],L=E===y+1,R={isHole:L,points:M,id:u,parent:0};p.push(R);let P;for(const z of p)if(z.id===h){P=z;break}P?P.isHole?R.parent=L?P.parent:h:R.parent=L?h:P.parent:R.parent=L?h:0;const W=B(this,Si,wE).call(this,o,e,m,y,N,E,0);if(W===-1){o[w]=-u,o[w]!==1&&(h=Math.abs(o[w]));continue}let X=f(this,Bo)[2*W],it=f(this,Bo)[2*W+1];const J=m+X,Z=y+it;N=J,E=Z;let ct=m,bt=y;for(;;){const z=B(this,Si,SE).call(this,o,e,ct,bt,N,E,1);X=f(this,Bo)[2*z],it=f(this,Bo)[2*z+1];const K=ct+X,ot=bt+it;M.push(ot,K);const st=ct*e+bt;if(o[st+1]===0?o[st]=-u:o[st]===1&&(o[st]=u),K===m&&ot===y&&ct===J&&bt===Z){o[w]!==1&&(h=Math.abs(o[w]));break}else N=ct,E=bt,ct=K,bt=ot}}}return p},_v=function(t,e,i,a){if(i-e<=4){for(let J=e;J<i-2;J+=2)a.push(t[J],t[J+1]);return}const r=t[e],o=t[e+1],u=t[i-4]-r,h=t[i-3]-o,p=Math.hypot(u,h),m=u/p,y=h/p,w=m*o-y*r,A=h/u,N=1/p,E=Math.atan(A),M=Math.cos(E),L=Math.sin(E),R=N*(Math.abs(M)+Math.abs(L)),P=N*(1-R+R**2),W=Math.max(Math.atan(Math.abs(L+M)*P),Math.atan(Math.abs(L-M)*P));let X=0,it=e;for(let J=e+2;J<i-2;J+=2){const Z=Math.abs(w-m*t[J+1]+y*t[J]);Z>X&&(it=J,X=Z)}X>(p*W)**2?(B(this,Si,_v).call(this,t,e,it+2,a),B(this,Si,_v).call(this,t,it,i,a)):a.push(r,o)},_E=function(t){const e=[],i=t.length;return B(this,Si,_v).call(this,t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e},xE=function(t,e,i,a,r,o){const u=new Float32Array(o**2),h=-2*a**2,p=o>>1;for(let E=0;E<o;E++){const M=(E-p)**2;for(let L=0;L<o;L++)u[E*o+L]=Math.exp((M+(L-p)**2)/h)}const m=new Float32Array(256),y=-2*r**2;for(let E=0;E<256;E++)m[E]=Math.exp(E**2/y);const w=t.length,A=new Uint8Array(w),N=new Uint32Array(256);for(let E=0;E<i;E++)for(let M=0;M<e;M++){const L=E*e+M,R=t[L];let P=0,W=0;for(let it=0;it<o;it++){const J=E+it-p;if(!(J<0||J>=i))for(let Z=0;Z<o;Z++){const ct=M+Z-p;if(ct<0||ct>=e)continue;const bt=t[J*e+ct],z=u[it*o+Z]*m[Math.abs(bt-R)];P+=bt*z,W+=z}}const X=A[L]=Math.round(P/W);N[X]++}return[A,N]},EE=function(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e},aw=function(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let a=-1/0,r=1/0;for(let u=0,h=i.length;u<h;u++){const p=i[u]=t[u<<2];a=Math.max(a,p),r=Math.min(r,p)}const o=255/(a-r);for(let u=0,h=i.length;u<h;u++)i[u]=(i[u]-r)*o;return i},rw=function(t){let e,i=-1/0,a=-1/0;const r=t.findIndex(h=>h!==0);let o=r,u=r;for(e=r;e<256;e++){const h=t[e];h>i&&(e-o>a&&(a=e-o,u=e-1),i=h,o=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e},NE=function(t){const e=t,{width:i,height:a}=t,{maxDim:r}=f(this,np);let o=i,u=a;if(i>r||a>r){let w=i,A=a,N=Math.log2(Math.max(i,a)/r);const E=Math.floor(N);N=N===E?E-1:E;for(let L=0;L<N;L++){o=Math.ceil(w/2),u=Math.ceil(A/2);const R=new OffscreenCanvas(o,u);R.getContext("2d").drawImage(t,0,0,w,A,0,0,o,u),w=o,A=u,t!==e&&t.close(),t=R.transferToImageBitmap()}const M=Math.min(r/o,r/u);o=Math.round(o*M),u=Math.round(u*M)}const p=new OffscreenCanvas(o,u).getContext("2d",{willReadFrequently:!0});p.fillStyle="white",p.fillRect(0,0,o,u),p.filter="grayscale(1)",p.drawImage(t,0,0,t.width,t.height,0,0,o,u);const m=p.getImageData(0,0,o,u).data;return[B(this,Si,aw).call(this,m),o,u]},F(mu,Si),F(mu,np,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),F(mu,Bo,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class Bw extends gE{constructor(){super(),super.updateProperties({fill:Gi._defaultLineColor,"stroke-width":0})}clone(){const t=new Bw;return t.updateAll(this),t}}class jw extends yb{constructor(t){super(t),super.updateProperties({stroke:Gi._defaultLineColor,"stroke-width":1})}clone(){const t=new jw(this._viewParameters);return t.updateAll(this),t}}var Kh,Yl,$h,sp;const sr=class sr extends Vv{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});F(this,Kh,!1);F(this,Yl,null);F(this,$h,null);F(this,sp,null);this._willKeepAspectRatio=!0,T(this,$h,e.signatureData||null),T(this,Yl,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,i){Gi.initialize(e,i),this._defaultDrawingOptions=new Bw,this._defaultDrawnSignatureOptions=new jw(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ze(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!f(this,Yl)}}static computeTelemetryFinalData(e){const i=e.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,i;const{_isCopy:a}=this;if(a&&(this._isCopy=!1,e=this.x,i=this.y),super.render(),this._drawId===null)if(f(this,$h)){const{lines:r,mustSmooth:o,areContours:u,description:h,uuid:p,heightInPage:m}=f(this,$h),{rawDims:{pageWidth:y,pageHeight:w},rotation:A}=this.parent.viewport,N=mu.processDrawnLines({lines:r,pageWidth:y,pageHeight:w,rotation:A,innerMargin:sr._INNER_MARGIN,mustSmooth:o,areContours:u});this.addSignature(N,m,h,p)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:f(this,Yl)||""}));return a&&(this._isCopy=!0,this._moveAfterPaste(e,i)),this.div}setUuid(e){T(this,sp,e),this.addEditToolbar()}getUuid(){return f(this,sp)}get description(){return f(this,Yl)}set description(e){T(this,Yl,e),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:i,thickness:a,width:r,height:o}=f(this,$h),u=Math.max(r,o),h=mu.processDrawnLines({lines:{curves:e.map(p=>({points:p})),thickness:a,width:r,height:o},pageWidth:u,pageHeight:u,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:h.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,i,a,r){const{x:o,y:u}=this,{outline:h}=T(this,$h,e);T(this,Kh,h instanceof iw),this.description=a;let p;f(this,Kh)?p=sr.getDefaultDrawingOptions():(p=sr._defaultDrawnSignatureOptions.clone(),p.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:p});const[m,y]=this.parentDimensions,[,w]=this.pageDimensions;let A=i/w;A=A>=1?.5:A,this.width*=A/this.height,this.width>=1&&(A*=.9/this.width,this.width=.9),this.height=A,this.setDims(m*this.width,y*this.height),this.x=o,this.y=u,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!a}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:i,pageHeight:a},rotation:r}=this.parent.viewport;return mu.process(e,i,a,r,sr._INNER_MARGIN)}getFromText(e,i){const{rawDims:{pageWidth:a,pageHeight:r},rotation:o}=this.parent.viewport;return mu.extractContoursFromText(e,i,a,r,o,sr._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:i,pageHeight:a},rotation:r}=this.parent.viewport;return mu.processDrawnLines({lines:e,pageWidth:i,pageHeight:a,rotation:r,innerMargin:sr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:i}){e?this._drawingOptions=sr.getDefaultDrawingOptions():(this._drawingOptions=sr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:i,points:a,rect:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":o}}=this,u={annotationType:je.SIGNATURE,isSignature:!0,areContours:f(this,Kh),color:[0,0,0],thickness:f(this,Kh)?0:o,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(u),e?(u.paths={lines:i,points:a},u.uuid=f(this,sp),u.isCopy=!0):u.lines=i,f(this,Yl)&&(u.accessibilityData={type:"Figure",alt:f(this,Yl)}),u}static deserializeDraw(e,i,a,r,o,u){return u.areContours?iw.deserialize(e,i,a,r,o,u):q2.deserialize(e,i,a,r,o,u)}static async deserialize(e,i,a){var o;const r=await super.deserialize(e,i,a);return T(r,Kh,e.areContours),r.description=((o=e.accessibilityData)==null?void 0:o.alt)||"",T(r,sp,e.uuid),r}};Kh=new WeakMap,Yl=new WeakMap,$h=new WeakMap,sp=new WeakMap,Xt(sr,"_type","signature"),Xt(sr,"_editorType",je.SIGNATURE),Xt(sr,"_defaultDrawingOptions",null);let ow=sr;var an,ms,Qh,hu,Zh,M1,fu,ap,Xl,br,R1,di,$0,Q0,xv,Ev,Nv,cw,Lv,LE;class lw extends Gi{constructor(e){super({...e,name:"stampEditor"});F(this,di);F(this,an,null);F(this,ms,null);F(this,Qh,null);F(this,hu,null);F(this,Zh,null);F(this,M1,"");F(this,fu,null);F(this,ap,!1);F(this,Xl,null);F(this,br,!1);F(this,R1,!1);T(this,hu,e.bitmapUrl),T(this,Zh,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,i){Gi.initialize(e,i)}static isHandlingMimeForPasting(e){return eA.includes(e)}static paste(e,i){i.pasteEditor({mode:je.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:a}=this._uiManager;if(!a)throw new Error("No ML.");if(!await a.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:u}=e||this.copyCanvas(null,null,!0).imageData,h=await a.guess({name:"altText",request:{data:r,width:o,height:u,channels:r.length/(o*u)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const p=h.output;return await this.setGuessedAltText(p),i&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var e;f(this,ms)&&(T(this,an,null),this._uiManager.imageManager.deleteId(f(this,ms)),(e=f(this,fu))==null||e.remove(),T(this,fu,null),f(this,Xl)&&(clearTimeout(f(this,Xl)),T(this,Xl,null))),super.remove()}rebuild(){if(!this.parent){f(this,ms)&&B(this,di,xv).call(this);return}super.rebuild(),this.div!==null&&(f(this,ms)&&f(this,fu)===null&&B(this,di,xv).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(f(this,Qh)||f(this,an)||f(this,hu)||f(this,Zh)||f(this,ms)||f(this,ap))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;return this._isCopy&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),f(this,ap)||(f(this,an)?B(this,di,Ev).call(this):B(this,di,xv).call(this)),this._isCopy&&this._moveAfterPaste(e,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,i){const{id:a,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,i);i.remove(),a&&this._uiManager.imageManager.isValidId(a)&&(T(this,ms,a),r&&T(this,an,r),T(this,ap,!1),B(this,di,Ev).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;f(this,Xl)!==null&&clearTimeout(f(this,Xl)),T(this,Xl,setTimeout(()=>{T(this,Xl,null),B(this,di,cw).call(this)},200))}copyCanvas(e,i,a=!1){var A;e||(e=224);const{width:r,height:o}=f(this,an),u=new Zl;let h=f(this,an),p=r,m=o,y=null;if(i){if(r>i||o>i){const Z=Math.min(i/r,i/o);p=Math.floor(r*Z),m=Math.floor(o*Z)}y=document.createElement("canvas");const N=y.width=Math.ceil(p*u.sx),E=y.height=Math.ceil(m*u.sy);f(this,br)||(h=B(this,di,Nv).call(this,N,E));const M=y.getContext("2d");M.filter=this._uiManager.hcmFilter;let L="white",R="#cfcfd8";this._uiManager.hcmFilter!=="none"?R="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(L="#8f8f9d",R="#42414d");const P=15,W=P*u.sx,X=P*u.sy,it=new OffscreenCanvas(W*2,X*2),J=it.getContext("2d");J.fillStyle=L,J.fillRect(0,0,W*2,X*2),J.fillStyle=R,J.fillRect(0,0,W,X),J.fillRect(W,X,W,X),M.fillStyle=M.createPattern(it,"repeat"),M.fillRect(0,0,N,E),M.drawImage(h,0,0,h.width,h.height,0,0,N,E)}let w=null;if(a){let N,E;if(u.symmetric&&h.width<e&&h.height<e)N=h.width,E=h.height;else if(h=f(this,an),r>e||o>e){const R=Math.min(e/r,e/o);N=Math.floor(r*R),E=Math.floor(o*R),f(this,br)||(h=B(this,di,Nv).call(this,N,E))}const L=new OffscreenCanvas(N,E).getContext("2d",{willReadFrequently:!0});L.drawImage(h,0,0,h.width,h.height,0,0,N,E),w={width:N,height:E,data:L.getImageData(0,0,N,E).data}}return{canvas:y,width:p,height:m,imageData:w}}static async deserialize(e,i,a){var M;let r=null,o=!1;if(e instanceof Hx){const{data:{rect:L,rotation:R,id:P,structParent:W,popupRef:X,contentsObj:it},container:J,parent:{page:{pageNumber:Z}},canvas:ct}=e;let bt,z;ct?(delete e.canvas,{id:bt,bitmap:z}=a.imageManager.getFromCanvas(J.id,ct),ct.remove()):(o=!0,e._hasNoCanvas=!0);const K=((M=await i._structTree.getAriaAttributes(`${Mw}${P}`))==null?void 0:M.get("aria-label"))||"";r=e={annotationType:je.STAMP,bitmapId:bt,bitmap:z,pageIndex:Z-1,rect:L.slice(0),rotation:R,annotationElementId:P,id:P,deleted:!1,accessibilityData:{decorative:!1,altText:K},isSvg:!1,structParent:W,popupRef:X,comment:(it==null?void 0:it.str)||null}}const u=await super.deserialize(e,i,a),{rect:h,bitmap:p,bitmapUrl:m,bitmapId:y,isSvg:w,accessibilityData:A}=e;o?(a.addMissingCanvas(e.id,u),T(u,ap,!0)):y&&a.imageManager.isValidId(y)?(T(u,ms,y),p&&T(u,an,p)):T(u,hu,m),T(u,br,w);const[N,E]=u.pageDimensions;return u.width=(h[2]-h[0])/N,u.height=(h[3]-h[1])/E,A&&(u.altTextData=A),u._initialData=r,e.comment&&u.setCommentData(e.comment),T(u,R1,!!r),u}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a={annotationType:je.STAMP,bitmapId:f(this,ms),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:f(this,br),structTreeParentId:this._structTreeParentId};if(this.addComment(a),e)return a.bitmapUrl=B(this,di,Lv).call(this,!0),a.accessibilityData=this.serializeAltText(!0),a.isCopy=!0,a;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(a.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const h=B(this,di,LE).call(this,a);if(h.isSame)return null;h.isSameAltText?delete a.accessibilityData:a.accessibilityData.structParent=this._initialData.structParent??-1}if(a.id=this.annotationElementId,i===null)return a;i.stamps||(i.stamps=new Map);const u=f(this,br)?(a.rect[2]-a.rect[0])*(a.rect[3]-a.rect[1]):null;if(!i.stamps.has(f(this,ms)))i.stamps.set(f(this,ms),{area:u,serialized:a}),a.bitmap=B(this,di,Lv).call(this,!1);else if(f(this,br)){const h=i.stamps.get(f(this,ms));u>h.area&&(h.area=u,h.serialized.bitmap.close(),h.serialized.bitmap=B(this,di,Lv).call(this,!1))}return a}renderAnnotationElement(e){const i={rect:this.getRect(0,0)};return this.hasEditedComment&&(i.popup=this.comment),e.updateEdited(i),null}}an=new WeakMap,ms=new WeakMap,Qh=new WeakMap,hu=new WeakMap,Zh=new WeakMap,M1=new WeakMap,fu=new WeakMap,ap=new WeakMap,Xl=new WeakMap,br=new WeakMap,R1=new WeakMap,di=new WeakSet,$0=function(e,i=!1){if(!e){this.remove();return}T(this,an,e.bitmap),i||(T(this,ms,e.id),T(this,br,e.isSvg)),e.file&&T(this,M1,e.file.name),B(this,di,Ev).call(this)},Q0=function(){if(T(this,Qh,null),this._uiManager.enableWaiting(!1),!!f(this,fu)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,an)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,an)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},xv=function(){if(f(this,ms)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,ms)).then(a=>B(this,di,$0).call(this,a,!0)).finally(()=>B(this,di,Q0).call(this));return}if(f(this,hu)){const a=f(this,hu);T(this,hu,null),this._uiManager.enableWaiting(!0),T(this,Qh,this._uiManager.imageManager.getFromUrl(a).then(r=>B(this,di,$0).call(this,r)).finally(()=>B(this,di,Q0).call(this)));return}if(f(this,Zh)){const a=f(this,Zh);T(this,Zh,null),this._uiManager.enableWaiting(!0),T(this,Qh,this._uiManager.imageManager.getFromFile(a).then(r=>B(this,di,$0).call(this,r)).finally(()=>B(this,di,Q0).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=eA.join(",");const i=this._uiManager._signal;T(this,Qh,new Promise(a=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),B(this,di,$0).call(this,r)}a()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),a()},{signal:i})}).finally(()=>B(this,di,Q0).call(this))),e.click()},Ev=function(){var y;const{div:e}=this;let{width:i,height:a}=f(this,an);const[r,o]=this.pageDimensions,u=.75;if(this.width)i=this.width*r,a=this.height*o;else if(i>u*r||a>u*o){const w=Math.min(u*r/i,u*o/a);i*=w,a*=w}const[h,p]=this.parentDimensions;this.setDims(i*h/r,a*p/o),this._uiManager.enableWaiting(!1);const m=T(this,fu,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),this.width=i/r,this.height=a/o,(y=this._initialOptions)!=null&&y.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),B(this,di,cw).call(this),f(this,R1)||(this.parent.addUndoableEditor(this),T(this,R1,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,M1)&&this.div.setAttribute("aria-description",f(this,M1)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Nv=function(e,i){const{width:a,height:r}=f(this,an);let o=a,u=r,h=f(this,an);for(;o>2*e||u>2*i;){const p=o,m=u;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),u>2*i&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const y=new OffscreenCanvas(o,u);y.getContext("2d").drawImage(h,0,0,p,m,0,0,o,u),h=y.transferToImageBitmap()}return h},cw=function(){const[e,i]=this.parentDimensions,{width:a,height:r}=this,o=new Zl,u=Math.ceil(a*e*o.sx),h=Math.ceil(r*i*o.sy),p=f(this,fu);if(!p||p.width===u&&p.height===h)return;p.width=u,p.height=h;const m=f(this,br)?f(this,an):B(this,di,Nv).call(this,u,h),y=p.getContext("2d");y.filter=this._uiManager.hcmFilter,y.drawImage(m,0,0,m.width,m.height,0,0,u,h)},Lv=function(e){if(e){if(f(this,br)){const r=this._uiManager.imageManager.getSvgUrl(f(this,ms));if(r)return r}const i=document.createElement("canvas");return{width:i.width,height:i.height}=f(this,an),i.getContext("2d").drawImage(f(this,an),0,0),i.toDataURL()}if(f(this,br)){const[i,a]=this.pageDimensions,r=Math.round(this.width*i*of.PDF_TO_CSS_UNITS),o=Math.round(this.height*a*of.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(r,o);return u.getContext("2d").drawImage(f(this,an),0,0,f(this,an).width,f(this,an).height,0,0,r,o),u.transferToImageBitmap()}return structuredClone(f(this,an))},LE=function(e){var u;const{pageIndex:i,accessibilityData:{altText:a}}=this._initialData,r=e.pageIndex===i,o=(((u=e.accessibilityData)==null?void 0:u.alt)||"")===a;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}},Xt(lw,"_type","stamp"),Xt(lw,"_editorType",je.STAMP);var rp,O1,Wl,Jh,du,yr,tf,D1,op,jo,pu,vs,gu,ef,k1,pe,nf,rn,CE,Ll,hw,fw,Cv;const Co=class Co{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:a,accessibilityManager:r,annotationLayer:o,drawLayer:u,textLayer:h,viewport:p,l10n:m}){F(this,rn);F(this,rp);F(this,O1,!1);F(this,Wl,null);F(this,Jh,null);F(this,du,null);F(this,yr,new Map);F(this,tf,!1);F(this,D1,!1);F(this,op,!1);F(this,jo,null);F(this,pu,null);F(this,vs,null);F(this,gu,null);F(this,ef,null);F(this,k1,-1);F(this,pe);const y=[...f(Co,nf).values()];if(!Co._initialized){Co._initialized=!0;for(const w of y)w.initialize(m,t)}t.registerEditorTypes(y),T(this,pe,t),this.pageIndex=e,this.div=i,T(this,rp,r),T(this,Wl,o),this.viewport=p,T(this,vs,h),this.drawLayer=u,this._structTree=a,f(this,pe).addLayer(this)}get isEmpty(){return f(this,yr).size===0}get isInvisible(){return this.isEmpty&&f(this,pe).getMode()===je.NONE}updateToolbar(t){f(this,pe).updateToolbar(t)}updateMode(t=f(this,pe).getMode()){switch(B(this,rn,Cv).call(this),t){case je.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case je.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case je.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of f(Co,nf).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=f(this,vs))==null?void 0:e.div)}setEditingState(t){f(this,pe).setEditingState(t)}addCommands(t){f(this,pe).addCommands(t)}cleanUndoStack(t){f(this,pe).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=f(this,Wl))==null||e.div.classList.toggle("disabled",!t)}async enable(){var i;T(this,op,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(i=f(this,ef))==null||i.abort(),T(this,ef,null);const t=new Set;for(const a of f(this,yr).values())a.enableEditing(),a.show(!0),a.annotationElementId&&(f(this,pe).removeChangedExistingAnnotation(a),t.add(a.annotationElementId));if(!f(this,Wl)){T(this,op,!1);return}const e=f(this,Wl).getEditableAnnotations();for(const a of e){if(a.hide(),f(this,pe).isDeletedAnnotationElement(a.data.id)||t.has(a.data.id))continue;const r=await this.deserialize(a);r&&(this.addOrRebuild(r),r.enableEditing())}T(this,op,!1)}disable(){var a;if(T(this,D1,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),f(this,vs)&&!f(this,ef)){T(this,ef,new AbortController);const r=f(this,pe).combinedSignal(f(this,ef));f(this,vs).div.addEventListener("pointerdown",o=>{const{clientX:h,clientY:p,timeStamp:m}=o,y=f(this,k1);if(m-y>500){T(this,k1,m);return}T(this,k1,-1);const{classList:w}=this.div;w.toggle("getElements",!0);const A=document.elementsFromPoint(h,p);if(w.toggle("getElements",!1),!this.div.contains(A[0]))return;let N;const E=new RegExp(`^${S4}[0-9]+$`);for(const L of A)if(E.test(L.id)){N=L.id;break}if(!N)return;const M=f(this,yr).get(N);(M==null?void 0:M.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),M.dblclick())},{signal:r,capture:!0})}const t=new Map,e=new Map;for(const r of f(this,yr).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);(a=this.getEditableAnnotation(r.annotationElementId))==null||a.show(),r.remove()}if(f(this,Wl)){const r=f(this,Wl).getEditableAnnotations();for(const o of r){const{id:u}=o.data;if(f(this,pe).isDeletedAnnotationElement(u)){o.updateEdited({deleted:!0});continue}let h=e.get(u);if(h){h.resetAnnotationElement(o),h.show(!1),o.show();continue}h=t.get(u),h&&(f(this,pe).addChangedExistingAnnotation(h),h.renderAnnotationElement(o)&&h.show(!1)),o.show()}}B(this,rn,Cv).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of f(Co,nf).values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),T(this,D1,!1)}getEditableAnnotation(t){var e;return((e=f(this,Wl))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){f(this,pe).getActive()!==t&&f(this,pe).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=f(this,vs))!=null&&t.div&&!f(this,gu)){T(this,gu,new AbortController);const e=f(this,pe).combinedSignal(f(this,gu));f(this,vs).div.addEventListener("pointerdown",B(this,rn,CE).bind(this),{signal:e}),f(this,vs).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=f(this,vs))!=null&&t.div&&f(this,gu)&&(f(this,gu).abort(),T(this,gu,null),f(this,vs).div.classList.remove("highlighting"))}enableClick(){if(f(this,Jh))return;T(this,Jh,new AbortController);const t=f(this,pe).combinedSignal(f(this,Jh));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=f(this,Jh))==null||t.abort(),T(this,Jh,null)}attach(t){f(this,yr).set(t.id,t);const{annotationElementId:e}=t;e&&f(this,pe).isDeletedAnnotationElement(e)&&f(this,pe).removeDeletedAnnotationElement(t)}detach(t){var e;f(this,yr).delete(t.id),(e=f(this,rp))==null||e.removePointerInTextLayer(t.contentDiv),!f(this,D1)&&t.annotationElementId&&f(this,pe).addDeletedAnnotationElement(t)}remove(t){this.detach(t),f(this,pe).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(f(this,pe).addDeletedAnnotationElement(t.annotationElementId),Gi.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),f(this,pe).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!f(this,op)),f(this,pe).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!f(this,du)&&(t._focusEventsAllowed=!1,T(this,du,setTimeout(()=>{T(this,du,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:f(this,pe)._signal}),e.focus())},0))),t._structTreeParentId=(i=f(this,rp))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return f(this,pe).getId()}combinedSignal(t){return f(this,pe).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=f(this,rn,Ll))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await f(this,pe).updateMode(t.mode);const{offsetX:i,offsetY:a}=B(this,rn,fw).call(this),r=this.getNextId(),o=B(this,rn,hw).call(this,{parent:this,id:r,x:i,y:a,uiManager:f(this,pe),isCentered:!0,...e});o&&this.add(o)}async deserialize(t){var e;return await((e=f(Co,nf).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,f(this,pe)))||null}createAndAddNewEditor(t,e,i={}){const a=this.getNextId(),r=B(this,rn,hw).call(this,{parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:f(this,pe),isCentered:e,...i});return r&&this.add(r),r}addNewEditor(t={}){this.createAndAddNewEditor(B(this,rn,fw).call(this),!0,t)}setSelected(t){f(this,pe).setSelected(t)}toggleSelected(t){f(this,pe).toggleSelected(t)}unselect(t){f(this,pe).unselect(t)}pointerup(t){var a;const{isMac:e}=Ps.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!f(this,tf)||(T(this,tf,!1),(a=f(this,rn,Ll))!=null&&a.isDrawer&&f(this,rn,Ll).supportMultipleDrawings))return;if(!f(this,O1)){T(this,O1,!0);return}const i=f(this,pe).getMode();if(i===je.STAMP||i===je.SIGNATURE){f(this,pe).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var a;if(f(this,pe).getMode()===je.HIGHLIGHT&&this.enableTextSelection(),f(this,tf)){T(this,tf,!1);return}const{isMac:e}=Ps.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(T(this,tf,!0),(a=f(this,rn,Ll))!=null&&a.isDrawer){this.startDrawingSession(t);return}const i=f(this,pe).getActive();T(this,O1,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),f(this,jo)){f(this,rn,Ll).startDrawing(this,f(this,pe),!1,t);return}f(this,pe).setCurrentDrawingSession(this),T(this,jo,new AbortController);const e=f(this,pe).combinedSignal(f(this,jo));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(T(this,pu,null),this.commitOrRemove())},{signal:e}),f(this,rn,Ll).startDrawing(this,f(this,pe),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&T(this,pu,e);return}f(this,pu)&&setTimeout(()=>{var e;(e=f(this,pu))==null||e.focus(),T(this,pu,null)},0)}endDrawingSession(t=!1){return f(this,jo)?(f(this,pe).setCurrentDrawingSession(null),f(this,jo).abort(),T(this,jo,null),T(this,pu,null),f(this,rn,Ll).endDrawing(t)):null}findNewParent(t,e,i){const a=f(this,pe).findParent(e,i);return a===null||a===this?!1:(a.changeParent(t),!0)}commitOrRemove(){return f(this,jo)?(this.endDrawingSession(),!0):!1}onScaleChanging(){f(this,jo)&&f(this,rn,Ll).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=f(this,pe).getActive())==null?void 0:t.parent)===this&&(f(this,pe).commitOrRemove(),f(this,pe).setActiveEditor(null)),f(this,du)&&(clearTimeout(f(this,du)),T(this,du,null));for(const i of f(this,yr).values())(e=f(this,rp))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,f(this,yr).clear(),f(this,pe).removeLayer(this)}render({viewport:t}){this.viewport=t,fp(this.div,t);for(const e of f(this,pe).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){f(this,pe).commitOrRemove(),B(this,rn,Cv).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,fp(this.div,{rotation:i}),e!==i)for(const a of f(this,yr).values())a.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return f(this,pe).viewParameters.realScale}};rp=new WeakMap,O1=new WeakMap,Wl=new WeakMap,Jh=new WeakMap,du=new WeakMap,yr=new WeakMap,tf=new WeakMap,D1=new WeakMap,op=new WeakMap,jo=new WeakMap,pu=new WeakMap,vs=new WeakMap,gu=new WeakMap,ef=new WeakMap,k1=new WeakMap,pe=new WeakMap,nf=new WeakMap,rn=new WeakSet,CE=function(t){f(this,pe).unselectAll();const{target:e}=t;if(e===f(this,vs).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&f(this,vs).div.contains(e)){const{isMac:i}=Ps.platform;if(t.button!==0||t.ctrlKey&&i)return;f(this,pe).showAllEditors("highlight",!0,!0),f(this,vs).div.classList.add("free"),this.toggleDrawing(),Gv.startHighlighting(this,f(this,pe).direction==="ltr",{target:f(this,vs).div,x:t.x,y:t.y}),f(this,vs).div.addEventListener("pointerup",()=>{f(this,vs).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,pe)._signal}),t.preventDefault()}},Ll=function(){return f(Co,nf).get(f(this,pe).getMode())},hw=function(t){const e=f(this,rn,Ll);return e?new e.prototype.constructor(t):null},fw=function(){const{x:t,y:e,width:i,height:a}=this.div.getBoundingClientRect(),r=Math.max(0,t),o=Math.max(0,e),u=Math.min(window.innerWidth,t+i),h=Math.min(window.innerHeight,e+a),p=(r+u)/2-t,m=(o+h)/2-e,[y,w]=this.viewport.rotation%180===0?[p,m]:[m,p];return{offsetX:y,offsetY:w}},Cv=function(){for(const t of f(this,yr).values())t.isEmpty()&&t.remove()},Xt(Co,"_initialized",!1),F(Co,nf,new Map([VA,ew,lw,Gv,ow].map(t=>[t._editorType,t])));let uw=Co;var zo,Aa,lp,k2,fb,TE,Jl,pw,ME,gw;const Jn=class Jn{constructor({pageIndex:t}){F(this,Jl);F(this,zo,null);F(this,Aa,new Map);F(this,lp,new Map);this.pageIndex=t}setParent(t){if(!f(this,zo)){T(this,zo,t);return}if(f(this,zo)!==t){if(f(this,Aa).size>0)for(const e of f(this,Aa).values())e.remove(),t.append(e);T(this,zo,t)}}static get _svgFactory(){return Ze(this,"_svgFactory",new Uv)}draw(t,e=!1,i=!1){const a=ga(Jn,k2)._++,r=B(this,Jl,pw).call(this),o=Jn._svgFactory.createElement("defs");r.append(o);const u=Jn._svgFactory.createElement("path");o.append(u);const h=`path_p${this.pageIndex}_${a}`;u.setAttribute("id",h),u.setAttribute("vector-effect","non-scaling-stroke"),e&&f(this,lp).set(a,u);const p=i?B(this,Jl,ME).call(this,o,h):null,m=Jn._svgFactory.createElement("use");return r.append(m),m.setAttribute("href",`#${h}`),this.updateProperties(r,t),f(this,Aa).set(a,r),{id:a,clipPathId:`url(#${p})`}}drawOutline(t,e){const i=ga(Jn,k2)._++,a=B(this,Jl,pw).call(this),r=Jn._svgFactory.createElement("defs");a.append(r);const o=Jn._svgFactory.createElement("path");r.append(o);const u=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",u),o.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const y=Jn._svgFactory.createElement("mask");r.append(y),h=`mask_p${this.pageIndex}_${i}`,y.setAttribute("id",h),y.setAttribute("maskUnits","objectBoundingBox");const w=Jn._svgFactory.createElement("rect");y.append(w),w.setAttribute("width","1"),w.setAttribute("height","1"),w.setAttribute("fill","white");const A=Jn._svgFactory.createElement("use");y.append(A),A.setAttribute("href",`#${u}`),A.setAttribute("stroke","none"),A.setAttribute("fill","black"),A.setAttribute("fill-rule","nonzero"),A.classList.add("mask")}const p=Jn._svgFactory.createElement("use");a.append(p),p.setAttribute("href",`#${u}`),h&&p.setAttribute("mask",`url(#${h})`);const m=p.cloneNode();return a.append(m),p.classList.add("mainOutline"),m.classList.add("secondaryOutline"),this.updateProperties(a,t),f(this,Aa).set(i,a),i}finalizeDraw(t,e){f(this,lp).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var h;if(!e)return;const{root:i,bbox:a,rootClass:r,path:o}=e,u=typeof t=="number"?f(this,Aa).get(t):t;if(u){if(i&&B(this,Jl,gw).call(this,u,i),a&&B(h=Jn,fb,TE).call(h,u,a),r){const{classList:p}=u;for(const[m,y]of Object.entries(r))p.toggle(m,y)}if(o){const m=u.firstChild.firstChild;B(this,Jl,gw).call(this,m,o)}}}updateParent(t,e){if(e===this)return;const i=f(this,Aa).get(t);i&&(f(e,zo).append(i),f(this,Aa).delete(t),f(e,Aa).set(t,i))}remove(t){f(this,lp).delete(t),f(this,zo)!==null&&(f(this,Aa).get(t).remove(),f(this,Aa).delete(t))}destroy(){T(this,zo,null);for(const t of f(this,Aa).values())t.remove();f(this,Aa).clear(),f(this,lp).clear()}};zo=new WeakMap,Aa=new WeakMap,lp=new WeakMap,k2=new WeakMap,fb=new WeakSet,TE=function(t,[e,i,a,r]){const{style:o}=t;o.top=`${100*i}%`,o.left=`${100*e}%`,o.width=`${100*a}%`,o.height=`${100*r}%`},Jl=new WeakSet,pw=function(){const t=Jn._svgFactory.create(1,1,!0);return f(this,zo).append(t),t.setAttribute("aria-hidden",!0),t},ME=function(t,e){const i=Jn._svgFactory.createElement("clipPath");t.append(i);const a=`clip_${e}`;i.setAttribute("id",a),i.setAttribute("clipPathUnits","objectBoundingBox");const r=Jn._svgFactory.createElement("use");return i.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),a},gw=function(t,e){for(const[i,a]of Object.entries(e))a===null?t.removeAttribute(i):t.setAttribute(i,a)},F(Jn,fb),F(Jn,k2,0);let dw=Jn;globalThis._pdfjsTestingUtils={HighlightOutliner:XA};globalThis.pdfjsLib={AbortException:rf,AnnotationEditorLayer:uw,AnnotationEditorParamsType:ri,AnnotationEditorType:je,AnnotationEditorUIManager:dp,AnnotationLayer:UA,AnnotationMode:ph,AnnotationType:Vn,build:MC,ColorPicker:zv,createValidAbsoluteUrl:_4,DOMSVGFactory:Uv,DrawLayer:dw,FeatureTest:Ps,fetchData:F2,getDocument:Lx,getFilenameFromUrl:SL,getPdfFilenameFromUrl:_L,getRGB:vb,getUuid:N4,getXfaPageViewport:EL,GlobalWorkerOptions:Kl,ImageKind:Z5,InvalidPDFException:Jy,isDataScheme:mb,isPdfFile:Ow,isValidExplicitDest:IL,MathClamp:Sa,noContextMenu:Zr,normalizeUnicode:yL,OPS:Pv,OutputScale:Zl,PasswordResponses:uL,PDFDataRangeTransport:Cx,PDFDateString:Fv,PDFWorker:sm,PermissionFlag:cL,PixelsPerInch:of,RenderingCancelledException:Rw,ResponseException:Iv,setLayerDimensions:fp,shadow:Ze,SignatureExtractor:mu,stopEvent:Yn,SupportedImageMimeTypes:eA,TextLayer:im,TouchManager:jv,updateUrlHash:x4,Util:Ae,VerbosityLevel:db,version:TC,XfaLayer:Ox};const JC="/SnapScript/assets/pdf.worker.min-DbR_HJhJ.mjs",tT="modulepreload",eT=function(c){return"/SnapScript/"+c},H_={},mw=function(t,e,i){let a=Promise.resolve();if(e&&e.length>0){let o=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=o(e.map(p=>{if(p=eT(p),p in H_)return;H_[p]=!0;const m=p.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":tT,m||(w.as="script"),w.crossOrigin="",w.href=p,h&&w.setAttribute("nonce",h),document.head.appendChild(w),m)return new Promise((A,N)=>{w.addEventListener("load",A),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function r(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return a.then(o=>{for(const u of o||[])u.status==="rejected"&&r(u.reason);return t().catch(r)})};function Ti(c){"@babel/helpers - typeof";return Ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ti(c)}var na=Uint8Array,_r=Uint16Array,zw=Int32Array,Ab=new na([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),wb=new na([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vw=new na([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RE=function(c,t){for(var e=new _r(31),i=0;i<31;++i)e[i]=t+=1<<c[i-1];for(var a=new zw(e[30]),i=1;i<30;++i)for(var r=e[i];r<e[i+1];++r)a[r]=r-e[i]<<5|i;return{b:e,r:a}},OE=RE(Ab,2),DE=OE.b,bw=OE.r;DE[28]=258,bw[258]=28;var kE=RE(wb,0),iT=kE.b,G_=kE.r,yw=new _r(32768);for(var Ki=0;Ki<32768;++Ki){var uh=(Ki&43690)>>1|(Ki&21845)<<1;uh=(uh&52428)>>2|(uh&13107)<<2,uh=(uh&61680)>>4|(uh&3855)<<4,yw[Ki]=((uh&65280)>>8|(uh&255)<<8)>>1}var Ql=function(c,t,e){for(var i=c.length,a=0,r=new _r(t);a<i;++a)c[a]&&++r[c[a]-1];var o=new _r(t);for(a=1;a<t;++a)o[a]=o[a-1]+r[a-1]<<1;var u;if(e){u=new _r(1<<t);var h=15-t;for(a=0;a<i;++a)if(c[a])for(var p=a<<4|c[a],m=t-c[a],y=o[c[a]-1]++<<m,w=y|(1<<m)-1;y<=w;++y)u[yw[y]>>h]=p}else for(u=new _r(i),a=0;a<i;++a)c[a]&&(u[a]=yw[o[c[a]-1]++]>>15-c[a]);return u},lf=new na(288);for(var Ki=0;Ki<144;++Ki)lf[Ki]=8;for(var Ki=144;Ki<256;++Ki)lf[Ki]=9;for(var Ki=256;Ki<280;++Ki)lf[Ki]=7;for(var Ki=280;Ki<288;++Ki)lf[Ki]=8;var am=new na(32);for(var Ki=0;Ki<32;++Ki)am[Ki]=5;var nT=Ql(lf,9,0),sT=Ql(lf,9,1),aT=Ql(am,5,0),rT=Ql(am,5,1),Hy=function(c){for(var t=c[0],e=1;e<c.length;++e)c[e]>t&&(t=c[e]);return t},No=function(c,t,e){var i=t/8|0;return(c[i]|c[i+1]<<8)>>(t&7)&e},Gy=function(c,t){var e=t/8|0;return(c[e]|c[e+1]<<8|c[e+2]<<16)>>(t&7)},qw=function(c){return(c+7)/8|0},PE=function(c,t,e){return(e==null||e>c.length)&&(e=c.length),new na(c.subarray(t,e))},oT=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],To=function(c,t,e){var i=new Error(t||oT[c]);if(i.code=c,Error.captureStackTrace&&Error.captureStackTrace(i,To),!e)throw i;return i},lT=function(c,t,e,i){var a=c.length,r=0;if(!a||t.f&&!t.l)return e||new na(0);var o=!e,u=o||t.i!=2,h=t.i;o&&(e=new na(a*3));var p=function(Ht){var Wt=e.length;if(Ht>Wt){var Kt=new na(Math.max(Wt*2,Ht));Kt.set(e),e=Kt}},m=t.f||0,y=t.p||0,w=t.b||0,A=t.l,N=t.d,E=t.m,M=t.n,L=a*8;do{if(!A){m=No(c,y,1);var R=No(c,y+1,3);if(y+=3,R)if(R==1)A=sT,N=rT,E=9,M=5;else if(R==2){var it=No(c,y,31)+257,J=No(c,y+10,15)+4,Z=it+No(c,y+5,31)+1;y+=14;for(var ct=new na(Z),bt=new na(19),z=0;z<J;++z)bt[vw[z]]=No(c,y+z*3,7);y+=J*3;for(var K=Hy(bt),ot=(1<<K)-1,st=Ql(bt,K,1),z=0;z<Z;){var Et=st[No(c,y,ot)];y+=Et&15;var P=Et>>4;if(P<16)ct[z++]=P;else{var U=0,tt=0;for(P==16?(tt=3+No(c,y,3),y+=2,U=ct[z-1]):P==17?(tt=3+No(c,y,7),y+=3):P==18&&(tt=11+No(c,y,127),y+=7);tt--;)ct[z++]=U}}var ht=ct.subarray(0,it),At=ct.subarray(it);E=Hy(ht),M=Hy(At),A=Ql(ht,E,1),N=Ql(At,M,1)}else To(1);else{var P=qw(y)+4,W=c[P-4]|c[P-3]<<8,X=P+W;if(X>a){h&&To(0);break}u&&p(w+W),e.set(c.subarray(P,X),w),t.b=w+=W,t.p=y=X*8,t.f=m;continue}if(y>L){h&&To(0);break}}u&&p(w+131072);for(var V=(1<<E)-1,ft=(1<<M)-1,O=y;;O=y){var U=A[Gy(c,y)&V],H=U>>4;if(y+=U&15,y>L){h&&To(0);break}if(U||To(2),H<256)e[w++]=H;else if(H==256){O=y,A=null;break}else{var Q=H-254;if(H>264){var z=H-257,rt=Ab[z];Q=No(c,y,(1<<rt)-1)+DE[z],y+=rt}var at=N[Gy(c,y)&ft],mt=at>>4;at||To(3),y+=at&15;var At=iT[mt];if(mt>3){var rt=wb[mt];At+=Gy(c,y)&(1<<rt)-1,y+=rt}if(y>L){h&&To(0);break}u&&p(w+131072);var St=w+Q;if(w<At){var Ct=r-At,Vt=Math.min(At,St);for(Ct+w<0&&To(3);w<Vt;++w)e[w]=i[Ct+w]}for(;w<St;++w)e[w]=e[w-At]}}t.l=A,t.p=O,t.b=w,t.f=m,A&&(m=1,t.m=E,t.d=N,t.n=M)}while(!m);return w!=e.length&&o?PE(e,0,w):e.subarray(0,w)},Oc=function(c,t,e){e<<=t&7;var i=t/8|0;c[i]|=e,c[i+1]|=e>>8},R0=function(c,t,e){e<<=t&7;var i=t/8|0;c[i]|=e,c[i+1]|=e>>8,c[i+2]|=e>>16},Vy=function(c,t){for(var e=[],i=0;i<c.length;++i)c[i]&&e.push({s:i,f:c[i]});var a=e.length,r=e.slice();if(!a)return{t:FE,l:0};if(a==1){var o=new na(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(X,it){return X.f-it.f}),e.push({s:-1,f:25001});var u=e[0],h=e[1],p=0,m=1,y=2;for(e[0]={s:-1,f:u.f+h.f,l:u,r:h};m!=a-1;)u=e[e[p].f<e[y].f?p++:y++],h=e[p!=m&&e[p].f<e[y].f?p++:y++],e[m++]={s:-1,f:u.f+h.f,l:u,r:h};for(var w=r[0].s,i=1;i<a;++i)r[i].s>w&&(w=r[i].s);var A=new _r(w+1),N=Aw(e[m-1],A,0);if(N>t){var i=0,E=0,M=N-t,L=1<<M;for(r.sort(function(it,J){return A[J.s]-A[it.s]||it.f-J.f});i<a;++i){var R=r[i].s;if(A[R]>t)E+=L-(1<<N-A[R]),A[R]=t;else break}for(E>>=M;E>0;){var P=r[i].s;A[P]<t?E-=1<<t-A[P]++-1:++i}for(;i>=0&&E;--i){var W=r[i].s;A[W]==t&&(--A[W],++E)}N=t}return{t:new na(A),l:N}},Aw=function(c,t,e){return c.s==-1?Math.max(Aw(c.l,t,e+1),Aw(c.r,t,e+1)):t[c.s]=e},V_=function(c){for(var t=c.length;t&&!c[--t];);for(var e=new _r(++t),i=0,a=c[0],r=1,o=function(h){e[i++]=h},u=1;u<=t;++u)if(c[u]==a&&u!=t)++r;else{if(!a&&r>2){for(;r>138;r-=138)o(32754);r>2&&(o(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(o(a),--r;r>6;r-=6)o(8304);r>2&&(o(r-3<<5|8208),r=0)}for(;r--;)o(a);r=1,a=c[u]}return{c:e.subarray(0,i),n:t}},O0=function(c,t){for(var e=0,i=0;i<t.length;++i)e+=c[i]*t[i];return e},IE=function(c,t,e){var i=e.length,a=qw(t+2);c[a]=i&255,c[a+1]=i>>8,c[a+2]=c[a]^255,c[a+3]=c[a+1]^255;for(var r=0;r<i;++r)c[a+r+4]=e[r];return(a+4+i)*8},Y_=function(c,t,e,i,a,r,o,u,h,p,m){Oc(t,m++,e),++a[256];for(var y=Vy(a,15),w=y.t,A=y.l,N=Vy(r,15),E=N.t,M=N.l,L=V_(w),R=L.c,P=L.n,W=V_(E),X=W.c,it=W.n,J=new _r(19),Z=0;Z<R.length;++Z)++J[R[Z]&31];for(var Z=0;Z<X.length;++Z)++J[X[Z]&31];for(var ct=Vy(J,7),bt=ct.t,z=ct.l,K=19;K>4&&!bt[vw[K-1]];--K);var ot=p+5<<3,st=O0(a,lf)+O0(r,am)+o,Et=O0(a,w)+O0(r,E)+o+14+3*K+O0(J,bt)+2*J[16]+3*J[17]+7*J[18];if(h>=0&&ot<=st&&ot<=Et)return IE(t,m,c.subarray(h,h+p));var U,tt,ht,At;if(Oc(t,m,1+(Et<st)),m+=2,Et<st){U=Ql(w,A,0),tt=w,ht=Ql(E,M,0),At=E;var V=Ql(bt,z,0);Oc(t,m,P-257),Oc(t,m+5,it-1),Oc(t,m+10,K-4),m+=14;for(var Z=0;Z<K;++Z)Oc(t,m+3*Z,bt[vw[Z]]);m+=3*K;for(var ft=[R,X],O=0;O<2;++O)for(var H=ft[O],Z=0;Z<H.length;++Z){var Q=H[Z]&31;Oc(t,m,V[Q]),m+=bt[Q],Q>15&&(Oc(t,m,H[Z]>>5&127),m+=H[Z]>>12)}}else U=nT,tt=lf,ht=aT,At=am;for(var Z=0;Z<u;++Z){var rt=i[Z];if(rt>255){var Q=rt>>18&31;R0(t,m,U[Q+257]),m+=tt[Q+257],Q>7&&(Oc(t,m,rt>>23&31),m+=Ab[Q]);var at=rt&31;R0(t,m,ht[at]),m+=At[at],at>3&&(R0(t,m,rt>>5&8191),m+=wb[at])}else R0(t,m,U[rt]),m+=tt[rt]}return R0(t,m,U[256]),m+tt[256]},cT=new zw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),FE=new na(0),uT=function(c,t,e,i,a,r){var o=r.z||c.length,u=new na(i+o+5*(1+Math.ceil(o/7e3))+a),h=u.subarray(i,u.length-a),p=r.l,m=(r.r||0)&7;if(t){m&&(h[0]=r.r>>3);for(var y=cT[t-1],w=y>>13,A=y&8191,N=(1<<e)-1,E=r.p||new _r(32768),M=r.h||new _r(N+1),L=Math.ceil(e/3),R=2*L,P=function(ve){return(c[ve]^c[ve+1]<<L^c[ve+2]<<R)&N},W=new zw(25e3),X=new _r(288),it=new _r(32),J=0,Z=0,ct=r.i||0,bt=0,z=r.w||0,K=0;ct+2<o;++ct){var ot=P(ct),st=ct&32767,Et=M[ot];if(E[st]=Et,M[ot]=st,z<=ct){var U=o-ct;if((J>7e3||bt>24576)&&(U>423||!p)){m=Y_(c,h,0,W,X,it,Z,bt,K,ct-K,m),bt=J=Z=0,K=ct;for(var tt=0;tt<286;++tt)X[tt]=0;for(var tt=0;tt<30;++tt)it[tt]=0}var ht=2,At=0,V=A,ft=st-Et&32767;if(U>2&&ot==P(ct-ft))for(var O=Math.min(w,U)-1,H=Math.min(32767,ct),Q=Math.min(258,U);ft<=H&&--V&&st!=Et;){if(c[ct+ht]==c[ct+ht-ft]){for(var rt=0;rt<Q&&c[ct+rt]==c[ct+rt-ft];++rt);if(rt>ht){if(ht=rt,At=ft,rt>O)break;for(var at=Math.min(ft,rt-2),mt=0,tt=0;tt<at;++tt){var St=ct-ft+tt&32767,Ct=E[St],Vt=St-Ct&32767;Vt>mt&&(mt=Vt,Et=St)}}}st=Et,Et=E[st],ft+=st-Et&32767}if(At){W[bt++]=268435456|bw[ht]<<18|G_[At];var Ht=bw[ht]&31,Wt=G_[At]&31;Z+=Ab[Ht]+wb[Wt],++X[257+Ht],++it[Wt],z=ct+ht,++J}else W[bt++]=c[ct],++X[c[ct]]}}for(ct=Math.max(ct,z);ct<o;++ct)W[bt++]=c[ct],++X[c[ct]];m=Y_(c,h,p,W,X,it,Z,bt,K,ct-K,m),p||(r.r=m&7|h[m/8|0]<<3,m-=7,r.h=M,r.p=E,r.i=ct,r.w=z)}else{for(var ct=r.w||0;ct<o+p;ct+=65535){var Kt=ct+65535;Kt>=o&&(h[m/8|0]=p,Kt=o),m=IE(h,m+1,c.subarray(ct,Kt))}r.i=o}return PE(u,0,i+qw(m)+a)},BE=function(){var c=1,t=0;return{p:function(e){for(var i=c,a=t,r=e.length|0,o=0;o!=r;){for(var u=Math.min(o+2655,r);o<u;++o)a+=i+=e[o];i=(i&65535)+15*(i>>16),a=(a&65535)+15*(a>>16)}c=i,t=a},d:function(){return c%=65521,t%=65521,(c&255)<<24|(c&65280)<<8|(t&255)<<8|t>>8}}},hT=function(c,t,e,i,a){if(!a&&(a={l:1},t.dictionary)){var r=t.dictionary.subarray(-32768),o=new na(r.length+c.length);o.set(r),o.set(c,r.length),c=o,a.w=r.length}return uT(c,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(c.length)))*1.5):20:12+t.mem,e,i,a)},jE=function(c,t,e){for(;e;++t)c[t]=e,e>>>=8},fT=function(c,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(c[0]=120,c[1]=i<<6|(t.dictionary&&32),c[1]|=31-(c[0]<<8|c[1])%31,t.dictionary){var a=BE();a.p(t.dictionary),jE(c,2,a.d())}},dT=function(c,t){return((c[0]&15)!=8||c[0]>>4>7||(c[0]<<8|c[1])%31)&&To(6,"invalid zlib data"),(c[1]>>5&1)==1&&To(6,"invalid zlib data: "+(c[1]&32?"need":"unexpected")+" dictionary"),(c[1]>>3&4)+2};function ww(c,t){t||(t={});var e=BE();e.p(c);var i=hT(c,t,t.dictionary?6:2,4);return fT(i,t),jE(i,i.length-4,e.d()),i}function pT(c,t){return lT(c.subarray(dT(c),-4),{i:2},t,t)}var gT=typeof TextDecoder<"u"&&new TextDecoder,mT=0;try{gT.decode(FE,{stream:!0}),mT=1}catch{}var Ce=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Yy(){Ce.console&&typeof Ce.console.log=="function"&&Ce.console.log.apply(Ce.console,arguments)}var ji={log:Yy,warn:function(c){Ce.console&&(typeof Ce.console.warn=="function"?Ce.console.warn.apply(Ce.console,arguments):Yy.call(null,arguments))},error:function(c){Ce.console&&(typeof Ce.console.error=="function"?Ce.console.error.apply(Ce.console,arguments):Yy(c))}};function Xy(c,t,e){var i=new XMLHttpRequest;i.open("GET",c),i.responseType="blob",i.onload=function(){Jf(i.response,t,e)},i.onerror=function(){ji.error("could not download file")},i.send()}function X_(c){var t=new XMLHttpRequest;t.open("HEAD",c,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function X5(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(t)}}var J0,Sw,Jf=Ce.saveAs||((typeof window>"u"?"undefined":Ti(window))!=="object"||window!==Ce?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(c,t,e){var i=Ce.URL||Ce.webkitURL,a=document.createElement("a");t=t||c.name||"download",a.download=t,a.rel="noopener",typeof c=="string"?(a.href=c,a.origin!==location.origin?X_(a.href)?Xy(c,t,e):X5(a,a.target="_blank"):X5(a)):(a.href=i.createObjectURL(c),setTimeout(function(){i.revokeObjectURL(a.href)},4e4),setTimeout(function(){X5(a)},0))}:"msSaveOrOpenBlob"in navigator?function(c,t,e){if(t=t||c.name||"download",typeof c=="string")if(X_(c))Xy(c,t,e);else{var i=document.createElement("a");i.href=c,i.target="_blank",setTimeout(function(){X5(i)})}else navigator.msSaveOrOpenBlob(function(a,r){return r===void 0?r={autoBom:!1}:Ti(r)!=="object"&&(ji.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(c,e),t)}:function(c,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof c=="string")return Xy(c,t,e);var a=c.type==="application/octet-stream",r=/constructor/i.test(Ce.HTMLElement)||Ce.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&r)&&(typeof FileReader>"u"?"undefined":Ti(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var m=u.result;m=o?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=m:location=m,i=null},u.readAsDataURL(c)}else{var h=Ce.URL||Ce.webkitURL,p=h.createObjectURL(c);i?i.location=p:location.href=p,i=null,setTimeout(function(){h.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function zE(c){var t;c=c||"",this.ok=!1,c.charAt(0)=="#"&&(c=c.substr(1,6)),c={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[c=(c=c.replace(/ /g,"")).toLowerCase()]||c;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<e.length;i++){var a=e[i].re,r=e[i].process,o=a.exec(c);o&&(t=r(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),p=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),p.length==1&&(p="0"+p),"#"+u+h+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Wy(c,t){var e=c[0],i=c[1],a=c[2],r=c[3];e=Xs(e,i,a,r,t[0],7,-680876936),r=Xs(r,e,i,a,t[1],12,-389564586),a=Xs(a,r,e,i,t[2],17,606105819),i=Xs(i,a,r,e,t[3],22,-1044525330),e=Xs(e,i,a,r,t[4],7,-176418897),r=Xs(r,e,i,a,t[5],12,1200080426),a=Xs(a,r,e,i,t[6],17,-1473231341),i=Xs(i,a,r,e,t[7],22,-45705983),e=Xs(e,i,a,r,t[8],7,1770035416),r=Xs(r,e,i,a,t[9],12,-1958414417),a=Xs(a,r,e,i,t[10],17,-42063),i=Xs(i,a,r,e,t[11],22,-1990404162),e=Xs(e,i,a,r,t[12],7,1804603682),r=Xs(r,e,i,a,t[13],12,-40341101),a=Xs(a,r,e,i,t[14],17,-1502002290),e=Ws(e,i=Xs(i,a,r,e,t[15],22,1236535329),a,r,t[1],5,-165796510),r=Ws(r,e,i,a,t[6],9,-1069501632),a=Ws(a,r,e,i,t[11],14,643717713),i=Ws(i,a,r,e,t[0],20,-373897302),e=Ws(e,i,a,r,t[5],5,-701558691),r=Ws(r,e,i,a,t[10],9,38016083),a=Ws(a,r,e,i,t[15],14,-660478335),i=Ws(i,a,r,e,t[4],20,-405537848),e=Ws(e,i,a,r,t[9],5,568446438),r=Ws(r,e,i,a,t[14],9,-1019803690),a=Ws(a,r,e,i,t[3],14,-187363961),i=Ws(i,a,r,e,t[8],20,1163531501),e=Ws(e,i,a,r,t[13],5,-1444681467),r=Ws(r,e,i,a,t[2],9,-51403784),a=Ws(a,r,e,i,t[7],14,1735328473),e=Ks(e,i=Ws(i,a,r,e,t[12],20,-1926607734),a,r,t[5],4,-378558),r=Ks(r,e,i,a,t[8],11,-2022574463),a=Ks(a,r,e,i,t[11],16,1839030562),i=Ks(i,a,r,e,t[14],23,-35309556),e=Ks(e,i,a,r,t[1],4,-1530992060),r=Ks(r,e,i,a,t[4],11,1272893353),a=Ks(a,r,e,i,t[7],16,-155497632),i=Ks(i,a,r,e,t[10],23,-1094730640),e=Ks(e,i,a,r,t[13],4,681279174),r=Ks(r,e,i,a,t[0],11,-358537222),a=Ks(a,r,e,i,t[3],16,-722521979),i=Ks(i,a,r,e,t[6],23,76029189),e=Ks(e,i,a,r,t[9],4,-640364487),r=Ks(r,e,i,a,t[12],11,-421815835),a=Ks(a,r,e,i,t[15],16,530742520),e=$s(e,i=Ks(i,a,r,e,t[2],23,-995338651),a,r,t[0],6,-198630844),r=$s(r,e,i,a,t[7],10,1126891415),a=$s(a,r,e,i,t[14],15,-1416354905),i=$s(i,a,r,e,t[5],21,-57434055),e=$s(e,i,a,r,t[12],6,1700485571),r=$s(r,e,i,a,t[3],10,-1894986606),a=$s(a,r,e,i,t[10],15,-1051523),i=$s(i,a,r,e,t[1],21,-2054922799),e=$s(e,i,a,r,t[8],6,1873313359),r=$s(r,e,i,a,t[15],10,-30611744),a=$s(a,r,e,i,t[6],15,-1560198380),i=$s(i,a,r,e,t[13],21,1309151649),e=$s(e,i,a,r,t[4],6,-145523070),r=$s(r,e,i,a,t[11],10,-1120210379),a=$s(a,r,e,i,t[2],15,718787259),i=$s(i,a,r,e,t[9],21,-343485551),c[0]=sf(e,c[0]),c[1]=sf(i,c[1]),c[2]=sf(a,c[2]),c[3]=sf(r,c[3])}function Sb(c,t,e,i,a,r){return t=sf(sf(t,c),sf(i,r)),sf(t<<a|t>>>32-a,e)}function Xs(c,t,e,i,a,r,o){return Sb(t&e|~t&i,c,t,a,r,o)}function Ws(c,t,e,i,a,r,o){return Sb(t&i|e&~i,c,t,a,r,o)}function Ks(c,t,e,i,a,r,o){return Sb(t^e^i,c,t,a,r,o)}function $s(c,t,e,i,a,r,o){return Sb(e^(t|~i),c,t,a,r,o)}function qE(c){var t,e=c.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c.length;t+=64)Wy(i,vT(c.substring(t-64,t)));c=c.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<c.length;t++)a[t>>2]|=c.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Wy(i,a),t=0;t<16;t++)a[t]=0;return a[14]=8*e,Wy(i,a),i}function vT(c){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=c.charCodeAt(t)+(c.charCodeAt(t+1)<<8)+(c.charCodeAt(t+2)<<16)+(c.charCodeAt(t+3)<<24);return e}J0=Ce.atob.bind(Ce),Sw=Ce.btoa.bind(Ce);var W_="0123456789abcdef".split("");function bT(c){for(var t="",e=0;e<4;e++)t+=W_[c>>8*e+4&15]+W_[c>>8*e&15];return t}function yT(c){return String.fromCharCode((255&c)>>0,(65280&c)>>8,(16711680&c)>>16,(4278190080&c)>>24)}function _w(c){return qE(c).map(yT).join("")}var AT=function(c){for(var t=0;t<c.length;t++)c[t]=bT(c[t]);return c.join("")}(qE("hello"))!="5d41402abc4b2a76b9719d911017c592";function sf(c,t){if(AT){var e=(65535&c)+(65535&t);return(c>>16)+(t>>16)+(e>>16)<<16|65535&e}return c+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function xw(c,t){var e,i,a,r;if(c!==e){for(var o=(a=c,r=1+(256/c.length>>0),new Array(r+1).join(a)),u=[],h=0;h<256;h++)u[h]=h;var p=0;for(h=0;h<256;h++){var m=u[h];p=(p+m+o.charCodeAt(h))%256,u[h]=u[p],u[p]=m}e=c,i=u}else u=i;var y=t.length,w=0,A=0,N="";for(h=0;h<y;h++)A=(A+(m=u[w=(w+1)%256]))%256,u[w]=u[A],u[A]=m,o=u[(u[w]+u[A])%256],N+=String.fromCharCode(t.charCodeAt(h)^o);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var K_={print:4,modify:8,copy:16,"annot-forms":32};function gg(c,t,e,i){this.v=1,this.r=2;var a=192;c.forEach(function(u){if(K_.perm!==void 0)throw new Error("Invalid permission: "+u);a+=K_[u]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var r=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(r,o),this.P=-(1+(255^a)),this.encryptionKey=_w(r+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=xw(this.encryptionKey,this.padding)}function mg(c){if(/[^\u0000-\u00ff]/.test(c))throw new Error("Invalid PDF Name Object: "+c+", Only accept ASCII characters.");for(var t="",e=c.length,i=0;i<e;i++){var a=c.charCodeAt(i);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=c[i]}return t}function $_(c){if(Ti(c)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,a){if(a=a||!1,typeof e!="string"||typeof i!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var r=Math.random().toString(35);return t[e][r]=[i,!!a],r},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var r in t[e]){var o=t[e][r];try{o[0].apply(c,i)}catch(u){Ce.console&&ji.error("jsPDF PubSub Error",u.message,u)}o[1]&&a.push(r)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Yv(c){if(!(this instanceof Yv))return new Yv(c);var t="opacity,stroke-opacity".split(",");for(var e in c)c.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=c[e]);this.id="",this.objectNumber=-1}function UE(c,t){this.gState=c,this.matrix=t,this.id="",this.objectNumber=-1}function td(c,t,e,i,a){if(!(this instanceof td))return new td(c,t,e,i,a);this.type=c==="axial"?2:3,this.coords=t,this.colors=e,UE.call(this,i,a)}function bg(c,t,e,i,a){if(!(this instanceof bg))return new bg(c,t,e,i,a);this.boundingBox=c,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,UE.call(this,i,a)}function Ne(c){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],a=arguments[2],r=arguments[3],o=[],u=1,h=16,p="S",m=null;Ti(c=c||{})==="object"&&(e=c.orientation,i=c.unit||i,a=c.format||a,r=c.compress||c.compressPdf||r,(m=c.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),u=typeof c.userUnit=="number"?Math.abs(c.userUnit):1,c.precision!==void 0&&(t=c.precision),c.floatPrecision!==void 0&&(h=c.floatPrecision),p=c.defaultPathOperation||"S"),o=c.filters||(r===!0?["FlateEncode"]:o),i=i||"mm",e=(""+(e||"P")).toLowerCase();var y=c.putOnlyUsedFonts||!1,w={},A={internal:{},__private__:{}};A.__private__.PubSub=$_;var N="1.3",E=A.__private__.getPdfVersion=function(){return N};A.__private__.setPdfVersion=function(_){N=_};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return M};var L=A.__private__.getPageFormat=function(_){return M[_]};a=a||"a4";var R={COMPAT:"compat",ADVANCED:"advanced"},P=R.COMPAT;function W(){this.saveGraphicsState(),lt(new de(ne,0,0,-ne,0,el()*ne).toString()+" cm"),this.setFontSize(this.getFontSize()/ne),p="n",P=R.ADVANCED}function X(){this.restoreGraphicsState(),p="S",P=R.COMPAT}var it=A.__private__.combineFontStyleAndFontWeight=function(_,I){if(_=="bold"&&I=="normal"||_=="bold"&&I==400||_=="normal"&&I=="italic"||_=="bold"&&I=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return I&&(_=I==400||I==="normal"?_==="italic"?"italic":"normal":I!=700&&I!=="bold"||_!=="normal"?(I==700?"bold":I)+""+_:"bold"),_};A.advancedAPI=function(_){var I=P===R.COMPAT;return I&&W.call(this),typeof _!="function"||(_(this),I&&X.call(this)),this},A.compatAPI=function(_){var I=P===R.ADVANCED;return I&&X.call(this),typeof _!="function"||(_(this),I&&W.call(this)),this},A.isAdvancedAPI=function(){return P===R.ADVANCED};var J,Z=function(_){if(P!==R.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ct=A.roundToPrecision=A.__private__.roundToPrecision=function(_,I){var nt=t||I;if(isNaN(_)||isNaN(nt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(nt).replace(/0+$/,"")};J=A.hpf=A.__private__.hpf=typeof h=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ct(_,h)}:h==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ct(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ct(_,16)};var bt=A.f2=A.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return ct(_,2)},z=A.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return ct(_,3)},K=A.scale=A.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return P===R.COMPAT?_*ne:P===R.ADVANCED?_:void 0},ot=function(_){return P===R.COMPAT?el()-_:P===R.ADVANCED?_:void 0},st=function(_){return K(ot(_))};A.__private__.setPrecision=A.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(t=parseInt(_,10))};var Et,U="00000000000000000000000000000000",tt=A.__private__.getFileId=function(){return U},ht=A.__private__.setFileId=function(_){return U=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Bn=new gg(m.userPermissions,m.userPassword,m.ownerPassword,U)),U};A.setFileId=function(_){return ht(_),this},A.getFileId=function(){return tt()};var At=A.__private__.convertDateToPDFDate=function(_){var I=_.getTimezoneOffset(),nt=I<0?"+":"-",dt=Math.floor(Math.abs(I/60)),xt=Math.abs(I%60),kt=[nt,Q(dt),"'",Q(xt),"'"].join("");return["D:",_.getFullYear(),Q(_.getMonth()+1),Q(_.getDate()),Q(_.getHours()),Q(_.getMinutes()),Q(_.getSeconds()),kt].join("")},V=A.__private__.convertPDFDateToDate=function(_){var I=parseInt(_.substr(2,4),10),nt=parseInt(_.substr(6,2),10)-1,dt=parseInt(_.substr(8,2),10),xt=parseInt(_.substr(10,2),10),kt=parseInt(_.substr(12,2),10),Gt=parseInt(_.substr(14,2),10);return new Date(I,nt,dt,xt,kt,Gt,0)},ft=A.__private__.setCreationDate=function(_){var I;if(_===void 0&&(_=new Date),_ instanceof Date)I=At(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");I=_}return Et=I},O=A.__private__.getCreationDate=function(_){var I=Et;return _==="jsDate"&&(I=V(Et)),I};A.setCreationDate=function(_){return ft(_),this},A.getCreationDate=function(_){return O(_)};var H,Q=A.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},rt=A.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},at=0,mt=[],St=[],Ct=0,Vt=[],Ht=[],Wt=!1,Kt=St,ve=function(){at=0,Ct=0,St=[],mt=[],Vt=[],oa=mn(),la=mn()};A.__private__.setCustomOutputDestination=function(_){Wt=!0,Kt=_};var Pt=function(_){Wt||(Kt=_)};A.__private__.resetCustomOutputDestination=function(){Wt=!1,Kt=St};var lt=A.__private__.out=function(_){return _=_.toString(),Ct+=_.length+1,Kt.push(_),Kt},we=A.__private__.write=function(_){return lt(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},ue=A.__private__.getArrayBuffer=function(_){for(var I=_.length,nt=new ArrayBuffer(I),dt=new Uint8Array(nt);I--;)dt[I]=_.charCodeAt(I);return nt},Yt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return Yt};var Qt=c.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(_){return Qt=P===R.ADVANCED?_/ne:_,this};var Jt,te=A.__private__.getFontSize=A.getFontSize=function(){return P===R.COMPAT?Qt:Qt*ne},ge=c.R2L||!1;A.__private__.setR2L=A.setR2L=function(_){return ge=_,this},A.__private__.getR2L=A.getR2L=function(){return ge};var ke,qe=A.__private__.setZoomMode=function(_){var I=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))Jt=_;else if(isNaN(_)){if(I.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');Jt=_}else Jt=parseInt(_,10)};A.__private__.getZoomMode=function(){return Jt};var Fe,Re=A.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');ke=_};A.__private__.getPageMode=function(){return ke};var Je=A.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Fe=_};A.__private__.getLayoutMode=function(){return Fe},A.__private__.setDisplayMode=A.setDisplayMode=function(_,I,nt){return qe(_),Je(I),Re(nt),this};var he={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(_){if(Object.keys(he).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return he[_]},A.__private__.getDocumentProperties=function(){return he},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(_){for(var I in he)he.hasOwnProperty(I)&&_[I]&&(he[I]=_[I]);return this},A.__private__.setDocumentProperty=function(_,I){if(Object.keys(he).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return he[_]=I};var Xe,ne,ns,ti,Is,si={},_i={},Fs=[],pi={},Vo={},Vi={},sa={},aa=null,$i=0,Oe=[],ui=new $_(A),Jr=c.hotfixes||[],_n={},Ua={},Er=[],de=function _(I,nt,dt,xt,kt,Gt){if(!(this instanceof _))return new _(I,nt,dt,xt,kt,Gt);isNaN(I)&&(I=1),isNaN(nt)&&(nt=0),isNaN(dt)&&(dt=0),isNaN(xt)&&(xt=1),isNaN(kt)&&(kt=0),isNaN(Gt)&&(Gt=0),this._matrix=[I,nt,dt,xt,kt,Gt]};Object.defineProperty(de.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(de.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(de.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(de.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(de.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(de.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(de.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(de.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(de.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(de.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(de.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(de.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(de.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(de.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(de.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(de.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),de.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(J).join(_)},de.prototype.multiply=function(_){var I=_.sx*this.sx+_.shy*this.shx,nt=_.sx*this.shy+_.shy*this.sy,dt=_.shx*this.sx+_.sy*this.shx,xt=_.shx*this.shy+_.sy*this.sy,kt=_.tx*this.sx+_.ty*this.shx+this.tx,Gt=_.tx*this.shy+_.ty*this.sy+this.ty;return new de(I,nt,dt,xt,kt,Gt)},de.prototype.decompose=function(){var _=this.sx,I=this.shy,nt=this.shx,dt=this.sy,xt=this.tx,kt=this.ty,Gt=Math.sqrt(_*_+I*I),ie=(_/=Gt)*nt+(I/=Gt)*dt;nt-=_*ie,dt-=I*ie;var fe=Math.sqrt(nt*nt+dt*dt);return ie/=fe,_*(dt/=fe)<I*(nt/=fe)&&(_=-_,I=-I,ie=-ie,Gt=-Gt),{scale:new de(Gt,0,0,fe,0,0),translate:new de(1,0,0,1,xt,kt),rotate:new de(_,I,-I,_,0,0),skew:new de(1,0,ie,1,0,0)}},de.prototype.toString=function(_){return this.join(" ")},de.prototype.inversed=function(){var _=this.sx,I=this.shy,nt=this.shx,dt=this.sy,xt=this.tx,kt=this.ty,Gt=1/(_*dt-I*nt),ie=dt*Gt,fe=-I*Gt,Ie=-nt*Gt,De=_*Gt;return new de(ie,fe,Ie,De,-ie*xt-Ie*kt,-fe*xt-De*kt)},de.prototype.applyToPoint=function(_){var I=_.x*this.sx+_.y*this.shx+this.tx,nt=_.x*this.shy+_.y*this.sy+this.ty;return new Mu(I,nt)},de.prototype.applyToRectangle=function(_){var I=this.applyToPoint(_),nt=this.applyToPoint(new Mu(_.x+_.w,_.y+_.h));return new xf(I.x,I.y,nt.x-I.x,nt.y-I.y)},de.prototype.clone=function(){var _=this.sx,I=this.shy,nt=this.shx,dt=this.sy,xt=this.tx,kt=this.ty;return new de(_,I,nt,dt,xt,kt)},A.Matrix=de;var Mi=A.matrixMult=function(_,I){return I.multiply(_)},Yi=new de(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=Yi;var xn=function(_,I){if(!Vo[_]){var nt=(I instanceof td?"Sh":"P")+(Object.keys(pi).length+1).toString(10);I.id=nt,Vo[_]=nt,pi[nt]=I,ui.publish("addPattern",I)}};A.ShadingPattern=td,A.TilingPattern=bg,A.addShadingPattern=function(_,I){return Z("addShadingPattern()"),xn(_,I),this},A.beginTilingPattern=function(_){Z("beginTilingPattern()"),Ru(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},A.endTilingPattern=function(_,I){Z("endTilingPattern()"),I.stream=Ht[H].join(`
`),xn(_,I),ui.publish("endTilingPattern",I),Er.pop().restore()};var on=A.__private__.newObject=function(){var _=mn();return ra(_,!0),_},mn=A.__private__.newObjectDeferred=function(){return at++,mt[at]=function(){return Ct},at},ra=function(_,I){return I=typeof I=="boolean"&&I,mt[_]=Ct,I&&lt(_+" 0 obj"),_},ec=A.__private__.newAdditionalObject=function(){var _={objId:mn(),content:""};return Vt.push(_),_},oa=mn(),la=mn(),ss=A.__private__.decodeColorString=function(_){var I=_.split(" ");if(I.length!==2||I[1]!=="g"&&I[1]!=="G")I.length===5&&(I[4]==="k"||I[4]==="K")&&(I=[(1-I[0])*(1-I[3]),(1-I[1])*(1-I[3]),(1-I[2])*(1-I[3]),"r"]);else{var nt=parseFloat(I[0]);I=[nt,nt,nt,"r"]}for(var dt="#",xt=0;xt<3;xt++)dt+=("0"+Math.floor(255*parseFloat(I[xt])).toString(16)).slice(-2);return dt},as=A.__private__.encodeColorString=function(_){var I;typeof _=="string"&&(_={ch1:_});var nt=_.ch1,dt=_.ch2,xt=_.ch3,kt=_.ch4,Gt=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof nt=="string"&&nt.charAt(0)!=="#"){var ie=new zE(nt);if(ie.ok)nt=ie.toHex();else if(!/^\d*\.?\d*$/.test(nt))throw new Error('Invalid color "'+nt+'" passed to jsPDF.encodeColorString.')}if(typeof nt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(nt)&&(nt="#"+nt[1]+nt[1]+nt[2]+nt[2]+nt[3]+nt[3]),typeof nt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(nt)){var fe=parseInt(nt.substr(1),16);nt=fe>>16&255,dt=fe>>8&255,xt=255&fe}if(dt===void 0||kt===void 0&&nt===dt&&dt===xt)if(typeof nt=="string")I=nt+" "+Gt[0];else switch(_.precision){case 2:I=bt(nt/255)+" "+Gt[0];break;case 3:default:I=z(nt/255)+" "+Gt[0]}else if(kt===void 0||Ti(kt)==="object"){if(kt&&!isNaN(kt.a)&&kt.a===0)return I=["1.","1.","1.",Gt[1]].join(" ");if(typeof nt=="string")I=[nt,dt,xt,Gt[1]].join(" ");else switch(_.precision){case 2:I=[bt(nt/255),bt(dt/255),bt(xt/255),Gt[1]].join(" ");break;default:case 3:I=[z(nt/255),z(dt/255),z(xt/255),Gt[1]].join(" ")}}else if(typeof nt=="string")I=[nt,dt,xt,kt,Gt[2]].join(" ");else switch(_.precision){case 2:I=[bt(nt),bt(dt),bt(xt),bt(kt),Gt[2]].join(" ");break;case 3:default:I=[z(nt),z(dt),z(xt),z(kt),Gt[2]].join(" ")}return I},Bs=A.__private__.getFilters=function(){return o},Kn=A.__private__.putStream=function(_){var I=(_=_||{}).data||"",nt=_.filters||Bs(),dt=_.alreadyAppliedFilters||[],xt=_.addLength1||!1,kt=I.length,Gt=_.objectId,ie=function(cn){return cn};if(m!==null&&Gt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(ie=Bn.encryptor(Gt,0));var fe={};nt===!0&&(nt=["FlateEncode"]);var Ie=_.additionalKeyValues||[],De=(fe=Ne.API.processDataByFilters!==void 0?Ne.API.processDataByFilters(I,nt):{data:I,reverseChain:[]}).reverseChain+(Array.isArray(dt)?dt.join(" "):dt.toString());if(fe.data.length!==0&&(Ie.push({key:"Length",value:fe.data.length}),xt===!0&&Ie.push({key:"Length1",value:kt})),De.length!=0)if(De.split("/").length-1==1)Ie.push({key:"Filter",value:De});else{Ie.push({key:"Filter",value:"["+De+"]"});for(var ei=0;ei<Ie.length;ei+=1)if(Ie[ei].key==="DecodeParms"){for(var zi=[],Xi=0;Xi<fe.reverseChain.split("/").length-1;Xi+=1)zi.push("null");zi.push(Ie[ei].value),Ie[ei].value="["+zi.join(" ")+"]"}}lt("<<");for(var ln=0;ln<Ie.length;ln++)lt("/"+Ie[ln].key+" "+Ie[ln].value);lt(">>"),fe.data.length!==0&&(lt("stream"),lt(ie(fe.data)),lt("endstream"))},xi=A.__private__.putPage=function(_){var I=_.number,nt=_.data,dt=_.objId,xt=_.contentsObjId;ra(dt,!0),lt("<</Type /Page"),lt("/Parent "+_.rootDictionaryObjId+" 0 R"),lt("/Resources "+_.resourceDictionaryObjId+" 0 R"),lt("/MediaBox ["+parseFloat(J(_.mediaBox.bottomLeftX))+" "+parseFloat(J(_.mediaBox.bottomLeftY))+" "+J(_.mediaBox.topRightX)+" "+J(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&lt("/CropBox ["+J(_.cropBox.bottomLeftX)+" "+J(_.cropBox.bottomLeftY)+" "+J(_.cropBox.topRightX)+" "+J(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&lt("/BleedBox ["+J(_.bleedBox.bottomLeftX)+" "+J(_.bleedBox.bottomLeftY)+" "+J(_.bleedBox.topRightX)+" "+J(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&lt("/TrimBox ["+J(_.trimBox.bottomLeftX)+" "+J(_.trimBox.bottomLeftY)+" "+J(_.trimBox.topRightX)+" "+J(_.trimBox.topRightY)+"]"),_.artBox!==null&&lt("/ArtBox ["+J(_.artBox.bottomLeftX)+" "+J(_.artBox.bottomLeftY)+" "+J(_.artBox.topRightX)+" "+J(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&lt("/UserUnit "+_.userUnit),ui.publish("putPage",{objId:dt,pageContext:Oe[I],pageNumber:I,page:nt}),lt("/Contents "+xt+" 0 R"),lt(">>"),lt("endobj");var kt=nt.join(`
`);return P===R.ADVANCED&&(kt+=`
Q`),ra(xt,!0),Kn({data:kt,filters:Bs(),objectId:xt}),lt("endobj"),dt},Yo=A.__private__.putPages=function(){var _,I,nt=[];for(_=1;_<=$i;_++)Oe[_].objId=mn(),Oe[_].contentsObjId=mn();for(_=1;_<=$i;_++)nt.push(xi({number:_,data:Ht[_],objId:Oe[_].objId,contentsObjId:Oe[_].contentsObjId,mediaBox:Oe[_].mediaBox,cropBox:Oe[_].cropBox,bleedBox:Oe[_].bleedBox,trimBox:Oe[_].trimBox,artBox:Oe[_].artBox,userUnit:Oe[_].userUnit,rootDictionaryObjId:oa,resourceDictionaryObjId:la}));ra(oa,!0),lt("<</Type /Pages");var dt="/Kids [";for(I=0;I<$i;I++)dt+=nt[I]+" 0 R ";lt(dt+"]"),lt("/Count "+$i),lt(">>"),lt("endobj"),ui.publish("postPutPages")},ic=function(_){ui.publish("putFont",{font:_,out:lt,newObject:on,putStream:Kn}),_.isAlreadyPutted!==!0&&(_.objectNumber=on(),lt("<<"),lt("/Type /Font"),lt("/BaseFont /"+mg(_.postScriptName)),lt("/Subtype /Type1"),typeof _.encoding=="string"&&lt("/Encoding /"+_.encoding),lt("/FirstChar 32"),lt("/LastChar 255"),lt(">>"),lt("endobj"))},Ea=function(){for(var _ in si)si.hasOwnProperty(_)&&(y===!1||y===!0&&w.hasOwnProperty(_))&&ic(si[_])},Ha=function(_){_.objectNumber=on();var I=[];I.push({key:"Type",value:"/XObject"}),I.push({key:"Subtype",value:"/Form"}),I.push({key:"BBox",value:"["+[J(_.x),J(_.y),J(_.x+_.width),J(_.y+_.height)].join(" ")+"]"}),I.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var nt=_.pages[1].join(`
`);Kn({data:nt,additionalKeyValues:I,objectId:_.objectNumber}),lt("endobj")},Au=function(){for(var _ in _n)_n.hasOwnProperty(_)&&Ha(_n[_])},df=function(_,I){var nt,dt=[],xt=1/(I-1);for(nt=0;nt<1;nt+=xt)dt.push(nt);if(dt.push(1),_[0].offset!=0){var kt={offset:0,color:_[0].color};_.unshift(kt)}if(_[_.length-1].offset!=1){var Gt={offset:1,color:_[_.length-1].color};_.push(Gt)}for(var ie="",fe=0,Ie=0;Ie<dt.length;Ie++){for(nt=dt[Ie];nt>_[fe+1].offset;)fe++;var De=_[fe].offset,ei=(nt-De)/(_[fe+1].offset-De),zi=_[fe].color,Xi=_[fe+1].color;ie+=rt(Math.round((1-ei)*zi[0]+ei*Xi[0]).toString(16))+rt(Math.round((1-ei)*zi[1]+ei*Xi[1]).toString(16))+rt(Math.round((1-ei)*zi[2]+ei*Xi[2]).toString(16))}return ie.trim()},bp=function(_,I){I||(I=21);var nt=on(),dt=df(_.colors,I),xt=[];xt.push({key:"FunctionType",value:"0"}),xt.push({key:"Domain",value:"[0.0 1.0]"}),xt.push({key:"Size",value:"["+I+"]"}),xt.push({key:"BitsPerSample",value:"8"}),xt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Kn({data:dt,additionalKeyValues:xt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:nt}),lt("endobj"),_.objectNumber=on(),lt("<< /ShadingType "+_.type),lt("/ColorSpace /DeviceRGB");var kt="/Coords ["+J(parseFloat(_.coords[0]))+" "+J(parseFloat(_.coords[1]))+" ";_.type===2?kt+=J(parseFloat(_.coords[2]))+" "+J(parseFloat(_.coords[3])):kt+=J(parseFloat(_.coords[2]))+" "+J(parseFloat(_.coords[3]))+" "+J(parseFloat(_.coords[4]))+" "+J(parseFloat(_.coords[5])),lt(kt+="]"),_.matrix&&lt("/Matrix ["+_.matrix.toString()+"]"),lt("/Function "+nt+" 0 R"),lt("/Extend [true true]"),lt(">>"),lt("endobj")},P1=function(_,I){var nt=mn(),dt=on();I.push({resourcesOid:nt,objectOid:dt}),_.objectNumber=dt;var xt=[];xt.push({key:"Type",value:"/Pattern"}),xt.push({key:"PatternType",value:"1"}),xt.push({key:"PaintType",value:"1"}),xt.push({key:"TilingType",value:"1"}),xt.push({key:"BBox",value:"["+_.boundingBox.map(J).join(" ")+"]"}),xt.push({key:"XStep",value:J(_.xStep)}),xt.push({key:"YStep",value:J(_.yStep)}),xt.push({key:"Resources",value:nt+" 0 R"}),_.matrix&&xt.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Kn({data:_.stream,additionalKeyValues:xt,objectId:_.objectNumber}),lt("endobj")},to=function(_){var I;for(I in pi)pi.hasOwnProperty(I)&&(pi[I]instanceof td?bp(pi[I]):pi[I]instanceof bg&&P1(pi[I],_))},nc=function(_){for(var I in _.objectNumber=on(),lt("<<"),_)switch(I){case"opacity":lt("/ca "+bt(_[I]));break;case"stroke-opacity":lt("/CA "+bt(_[I]))}lt(">>"),lt("endobj")},Ga=function(){var _;for(_ in Vi)Vi.hasOwnProperty(_)&&nc(Vi[_])},sc=function(){for(var _ in lt("/XObject <<"),_n)_n.hasOwnProperty(_)&&_n[_].objectNumber>=0&&lt("/"+_+" "+_n[_].objectNumber+" 0 R");ui.publish("putXobjectDict"),lt(">>")},yp=function(){Bn.oid=on(),lt("<<"),lt("/Filter /Standard"),lt("/V "+Bn.v),lt("/R "+Bn.r),lt("/U <"+Bn.toHexString(Bn.U)+">"),lt("/O <"+Bn.toHexString(Bn.O)+">"),lt("/P "+Bn.P),lt(">>"),lt("endobj")},eo=function(){for(var _ in lt("/Font <<"),si)si.hasOwnProperty(_)&&(y===!1||y===!0&&w.hasOwnProperty(_))&&lt("/"+_+" "+si[_].objectNumber+" 0 R");lt(">>")},pf=function(){if(Object.keys(pi).length>0){for(var _ in lt("/Shading <<"),pi)pi.hasOwnProperty(_)&&pi[_]instanceof td&&pi[_].objectNumber>=0&&lt("/"+_+" "+pi[_].objectNumber+" 0 R");ui.publish("putShadingPatternDict"),lt(">>")}},Xo=function(_){if(Object.keys(pi).length>0){for(var I in lt("/Pattern <<"),pi)pi.hasOwnProperty(I)&&pi[I]instanceof A.TilingPattern&&pi[I].objectNumber>=0&&pi[I].objectNumber<_&&lt("/"+I+" "+pi[I].objectNumber+" 0 R");ui.publish("putTilingPatternDict"),lt(">>")}},I1=function(){if(Object.keys(Vi).length>0){var _;for(_ in lt("/ExtGState <<"),Vi)Vi.hasOwnProperty(_)&&Vi[_].objectNumber>=0&&lt("/"+_+" "+Vi[_].objectNumber+" 0 R");ui.publish("putGStateDict"),lt(">>")}},Qi=function(_){ra(_.resourcesOid,!0),lt("<<"),lt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),eo(),pf(),Xo(_.objectOid),I1(),sc(),lt(">>"),lt("endobj")},ys=function(){var _=[];Ea(),Ga(),Au(),to(_),ui.publish("putResources"),_.forEach(Qi),Qi({resourcesOid:la,objectOid:Number.MAX_SAFE_INTEGER}),ui.publish("postPutResources")},gf=function(){ui.publish("putAdditionalObjects");for(var _=0;_<Vt.length;_++){var I=Vt[_];ra(I.objId,!0),lt(I.content),lt("endobj")}ui.publish("postPutAdditionalObjects")},Ap=function(_){_i[_.fontName]=_i[_.fontName]||{},_i[_.fontName][_.fontStyle]=_.id},Wo=function(_,I,nt,dt,xt){var kt={id:"F"+(Object.keys(si).length+1).toString(10),postScriptName:_,fontName:I,fontStyle:nt,encoding:dt,isStandardFont:xt||!1,metadata:{}};return ui.publish("addFont",{font:kt,instance:this}),si[kt.id]=kt,Ap(kt),kt.id},wp=function(_){for(var I=0,nt=Yt.length;I<nt;I++){var dt=Wo.call(this,_[I][0],_[I][1],_[I][2],Yt[I][3],!0);y===!1&&(w[dt]=!0);var xt=_[I][0].split("-");Ap({id:dt,fontName:xt[0],fontStyle:xt[1]||""})}ui.publish("addFonts",{fonts:si,dictionary:_i})},js=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(dt){var I=dt.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var nt="Error in function "+I.split(`
`)[0].split("<")[0]+": "+dt.message;if(!Ce.console)throw new Error(nt);Ce.console.error(nt,dt),Ce.alert&&alert(nt)}},_.foo.bar=_,_.foo},wu=function(_,I){var nt,dt,xt,kt,Gt,ie,fe,Ie,De;if(xt=(I=I||{}).sourceEncoding||"Unicode",Gt=I.outputEncoding,(I.autoencode||Gt)&&si[Xe].metadata&&si[Xe].metadata[xt]&&si[Xe].metadata[xt].encoding&&(kt=si[Xe].metadata[xt].encoding,!Gt&&si[Xe].encoding&&(Gt=si[Xe].encoding),!Gt&&kt.codePages&&(Gt=kt.codePages[0]),typeof Gt=="string"&&(Gt=kt[Gt]),Gt)){for(fe=!1,ie=[],nt=0,dt=_.length;nt<dt;nt++)(Ie=Gt[_.charCodeAt(nt)])?ie.push(String.fromCharCode(Ie)):ie.push(_[nt]),ie[nt].charCodeAt(0)>>8&&(fe=!0);_=ie.join("")}for(nt=_.length;fe===void 0&&nt!==0;)_.charCodeAt(nt-1)>>8&&(fe=!0),nt--;if(!fe)return _;for(ie=I.noBOM?[]:[254,255],nt=0,dt=_.length;nt<dt;nt++){if((De=(Ie=_.charCodeAt(nt))>>8)>>8)throw new Error("Character at position "+nt+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ie.push(De),ie.push(Ie-(De<<8))}return String.fromCharCode.apply(void 0,ie)},Fi=A.__private__.pdfEscape=A.pdfEscape=function(_,I){return wu(_,I).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ac=A.__private__.beginPage=function(_){Ht[++$i]=[],Oe[$i]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},io($i),Pt(Ht[H])},mf=function(_,I){var nt,dt,xt;switch(e=I||e,typeof _=="string"&&(nt=L(_.toLowerCase()),Array.isArray(nt)&&(dt=nt[0],xt=nt[1])),Array.isArray(_)&&(dt=_[0]*ne,xt=_[1]*ne),isNaN(dt)&&(dt=a[0],xt=a[1]),(dt>14400||xt>14400)&&(ji.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),dt=Math.min(14400,dt),xt=Math.min(14400,xt)),a=[dt,xt],e.substr(0,1)){case"l":xt>dt&&(a=[xt,dt]);break;case"p":dt>xt&&(a=[xt,dt])}ac(a),Lp(Zo),lt(Va),_f!==0&&lt(_f+" J"),Tu!==0&&lt(Tu+" j"),ui.publish("addPage",{pageNumber:$i})},vf=function(_){_>0&&_<=$i&&(Ht.splice(_,1),Oe.splice(_,1),$i--,H>$i&&(H=$i),this.setPage(H))},io=function(_){_>0&&_<=$i&&(H=_)},Sp=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return Ht.length-1},bf=function(_,I,nt){var dt,xt=void 0;return nt=nt||{},_=_!==void 0?_:si[Xe].fontName,I=I!==void 0?I:si[Xe].fontStyle,dt=_.toLowerCase(),_i[dt]!==void 0&&_i[dt][I]!==void 0?xt=_i[dt][I]:_i[_]!==void 0&&_i[_][I]!==void 0?xt=_i[_][I]:nt.disableWarning===!1&&ji.warn("Unable to look up font label for font '"+_+"', '"+I+"'. Refer to getFontList() for available fonts."),xt||nt.noFallback||(xt=_i.times[I])==null&&(xt=_i.times.normal),xt},Ko=A.__private__.putInfo=function(){var _=on(),I=function(dt){return dt};for(var nt in m!==null&&(I=Bn.encryptor(_,0)),lt("<<"),lt("/Producer ("+Fi(I("jsPDF "+Ne.version))+")"),he)he.hasOwnProperty(nt)&&he[nt]&&lt("/"+nt.substr(0,1).toUpperCase()+nt.substr(1)+" ("+Fi(I(he[nt]))+")");lt("/CreationDate ("+Fi(I(Et))+")"),lt(">>"),lt("endobj")},yf=A.__private__.putCatalog=function(_){var I=(_=_||{}).rootDictionaryObjId||oa;switch(on(),lt("<<"),lt("/Type /Catalog"),lt("/Pages "+I+" 0 R"),Jt||(Jt="fullwidth"),Jt){case"fullwidth":lt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":lt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":lt("/OpenAction [3 0 R /Fit]");break;case"original":lt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var nt=""+Jt;nt.substr(nt.length-1)==="%"&&(Jt=parseInt(Jt)/100),typeof Jt=="number"&&lt("/OpenAction [3 0 R /XYZ null null "+bt(Jt)+"]")}switch(Fe||(Fe="continuous"),Fe){case"continuous":lt("/PageLayout /OneColumn");break;case"single":lt("/PageLayout /SinglePage");break;case"two":case"twoleft":lt("/PageLayout /TwoColumnLeft");break;case"tworight":lt("/PageLayout /TwoColumnRight")}ke&&lt("/PageMode /"+ke),ui.publish("putCatalog"),lt(">>"),lt("endobj")},_p=A.__private__.putTrailer=function(){lt("trailer"),lt("<<"),lt("/Size "+(at+1)),lt("/Root "+at+" 0 R"),lt("/Info "+(at-1)+" 0 R"),m!==null&&lt("/Encrypt "+Bn.oid+" 0 R"),lt("/ID [ <"+U+"> <"+U+"> ]"),lt(">>")},xp=A.__private__.putHeader=function(){lt("%PDF-"+N),lt("%ºß¬à")},Af=A.__private__.putXRef=function(){var _="0000000000";lt("xref"),lt("0 "+(at+1)),lt("0000000000 65535 f ");for(var I=1;I<=at;I++)typeof mt[I]=="function"?lt((_+mt[I]()).slice(-10)+" 00000 n "):mt[I]!==void 0?lt((_+mt[I]).slice(-10)+" 00000 n "):lt("0000000000 00000 n ")},no=A.__private__.buildDocument=function(){ve(),Pt(St),ui.publish("buildDocument"),xp(),Yo(),gf(),ys(),m!==null&&yp(),Ko(),yf();var _=Ct;return Af(),_p(),lt("startxref"),lt(""+_),lt("%%EOF"),Pt(Ht[H]),St.join(`
`)},Su=A.__private__.getBlob=function(_){return new Blob([ue(_)],{type:"application/pdf"})},so=A.output=A.__private__.output=js(function(_,I){switch(typeof(I=I||{})=="string"?I={filename:I}:I.filename=I.filename||"generated.pdf",_){case void 0:return no();case"save":A.save(I.filename);break;case"arraybuffer":return ue(no());case"blob":return Su(no());case"bloburi":case"bloburl":if(Ce.URL!==void 0&&typeof Ce.URL.createObjectURL=="function")return Ce.URL&&Ce.URL.createObjectURL(Su(no()))||void 0;ji.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var nt="",dt=no();try{nt=Sw(dt)}catch{nt=Sw(unescape(encodeURIComponent(dt)))}return"data:application/pdf;filename="+I.filename+";base64,"+nt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ce)==="[object Window]"){var xt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",kt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';I.pdfObjectUrl&&(xt=I.pdfObjectUrl,kt="");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xt+'"'+kt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(I)+");<\/script></body></html>",ie=Ce.open();return ie!==null&&ie.document.write(Gt),ie}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ce)==="[object Window]"){var fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(I.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+I.filename+'" width="500px" height="400px" /></body></html>',Ie=Ce.open();if(Ie!==null){Ie.document.write(fe);var De=this;Ie.document.documentElement.querySelector("#pdfViewer").onload=function(){Ie.document.title=I.filename,Ie.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(De.output("bloburl"))}}return Ie}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ce)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ei='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",I)+'"></iframe></body></html>',zi=Ce.open();if(zi!==null&&(zi.document.write(ei),zi.document.title=I.filename),zi||typeof safari>"u")return zi;break;case"datauri":case"dataurl":return Ce.document.location.href=this.output("datauristring",I);default:return null}}),_u=function(_){return Array.isArray(Jr)===!0&&Jr.indexOf(_)>-1};switch(i){case"pt":ne=1;break;case"mm":ne=72/25.4;break;case"cm":ne=72/2.54;break;case"in":ne=72;break;case"px":ne=_u("px_scaling")==1?.75:96/72;break;case"pc":case"em":ne=12;break;case"ex":ne=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);ne=i}var Bn=null;ft(),ht();var $o=function(_){return m!==null?Bn.encryptor(_,0):function(I){return I}},ao=A.__private__.getPageInfo=A.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Oe[_].objId,pageNumber:_,pageContext:Oe[_]}},Te=A.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var I in Oe)if(Oe[I].objId===_)break;return ao(I)},wf=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:Oe[H].objId,pageNumber:H,pageContext:Oe[H]}};A.addPage=function(){return mf.apply(this,arguments),this},A.setPage=function(){return io.apply(this,arguments),Pt.call(this,Ht[H]),this},A.insertPage=function(_){return this.addPage(),this.movePage(H,_),this},A.movePage=function(_,I){var nt,dt;if(_>I){nt=Ht[_],dt=Oe[_];for(var xt=_;xt>I;xt--)Ht[xt]=Ht[xt-1],Oe[xt]=Oe[xt-1];Ht[I]=nt,Oe[I]=dt,this.setPage(I)}else if(_<I){nt=Ht[_],dt=Oe[_];for(var kt=_;kt<I;kt++)Ht[kt]=Ht[kt+1],Oe[kt]=Oe[kt+1];Ht[I]=nt,Oe[I]=dt,this.setPage(I)}return this},A.deletePage=function(){return vf.apply(this,arguments),this},A.__private__.text=A.text=function(_,I,nt,dt,xt){var kt,Gt,ie,fe,Ie,De,ei,zi,Xi,ln=(dt=dt||{}).scope||this;if(typeof _=="number"&&typeof I=="number"&&(typeof nt=="string"||Array.isArray(nt))){var cn=nt;nt=I,I=_,_=cn}if(arguments[3]instanceof de?(Z("The transform parameter of text() with a Matrix value"),Xi=xt):(ie=arguments[4],fe=arguments[5],Ti(ei=arguments[3])==="object"&&ei!==null||(typeof ie=="string"&&(fe=ie,ie=null),typeof ei=="string"&&(fe=ei,ei=null),typeof ei=="number"&&(ie=ei,ei=null),dt={flags:ei,angle:ie,align:fe})),isNaN(I)||isNaN(nt)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return ln;var jn="",Ya=!1,ha=typeof dt.lineHeightFactor=="number"?dt.lineHeightFactor:ca,Xa=ln.internal.scaleFactor;function Lf(We){return We=We.split("	").join(Array(dt.TabLen||9).join(" ")),Fi(We,ei)}function oo(We){for(var Ke,Ri=We.concat(),un=[],Ta=Ri.length;Ta--;)typeof(Ke=Ri.shift())=="string"?un.push(Ke):Array.isArray(We)&&(Ke.length===1||Ke[1]===void 0&&Ke[2]===void 0)?un.push(Ke[0]):un.push([Ke[0],Ke[1],Ke[2]]);return un}function lo(We,Ke){var Ri;if(typeof We=="string")Ri=Ke(We)[0];else if(Array.isArray(We)){for(var un,Ta,hl=We.concat(),fl=[],ho=hl.length;ho--;)typeof(un=hl.shift())=="string"?fl.push(Ke(un)[0]):Array.isArray(un)&&typeof un[0]=="string"&&(Ta=Ke(un[0],un[1],un[2]),fl.push([Ta[0],Ta[1],Ta[2]]));Ri=fl}return Ri}var ku=!1,il=!0;if(typeof _=="string")ku=!0;else if(Array.isArray(_)){var Pu=_.concat();Gt=[];for(var cc,En=Pu.length;En--;)(typeof(cc=Pu.shift())!="string"||Array.isArray(cc)&&typeof cc[0]!="string")&&(il=!1);ku=il}if(ku===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var nl=Qt/ln.internal.scaleFactor,uc=nl*(ha-1);switch(dt.baseline){case"bottom":nt-=uc;break;case"top":nt+=nl-uc;break;case"hanging":nt+=nl-2*uc;break;case"middle":nt+=nl/2-uc}if((De=dt.maxWidth||0)>0&&(typeof _=="string"?_=ln.splitTextToSize(_,De):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(We,Ke){return We.concat(ln.splitTextToSize(Ke,De))},[]))),kt={text:_,x:I,y:nt,options:dt,mutex:{pdfEscape:Fi,activeFontKey:Xe,fonts:si,activeFontSize:Qt}},ui.publish("preProcessText",kt),_=kt.text,ie=(dt=kt.options).angle,!(Xi instanceof de)&&ie&&typeof ie=="number"){ie*=Math.PI/180,dt.rotationDirection===0&&(ie=-ie),P===R.ADVANCED&&(ie=-ie);var hc=Math.cos(ie),Iu=Math.sin(ie);Xi=new de(hc,Iu,-Iu,hc,0,0)}else ie&&ie instanceof de&&(Xi=ie);P!==R.ADVANCED||Xi||(Xi=Yi),(Ie=dt.charSpace||Cu)!==void 0&&(jn+=J(K(Ie))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zi=dt.horizontalScale)!==void 0&&(jn+=J(100*zi)+` Tz
`),dt.lang;var qs=-1,q1=dt.renderingMode!==void 0?dt.renderingMode:dt.stroke,Cf=ln.internal.getCurrentPageInfo().pageContext;switch(q1){case 0:case!1:case"fill":qs=0;break;case 1:case!0:case"stroke":qs=1;break;case 2:case"fillThenStroke":qs=2;break;case 3:case"invisible":qs=3;break;case 4:case"fillAndAddForClipping":qs=4;break;case 5:case"strokeAndAddPathForClipping":qs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":qs=6;break;case 7:case"addToPathForClipping":qs=7}var Tp=Cf.usedRenderingMode!==void 0?Cf.usedRenderingMode:-1;qs!==-1?jn+=qs+` Tr
`:Tp!==-1&&(jn+=`0 Tr
`),qs!==-1&&(Cf.usedRenderingMode=qs),fe=dt.align||"left";var Ca,zn=Qt*ha,sl=ln.internal.pageSize.getWidth(),Tf=si[Xe];Ie=dt.charSpace||Cu,De=dt.maxWidth||0,ei=Object.assign({autoencode:!0,noBOM:!0},dt.flags);var co=[],al=function(We){return ln.getStringUnitWidth(We,{font:Tf,charSpace:Ie,fontSize:Qt,doKerning:!1})*Qt/Xa};if(Object.prototype.toString.call(_)==="[object Array]"){var As;Gt=oo(_),fe!=="left"&&(Ca=Gt.map(al));var $n,rl=0;if(fe==="right"){I-=Ca[0],_=[],En=Gt.length;for(var Us=0;Us<En;Us++)Us===0?($n=ua(I),As=Tr(nt)):($n=K(rl-Ca[Us]),As=-zn),_.push([Gt[Us],$n,As]),rl=Ca[Us]}else if(fe==="center"){I-=Ca[0]/2,_=[],En=Gt.length;for(var Wa=0;Wa<En;Wa++)Wa===0?($n=ua(I),As=Tr(nt)):($n=K((rl-Ca[Wa])/2),As=-zn),_.push([Gt[Wa],$n,As]),rl=Ca[Wa]}else if(fe==="left"){_=[],En=Gt.length;for(var Mr=0;Mr<En;Mr++)_.push(Gt[Mr])}else if(fe==="justify"&&Tf.encoding==="Identity-H"){_=[],En=Gt.length,De=De!==0?De:sl;for(var Ka=0,Zi=0;Zi<En;Zi++)if(As=Zi===0?Tr(nt):-zn,$n=Zi===0?ua(I):Ka,Zi<En-1){var $a=K((De-Ca[Zi])/(Gt[Zi].split(" ").length-1)),vn=Gt[Zi].split(" ");_.push([vn[0]+" ",$n,As]),Ka=0;for(var Hs=1;Hs<vn.length;Hs++){var fc=(al(vn[Hs-1]+" "+vn[Hs])-al(vn[Hs]))*Xa+$a;Hs==vn.length-1?_.push([vn[Hs],fc,0]):_.push([vn[Hs]+" ",fc,0]),Ka-=fc}}else _.push([Gt[Zi],$n,As]);_.push(["",Ka,0])}else{if(fe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],En=Gt.length,De=De!==0?De:sl,Zi=0;Zi<En;Zi++)As=Zi===0?Tr(nt):-zn,$n=Zi===0?ua(I):0,Zi<En-1?co.push(J(K((De-Ca[Zi])/(Gt[Zi].split(" ").length-1)))):co.push(0),_.push([Gt[Zi],$n,As])}}var Rr=typeof dt.R2L=="boolean"?dt.R2L:ge;Rr===!0&&(_=lo(_,function(We,Ke,Ri){return[We.split("").reverse().join(""),Ke,Ri]})),kt={text:_,x:I,y:nt,options:dt,mutex:{pdfEscape:Fi,activeFontKey:Xe,fonts:si,activeFontSize:Qt}},ui.publish("postProcessText",kt),_=kt.text,Ya=kt.mutex.isHex||!1;var Fu=si[Xe].encoding;Fu!=="WinAnsiEncoding"&&Fu!=="StandardEncoding"||(_=lo(_,function(We,Ke,Ri){return[Lf(We),Ke,Ri]})),Gt=oo(_),_=[];for(var ol,ll,cl,dc=0,Bu=1,ul=Array.isArray(Gt[0])?Bu:dc,uo="",pc=function(We,Ke,Ri){var un="";return Ri instanceof de?(Ri=typeof dt.angle=="number"?Mi(Ri,new de(1,0,0,1,We,Ke)):Mi(new de(1,0,0,1,We,Ke),Ri),P===R.ADVANCED&&(Ri=Mi(new de(1,0,0,-1,0,0),Ri)),un=Ri.join(" ")+` Tm
`):un=J(We)+" "+J(Ke)+` Td
`,un},Ji=0;Ji<Gt.length;Ji++){switch(uo="",ul){case Bu:cl=(Ya?"<":"(")+Gt[Ji][0]+(Ya?">":")"),ol=parseFloat(Gt[Ji][1]),ll=parseFloat(Gt[Ji][2]);break;case dc:cl=(Ya?"<":"(")+Gt[Ji]+(Ya?">":")"),ol=ua(I),ll=Tr(nt)}co!==void 0&&co[Ji]!==void 0&&(uo=co[Ji]+` Tw
`),Ji===0?_.push(uo+pc(ol,ll,Xi)+cl):ul===dc?_.push(uo+cl):ul===Bu&&_.push(uo+pc(ol,ll,Xi)+cl)}_=ul===dc?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var fa=`BT
/`;return fa+=Xe+" "+Qt+` Tf
`,fa+=J(Qt*ha)+` TL
`,fa+=oc+`
`,fa+=jn,fa+=_,lt(fa+="ET"),w[Xe]=!0,ln};var Ep=A.__private__.clip=A.clip=function(_){return lt(_==="evenodd"?"W*":"W"),this};A.clipEvenOdd=function(){return Ep("evenodd")},A.__private__.discardPath=A.discardPath=function(){return lt("n"),this};var zs=A.__private__.isValidStyle=function(_){var I=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(I=!0),I};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(_){return zs(_)&&(p=_),this};var Na=A.__private__.getStyle=A.getStyle=function(_){var I=p;switch(_){case"D":case"S":I="S";break;case"F":I="f";break;case"FD":case"DF":I="B";break;case"f":case"f*":case"B":case"B*":I=_}return I},xu=A.close=function(){return lt("h"),this};A.stroke=function(){return lt("S"),this},A.fill=function(_){return Nr("f",_),this},A.fillEvenOdd=function(_){return Nr("f*",_),this},A.fillStroke=function(_){return Nr("B",_),this},A.fillStrokeEvenOdd=function(_){return Nr("B*",_),this};var Nr=function(_,I){Ti(I)==="object"?Eu(I,_):lt(_)},La=function(_){_===null||P===R.ADVANCED&&_===void 0||(_=Na(_),lt(_))};function Sf(_,I,nt,dt,xt){var kt=new bg(I||this.boundingBox,nt||this.xStep,dt||this.yStep,this.gState,xt||this.matrix);kt.stream=this.stream;var Gt=_+"$$"+this.cloneIndex+++"$$";return xn(Gt,kt),kt}var Eu=function(_,I){var nt=Vo[_.key],dt=pi[nt];if(dt instanceof td)lt("q"),lt(Np(I)),dt.gState&&A.setGState(dt.gState),lt(_.matrix.toString()+" cm"),lt("/"+nt+" sh"),lt("Q");else if(dt instanceof bg){var xt=new de(1,0,0,-1,0,el());_.matrix&&(xt=xt.multiply(_.matrix||Yi),nt=Sf.call(dt,_.key,_.boundingBox,_.xStep,_.yStep,xt).id),lt("q"),lt("/Pattern cs"),lt("/"+nt+" scn"),dt.gState&&A.setGState(dt.gState),lt(I),lt("Q")}},Np=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Qo=A.moveTo=function(_,I){return lt(J(K(_))+" "+J(st(I))+" m"),this},Lr=A.lineTo=function(_,I){return lt(J(K(_))+" "+J(st(I))+" l"),this},ro=A.curveTo=function(_,I,nt,dt,xt,kt){return lt([J(K(_)),J(st(I)),J(K(nt)),J(st(dt)),J(K(xt)),J(st(kt)),"c"].join(" ")),this};A.__private__.line=A.line=function(_,I,nt,dt,xt){if(isNaN(_)||isNaN(I)||isNaN(nt)||isNaN(dt)||!zs(xt))throw new Error("Invalid arguments passed to jsPDF.line");return P===R.COMPAT?this.lines([[nt-_,dt-I]],_,I,[1,1],xt||"S"):this.lines([[nt-_,dt-I]],_,I,[1,1]).stroke()},A.__private__.lines=A.lines=function(_,I,nt,dt,xt,kt){var Gt,ie,fe,Ie,De,ei,zi,Xi,ln,cn,jn,Ya;if(typeof _=="number"&&(Ya=nt,nt=I,I=_,_=Ya),dt=dt||[1,1],kt=kt||!1,isNaN(I)||isNaN(nt)||!Array.isArray(_)||!Array.isArray(dt)||!zs(xt)||typeof kt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Qo(I,nt),Gt=dt[0],ie=dt[1],Ie=_.length,cn=I,jn=nt,fe=0;fe<Ie;fe++)(De=_[fe]).length===2?(cn=De[0]*Gt+cn,jn=De[1]*ie+jn,Lr(cn,jn)):(ei=De[0]*Gt+cn,zi=De[1]*ie+jn,Xi=De[2]*Gt+cn,ln=De[3]*ie+jn,cn=De[4]*Gt+cn,jn=De[5]*ie+jn,ro(ei,zi,Xi,ln,cn,jn));return kt&&xu(),La(xt),this},A.path=function(_){for(var I=0;I<_.length;I++){var nt=_[I],dt=nt.c;switch(nt.op){case"m":Qo(dt[0],dt[1]);break;case"l":Lr(dt[0],dt[1]);break;case"c":ro.apply(this,dt);break;case"h":xu()}}return this},A.__private__.rect=A.rect=function(_,I,nt,dt,xt){if(isNaN(_)||isNaN(I)||isNaN(nt)||isNaN(dt)||!zs(xt))throw new Error("Invalid arguments passed to jsPDF.rect");return P===R.COMPAT&&(dt=-dt),lt([J(K(_)),J(st(I)),J(K(nt)),J(K(dt)),"re"].join(" ")),La(xt),this},A.__private__.triangle=A.triangle=function(_,I,nt,dt,xt,kt,Gt){if(isNaN(_)||isNaN(I)||isNaN(nt)||isNaN(dt)||isNaN(xt)||isNaN(kt)||!zs(Gt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[nt-_,dt-I],[xt-nt,kt-dt],[_-xt,I-kt]],_,I,[1,1],Gt,!0),this},A.__private__.roundedRect=A.roundedRect=function(_,I,nt,dt,xt,kt,Gt){if(isNaN(_)||isNaN(I)||isNaN(nt)||isNaN(dt)||isNaN(xt)||isNaN(kt)||!zs(Gt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ie=4/3*(Math.SQRT2-1);return xt=Math.min(xt,.5*nt),kt=Math.min(kt,.5*dt),this.lines([[nt-2*xt,0],[xt*ie,0,xt,kt-kt*ie,xt,kt],[0,dt-2*kt],[0,kt*ie,-xt*ie,kt,-xt,kt],[2*xt-nt,0],[-xt*ie,0,-xt,-kt*ie,-xt,-kt],[0,2*kt-dt],[0,-kt*ie,xt*ie,-kt,xt,-kt]],_+xt,I,[1,1],Gt,!0),this},A.__private__.ellipse=A.ellipse=function(_,I,nt,dt,xt){if(isNaN(_)||isNaN(I)||isNaN(nt)||isNaN(dt)||!zs(xt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var kt=4/3*(Math.SQRT2-1)*nt,Gt=4/3*(Math.SQRT2-1)*dt;return Qo(_+nt,I),ro(_+nt,I-Gt,_+kt,I-dt,_,I-dt),ro(_-kt,I-dt,_-nt,I-Gt,_-nt,I),ro(_-nt,I+Gt,_-kt,I+dt,_,I+dt),ro(_+kt,I+dt,_+nt,I+Gt,_+nt,I),La(xt),this},A.__private__.circle=A.circle=function(_,I,nt,dt){if(isNaN(_)||isNaN(I)||isNaN(nt)||!zs(dt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,I,nt,nt,dt)},A.setFont=function(_,I,nt){return nt&&(I=it(I,nt)),Xe=bf(_,I,{disableWarning:!1}),this};var rs=A.__private__.getFont=A.getFont=function(){return si[bf.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var _,I,nt={};for(_ in _i)if(_i.hasOwnProperty(_))for(I in nt[_]=[],_i[_])_i[_].hasOwnProperty(I)&&nt[_].push(I);return nt},A.addFont=function(_,I,nt,dt,xt){var kt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&kt.indexOf(arguments[3])!==-1?xt=arguments[3]:arguments[3]&&kt.indexOf(arguments[3])==-1&&(nt=it(nt,dt)),xt=xt||"Identity-H",Wo.call(this,_,I,nt,xt)};var ca,Zo=c.lineWidth||.200025,Cr=A.__private__.getLineWidth=A.getLineWidth=function(){return Zo},Lp=A.__private__.setLineWidth=A.setLineWidth=function(_){return Zo=_,lt(J(K(_))+" w"),this};A.__private__.setLineDash=Ne.API.setLineDash=Ne.API.setLineDashPattern=function(_,I){if(_=_||[],I=I||0,isNaN(I)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(nt){return J(K(nt))}).join(" "),I=J(K(I)),lt("["+_+"] "+I+" d"),this};var Nu=A.__private__.getLineHeight=A.getLineHeight=function(){return Qt*ca};A.__private__.getLineHeight=A.getLineHeight=function(){return Qt*ca};var Lu=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(ca=_),this},Jo=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return ca};Lu(c.lineHeight);var ua=A.__private__.getHorizontalCoordinate=function(_){return K(_)},Tr=A.__private__.getVerticalCoordinate=function(_){return P===R.ADVANCED?_:Oe[H].mediaBox.topRightY-Oe[H].mediaBox.bottomLeftY-K(_)},F1=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(_){return J(ua(_))},tl=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(_){return J(Tr(_))},Va=c.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return ss(Va)},A.__private__.setStrokeColor=A.setDrawColor=function(_,I,nt,dt){return Va=as({ch1:_,ch2:I,ch3:nt,ch4:dt,pdfColorType:"draw",precision:2}),lt(Va),this};var rc=c.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return ss(rc)},A.__private__.setFillColor=A.setFillColor=function(_,I,nt,dt){return rc=as({ch1:_,ch2:I,ch3:nt,ch4:dt,pdfColorType:"fill",precision:2}),lt(rc),this};var oc=c.textColor||"0 g",B1=A.__private__.getTextColor=A.getTextColor=function(){return ss(oc)};A.__private__.setTextColor=A.setTextColor=function(_,I,nt,dt){return oc=as({ch1:_,ch2:I,ch3:nt,ch4:dt,pdfColorType:"text",precision:3}),this};var Cu=c.charSpace,j1=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(Cu||0)};A.__private__.setCharSpace=A.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cu=_,this};var _f=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(_){var I=A.CapJoinStyles[_];if(I===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _f=I,lt(I+" J"),this};var Tu=0;A.__private__.setLineJoin=A.setLineJoin=function(_){var I=A.CapJoinStyles[_];if(I===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tu=I,lt(I+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return lt(J(K(_))+" M"),this},A.GState=Yv,A.setGState=function(_){(_=typeof _=="string"?Vi[sa[_]]:Cp(null,_)).equals(aa)||(lt("/"+_.id+" gs"),aa=_)};var Cp=function(_,I){if(!_||!sa[_]){var nt=!1;for(var dt in Vi)if(Vi.hasOwnProperty(dt)&&Vi[dt].equals(I)){nt=!0;break}if(nt)I=Vi[dt];else{var xt="GS"+(Object.keys(Vi).length+1).toString(10);Vi[xt]=I,I.id=xt}return _&&(sa[_]=I.id),ui.publish("addGState",I),I}};A.addGState=function(_,I){return Cp(_,I),this},A.saveGraphicsState=function(){return lt("q"),Fs.push({key:Xe,size:Qt,color:oc}),this},A.restoreGraphicsState=function(){lt("Q");var _=Fs.pop();return Xe=_.key,Qt=_.size,oc=_.color,aa=null,this},A.setCurrentTransformationMatrix=function(_){return lt(_.toString()+" cm"),this},A.comment=function(_){return lt("#"+_),this};var Mu=function(_,I){var nt=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return nt},set:function(kt){isNaN(kt)||(nt=parseFloat(kt))}});var dt=I||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return dt},set:function(kt){isNaN(kt)||(dt=parseFloat(kt))}});var xt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xt},set:function(kt){xt=kt.toString()}}),this},xf=function(_,I,nt,dt){Mu.call(this,_,I),this.type="rect";var xt=nt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xt},set:function(Gt){isNaN(Gt)||(xt=parseFloat(Gt))}});var kt=dt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return kt},set:function(Gt){isNaN(Gt)||(kt=parseFloat(Gt))}}),this},Ef=function(){this.page=$i,this.currentPage=H,this.pages=Ht.slice(0),this.pagesContext=Oe.slice(0),this.x=ns,this.y=ti,this.matrix=Is,this.width=lc(H),this.height=el(H),this.outputDestination=Kt,this.id="",this.objectNumber=-1};Ef.prototype.restore=function(){$i=this.page,H=this.currentPage,Oe=this.pagesContext,Ht=this.pages,ns=this.x,ti=this.y,Is=this.matrix,Du(H,this.width),Nf(H,this.height),Kt=this.outputDestination};var Ru=function(_,I,nt,dt,xt){Er.push(new Ef),$i=H=0,Ht=[],ns=_,ti=I,Is=xt,ac([nt,dt])},z1=function(_){if(Ua[_])Er.pop().restore();else{var I=new Ef,nt="Xo"+(Object.keys(_n).length+1).toString(10);I.id=nt,Ua[_]=nt,_n[nt]=I,ui.publish("addFormObject",I),Er.pop().restore()}};for(var Ou in A.beginFormObject=function(_,I,nt,dt,xt){return Ru(_,I,nt,dt,xt),this},A.endFormObject=function(_){return z1(_),this},A.doFormObject=function(_,I){var nt=_n[Ua[_]];return lt("q"),lt(I.toString()+" cm"),lt("/"+nt.id+" Do"),lt("Q"),this},A.getFormObject=function(_){var I=_n[Ua[_]];return{x:I.x,y:I.y,width:I.width,height:I.height,matrix:I.matrix}},A.save=function(_,I){return _=_||"generated.pdf",(I=I||{}).returnPromise=I.returnPromise||!1,I.returnPromise===!1?(Jf(Su(no()),_),typeof Jf.unload=="function"&&Ce.setTimeout&&setTimeout(Jf.unload,911),this):new Promise(function(nt,dt){try{var xt=Jf(Su(no()),_);typeof Jf.unload=="function"&&Ce.setTimeout&&setTimeout(Jf.unload,911),nt(xt)}catch(kt){dt(kt.message)}})},Ne.API)Ne.API.hasOwnProperty(Ou)&&(Ou==="events"&&Ne.API.events.length?function(_,I){var nt,dt,xt;for(xt=I.length-1;xt!==-1;xt--)nt=I[xt][0],dt=I[xt][1],_.subscribe.apply(_,[nt].concat(typeof dt=="function"?[dt]:dt))}(ui,Ne.API.events):A[Ou]=Ne.API[Ou]);var lc=A.getPageWidth=function(_){return(Oe[_=_||H].mediaBox.topRightX-Oe[_].mediaBox.bottomLeftX)/ne},Du=A.setPageWidth=function(_,I){Oe[_].mediaBox.topRightX=I*ne+Oe[_].mediaBox.bottomLeftX},el=A.getPageHeight=function(_){return(Oe[_=_||H].mediaBox.topRightY-Oe[_].mediaBox.bottomLeftY)/ne},Nf=A.setPageHeight=function(_,I){Oe[_].mediaBox.topRightY=I*ne+Oe[_].mediaBox.bottomLeftY};return A.internal={pdfEscape:Fi,getStyle:Na,getFont:rs,getFontSize:te,getCharSpace:j1,getTextColor:B1,getLineHeight:Nu,getLineHeightFactor:Jo,getLineWidth:Cr,write:we,getHorizontalCoordinate:ua,getVerticalCoordinate:Tr,getCoordinateString:F1,getVerticalCoordinateString:tl,collections:{},newObject:on,newAdditionalObject:ec,newObjectDeferred:mn,newObjectDeferredBegin:ra,getFilters:Bs,putStream:Kn,events:ui,scaleFactor:ne,pageSize:{getWidth:function(){return lc(H)},setWidth:function(_){Du(H,_)},getHeight:function(){return el(H)},setHeight:function(_){Nf(H,_)}},encryptionOptions:m,encryption:Bn,getEncryptor:$o,output:so,getNumberOfPages:Sp,pages:Ht,out:lt,f2:bt,f3:z,getPageInfo:ao,getPageInfoByObjId:Te,getCurrentPageInfo:wf,getPDFVersion:E,Point:Mu,Rectangle:xf,Matrix:de,hasHotfix:_u},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return lc(H)},set:function(_){Du(H,_)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return el(H)},set:function(_){Nf(H,_)},enumerable:!0,configurable:!0}),wp.call(A,Yt),Xe="F1",mf(a,e),ui.publish("initialized"),A}gg.prototype.lsbFirstWord=function(c){return String.fromCharCode(c>>0&255,c>>8&255,c>>16&255,c>>24&255)},gg.prototype.toHexString=function(c){return c.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},gg.prototype.hexToBytes=function(c){for(var t=[],e=0;e<c.length;e+=2)t.push(String.fromCharCode(parseInt(c.substr(e,2),16)));return t.join("")},gg.prototype.processOwnerPassword=function(c,t){return xw(_w(t).substr(0,5),c)},gg.prototype.encryptor=function(c,t){var e=_w(this.encryptionKey+String.fromCharCode(255&c,c>>8&255,c>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return xw(e,i)}},Yv.prototype.equals=function(c){var t,e="id,objectNumber,equals";if(!c||Ti(c)!==Ti(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!c.hasOwnProperty(t)||this[t]!==c[t])return!1;i++}for(t in c)c.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},Ne.API={events:[]},Ne.version="3.0.1";var Sn=Ne.API,Uw=1,vp=function(c){return c.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ag=function(c){return c.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Be=function(c){return c.toFixed(2)},hh=function(c){return c.toFixed(5)};Sn.__acroform__={};var qa=function(c,t){c.prototype=Object.create(t.prototype),c.prototype.constructor=c},Q_=function(c){return c*Uw},Cl=function(c){var t=new GE,e=ce.internal.getHeight(c)||0,i=ce.internal.getWidth(c)||0;return t.BBox=[0,0,Number(Be(i)),Number(Be(e))],t},wT=Sn.__acroform__.setBit=function(c,t){if(c=c||0,t=t||0,isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return c|=1<<t},ST=Sn.__acroform__.clearBit=function(c,t){if(c=c||0,t=t||0,isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return c&=~(1<<t)},_T=Sn.__acroform__.getBit=function(c,t){if(isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(c&1<<t)==0?0:1},kn=Sn.__acroform__.getBitForPdf=function(c,t){if(isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _T(c,t-1)},Pn=Sn.__acroform__.setBitForPdf=function(c,t){if(isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return wT(c,t-1)},In=Sn.__acroform__.clearBitForPdf=function(c,t){if(isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ST(c,t-1)},xT=Sn.__acroform__.calculateCoordinates=function(c,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,a=c[0],r=c[1],o=c[2],u=c[3],h={};return h.lowerLeft_X=e(a)||0,h.lowerLeft_Y=i(r+u)||0,h.upperRight_X=e(a+o)||0,h.upperRight_Y=i(r)||0,[Number(Be(h.lowerLeft_X)),Number(Be(h.lowerLeft_Y)),Number(Be(h.upperRight_X)),Number(Be(h.upperRight_Y))]},ET=function(c){if(c.appearanceStreamContent)return c.appearanceStreamContent;if(c.V||c.DV){var t=[],e=c._V||c.DV,i=Ew(c,e),a=c.scope.internal.getFont(c.fontName,c.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(c.scope.__private__.encodeColorString(c.color)),t.push("/"+a+" "+Be(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var r=Cl(c);return r.scope=c.scope,r.stream=t.join(`
`),r}},Ew=function(c,t){var e=c.fontSize===0?c.maxFontSize:c.fontSize,i={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=c.multiline?a.map(function(z){return z.split(`
`)}):a.map(function(z){return[z]});var r=e,o=ce.internal.getHeight(c)||0;o=o<0?-o:o;var u=ce.internal.getWidth(c)||0;u=u<0?-u:u;var h=function(z,K,ot){if(z+1<a.length){var st=K+" "+a[z+1][0];return W5(st,c,ot).width<=u-4}return!1};r++;t:for(;r>0;){t="",r--;var p,m,y=W5("3",c,r).height,w=c.multiline?o-r:(o-y)/2,A=w+=2,N=0,E=0,M=0;if(r<=0){t=`(...) Tj
`,t+="% Width of Text: "+W5(t,c,r=12).width+", FieldWidth:"+u+`
`;break}for(var L="",R=0,P=0;P<a.length;P++)if(a.hasOwnProperty(P)){var W=!1;if(a[P].length!==1&&M!==a[P].length-1){if((y+2)*(R+2)+2>o)continue t;L+=a[P][M],W=!0,E=P,P--}else{L=(L+=a[P][M]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var X=parseInt(P),it=h(X,L,r),J=P>=a.length-1;if(it&&!J){L+=" ",M=0;continue}if(it||J){if(J)E=X;else if(c.multiline&&(y+2)*(R+2)+2>o)continue t}else{if(!c.multiline||(y+2)*(R+2)+2>o)continue t;E=X}}for(var Z="",ct=N;ct<=E;ct++){var bt=a[ct];if(c.multiline){if(ct===E){Z+=bt[M]+" ",M=(M+1)%bt.length;continue}if(ct===N){Z+=bt[bt.length-1]+" ";continue}}Z+=bt[0]+" "}switch(Z=Z.substr(Z.length-1)==" "?Z.substr(0,Z.length-1):Z,m=W5(Z,c,r).width,c.textAlign){case"right":p=u-m-2;break;case"center":p=(u-m)/2;break;case"left":default:p=2}t+=Be(p)+" "+Be(A)+` Td
`,t+="("+vp(Z)+`) Tj
`,t+=-Be(p)+` 0 Td
`,A=-(r+2),m=0,N=W?E:E+1,R++,L=""}break}return i.text=t,i.fontSize=r,i},W5=function(c,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(c,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:a}},NT={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},LT=function(c,t){var e={type:"reference",object:c};t.internal.getPageInfo(c.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(c.page).pageContext.annotations.push(e)},CT=function(c,t){for(var e in c)if(c.hasOwnProperty(e)){var i=e,a=c[e];t.internal.newObjectDeferredBegin(a.objId,!0),Ti(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete c[i]}},TT=function(c,t){if(t.scope=c,c.internal!==void 0&&(c.internal.acroformPlugin===void 0||c.internal.acroformPlugin.isInitialized===!1)){if(Ho.FieldNum=0,c.internal.acroformPlugin=JSON.parse(JSON.stringify(NT)),c.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Uw=c.internal.scaleFactor,c.internal.acroformPlugin.acroFormDictionaryRoot=new VE,c.internal.acroformPlugin.acroFormDictionaryRoot.scope=c,c.internal.acroformPlugin.acroFormDictionaryRoot._eventID=c.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(c)}),c.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in i)if(i.hasOwnProperty(a)){var r=i[a];r.objId=void 0,r.hasAnnotation&&LT(r,e)}})(c)}),c.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(c)}),c.internal.events.subscribe("postPutPages",function(e){(function(i,a){var r=!i;for(var o in i||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var u=i[o],h=[],p=u.Rect;if(u.Rect&&(u.Rect=xT(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=ce.createDefaultAppearanceStream(u),Ti(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=p,u.hasAppearanceStream&&!u.appearanceStreamContent){var m=ET(u);h.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(u.appearanceStreamContent){var y="";for(var w in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(w)){var A=u.appearanceStreamContent[w];if(y+="/"+w+" ",y+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var o in A)if(A.hasOwnProperty(o)){var N=A[o];typeof N=="function"&&(N=N.call(a,u)),y+="/"+o+" "+N+" ",a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N)}}else typeof(N=A)=="function"&&(N=N.call(a,u)),y+="/"+o+" "+N,a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N);y+=">>"}h.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:h,objectId:u.objId}),a.internal.out("endobj")}r&&CT(a.internal.acroformPlugin.xForms,a)})(e,c)}),c.internal.acroformPlugin.isInitialized=!0}},HE=Sn.__acroform__.arrayToPdfArray=function(c,t,e){var i=function(o){return o};if(Array.isArray(c)){for(var a="[",r=0;r<c.length;r++)switch(r!==0&&(a+=" "),Ti(c[r])){case"boolean":case"number":case"object":a+=c[r].toString();break;case"string":c[r].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),a+="("+vp(i(c[r].toString()))+")"):a+=c[r].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ky=function(c,t,e){var i=function(a){return a};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(c=c||"").toString(),c="("+vp(i(c))+")"},$l=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(c){this._objId=c}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$l.prototype.toString=function(){return this.objId+" 0 R"},$l.prototype.putStream=function(){var c=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:c,objectId:this.objId}),this.scope.internal.out("endobj")},$l.prototype.getKeyValueListForStream=function(){var c=[],t=Object.getOwnPropertyNames(this).filter(function(r){return r!="content"&&r!="appearanceStreamContent"&&r!="scope"&&r!="objId"&&r.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],a=this[i];a&&(Array.isArray(a)?c.push({key:i,value:HE(a,this.objId,this.scope)}):a instanceof $l?(a.scope=this.scope,c.push({key:i,value:a.objId+" 0 R"})):typeof a!="function"&&c.push({key:i,value:a}))}return c};var GE=function(){$l.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var c,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){c=e.trim()},get:function(){return c||null}})};qa(GE,$l);var VE=function(){$l.call(this);var c,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(c){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+vp(e(c))+")"}},set:function(e){c=e}})};qa(VE,$l);var Ho=function c(){$l.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');t=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!kn(t,3)},set:function(L){L?this.F=Pn(t,3):this.F=In(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');e=L}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(L){i=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(L){i[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(L){i[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(L){i[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(L){i[3]=L}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var r=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!r||r.length<1){if(this instanceof Xv)return;r="FieldObject"+c.FieldNum++}var L=function(R){return R};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+vp(L(r))+")"},set:function(L){r=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return r},set:function(L){r=L}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(L){o=L}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(L){u=L}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(L){h=L}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/Uw:p},set:function(L){p=L}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(L){m=L}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Xv||this instanceof up))return Ky(y,this.objId,this.scope)},set:function(L){L=L.toString(),y=L}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof bs?w:Ky(w,this.objId,this.scope)},set:function(L){L=L.toString(),w=this instanceof bs?L:L.substr(0,1)==="("?ag(L.substr(1,L.length-2)):ag(L)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof bs?ag(w.substr(1,w.length-1)):w},set:function(L){L=L.toString(),w=this instanceof bs?"/"+L:L}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof bs?A:Ky(A,this.objId,this.scope)},set:function(L){L=L.toString(),A=this instanceof bs?L:L.substr(0,1)==="("?ag(L.substr(1,L.length-2)):ag(L)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof bs?ag(A.substr(1,A.length-1)):A},set:function(L){L=L.toString(),A=this instanceof bs?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(L){L=!!L,E=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(L){N=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,1)},set:function(L){L?this.Ff=Pn(this.Ff,1):this.Ff=In(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,2)},set:function(L){L?this.Ff=Pn(this.Ff,2):this.Ff=In(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,3)},set:function(L){L?this.Ff=Pn(this.Ff,3):this.Ff=In(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');M=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(M){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:M=2;break;case"center":case 1:M=1;break;case"left":case 0:default:M=0}}})};qa(Ho,$l);var Sg=function(){Ho.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var c=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){c=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return HE(t,this.objId,this.scope)},set:function(e){var i,a;a=[],typeof(i=e)=="string"&&(a=function(r,o,u){u||(u=1);for(var h,p=[];h=o.exec(r);)p.push(h[u]);return p}(i,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,18)},set:function(e){e?this.Ff=Pn(this.Ff,18):this.Ff=In(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Pn(this.Ff,19):this.Ff=In(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,20)},set:function(e){e?(this.Ff=Pn(this.Ff,20),t.sort()):this.Ff=In(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,22)},set:function(e){e?this.Ff=Pn(this.Ff,22):this.Ff=In(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,23)},set:function(e){e?this.Ff=Pn(this.Ff,23):this.Ff=In(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,27)},set:function(e){e?this.Ff=Pn(this.Ff,27):this.Ff=In(this.Ff,27)}}),this.hasAppearanceStream=!1};qa(Sg,Ho);var _g=function(){Sg.call(this),this.fontName="helvetica",this.combo=!1};qa(_g,Sg);var xg=function(){_g.call(this),this.combo=!0};qa(xg,_g);var Tv=function(){xg.call(this),this.edit=!0};qa(Tv,xg);var bs=function(){Ho.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,15)},set:function(e){e?this.Ff=Pn(this.Ff,15):this.Ff=In(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,16)},set:function(e){e?this.Ff=Pn(this.Ff,16):this.Ff=In(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,17)},set:function(e){e?this.Ff=Pn(this.Ff,17):this.Ff=In(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,26)},set:function(e){e?this.Ff=Pn(this.Ff,26):this.Ff=In(this.Ff,26)}});var c,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(r){return r};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,a=[];for(i in a.push("<<"),t)a.push("/"+i+" ("+vp(e(t[i]))+")");return a.push(">>"),a.join(`
`)}},set:function(e){Ti(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return c.substr(1,c.length-1)},set:function(e){c="/"+e}})};qa(bs,Ho);var Mv=function(){bs.call(this),this.pushButton=!0};qa(Mv,bs);var Eg=function(){bs.call(this),this.radio=!0,this.pushButton=!1;var c=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return c},set:function(t){c=t!==void 0?t:[]}})};qa(Eg,bs);var Xv=function(){var c,t;Ho.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return c},set:function(a){c=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var r,o=[];for(r in o.push("<<"),i)o.push("/"+r+" ("+vp(a(i[r]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Ti(a)==="object"&&(i=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(a){typeof a=="string"&&(i.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ce.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qa(Xv,Ho),Eg.prototype.setAppearance=function(c){if(!("createAppearanceStream"in c)||!("getCA"in c))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=c.createAppearanceStream(e.optionName),e.caption=c.getCA()}},Eg.prototype.createOption=function(c){var t=new Xv;return t.Parent=this,t.optionName=c,this.Kids.push(t),MT.call(this.scope,t),t};var Rv=function(){bs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ce.CheckBox.createAppearanceStream()};qa(Rv,bs);var up=function(){Ho.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,13)},set:function(t){t?this.Ff=Pn(this.Ff,13):this.Ff=In(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,21)},set:function(t){t?this.Ff=Pn(this.Ff,21):this.Ff=In(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,23)},set:function(t){t?this.Ff=Pn(this.Ff,23):this.Ff=In(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,24)},set:function(t){t?this.Ff=Pn(this.Ff,24):this.Ff=In(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,25)},set:function(t){t?this.Ff=Pn(this.Ff,25):this.Ff=In(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,26)},set:function(t){t?this.Ff=Pn(this.Ff,26):this.Ff=In(this.Ff,26)}});var c=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return c},set:function(t){c=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return c},set:function(t){Number.isInteger(t)&&(c=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qa(up,Ho);var Ov=function(){up.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,14)},set:function(c){c?this.Ff=Pn(this.Ff,14):this.Ff=In(this.Ff,14)}}),this.password=!0};qa(Ov,up);var ce={CheckBox:{createAppearanceStream:function(){return{N:{On:ce.CheckBox.YesNormal},D:{On:ce.CheckBox.YesPushDown,Off:ce.CheckBox.OffPushDown}}},YesPushDown:function(c){var t=Cl(c);t.scope=c.scope;var e=[],i=c.scope.internal.getFont(c.fontName,c.fontStyle).id,a=c.scope.__private__.encodeColorString(c.color),r=Ew(c,c.caption);return e.push("0.749023 g"),e.push("0 0 "+Be(ce.internal.getWidth(c))+" "+Be(ce.internal.getHeight(c))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+Be(r.fontSize)+" Tf "+a),e.push("BT"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(c){var t=Cl(c);t.scope=c.scope;var e=c.scope.internal.getFont(c.fontName,c.fontStyle).id,i=c.scope.__private__.encodeColorString(c.color),a=[],r=ce.internal.getHeight(c),o=ce.internal.getWidth(c),u=Ew(c,c.caption);return a.push("1 g"),a.push("0 0 "+Be(o)+" "+Be(r)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Be(o-1)+" "+Be(r-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+e+" "+Be(u.fontSize)+" Tf "+i),a.push(u.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(c){var t=Cl(c);t.scope=c.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Be(ce.internal.getWidth(c))+" "+Be(ce.internal.getHeight(c))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(c){var t={D:{Off:ce.RadioButton.Circle.OffPushDown},N:{}};return t.N[c]=ce.RadioButton.Circle.YesNormal,t.D[c]=ce.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(c){var t=Cl(c);t.scope=c.scope;var e=[],i=ce.internal.getWidth(c)<=ce.internal.getHeight(c)?ce.internal.getWidth(c)/4:ce.internal.getHeight(c)/4;i=Number((.9*i).toFixed(5));var a=ce.internal.Bezier_C,r=Number((i*a).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+hh(ce.internal.getWidth(c)/2)+" "+hh(ce.internal.getHeight(c)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+r+" "+r+" "+i+" 0 "+i+" c"),e.push("-"+r+" "+i+" -"+i+" "+r+" -"+i+" 0 c"),e.push("-"+i+" -"+r+" -"+r+" -"+i+" 0 -"+i+" c"),e.push(r+" -"+i+" "+i+" -"+r+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(c){var t=Cl(c);t.scope=c.scope;var e=[],i=ce.internal.getWidth(c)<=ce.internal.getHeight(c)?ce.internal.getWidth(c)/4:ce.internal.getHeight(c)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),r=Number((a*ce.internal.Bezier_C).toFixed(5)),o=Number((i*ce.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+hh(ce.internal.getWidth(c)/2)+" "+hh(ce.internal.getHeight(c)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+r+" "+r+" "+a+" 0 "+a+" c"),e.push("-"+r+" "+a+" -"+a+" "+r+" -"+a+" 0 c"),e.push("-"+a+" -"+r+" -"+r+" -"+a+" 0 -"+a+" c"),e.push(r+" -"+a+" "+a+" -"+r+" "+a+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+hh(ce.internal.getWidth(c)/2)+" "+hh(ce.internal.getHeight(c)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(c){var t=Cl(c);t.scope=c.scope;var e=[],i=ce.internal.getWidth(c)<=ce.internal.getHeight(c)?ce.internal.getWidth(c)/4:ce.internal.getHeight(c)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),r=Number((a*ce.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+hh(ce.internal.getWidth(c)/2)+" "+hh(ce.internal.getHeight(c)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+r+" "+r+" "+a+" 0 "+a+" c"),e.push("-"+r+" "+a+" -"+a+" "+r+" -"+a+" 0 c"),e.push("-"+a+" -"+r+" -"+r+" -"+a+" 0 -"+a+" c"),e.push(r+" -"+a+" "+a+" -"+r+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(c){var t={D:{Off:ce.RadioButton.Cross.OffPushDown},N:{}};return t.N[c]=ce.RadioButton.Cross.YesNormal,t.D[c]=ce.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(c){var t=Cl(c);t.scope=c.scope;var e=[],i=ce.internal.calculateCross(c);return e.push("q"),e.push("1 1 "+Be(ce.internal.getWidth(c)-2)+" "+Be(ce.internal.getHeight(c)-2)+" re"),e.push("W"),e.push("n"),e.push(Be(i.x1.x)+" "+Be(i.x1.y)+" m"),e.push(Be(i.x2.x)+" "+Be(i.x2.y)+" l"),e.push(Be(i.x4.x)+" "+Be(i.x4.y)+" m"),e.push(Be(i.x3.x)+" "+Be(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(c){var t=Cl(c);t.scope=c.scope;var e=ce.internal.calculateCross(c),i=[];return i.push("0.749023 g"),i.push("0 0 "+Be(ce.internal.getWidth(c))+" "+Be(ce.internal.getHeight(c))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Be(ce.internal.getWidth(c)-2)+" "+Be(ce.internal.getHeight(c)-2)+" re"),i.push("W"),i.push("n"),i.push(Be(e.x1.x)+" "+Be(e.x1.y)+" m"),i.push(Be(e.x2.x)+" "+Be(e.x2.y)+" l"),i.push(Be(e.x4.x)+" "+Be(e.x4.y)+" m"),i.push(Be(e.x3.x)+" "+Be(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(c){var t=Cl(c);t.scope=c.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Be(ce.internal.getWidth(c))+" "+Be(ce.internal.getHeight(c))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(c){var t=c.scope.internal.getFont(c.fontName,c.fontStyle).id,e=c.scope.__private__.encodeColorString(c.color);return"/"+t+" "+c.fontSize+" Tf "+e}};ce.internal={Bezier_C:.551915024494,calculateCross:function(c){var t=ce.internal.getWidth(c),e=ce.internal.getHeight(c),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},ce.internal.getWidth=function(c){var t=0;return Ti(c)==="object"&&(t=Q_(c.Rect[2])),t},ce.internal.getHeight=function(c){var t=0;return Ti(c)==="object"&&(t=Q_(c.Rect[3])),t};var MT=Sn.addField=function(c){if(TT(this,c),!(c instanceof Ho))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=c).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),c.page=c.scope.internal.getCurrentPageInfo().pageNumber,this};Sn.AcroFormChoiceField=Sg,Sn.AcroFormListBox=_g,Sn.AcroFormComboBox=xg,Sn.AcroFormEditBox=Tv,Sn.AcroFormButton=bs,Sn.AcroFormPushButton=Mv,Sn.AcroFormRadioButton=Eg,Sn.AcroFormCheckBox=Rv,Sn.AcroFormTextField=up,Sn.AcroFormPasswordField=Ov,Sn.AcroFormAppearance=ce,Sn.AcroForm={ChoiceField:Sg,ListBox:_g,ComboBox:xg,EditBox:Tv,Button:bs,PushButton:Mv,RadioButton:Eg,CheckBox:Rv,TextField:up,PasswordField:Ov,Appearance:ce},Ne.AcroForm={ChoiceField:Sg,ListBox:_g,ComboBox:xg,EditBox:Tv,Button:bs,PushButton:Mv,RadioButton:Eg,CheckBox:Rv,TextField:up,PasswordField:Ov,Appearance:ce};Ne.AcroForm;function YE(c){return c.reduce(function(t,e,i){return t[e]=i,t},{})}(function(c){c.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=c.__addimage__.getImageFileTypeByImageData=function(z,K){var ot,st,Et,U,tt,ht=t;if((K=K||t)==="RGBA"||z.data!==void 0&&z.data instanceof Uint8ClampedArray&&"height"in z&&"width"in z)return"RGBA";if(it(z))for(tt in e)for(Et=e[tt],ot=0;ot<Et.length;ot+=1){for(U=!0,st=0;st<Et[ot].length;st+=1)if(Et[ot][st]!==void 0&&Et[ot][st]!==z[st]){U=!1;break}if(U===!0){ht=tt;break}}else for(tt in e)for(Et=e[tt],ot=0;ot<Et.length;ot+=1){for(U=!0,st=0;st<Et[ot].length;st+=1)if(Et[ot][st]!==void 0&&Et[ot][st]!==z.charCodeAt(st)){U=!1;break}if(U===!0){ht=tt;break}}return ht===t&&K!==t&&(ht=K),ht},a=function z(K){for(var ot=this.internal.write,st=this.internal.putStream,Et=(0,this.internal.getFilters)();Et.indexOf("FlateEncode")!==-1;)Et.splice(Et.indexOf("FlateEncode"),1);K.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:K.width}),U.push({key:"Height",value:K.height}),K.colorSpace===M.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(K.palette.length/3-1)+" "+("sMask"in K&&K.sMask!==void 0?K.objectId+2:K.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+K.colorSpace}),K.colorSpace===M.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:K.bitsPerComponent}),"decodeParameters"in K&&K.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+K.decodeParameters+">>"}),"transparency"in K&&Array.isArray(K.transparency)){for(var tt="",ht=0,At=K.transparency.length;ht<At;ht++)tt+=K.transparency[ht]+" "+K.transparency[ht]+" ";U.push({key:"Mask",value:"["+tt+"]"})}K.sMask!==void 0&&U.push({key:"SMask",value:K.objectId+1+" 0 R"});var V=K.filter!==void 0?["/"+K.filter]:void 0;if(st({data:K.data,additionalKeyValues:U,alreadyAppliedFilters:V,objectId:K.objectId}),ot("endobj"),"sMask"in K&&K.sMask!==void 0){var ft="/Predictor "+K.predictor+" /Colors 1 /BitsPerComponent "+K.bitsPerComponent+" /Columns "+K.width,O={width:K.width,height:K.height,colorSpace:"DeviceGray",bitsPerComponent:K.bitsPerComponent,decodeParameters:ft,data:K.sMask};"filter"in K&&(O.filter=K.filter),z.call(this,O)}if(K.colorSpace===M.INDEXED){var H=this.internal.newObject();st({data:Z(new Uint8Array(K.palette)),objectId:H}),ot("endobj")}},r=function(){var z=this.internal.collections.addImage_images;for(var K in z)a.call(this,z[K])},o=function(){var z,K=this.internal.collections.addImage_images,ot=this.internal.write;for(var st in K)ot("/I"+(z=K[st]).index,z.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",r),this.internal.events.subscribe("putXobjectDict",o))},h=function(){var z=this.internal.collections.addImage_images;return u.call(this),z},p=function(){return Object.keys(this.internal.collections.addImage_images).length},m=function(z){return typeof c["process"+z.toUpperCase()]=="function"},y=function(z){return Ti(z)==="object"&&z.nodeType===1},w=function(z,K){if(z.nodeName==="IMG"&&z.hasAttribute("src")){var ot=""+z.getAttribute("src");if(ot.indexOf("data:image/")===0)return J0(unescape(ot).split("base64,").pop());var st=c.loadFile(ot,!0);if(st!==void 0)return st}if(z.nodeName==="CANVAS"){if(z.width===0||z.height===0)throw new Error("Given canvas must have data. Canvas width: "+z.width+", height: "+z.height);var Et;switch(K){case"PNG":Et="image/png";break;case"WEBP":Et="image/webp";break;case"JPEG":case"JPG":default:Et="image/jpeg"}return J0(z.toDataURL(Et,1).split("base64,").pop())}},A=function(z){var K=this.internal.collections.addImage_images;if(K){for(var ot in K)if(z===K[ot].alias)return K[ot]}},N=function(z,K,ot){return z||K||(z=-96,K=-96),z<0&&(z=-1*ot.width*72/z/this.internal.scaleFactor),K<0&&(K=-1*ot.height*72/K/this.internal.scaleFactor),z===0&&(z=K*ot.width/ot.height),K===0&&(K=z*ot.height/ot.width),[z,K]},E=function(z,K,ot,st,Et,U){var tt=N.call(this,ot,st,Et),ht=this.internal.getCoordinateString,At=this.internal.getVerticalCoordinateString,V=h.call(this);if(ot=tt[0],st=tt[1],V[Et.index]=Et,U){U*=Math.PI/180;var ft=Math.cos(U),O=Math.sin(U),H=function(rt){return rt.toFixed(4)},Q=[H(ft),H(O),H(-1*O),H(ft),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,ht(z),At(K+st),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([ht(ot),"0","0",ht(st),"0","0","cm"].join(" "))):this.internal.write([ht(ot),"0","0",ht(st),ht(z),At(K+st),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Et.index+" Do"),this.internal.write("Q")},M=c.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};c.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=c.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=c.__addimage__.sHashCode=function(z){var K,ot,st=0;if(typeof z=="string")for(ot=z.length,K=0;K<ot;K++)st=(st<<5)-st+z.charCodeAt(K),st|=0;else if(it(z))for(ot=z.byteLength/2,K=0;K<ot;K++)st=(st<<5)-st+z[K],st|=0;return st},P=c.__addimage__.validateStringAsBase64=function(z){(z=z||"").toString().trim();var K=!0;return z.length===0&&(K=!1),z.length%4!=0&&(K=!1),/^[A-Za-z0-9+/]+$/.test(z.substr(0,z.length-2))===!1&&(K=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2))===!1&&(K=!1),K},W=c.__addimage__.extractImageFromDataUrl=function(z){if(z==null||!(z=z.trim()).startsWith("data:"))return null;var K=z.indexOf(",");return K<0?null:z.substring(0,K).trim().endsWith("base64")?z.substring(K+1):null},X=c.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};c.__addimage__.isArrayBuffer=function(z){return X()&&z instanceof ArrayBuffer};var it=c.__addimage__.isArrayBufferView=function(z){return X()&&typeof Uint32Array<"u"&&(z instanceof Int8Array||z instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&z instanceof Uint8ClampedArray||z instanceof Int16Array||z instanceof Uint16Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Float32Array||z instanceof Float64Array)},J=c.__addimage__.binaryStringToUint8Array=function(z){for(var K=z.length,ot=new Uint8Array(K),st=0;st<K;st++)ot[st]=z.charCodeAt(st);return ot},Z=c.__addimage__.arrayBufferToBinaryString=function(z){for(var K="",ot=it(z)?z:new Uint8Array(z),st=0;st<ot.length;st+=8192)K+=String.fromCharCode.apply(null,ot.subarray(st,st+8192));return K};c.addImage=function(){var z,K,ot,st,Et,U,tt,ht,At;if(typeof arguments[1]=="number"?(K=t,ot=arguments[1],st=arguments[2],Et=arguments[3],U=arguments[4],tt=arguments[5],ht=arguments[6],At=arguments[7]):(K=arguments[1],ot=arguments[2],st=arguments[3],Et=arguments[4],U=arguments[5],tt=arguments[6],ht=arguments[7],At=arguments[8]),Ti(z=arguments[0])==="object"&&!y(z)&&"imageData"in z){var V=z;z=V.imageData,K=V.format||K||t,ot=V.x||ot||0,st=V.y||st||0,Et=V.w||V.width||Et,U=V.h||V.height||U,tt=V.alias||tt,ht=V.compression||ht,At=V.rotation||V.angle||At}var ft=this.internal.getFilters();if(ht===void 0&&ft.indexOf("FlateEncode")!==-1&&(ht="SLOW"),isNaN(ot)||isNaN(st))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var O=ct.call(this,z,K,tt,ht);return E.call(this,ot,st,Et,U,O,At),this};var ct=function(z,K,ot,st){var Et,U,tt;if(typeof z=="string"&&i(z)===t){z=unescape(z);var ht=bt(z,!1);(ht!==""||(ht=c.loadFile(z,!0))!==void 0)&&(z=ht)}if(y(z)&&(z=w(z,K)),K=i(z,K),!m(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(((tt=ot)==null||tt.length===0)&&(ot=function(At){return typeof At=="string"||it(At)?R(At):it(At.data)?R(At.data):null}(z)),(Et=A.call(this,ot))||(X()&&(z instanceof Uint8Array||K==="RGBA"||(U=z,z=J(z))),Et=this["process"+K.toUpperCase()](z,p.call(this),ot,function(At){return At&&typeof At=="string"&&(At=At.toUpperCase()),At in c.image_compression?At:L.NONE}(st),U)),!Et)throw new Error("An unknown error occurred whilst processing the image.");return Et},bt=c.__addimage__.convertBase64ToBinaryString=function(z,K){K=typeof K!="boolean"||K;var ot,st="";if(typeof z=="string"){var Et;ot=(Et=W(z))!==null&&Et!==void 0?Et:z;try{st=J0(ot)}catch(U){if(K)throw P(ot)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return st};c.getImageProperties=function(z){var K,ot,st="";if(y(z)&&(z=w(z)),typeof z=="string"&&i(z)===t&&((st=bt(z,!1))===""&&(st=c.loadFile(z)||""),z=st),ot=i(z),!m(ot))throw new Error("addImage does not support files of type '"+ot+"', please ensure that a plugin for '"+ot+"' support is added.");if(!X()||z instanceof Uint8Array||(z=J(z)),!(K=this["process"+ot.toUpperCase()](z)))throw new Error("An unknown error occurred whilst processing the image");return K.fileType=ot,K}})(Ne.API),function(c){var t=function(e){if(e!==void 0&&e!="")return!0};Ne.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),c.events.push(["putPage",function(e){for(var i,a,r,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(e.objId),p=e.pageContext.annotations,m=!1,y=0;y<p.length&&!m;y++)switch((i=p[y]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var w=0;w<p.length;w++){i=p[w];var A=this.internal.pdfEscape,N=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(E.objId),R=i.title||"Note";r="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(i.bounds.x)+" "+u(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y)+"] ")+"/Contents ("+A(L(i.contents))+")",r+=" /Popup "+M.objId+" 0 R",r+=" /P "+h.objId+" 0 R",r+=" /T ("+A(L(R))+") >>",E.content=r;var P=E.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(i.bounds.x+30)+" "+u(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+u(i.bounds.y)+"] ")+" /Parent "+P,i.open&&(r+=" /Open true"),r+=" >>",M.content=r,this.internal.write(E.objId,"0 R",M.objId,"0 R");break;case"freetext":a="/Rect ["+o(i.bounds.x)+" "+u(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y+i.bounds.h)+"] ";var W=i.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+A(N(i.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+W+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(i.options.name){var X=this.annotations._nameMap[i.options.name];i.options.pageNumber=X.page,i.options.top=X.y}else i.options.top||(i.options.top=0);if(a="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",r="",i.options.url)r="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+A(N(i.options.url))+") >>";else if(i.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,r+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var it=u(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),r+=" /XYZ "+i.options.left+" "+it+" "+i.options.zoom+"]"}r!=""&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),c.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},c.link=function(e,i,a,r,o){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(e),y:p(i),w:h(e+a),h:p(i+r)},options:o,type:"link"})},c.textWithLink=function(e,i,a,r){var o,u,h=this.getTextWidth(e),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(r.maxWidth!==void 0){u=r.maxWidth;var m=this.splitTextToSize(e,u).length;o=Math.ceil(p*m)}else u=h,o=p;return this.text(e,i,a,r),a+=.2*p,r.align==="center"&&(i-=h/2),r.align==="right"&&(i-=h),this.link(i,a-p,u,o,r),h},c.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(Ne.API),function(c){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];c.__arabicParser__={};var r=c.__arabicParser__.isInArabicSubstitutionA=function(E){return t[E.charCodeAt(0)]!==void 0},o=c.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},u=c.__arabicParser__.isArabicEndLetter=function(E){return o(E)&&r(E)&&t[E.charCodeAt(0)].length<=2},h=c.__arabicParser__.isArabicAlfLetter=function(E){return o(E)&&a.indexOf(E.charCodeAt(0))>=0};c.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return o(E)&&r(E)&&t[E.charCodeAt(0)].length>=1};var p=c.__arabicParser__.arabicLetterHasFinalForm=function(E){return o(E)&&r(E)&&t[E.charCodeAt(0)].length>=2};c.__arabicParser__.arabicLetterHasInitialForm=function(E){return o(E)&&r(E)&&t[E.charCodeAt(0)].length>=3};var m=c.__arabicParser__.arabicLetterHasMedialForm=function(E){return o(E)&&r(E)&&t[E.charCodeAt(0)].length==4},y=c.__arabicParser__.resolveLigatures=function(E){var M=0,L=e,R="",P=0;for(M=0;M<E.length;M+=1)L[E.charCodeAt(M)]!==void 0?(P++,typeof(L=L[E.charCodeAt(M)])=="number"&&(R+=String.fromCharCode(L),L=e,P=0),M===E.length-1&&(L=e,R+=E.charAt(M-(P-1)),M-=P-1,P=0)):(L=e,R+=E.charAt(M-P),M-=P,P=0);return R};c.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&i[E.charCodeAt(0)]!==void 0};var w=c.__arabicParser__.getCorrectForm=function(E,M,L){return o(E)?r(E)===!1?-1:!p(E)||!o(M)&&!o(L)||!o(L)&&u(M)||u(E)&&!o(M)||u(E)&&h(M)||u(E)&&u(M)?0:m(E)&&o(M)&&!u(M)&&o(L)&&p(L)?3:u(E)||!o(L)?1:2:-1},A=function(E){var M=0,L=0,R=0,P="",W="",X="",it=(E=E||"").split("\\s+"),J=[];for(M=0;M<it.length;M+=1){for(J.push(""),L=0;L<it[M].length;L+=1)P=it[M][L],W=it[M][L-1],X=it[M][L+1],o(P)?(R=w(P,W,X),J[M]+=R!==-1?String.fromCharCode(t[P.charCodeAt(0)][R]):P):J[M]+=P;J[M]=y(J[M])}return J.join(" ")},N=c.__arabicParser__.processArabic=c.processArabic=function(){var E,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(M)){var R=0;for(L=[],R=0;R<M.length;R+=1)Array.isArray(M[R])?L.push([A(M[R][0]),M[R][1],M[R][2]]):L.push([A(M[R])]);E=L}else E=A(M);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};c.events.push(["preProcessText",N])}(Ne.API),Ne.API.autoPrint=function(c){var t;switch((c=c||{}).variant=c.variant||"non-conform",c.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(c){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(u){e=u}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(u){r=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var a;if((e=e||"2d")!=="2d")return null;for(a in i)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=i[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},c.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ne.API),function(c){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new r,this.internal.__cell__.pages=1},r=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(E){w=E}});var A=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return A},set:function(E){A=E}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(E){N=E}}),this};r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},r.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},c.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},c.getTextDimensions=function(h,p){i.call(this);var m=(p=p||{}).fontSize||this.getFontSize(),y=p.font||this.getFont(),w=p.scaleFactor||this.internal.scaleFactor,A=0,N=0,E=0,M=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var L=p.maxWidth;L>0?typeof h=="string"?h=this.splitTextToSize(h,L):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(P,W){return P.concat(M.splitTextToSize(W,L))},[])):h=Array.isArray(h)?h:[h];for(var R=0;R<h.length;R++)A<(E=this.getStringUnitWidth(h[R],{font:y})*m)&&(A=E);return A!==0&&(N=h.length),{w:A/=w,h:Math.max((N*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/w,0)}},c.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new r(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=c.cell=function(){var h;h=arguments[0]instanceof r?arguments[0]:new r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var p=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,y=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===h.lineNumber?(h.x=(p.x||0)+(p.width||0),h.y=p.y||0):p.y+p.height+h.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=y.top,A&&w&&(this.printHeaderRow(h.lineNumber,!0),h.y+=w[0].height)):h.y=p.y+p.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,e===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-m,h.y+m,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+m,{align:"center",baseline:"top",maxWidth:h.width-m-m}):this.text(h.text,h.x+m,h.y+m,{align:"left",baseline:"top",maxWidth:h.width-m-m})),this.internal.__cell__.lastCell=h,this};c.table=function(h,p,m,y,w){if(i.call(this),!m)throw new Error("No data for PDF table.");var A,N,E,M,L=[],R=[],P=[],W={},X={},it=[],J=[],Z=(w=w||{}).autoSize||!1,ct=w.printHeaders!==!1,bt=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,z=w.margins||Object.assign({width:this.getPageWidth()},t),K=typeof w.padding=="number"?w.padding:3,ot=w.headerBackgroundColor||"#c8c8c8",st=w.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=ct,this.internal.__cell__.margins=z,this.internal.__cell__.table_font_size=bt,this.internal.__cell__.padding=K,this.internal.__cell__.headerBackgroundColor=ot,this.internal.__cell__.headerTextColor=st,this.setFontSize(bt),y==null)R=L=Object.keys(m[0]),P=L.map(function(){return"left"});else if(Array.isArray(y)&&Ti(y[0])==="object")for(L=y.map(function(V){return V.name}),R=y.map(function(V){return V.prompt||V.name||""}),P=y.map(function(V){return V.align||"left"}),A=0;A<y.length;A+=1)X[y[A].name]=y[A].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(R=L=y,P=L.map(function(){return"left"}));if(Z||Array.isArray(y)&&typeof y[0]=="string")for(A=0;A<L.length;A+=1){for(W[M=L[A]]=m.map(function(V){return V[M]}),this.setFont(void 0,"bold"),it.push(this.getTextDimensions(R[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=W[M],this.setFont(void 0,"normal"),E=0;E<N.length;E+=1)it.push(this.getTextDimensions(N[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[M]=Math.max.apply(null,it)+K+K,it=[]}if(ct){var Et={};for(A=0;A<L.length;A+=1)Et[L[A]]={},Et[L[A]].text=R[A],Et[L[A]].align=P[A];var U=u.call(this,Et,X);J=L.map(function(V){return new r(h,p,X[V],U,Et[V].text,void 0,Et[V].align)}),this.setTableHeaderRow(J),this.printHeaderRow(1,!1)}var tt=y.reduce(function(V,ft){return V[ft.name]=ft.align,V},{});for(A=0;A<m.length;A+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:A,data:m[A]},this);var ht=u.call(this,m[A],X);for(E=0;E<L.length;E+=1){var At=m[A][L[E]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:A,col:E,data:At},this),o.call(this,new r(h,p,X[L[E]],ht,At,A+2,tt[L[E]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=p,this};var u=function(h,p){var m=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(h).map(function(A){var N=h[A];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,p[A]-m-m)},this).map(function(A){return this.getLineHeightFactor()*A.length*y/w+m+m},this).reduce(function(A,N){return Math.max(A,N)},0)};c.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},c.printHeaderRow=function(h,p){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new r(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){m=this.internal.__cell__.tableHeaderRow[A].clone(),p&&(m.y=this.internal.__cell__.margins.top||0,w.push(m)),m.lineNumber=h;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,m),this.setTextColor(N)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),e=!1}}(Ne.API);var XE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},WE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Nw=YE(WE),KE=[100,200,300,400,500,600,700,800,900],RT=YE(KE);function Lw(c){var t=c.family.replace(/"|'/g,"").toLowerCase(),e=function(r){return XE[r=r||"normal"]?r:"normal"}(c.style),i=function(r){if(!r)return 400;if(typeof r=="number")return r>=100&&r<=900&&r%100==0?r:400;if(/^\d00$/.test(r))return parseInt(r);switch(r){case"bold":return 700;case"normal":default:return 400}}(c.weight),a=function(r){return typeof Nw[r=r||"normal"]=="number"?r:"normal"}(c.stretch);return{family:t,style:e,weight:i,stretch:a,src:c.src||[],ref:c.ref||{name:t,style:[a,e,i].join(" ")}}}function Z_(c,t,e,i){var a;for(a=e;a>=0&&a<t.length;a+=i)if(c[t[a]])return c[t[a]];for(a=e;a>=0&&a<t.length;a-=i)if(c[t[a]])return c[t[a]]}var OT={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},J_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function t4(c){return[c.stretch,c.style,c.weight,c.family].join(" ")}function DT(c,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",a=Object.assign({},OT,e.genericFontFamilies||{}),r=null,o=null,u=0;u<t.length;++u)if(a[(r=Lw(t[u])).family]&&(r.family=a[r.family]),c.hasOwnProperty(r.family)){o=c[r.family];break}if(!(o=o||c[i]))throw new Error("Could not find a font-family for the rule '"+t4(r)+"' and default family '"+i+"'.");if(o=function(h,p){if(p[h])return p[h];var m=Nw[h],y=m<=Nw.normal?-1:1,w=Z_(p,WE,m,y);if(!w)throw new Error("Could not find a matching font-stretch value for "+h);return w}(r.stretch,o),o=function(h,p){if(p[h])return p[h];for(var m=XE[h],y=0;y<m.length;++y)if(p[m[y]])return p[m[y]];throw new Error("Could not find a matching font-style for "+h)}(r.style,o),!(o=function(h,p){if(p[h])return p[h];if(h===400&&p[500])return p[500];if(h===500&&p[400])return p[400];var m=RT[h],y=Z_(p,KE,m,h<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+h);return y}(r.weight,o)))throw new Error("Failed to resolve a font for the rule '"+t4(r)+"'.");return o}function e4(c){return c.trimLeft()}function kT(c,t){for(var e=0;e<c.length;){if(c.charAt(e)===t)return[c.substring(0,e),c.substring(e+1)];e+=1}return null}function PT(c){var t=c.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],c.substring(t[0].length)]}var K5,i4,n4,$y=["times"];(function(c){var t,e,i,a,r,o,u,h,p,m=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new h,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new o,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new o,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};c.events.push(["initialized",function(){this.context2d=new y(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,r=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,p=new m}]);var y=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=O;Object.defineProperty(this,"pdf",{get:function(){return H}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(Pt){Q=!!Pt}});var rt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return rt},set:function(Pt){rt=!!Pt}});var at=0;Object.defineProperty(this,"posX",{get:function(){return at},set:function(Pt){isNaN(Pt)||(at=Pt)}});var mt=0;Object.defineProperty(this,"posY",{get:function(){return mt},set:function(Pt){isNaN(Pt)||(mt=Pt)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Pt){var lt;typeof Pt=="number"?lt=[Pt,Pt,Pt,Pt]:((lt=new Array(4))[0]=Pt[0],lt[1]=Pt.length>=2?Pt[1]:lt[0],lt[2]=Pt.length>=3?Pt[2]:lt[0],lt[3]=Pt.length>=4?Pt[3]:lt[1]),p.margin=lt}});var St=!1;Object.defineProperty(this,"autoPaging",{get:function(){return St},set:function(Pt){St=Pt}});var Ct=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ct},set:function(Pt){Ct=Pt}});var Vt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Vt},set:function(Pt){Vt=Pt}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Pt){Pt instanceof m&&(p=Pt)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Pt){p.path=Pt}});var Ht=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ht},set:function(Pt){Ht=Pt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Pt){var lt;lt=w(Pt),this.ctx.fillStyle=lt.style,this.ctx.isFillTransparent=lt.a===0,this.ctx.fillOpacity=lt.a,this.pdf.setFillColor(lt.r,lt.g,lt.b,{a:lt.a}),this.pdf.setTextColor(lt.r,lt.g,lt.b,{a:lt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Pt){var lt=w(Pt);this.ctx.strokeStyle=lt.style,this.ctx.isStrokeTransparent=lt.a===0,this.ctx.strokeOpacity=lt.a,lt.a===0?this.pdf.setDrawColor(255,255,255):(lt.a,this.pdf.setDrawColor(lt.r,lt.g,lt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Pt){["butt","round","square"].indexOf(Pt)!==-1&&(this.ctx.lineCap=Pt,this.pdf.setLineCap(Pt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Pt){isNaN(Pt)||(this.ctx.lineWidth=Pt,this.pdf.setLineWidth(Pt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Pt){["bevel","round","miter"].indexOf(Pt)!==-1&&(this.ctx.lineJoin=Pt,this.pdf.setLineJoin(Pt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Pt){isNaN(Pt)||(this.ctx.miterLimit=Pt,this.pdf.setMiterLimit(Pt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Pt){this.ctx.textBaseline=Pt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Pt){["right","end","center","left","start"].indexOf(Pt)!==-1&&(this.ctx.textAlign=Pt)}});var Wt=null;function Kt(Pt,lt){if(Wt===null){var we=function(ue){var Yt=[];return Object.keys(ue).forEach(function(Qt){ue[Qt].forEach(function(Jt){var te=null;switch(Jt){case"bold":te={family:Qt,weight:"bold"};break;case"italic":te={family:Qt,style:"italic"};break;case"bolditalic":te={family:Qt,weight:"bold",style:"italic"};break;case"":case"normal":te={family:Qt}}te!==null&&(te.ref={name:Qt,style:Jt},Yt.push(te))})}),Yt}(Pt.getFontList());Wt=function(ue){for(var Yt={},Qt=0;Qt<ue.length;++Qt){var Jt=Lw(ue[Qt]),te=Jt.family,ge=Jt.stretch,ke=Jt.style,qe=Jt.weight;Yt[te]=Yt[te]||{},Yt[te][ge]=Yt[te][ge]||{},Yt[te][ge][ke]=Yt[te][ge][ke]||{},Yt[te][ge][ke][qe]=Jt}return Yt}(we.concat(lt))}return Wt}var ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return ve},set:function(Pt){Wt=null,ve=Pt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Pt){var lt;if(this.ctx.font=Pt,(lt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Pt))!==null){var we=lt[1];lt[2];var ue=lt[3],Yt=lt[4];lt[5];var Qt=lt[6],Jt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Yt)[2];Yt=Math.floor(Jt==="px"?parseFloat(Yt)*this.pdf.internal.scaleFactor:Jt==="em"?parseFloat(Yt)*this.pdf.getFontSize():parseFloat(Yt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Yt);var te=function(he){var Xe,ne,ns=[],ti=he.trim();if(ti==="")return $y;if(ti in J_)return[J_[ti]];for(;ti!=="";){switch(ne=null,Xe=(ti=e4(ti)).charAt(0)){case'"':case"'":ne=kT(ti.substring(1),Xe);break;default:ne=PT(ti)}if(ne===null||(ns.push(ne[0]),(ti=e4(ne[1]))!==""&&ti.charAt(0)!==","))return $y;ti=ti.replace(/^,/,"")}return ns}(Qt);if(this.fontFaces){var ge=DT(Kt(this.pdf,this.fontFaces),te.map(function(he){return{family:he,stretch:"normal",weight:ue,style:we}}));this.pdf.setFont(ge.ref.name,ge.ref.style)}else{var ke="";(ue==="bold"||parseInt(ue,10)>=700||we==="bold")&&(ke="bold"),we==="italic"&&(ke+="italic"),ke.length===0&&(ke="normal");for(var qe="",Fe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Re=0;Re<te.length;Re++){if(this.pdf.internal.getFont(te[Re],ke,{noFallback:!0,disableWarning:!0})!==void 0){qe=te[Re];break}if(ke==="bolditalic"&&this.pdf.internal.getFont(te[Re],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qe=te[Re],ke="bold";else if(this.pdf.internal.getFont(te[Re],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qe=te[Re],ke="normal";break}}if(qe===""){for(var Je=0;Je<te.length;Je++)if(Fe[te[Je]]){qe=Fe[te[Je]];break}}qe=qe===""?"Times":qe,this.pdf.setFont(qe,ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Pt){this.ctx.globalCompositeOperation=Pt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Pt){this.ctx.globalAlpha=Pt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Pt){this.ctx.lineDashOffset=Pt,ft.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Pt){this.ctx.lineDash=Pt,ft.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Pt){this.ctx.ignoreClearRect=!!Pt}})};y.prototype.setLineDash=function(O){this.lineDash=O},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){W.call(this,"fill",!1)},y.prototype.stroke=function(){W.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(O,H){if(isNaN(O)||isNaN(H))throw ji.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(O,H));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(O,H)},y.prototype.closePath=function(){var O=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Ti(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){O=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(O.x,O.y)},y.prototype.lineTo=function(O,H){if(isNaN(O)||isNaN(H))throw ji.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(O,H));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),W.call(this,null,!0)},y.prototype.quadraticCurveTo=function(O,H,Q,rt){if(isNaN(Q)||isNaN(rt)||isNaN(O)||isNaN(H))throw ji.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var at=this.ctx.transform.applyToPoint(new o(Q,rt)),mt=this.ctx.transform.applyToPoint(new o(O,H));this.path.push({type:"qct",x1:mt.x,y1:mt.y,x:at.x,y:at.y}),this.ctx.lastPoint=new o(at.x,at.y)},y.prototype.bezierCurveTo=function(O,H,Q,rt,at,mt){if(isNaN(at)||isNaN(mt)||isNaN(O)||isNaN(H)||isNaN(Q)||isNaN(rt))throw ji.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var St=this.ctx.transform.applyToPoint(new o(at,mt)),Ct=this.ctx.transform.applyToPoint(new o(O,H)),Vt=this.ctx.transform.applyToPoint(new o(Q,rt));this.path.push({type:"bct",x1:Ct.x,y1:Ct.y,x2:Vt.x,y2:Vt.y,x:St.x,y:St.y}),this.ctx.lastPoint=new o(St.x,St.y)},y.prototype.arc=function(O,H,Q,rt,at,mt){if(isNaN(O)||isNaN(H)||isNaN(Q)||isNaN(rt)||isNaN(at))throw ji.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(mt=!!mt,!this.ctx.transform.isIdentity){var St=this.ctx.transform.applyToPoint(new o(O,H));O=St.x,H=St.y;var Ct=this.ctx.transform.applyToPoint(new o(0,Q)),Vt=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(Ct.x-Vt.x,2)+Math.pow(Ct.y-Vt.y,2))}Math.abs(at-rt)>=2*Math.PI&&(rt=0,at=2*Math.PI),this.path.push({type:"arc",x:O,y:H,radius:Q,startAngle:rt,endAngle:at,counterclockwise:mt})},y.prototype.arcTo=function(O,H,Q,rt,at){throw new Error("arcTo not implemented.")},y.prototype.rect=function(O,H,Q,rt){if(isNaN(O)||isNaN(H)||isNaN(Q)||isNaN(rt))throw ji.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,H),this.lineTo(O+Q,H),this.lineTo(O+Q,H+rt),this.lineTo(O,H+rt),this.lineTo(O,H),this.lineTo(O+Q,H),this.lineTo(O,H)},y.prototype.fillRect=function(O,H,Q,rt){if(isNaN(O)||isNaN(H)||isNaN(Q)||isNaN(rt))throw ji.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var at={};this.lineCap!=="butt"&&(at.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(at.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,H,Q,rt),this.fill(),at.hasOwnProperty("lineCap")&&(this.lineCap=at.lineCap),at.hasOwnProperty("lineJoin")&&(this.lineJoin=at.lineJoin)}},y.prototype.strokeRect=function(O,H,Q,rt){if(isNaN(O)||isNaN(H)||isNaN(Q)||isNaN(rt))throw ji.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(O,H,Q,rt),this.stroke())},y.prototype.clearRect=function(O,H,Q,rt){if(isNaN(O)||isNaN(H)||isNaN(Q)||isNaN(rt))throw ji.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,H,Q,rt))},y.prototype.save=function(O){O=typeof O!="boolean"||O;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var rt=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=rt}},y.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(H),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(O){var H,Q,rt,at;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))H=0,Q=0,rt=0,at=0;else{var mt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(mt!==null)H=parseInt(mt[1]),Q=parseInt(mt[2]),rt=parseInt(mt[3]),at=1;else if((mt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)H=parseInt(mt[1]),Q=parseInt(mt[2]),rt=parseInt(mt[3]),at=parseFloat(mt[4]);else{if(at=1,typeof O=="string"&&O.charAt(0)!=="#"){var St=new zE(O);O=St.ok?St.toHex():"#000000"}O.length===4?(H=O.substring(1,2),H+=H,Q=O.substring(2,3),Q+=Q,rt=O.substring(3,4),rt+=rt):(H=O.substring(1,3),Q=O.substring(3,5),rt=O.substring(5,7)),H=parseInt(H,16),Q=parseInt(Q,16),rt=parseInt(rt,16)}}return{r:H,g:Q,b:rt,a:at,style:O}},A=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(O,H,Q,rt){if(isNaN(H)||isNaN(Q)||typeof O!="string")throw ji.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(rt=isNaN(rt)?void 0:rt,!A.call(this)){var at=ht(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;K.call(this,{text:O,x:H,y:Q,scale:mt,angle:at,align:this.textAlign,maxWidth:rt})}},y.prototype.strokeText=function(O,H,Q,rt){if(isNaN(H)||isNaN(Q)||typeof O!="string")throw ji.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){rt=isNaN(rt)?void 0:rt;var at=ht(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;K.call(this,{text:O,x:H,y:Q,scale:mt,renderingMode:"stroke",angle:at,align:this.textAlign,maxWidth:rt})}},y.prototype.measureText=function(O){if(typeof O!="string")throw ji.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,Q=this.pdf.internal.scaleFactor,rt=H.internal.getFontSize(),at=H.getStringUnitWidth(O)*rt/H.internal.scaleFactor,mt=function(St){var Ct=(St=St||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ct}}),this};return new mt({width:at*=Math.round(96*Q/72*1e4)/1e4})},y.prototype.scale=function(O,H){if(isNaN(O)||isNaN(H))throw ji.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new h(O,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},y.prototype.rotate=function(O){if(isNaN(O))throw ji.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new h(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},y.prototype.translate=function(O,H){if(isNaN(O)||isNaN(H))throw ji.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new h(1,0,0,1,O,H);this.ctx.transform=this.ctx.transform.multiply(Q)},y.prototype.transform=function(O,H,Q,rt,at,mt){if(isNaN(O)||isNaN(H)||isNaN(Q)||isNaN(rt)||isNaN(at)||isNaN(mt))throw ji.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var St=new h(O,H,Q,rt,at,mt);this.ctx.transform=this.ctx.transform.multiply(St)},y.prototype.setTransform=function(O,H,Q,rt,at,mt){O=isNaN(O)?1:O,H=isNaN(H)?0:H,Q=isNaN(Q)?0:Q,rt=isNaN(rt)?1:rt,at=isNaN(at)?0:at,mt=isNaN(mt)?0:mt,this.ctx.transform=new h(O,H,Q,rt,at,mt)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(O,H,Q,rt,at,mt,St,Ct,Vt){var Ht=this.pdf.getImageProperties(O),Wt=1,Kt=1,ve=1,Pt=1;rt!==void 0&&Ct!==void 0&&(ve=Ct/rt,Pt=Vt/at,Wt=Ht.width/rt*Ct/rt,Kt=Ht.height/at*Vt/at),mt===void 0&&(mt=H,St=Q,H=0,Q=0),rt!==void 0&&Ct===void 0&&(Ct=rt,Vt=at),rt===void 0&&Ct===void 0&&(Ct=Ht.width,Vt=Ht.height);for(var lt,we=this.ctx.transform.decompose(),ue=ht(we.rotate.shx),Yt=new h,Qt=(Yt=(Yt=(Yt=Yt.multiply(we.translate)).multiply(we.skew)).multiply(we.scale)).applyToRectangle(new u(mt-H*ve,St-Q*Pt,rt*Wt,at*Kt)),Jt=M.call(this,Qt),te=[],ge=0;ge<Jt.length;ge+=1)te.indexOf(Jt[ge])===-1&&te.push(Jt[ge]);if(P(te),this.autoPaging)for(var ke=te[0],qe=te[te.length-1],Fe=ke;Fe<qe+1;Fe++){this.pdf.setPage(Fe);var Re=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=Fe===1?this.posY+this.margin[0]:this.margin[0],he=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ne=Fe===1?0:he+(Fe-2)*Xe;if(this.ctx.clip_path.length!==0){var ns=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(lt,this.posX+this.margin[3],-ne+Je+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=ns}var ti=JSON.parse(JSON.stringify(Qt));ti=R([ti],this.posX+this.margin[3],-ne+Je+this.ctx.prevPageLastElemOffset)[0];var Is=(Fe>ke||Fe<qe)&&E.call(this);Is&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Re,Xe,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",ti.x,ti.y,ti.w,ti.h,null,null,ue),Is&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,ue)};var M=function(O,H,Q){var rt=[];H=H||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var at=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":rt.push(Math.floor((O.y+at)/Q)+1);break;case"arc":rt.push(Math.floor((O.y+at-O.radius)/Q)+1),rt.push(Math.floor((O.y+at+O.radius)/Q)+1);break;case"qct":var mt=At(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);rt.push(Math.floor((mt.y+at)/Q)+1),rt.push(Math.floor((mt.y+mt.h+at)/Q)+1);break;case"bct":var St=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);rt.push(Math.floor((St.y+at)/Q)+1),rt.push(Math.floor((St.y+St.h+at)/Q)+1);break;case"rect":rt.push(Math.floor((O.y+at)/Q)+1),rt.push(Math.floor((O.y+O.h+at)/Q)+1)}for(var Ct=0;Ct<rt.length;Ct+=1)for(;this.pdf.internal.getNumberOfPages()<rt[Ct];)L.call(this);return rt},L=function(){var O=this.fillStyle,H=this.strokeStyle,Q=this.font,rt=this.lineCap,at=this.lineWidth,mt=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=H,this.font=Q,this.lineCap=rt,this.lineWidth=at,this.lineJoin=mt},R=function(O,H,Q){for(var rt=0;rt<O.length;rt++)switch(O[rt].type){case"bct":O[rt].x2+=H,O[rt].y2+=Q;case"qct":O[rt].x1+=H,O[rt].y1+=Q;case"mt":case"lt":case"arc":default:O[rt].x+=H,O[rt].y+=Q}return O},P=function(O){return O.sort(function(H,Q){return H-Q})},W=function(O,H){for(var Q,rt,at=this.fillStyle,mt=this.strokeStyle,St=this.lineCap,Ct=this.lineWidth,Vt=Math.abs(Ct*this.ctx.transform.scaleX),Ht=this.lineJoin,Wt=JSON.parse(JSON.stringify(this.path)),Kt=JSON.parse(JSON.stringify(this.path)),ve=[],Pt=0;Pt<Kt.length;Pt++)if(Kt[Pt].x!==void 0)for(var lt=M.call(this,Kt[Pt]),we=0;we<lt.length;we+=1)ve.indexOf(lt[we])===-1&&ve.push(lt[we]);for(var ue=0;ue<ve.length;ue++)for(;this.pdf.internal.getNumberOfPages()<ve[ue];)L.call(this);if(P(ve),this.autoPaging)for(var Yt=ve[0],Qt=ve[ve.length-1],Jt=Yt;Jt<Qt+1;Jt++){this.pdf.setPage(Jt),this.fillStyle=at,this.strokeStyle=mt,this.lineCap=St,this.lineWidth=Vt,this.lineJoin=Ht;var te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ge=Jt===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=Jt===1?0:ke+(Jt-2)*qe;if(this.ctx.clip_path.length!==0){var Re=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Q,this.posX+this.margin[3],-Fe+ge+this.ctx.prevPageLastElemOffset),X.call(this,O,!0),this.path=Re}if(rt=JSON.parse(JSON.stringify(Wt)),this.path=R(rt,this.posX+this.margin[3],-Fe+ge+this.ctx.prevPageLastElemOffset),H===!1||Jt===0){var Je=(Jt>Yt||Jt<Qt)&&E.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],te,qe,null).clip().discardPath()),X.call(this,O,H),Je&&this.pdf.restoreGraphicsState()}this.lineWidth=Ct}else this.lineWidth=Vt,X.call(this,O,H),this.lineWidth=Ct;this.path=Wt},X=function(O,H){if((O!=="stroke"||H||!N.call(this))&&(O==="stroke"||H||!A.call(this))){for(var Q,rt,at=[],mt=this.path,St=0;St<mt.length;St++){var Ct=mt[St];switch(Ct.type){case"begin":at.push({begin:!0});break;case"close":at.push({close:!0});break;case"mt":at.push({start:Ct,deltas:[],abs:[]});break;case"lt":var Vt=at.length;if(mt[St-1]&&!isNaN(mt[St-1].x)&&(Q=[Ct.x-mt[St-1].x,Ct.y-mt[St-1].y],Vt>0)){for(;Vt>=0;Vt--)if(at[Vt-1].close!==!0&&at[Vt-1].begin!==!0){at[Vt-1].deltas.push(Q),at[Vt-1].abs.push(Ct);break}}break;case"bct":Q=[Ct.x1-mt[St-1].x,Ct.y1-mt[St-1].y,Ct.x2-mt[St-1].x,Ct.y2-mt[St-1].y,Ct.x-mt[St-1].x,Ct.y-mt[St-1].y],at[at.length-1].deltas.push(Q);break;case"qct":var Ht=mt[St-1].x+2/3*(Ct.x1-mt[St-1].x),Wt=mt[St-1].y+2/3*(Ct.y1-mt[St-1].y),Kt=Ct.x+2/3*(Ct.x1-Ct.x),ve=Ct.y+2/3*(Ct.y1-Ct.y),Pt=Ct.x,lt=Ct.y;Q=[Ht-mt[St-1].x,Wt-mt[St-1].y,Kt-mt[St-1].x,ve-mt[St-1].y,Pt-mt[St-1].x,lt-mt[St-1].y],at[at.length-1].deltas.push(Q);break;case"arc":at.push({deltas:[],abs:[],arc:!0}),Array.isArray(at[at.length-1].abs)&&at[at.length-1].abs.push(Ct)}}rt=H?null:O==="stroke"?"stroke":"fill";for(var we=!1,ue=0;ue<at.length;ue++)if(at[ue].arc)for(var Yt=at[ue].abs,Qt=0;Qt<Yt.length;Qt++){var Jt=Yt[Qt];Jt.type==="arc"?Z.call(this,Jt.x,Jt.y,Jt.radius,Jt.startAngle,Jt.endAngle,Jt.counterclockwise,void 0,H,!we):ot.call(this,Jt.x,Jt.y),we=!0}else if(at[ue].close===!0)this.pdf.internal.out("h"),we=!1;else if(at[ue].begin!==!0){var te=at[ue].start.x,ge=at[ue].start.y;st.call(this,at[ue].deltas,te,ge),we=!0}rt&&ct.call(this,rt),H&&bt.call(this)}},it=function(O){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-Q;case"top":return O+H-Q;case"hanging":return O+H-2*Q;case"middle":return O+H/2-Q;case"ideographic":return O;case"alphabetic":default:return O}},J=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(H,Q){this.colorStops.push([H,Q])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Z=function(O,H,Q,rt,at,mt,St,Ct,Vt){for(var Ht=U.call(this,Q,rt,at,mt),Wt=0;Wt<Ht.length;Wt++){var Kt=Ht[Wt];Wt===0&&(Vt?z.call(this,Kt.x1+O,Kt.y1+H):ot.call(this,Kt.x1+O,Kt.y1+H)),Et.call(this,O,H,Kt.x2,Kt.y2,Kt.x3,Kt.y3,Kt.x4,Kt.y4)}Ct?bt.call(this):ct.call(this,St)},ct=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},bt=function(){this.pdf.clip(),this.pdf.discardPath()},z=function(O,H){this.pdf.internal.out(e(O)+" "+i(H)+" m")},K=function(O){var H;switch(O.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var Q=this.pdf.getTextDimensions(O.text),rt=it.call(this,O.y),at=J.call(this,rt)-Q.h,mt=this.ctx.transform.applyToPoint(new o(O.x,rt)),St=this.ctx.transform.decompose(),Ct=new h;Ct=(Ct=(Ct=Ct.multiply(St.translate)).multiply(St.skew)).multiply(St.scale);for(var Vt,Ht,Wt,Kt=this.ctx.transform.applyToRectangle(new u(O.x,rt,Q.w,Q.h)),ve=Ct.applyToRectangle(new u(O.x,at,Q.w,Q.h)),Pt=M.call(this,ve),lt=[],we=0;we<Pt.length;we+=1)lt.indexOf(Pt[we])===-1&&lt.push(Pt[we]);if(P(lt),this.autoPaging)for(var ue=lt[0],Yt=lt[lt.length-1],Qt=ue;Qt<Yt+1;Qt++){this.pdf.setPage(Qt);var Jt=Qt===1?this.posY+this.margin[0]:this.margin[0],te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ge=this.pdf.internal.pageSize.height-this.margin[2],ke=ge-this.margin[0],qe=this.pdf.internal.pageSize.width-this.margin[1],Fe=qe-this.margin[3],Re=Qt===1?0:te+(Qt-2)*ke;if(this.ctx.clip_path.length!==0){var Je=this.path;Vt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Vt,this.posX+this.margin[3],-1*Re+Jt),X.call(this,"fill",!0),this.path=Je}var he=R([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-Re+Jt+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(Ht=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ht*O.scale),Wt=this.lineWidth,this.lineWidth=Wt*O.scale);var Xe=this.autoPaging!=="text";if(Xe||he.y+he.h<=ge){if(Xe||he.y>=Jt&&he.x<=qe){var ne=Xe?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||qe-he.x)[0],ns=R([JSON.parse(JSON.stringify(Kt))],this.posX+this.margin[3],-Re+Jt+this.ctx.prevPageLastElemOffset)[0],ti=Xe&&(Qt>ue||Qt<Yt)&&E.call(this);ti&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,ke,null).clip().discardPath()),this.pdf.text(ne,ns.x,ns.y,{angle:O.angle,align:H,renderingMode:O.renderingMode}),ti&&this.pdf.restoreGraphicsState()}}else he.y<ge&&(this.ctx.prevPageLastElemOffset+=ge-he.y);O.scale>=.01&&(this.pdf.setFontSize(Ht),this.lineWidth=Wt)}else O.scale>=.01&&(Ht=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ht*O.scale),Wt=this.lineWidth,this.lineWidth=Wt*O.scale),this.pdf.text(O.text,mt.x+this.posX,mt.y+this.posY,{angle:O.angle,align:H,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(Ht),this.lineWidth=Wt)},ot=function(O,H,Q,rt){Q=Q||0,rt=rt||0,this.pdf.internal.out(e(O+Q)+" "+i(H+rt)+" l")},st=function(O,H,Q){return this.pdf.lines(O,H,Q,null,null)},Et=function(O,H,Q,rt,at,mt,St,Ct){this.pdf.internal.out([t(a(Q+O)),t(r(rt+H)),t(a(at+O)),t(r(mt+H)),t(a(St+O)),t(r(Ct+H)),"c"].join(" "))},U=function(O,H,Q,rt){for(var at=2*Math.PI,mt=Math.PI/2;H>Q;)H-=at;var St=Math.abs(Q-H);St<at&&rt&&(St=at-St);for(var Ct=[],Vt=rt?-1:1,Ht=H;St>1e-5;){var Wt=Ht+Vt*Math.min(St,mt);Ct.push(tt.call(this,O,Ht,Wt)),St-=Math.abs(Wt-Ht),Ht=Wt}return Ct},tt=function(O,H,Q){var rt=(Q-H)/2,at=O*Math.cos(rt),mt=O*Math.sin(rt),St=at,Ct=-mt,Vt=St*St+Ct*Ct,Ht=Vt+St*at+Ct*mt,Wt=4/3*(Math.sqrt(2*Vt*Ht)-Ht)/(St*mt-Ct*at),Kt=St-Wt*Ct,ve=Ct+Wt*St,Pt=Kt,lt=-ve,we=rt+H,ue=Math.cos(we),Yt=Math.sin(we);return{x1:O*Math.cos(H),y1:O*Math.sin(H),x2:Kt*ue-ve*Yt,y2:Kt*Yt+ve*ue,x3:Pt*ue-lt*Yt,y3:Pt*Yt+lt*ue,x4:O*Math.cos(Q),y4:O*Math.sin(Q)}},ht=function(O){return 180*O/Math.PI},At=function(O,H,Q,rt,at,mt){var St=O+.5*(Q-O),Ct=H+.5*(rt-H),Vt=at+.5*(Q-at),Ht=mt+.5*(rt-mt),Wt=Math.min(O,at,St,Vt),Kt=Math.max(O,at,St,Vt),ve=Math.min(H,mt,Ct,Ht),Pt=Math.max(H,mt,Ct,Ht);return new u(Wt,ve,Kt-Wt,Pt-ve)},V=function(O,H,Q,rt,at,mt,St,Ct){var Vt,Ht,Wt,Kt,ve,Pt,lt,we,ue,Yt,Qt,Jt,te,ge,ke=Q-O,qe=rt-H,Fe=at-Q,Re=mt-rt,Je=St-at,he=Ct-mt;for(Ht=0;Ht<41;Ht++)ue=(lt=(Wt=O+(Vt=Ht/40)*ke)+Vt*((ve=Q+Vt*Fe)-Wt))+Vt*(ve+Vt*(at+Vt*Je-ve)-lt),Yt=(we=(Kt=H+Vt*qe)+Vt*((Pt=rt+Vt*Re)-Kt))+Vt*(Pt+Vt*(mt+Vt*he-Pt)-we),Ht==0?(Qt=ue,Jt=Yt,te=ue,ge=Yt):(Qt=Math.min(Qt,ue),Jt=Math.min(Jt,Yt),te=Math.max(te,ue),ge=Math.max(ge,Yt));return new u(Math.round(Qt),Math.round(Jt),Math.round(te-Qt),Math.round(ge-Jt))},ft=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,H,Q=(O=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:H}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Ne.API),function(c){var t=function(r){var o,u,h,p,m,y,w,A,N,E;for(u=[],h=0,p=(r+=o="\0\0\0\0".slice(r.length%4||4)).length;p>h;h+=4)(m=(r.charCodeAt(h)<<24)+(r.charCodeAt(h+1)<<16)+(r.charCodeAt(h+2)<<8)+r.charCodeAt(h+3))!==0?(y=(m=((m=((m=((m=(m-(E=m%85))/85)-(N=m%85))/85)-(A=m%85))/85)-(w=m%85))/85)%85,u.push(y+33,w+33,A+33,N+33,E+33)):u.push(122);return function(M,L){for(var R=L;R>0;R--)M.pop()}(u,o.length),String.fromCharCode.apply(String,u)+"~>"},e=function(r){var o,u,h,p,m,y=String,w="length",A=255,N="charCodeAt",E="slice",M="replace";for(r[E](-2),r=r[E](0,-2)[M](/\s/g,"")[M]("z","!!!!!"),h=[],p=0,m=(r+=o="uuuuu"[E](r[w]%5||5))[w];m>p;p+=5)u=52200625*(r[N](p)-33)+614125*(r[N](p+1)-33)+7225*(r[N](p+2)-33)+85*(r[N](p+3)-33)+(r[N](p+4)-33),h.push(A&u>>24,A&u>>16,A&u>>8,A&u);return function(L,R){for(var P=R;P>0;P--)L.pop()}(h,o[w]),y.fromCharCode.apply(y,h)},i=function(r){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((r=r.replace(/\s/g,"")).indexOf(">")!==-1&&(r=r.substr(0,r.indexOf(">"))),r.length%2&&(r+="0"),o.test(r)===!1)return"";for(var u="",h=0;h<r.length;h+=2)u+=String.fromCharCode("0x"+(r[h]+r[h+1]));return u},a=function(r){for(var o=new Uint8Array(r.length),u=r.length;u--;)o[u]=r.charCodeAt(u);return r=(o=ww(o)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};c.processDataByFilters=function(r,o){var u=0,h=r||"",p=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":h=e(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(m){return("0"+m.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=a(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}}(Ne.API),function(c){c.loadFile=function(t,e,i){return function(a,r,o){r=r!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=function(h,p,m){var y=new XMLHttpRequest,w=0,A=function(N){var E=N.length,M=[],L=String.fromCharCode;for(w=0;w<E;w+=1)M.push(L(255&N.charCodeAt(w)));return M.join("")};if(y.open("GET",h,!p),y.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(y.onload=function(){y.status===200?m(A(this.responseText)):m(void 0)}),y.send(null),p&&y.status===200)return A(y.responseText)}(a,r,o)}catch{}return u}(t,e,i)},c.loadImageFile=c.loadFile}(Ne.API),function(c){function t(){return(Ce.html2canvas?Promise.resolve(Ce.html2canvas):mw(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(Ce.DOMPurify?Promise.resolve(Ce.DOMPurify):mw(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var u=Ti(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(o,u){var h=document.createElement(o);for(var p in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[p]=u.style[p];return h},r=function o(u){var h=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),p=o.convert(Promise.resolve(),h);return p=(p=p.setProgress(1,o,1,[o])).set(u)};(r.prototype=Object.create(Promise.prototype)).constructor=r,r.convert=function(o,u){return o.__proto__=u||r.prototype,o},r.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},r.prototype.from=function(o,u){return this.then(function(){switch(u=u||function(h){switch(i(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(h){return this.set({src:a("div",{innerHTML:o,dompurify:h})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},r.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},r.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function h(p,m){for(var y=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),w=p.firstChild;w;w=w.nextSibling)m!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||y.appendChild(h(w,m));return p.nodeType===1&&(p.nodeName==="CANVAS"?(y.width=p.width,y.height=p.height,y.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(y.value=p.value),y.addEventListener("load",function(){y.scrollTop=p.scrollTop,y.scrollLeft=p.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},r.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},r.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var h=this.opt.jsPDF,p=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var w=0;w<p.length;++w){var A=p[w],N=A.src.find(function(E){return E.format==="truetype"});N&&h.addFont(N.url,A.ref.name,A.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,h.context2d.save(!0),u(this.prop.container,y)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},r.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},r.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},r.prototype.output=function(o,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},r.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},r.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},r.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},r.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},r.prototype.set=function(o){if(i(o)!=="object")return this;var u=Object.keys(o||{}).map(function(h){if(h in r.template.prop)return function(){this.prop[h]=o[h]};switch(h){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[h]=o[h]}}},this);return this.then(function(){return this.thenList(u)})},r.prototype.get=function(o,u){return this.then(function(){var h=o in r.template.prop?this.prop[o]:this.opt[o];return u?u(h):h})},r.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},r.prototype.setPageSize=function(o){function u(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(o=o||Ne.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},r.prototype.setProgress=function(o,u,h,p){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},r.prototype.updateProgress=function(o,u,h,p){return this.setProgress(o?this.progress.val+o:null,u||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},r.prototype.then=function(o,u){var h=this;return this.thenCore(o,u,function(p,m){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(y){return h.updateProgress(null,p),y}).then(p,m).then(function(y){return h.updateProgress(1),y})})},r.prototype.thenCore=function(o,u,h){h=h||Promise.prototype.then,o&&(o=o.bind(this)),u&&(u=u.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:r.convert(Object.assign({},this),Promise.prototype),m=h.call(p,o,u);return r.convert(m,this.__proto__)},r.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},r.prototype.thenList=function(o){var u=this;return o.forEach(function(h){u=u.thenCore(h)}),u},r.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return r.convert(u,this)},r.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},r.prototype.error=function(o){return this.then(function(){throw new Error(o)})},r.prototype.using=r.prototype.set,r.prototype.saveAs=r.prototype.save,r.prototype.export=r.prototype.output,r.prototype.run=r.prototype.then,Ne.getPageSize=function(o,u,h){if(Ti(o)==="object"){var p=o;o=p.orientation,u=p.unit||u,h=p.format||h}u=u||"mm",h=h||"a4",o=(""+(o||"P")).toLowerCase();var m,y=(""+h).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var A,N=0,E=0;if(w.hasOwnProperty(y))N=w[y][1]/m,E=w[y][0]/m;else try{N=h[1],E=h[0]}catch{throw new Error("Invalid format: "+h)}if(o==="p"||o==="portrait")o="p",E>N&&(A=E,E=N,N=A);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",N>E&&(A=E,E=N,N=A)}return{width:E,height:N,unit:u,k:m,orientation:o}},c.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Lw):null;var h=new r(u);return u.worker?h:h.from(o).doCallback()}}(Ne.API),Ne.API.addJS=function(c){return n4=c,this.internal.events.subscribe("postPutResources",function(){K5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(K5+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),i4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){K5!==void 0&&i4!==void 0&&this.internal.out("/Names <</JavaScript "+K5+" 0 R>>")}),this},function(c){var t;c.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=e.outline.render().split(/\r\n/),r=0;r<a.length;r++){var o=a[r],u=i.exec(o);if(u!=null){var h=u[1];e.internal.newObjectDeferredBegin(h,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,m=[];for(r=0;r<p;r++){var y=e.internal.newObject();m.push(y);var w=e.internal.getPageInfo(r+1);e.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var A=e.internal.newObject();for(e.internal.write("<< /Names [ "),r=0;r<m.length;r++)e.internal.write("(page_"+(r+1)+")"+m[r]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+A+" 0 R"),e.internal.write(">>","endobj")}}]),c.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),c.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,a,r){var o={title:a,options:r,children:[]};return i==null&&(i=this.root),i.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var a=0;a<i.children.length;a++)this.genIds_r(i.children[a])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<i.children.length;r++){var o=i.children[r];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),r>0&&this.line("/Prev "+this.makeRef(i.children[r-1])),r<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[r+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var h=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var p=0;p<i.children.length;p++)this.renderItems(i.children[p])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,a){for(var r=0;r<a.children.length;r++)i.count++,this.count_r(i,a.children[r]);return i.count}}])}(Ne.API),function(c){var t=[192,193,194,195,196,197,198,199];c.processJPEG=function(e,i,a,r,o,u){var h,p=this.decode.DCT_DECODE,m=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(h=function(y){for(var w,A=256*y.charCodeAt(4)+y.charCodeAt(5),N=y.length,E={width:0,height:0,numcomponents:1},M=4;M<N;M+=2){if(M+=A,t.indexOf(y.charCodeAt(M+1))!==-1){w=256*y.charCodeAt(M+5)+y.charCodeAt(M+6),E={width:256*y.charCodeAt(M+7)+y.charCodeAt(M+8),height:w,numcomponents:y.charCodeAt(M+9)};break}A=256*y.charCodeAt(M+2)+y.charCodeAt(M+3)}return E}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}m={data:e,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:p,index:i,alias:a}}return m}}(Ne.API);var rg,$5,s4,a4,r4,IT=function(){var c,t,e;function i(r){var o,u,h,p,m,y,w,A,N,E,M,L,R,P;for(this.data=r,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(o=this.readUInt32(),N=(function(){var W,X;for(X=[],W=0;W<4;++W)X.push(String.fromCharCode(this.data[this.pos++]));return X}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},m=this.readUInt16(),p=this.readUInt16()||100,y.delay=1e3*m/p,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,o-=4),r=(y!=null?y.data:void 0)||this.imgData,L=0;0<=o?L<o:L>o;0<=o?++L:--L)r.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((E=h-this.transparency.indexed.length)>0)for(R=0;0<=E?R<E:R>E;0<=E?++R:--R)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":w=(M=this.read(o)).indexOf(0),A=String.fromCharCode.apply(String,M.slice(0,w)),this.text[A]=String.fromCharCode.apply(String,M.slice(w+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(r){var o,u;for(u=[],o=0;0<=r?o<r:o>r;0<=r?++o:--o)u.push(this.data[this.pos++]);return u},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(r){var o=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*o),h=0,p=this;if(r==null&&(r=this.imgData),r.length===0)return new Uint8Array(0);function m(y,w,A,N){var E,M,L,R,P,W,X,it,J,Z,ct,bt,z,K,ot,st,Et,U,tt,ht,At,V=Math.ceil((p.width-y)/A),ft=Math.ceil((p.height-w)/N),O=p.width==V&&p.height==ft;for(K=o*V,bt=O?u:new Uint8Array(K*ft),W=r.length,z=0,M=0;z<ft&&h<W;){switch(r[h++]){case 0:for(R=Et=0;Et<K;R=Et+=1)bt[M++]=r[h++];break;case 1:for(R=U=0;U<K;R=U+=1)E=r[h++],P=R<o?0:bt[M-o],bt[M++]=(E+P)%256;break;case 2:for(R=tt=0;tt<K;R=tt+=1)E=r[h++],L=(R-R%o)/o,ot=z&&bt[(z-1)*K+L*o+R%o],bt[M++]=(ot+E)%256;break;case 3:for(R=ht=0;ht<K;R=ht+=1)E=r[h++],L=(R-R%o)/o,P=R<o?0:bt[M-o],ot=z&&bt[(z-1)*K+L*o+R%o],bt[M++]=(E+Math.floor((P+ot)/2))%256;break;case 4:for(R=At=0;At<K;R=At+=1)E=r[h++],L=(R-R%o)/o,P=R<o?0:bt[M-o],z===0?ot=st=0:(ot=bt[(z-1)*K+L*o+R%o],st=L&&bt[(z-1)*K+(L-1)*o+R%o]),X=P+ot-st,it=Math.abs(X-P),Z=Math.abs(X-ot),ct=Math.abs(X-st),J=it<=Z&&it<=ct?P:Z<=ct?ot:st,bt[M++]=(E+J)%256;break;default:throw new Error("Invalid filter algorithm: "+r[h-1])}if(!O){var H=((w+z*N)*p.width+y)*o,Q=z*K;for(R=0;R<V;R+=1){for(var rt=0;rt<o;rt+=1)u[H++]=bt[Q++];H+=(A-1)*o}}z++}}return r=pT(r),p.interlaceMethod==1?(m(0,0,8,8),m(4,0,8,8),m(0,4,4,8),m(2,0,4,4),m(0,2,2,4),m(1,0,2,2),m(0,1,1,2)):m(0,0,1,1),u},i.prototype.decodePalette=function(){var r,o,u,h,p,m,y,w,A;for(u=this.palette,m=this.transparency.indexed||[],p=new Uint8Array((m.length||0)+u.length),h=0,r=0,o=y=0,w=u.length;y<w;o=y+=3)p[h++]=u[o],p[h++]=u[o+1],p[h++]=u[o+2],p[h++]=(A=m[r++])!=null?A:255;return p},i.prototype.copyToImageData=function(r,o){var u,h,p,m,y,w,A,N,E,M,L;if(h=this.colors,E=null,u=this.hasAlphaChannel,this.palette.length&&(E=(L=this._decodedPalette)!=null?L:this._decodedPalette=this.decodePalette(),h=4,u=!0),N=(p=r.data||r).length,y=E||o,m=w=0,h===1)for(;m<N;)A=E?4*o[m/4]:w,M=y[A++],p[m++]=M,p[m++]=M,p[m++]=M,p[m++]=u?y[A++]:255,w=A;else for(;m<N;)A=E?4*o[m/4]:w,p[m++]=y[A++],p[m++]=y[A++],p[m++]=y[A++],p[m++]=u?y[A++]:255,w=A},i.prototype.decode=function(){var r;return r=new Uint8Array(this.width*this.height*4),this.copyToImageData(r,this.decodePixels()),r};var a=function(){if(Object.prototype.toString.call(Ce)==="[object Window]"){try{t=Ce.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),c=function(r){var o;if(a()===!0)return e.width=r.width,e.height=r.height,e.clearRect(0,0,r.width,r.height),e.putImageData(r,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(r){var o,u,h,p,m,y,w,A;if(this.animation){for(A=[],u=m=0,y=(w=this.animation.frames).length;m<y;u=++m)o=w[u],h=r.createImageData(o.width,o.height),p=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(h,p),o.imageData=h,A.push(o.image=c(h));return A}},i.prototype.renderFrame=function(r,o){var u,h,p;return u=(h=this.animation.frames)[o],p=h[o-1],o===0&&r.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?r.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&r.putImageData(p.imageData,p.xOffset,p.yOffset),u.blendOp===0&&r.clearRect(u.xOffset,u.yOffset,u.width,u.height),r.drawImage(u.image,u.xOffset,u.yOffset)},i.prototype.animate=function(r){var o,u,h,p,m,y,w=this;return u=0,y=this.animation,p=y.numFrames,h=y.frames,m=y.numPlays,(o=function(){var A,N;if(A=u++%p,N=h[A],w.renderFrame(r,A),p>1&&u/p<m)return w.animation._timeout=setTimeout(o,N.delay)})()},i.prototype.stopAnimation=function(){var r;return clearTimeout((r=this.animation)!=null?r._timeout:void 0)},i.prototype.render=function(r){var o,u;return r._png&&r._png.stopAnimation(),r._png=this,r.width=this.width,r.height=this.height,o=r.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(u=o.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),o.putImageData(u,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function FT(c){var t=0;if(c[t++]!==71||c[t++]!==73||c[t++]!==70||c[t++]!==56||(c[t++]+1&253)!=56||c[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=c[t++]|c[t++]<<8,i=c[t++]|c[t++]<<8,a=c[t++],r=a>>7,o=1<<(7&a)+1;c[t++],c[t++];var u=null,h=null;r&&(u=t,h=o,t+=3*o);var p=!0,m=[],y=0,w=null,A=0,N=null;for(this.width=e,this.height=i;p&&t<c.length;)switch(c[t++]){case 33:switch(c[t++]){case 255:if(c[t]!==11||c[t+1]==78&&c[t+2]==69&&c[t+3]==84&&c[t+4]==83&&c[t+5]==67&&c[t+6]==65&&c[t+7]==80&&c[t+8]==69&&c[t+9]==50&&c[t+10]==46&&c[t+11]==48&&c[t+12]==3&&c[t+13]==1&&c[t+16]==0)t+=14,N=c[t++]|c[t++]<<8,t++;else for(t+=12;;){if(!((z=c[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}break;case 249:if(c[t++]!==4||c[t+4]!==0)throw new Error("Invalid graphics extension block.");var E=c[t++];y=c[t++]|c[t++]<<8,w=c[t++],(1&E)==0&&(w=null),A=E>>2&7,t++;break;case 254:for(;;){if(!((z=c[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}break;default:throw new Error("Unknown graphic control label: 0x"+c[t-1].toString(16))}break;case 44:var M=c[t++]|c[t++]<<8,L=c[t++]|c[t++]<<8,R=c[t++]|c[t++]<<8,P=c[t++]|c[t++]<<8,W=c[t++],X=W>>6&1,it=1<<(7&W)+1,J=u,Z=h,ct=!1;W>>7&&(ct=!0,J=t,Z=it,t+=3*it);var bt=t;for(t++;;){var z;if(!((z=c[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}m.push({x:M,y:L,width:R,height:P,has_local_palette:ct,palette_offset:J,palette_size:Z,data_offset:bt,data_length:t-bt,transparent_index:w,interlaced:!!X,delay:y,disposal:A});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+c[t-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return N},this.frameInfo=function(K){if(K<0||K>=m.length)throw new Error("Frame index out of range.");return m[K]},this.decodeAndBlitFrameBGRA=function(K,ot){var st=this.frameInfo(K),Et=st.width*st.height,U=new Uint8Array(Et);o4(c,st.data_offset,U,Et);var tt=st.palette_offset,ht=st.transparent_index;ht===null&&(ht=256);var At=st.width,V=e-At,ft=At,O=4*(st.y*e+st.x),H=4*((st.y+st.height)*e+st.x),Q=O,rt=4*V;st.interlaced===!0&&(rt+=4*e*7);for(var at=8,mt=0,St=U.length;mt<St;++mt){var Ct=U[mt];if(ft===0&&(ft=At,(Q+=rt)>=H&&(rt=4*V+4*e*(at-1),Q=O+(At+V)*(at<<1),at>>=1)),Ct===ht)Q+=4;else{var Vt=c[tt+3*Ct],Ht=c[tt+3*Ct+1],Wt=c[tt+3*Ct+2];ot[Q++]=Wt,ot[Q++]=Ht,ot[Q++]=Vt,ot[Q++]=255}--ft}},this.decodeAndBlitFrameRGBA=function(K,ot){var st=this.frameInfo(K),Et=st.width*st.height,U=new Uint8Array(Et);o4(c,st.data_offset,U,Et);var tt=st.palette_offset,ht=st.transparent_index;ht===null&&(ht=256);var At=st.width,V=e-At,ft=At,O=4*(st.y*e+st.x),H=4*((st.y+st.height)*e+st.x),Q=O,rt=4*V;st.interlaced===!0&&(rt+=4*e*7);for(var at=8,mt=0,St=U.length;mt<St;++mt){var Ct=U[mt];if(ft===0&&(ft=At,(Q+=rt)>=H&&(rt=4*V+4*e*(at-1),Q=O+(At+V)*(at<<1),at>>=1)),Ct===ht)Q+=4;else{var Vt=c[tt+3*Ct],Ht=c[tt+3*Ct+1],Wt=c[tt+3*Ct+2];ot[Q++]=Vt,ot[Q++]=Ht,ot[Q++]=Wt,ot[Q++]=255}--ft}}}function o4(c,t,e,i){for(var a=c[t++],r=1<<a,o=r+1,u=o+1,h=a+1,p=(1<<h)-1,m=0,y=0,w=0,A=c[t++],N=new Int32Array(4096),E=null;;){for(;m<16&&A!==0;)y|=c[t++]<<m,m+=8,A===1?A=c[t++]:--A;if(m<h)break;var M=y&p;if(y>>=h,m-=h,M!==r){if(M===o)break;for(var L=M<u?M:E,R=0,P=L;P>r;)P=N[P]>>8,++R;var W=P;if(w+R+(L!==M?1:0)>i)return void ji.log("Warning, gif stream longer than expected.");e[w++]=W;var X=w+=R;for(L!==M&&(e[w++]=W),P=L;R--;)P=N[P],e[--X]=255&P,P>>=8;E!==null&&u<4096&&(N[u++]=E<<8|W,u>=p+1&&h<12&&(++h,p=p<<1|1)),E=M}else u=o+1,p=(1<<(h=a+1))-1,E=null}return w!==i&&ji.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qy(c){var t,e,i,a,r,o=Math.floor,u=new Array(64),h=new Array(64),p=new Array(64),m=new Array(64),y=new Array(65535),w=new Array(65535),A=new Array(64),N=new Array(64),E=[],M=0,L=7,R=new Array(64),P=new Array(64),W=new Array(64),X=new Array(256),it=new Array(2048),J=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ct=[0,1,2,3,4,5,6,7,8,9,10,11],bt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],K=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ot=[0,1,2,3,4,5,6,7,8,9,10,11],st=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Et=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(O,H){for(var Q=0,rt=0,at=new Array,mt=1;mt<=16;mt++){for(var St=1;St<=O[mt];St++)at[H[rt]]=[],at[H[rt]][0]=Q,at[H[rt]][1]=mt,rt++,Q++;Q*=2}return at}function tt(O){for(var H=O[0],Q=O[1]-1;Q>=0;)H&1<<Q&&(M|=1<<L),Q--,--L<0&&(M==255?(ht(255),ht(0)):ht(M),L=7,M=0)}function ht(O){E.push(O)}function At(O){ht(O>>8&255),ht(255&O)}function V(O,H,Q,rt,at){for(var mt,St=at[0],Ct=at[240],Vt=function(Yt,Qt){var Jt,te,ge,ke,qe,Fe,Re,Je,he,Xe,ne=0;for(he=0;he<8;++he){Jt=Yt[ne],te=Yt[ne+1],ge=Yt[ne+2],ke=Yt[ne+3],qe=Yt[ne+4],Fe=Yt[ne+5],Re=Yt[ne+6];var ns=Jt+(Je=Yt[ne+7]),ti=Jt-Je,Is=te+Re,si=te-Re,_i=ge+Fe,Fs=ge-Fe,pi=ke+qe,Vo=ke-qe,Vi=ns+pi,sa=ns-pi,aa=Is+_i,$i=Is-_i;Yt[ne]=Vi+aa,Yt[ne+4]=Vi-aa;var Oe=.707106781*($i+sa);Yt[ne+2]=sa+Oe,Yt[ne+6]=sa-Oe;var ui=.382683433*((Vi=Vo+Fs)-($i=si+ti)),Jr=.5411961*Vi+ui,_n=1.306562965*$i+ui,Ua=.707106781*(aa=Fs+si),Er=ti+Ua,de=ti-Ua;Yt[ne+5]=de+Jr,Yt[ne+3]=de-Jr,Yt[ne+1]=Er+_n,Yt[ne+7]=Er-_n,ne+=8}for(ne=0,he=0;he<8;++he){Jt=Yt[ne],te=Yt[ne+8],ge=Yt[ne+16],ke=Yt[ne+24],qe=Yt[ne+32],Fe=Yt[ne+40],Re=Yt[ne+48];var Mi=Jt+(Je=Yt[ne+56]),Yi=Jt-Je,xn=te+Re,on=te-Re,mn=ge+Fe,ra=ge-Fe,ec=ke+qe,oa=ke-qe,la=Mi+ec,ss=Mi-ec,as=xn+mn,Bs=xn-mn;Yt[ne]=la+as,Yt[ne+32]=la-as;var Kn=.707106781*(Bs+ss);Yt[ne+16]=ss+Kn,Yt[ne+48]=ss-Kn;var xi=.382683433*((la=oa+ra)-(Bs=on+Yi)),Yo=.5411961*la+xi,ic=1.306562965*Bs+xi,Ea=.707106781*(as=ra+on),Ha=Yi+Ea,Au=Yi-Ea;Yt[ne+40]=Au+Yo,Yt[ne+24]=Au-Yo,Yt[ne+8]=Ha+ic,Yt[ne+56]=Ha-ic,ne++}for(he=0;he<64;++he)Xe=Yt[he]*Qt[he],A[he]=Xe>0?Xe+.5|0:Xe-.5|0;return A}(O,H),Ht=0;Ht<64;++Ht)N[J[Ht]]=Vt[Ht];var Wt=N[0]-Q;Q=N[0],Wt==0?tt(rt[0]):(tt(rt[w[mt=32767+Wt]]),tt(y[mt]));for(var Kt=63;Kt>0&&N[Kt]==0;)Kt--;if(Kt==0)return tt(St),Q;for(var ve,Pt=1;Pt<=Kt;){for(var lt=Pt;N[Pt]==0&&Pt<=Kt;)++Pt;var we=Pt-lt;if(we>=16){ve=we>>4;for(var ue=1;ue<=ve;++ue)tt(Ct);we&=15}mt=32767+N[Pt],tt(at[(we<<4)+w[mt]]),tt(y[mt]),Pt++}return Kt!=63&&tt(St),Q}function ft(O){O=Math.min(Math.max(O,1),100),r!=O&&(function(H){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],rt=0;rt<64;rt++){var at=o((Q[rt]*H+50)/100);at=Math.min(Math.max(at,1),255),u[J[rt]]=at}for(var mt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],St=0;St<64;St++){var Ct=o((mt[St]*H+50)/100);Ct=Math.min(Math.max(Ct,1),255),h[J[St]]=Ct}for(var Vt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ht=0,Wt=0;Wt<8;Wt++)for(var Kt=0;Kt<8;Kt++)p[Ht]=1/(u[J[Ht]]*Vt[Wt]*Vt[Kt]*8),m[Ht]=1/(h[J[Ht]]*Vt[Wt]*Vt[Kt]*8),Ht++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),r=O)}this.encode=function(O,H){H&&ft(H),E=new Array,M=0,L=7,At(65496),At(65504),At(16),ht(74),ht(70),ht(73),ht(70),ht(0),ht(1),ht(1),ht(0),At(1),At(1),ht(0),ht(0),function(){At(65499),At(132),ht(0);for(var te=0;te<64;te++)ht(u[te]);ht(1);for(var ge=0;ge<64;ge++)ht(h[ge])}(),function(te,ge){At(65472),At(17),ht(8),At(ge),At(te),ht(3),ht(1),ht(17),ht(0),ht(2),ht(17),ht(1),ht(3),ht(17),ht(1)}(O.width,O.height),function(){At(65476),At(418),ht(0);for(var te=0;te<16;te++)ht(Z[te+1]);for(var ge=0;ge<=11;ge++)ht(ct[ge]);ht(16);for(var ke=0;ke<16;ke++)ht(bt[ke+1]);for(var qe=0;qe<=161;qe++)ht(z[qe]);ht(1);for(var Fe=0;Fe<16;Fe++)ht(K[Fe+1]);for(var Re=0;Re<=11;Re++)ht(ot[Re]);ht(17);for(var Je=0;Je<16;Je++)ht(st[Je+1]);for(var he=0;he<=161;he++)ht(Et[he])}(),At(65498),At(12),ht(3),ht(1),ht(0),ht(2),ht(17),ht(3),ht(17),ht(0),ht(63),ht(0);var Q=0,rt=0,at=0;M=0,L=7,this.encode.displayName="_encode_";for(var mt,St,Ct,Vt,Ht,Wt,Kt,ve,Pt,lt=O.data,we=O.width,ue=O.height,Yt=4*we,Qt=0;Qt<ue;){for(mt=0;mt<Yt;){for(Ht=Yt*Qt+mt,Kt=-1,ve=0,Pt=0;Pt<64;Pt++)Wt=Ht+(ve=Pt>>3)*Yt+(Kt=4*(7&Pt)),Qt+ve>=ue&&(Wt-=Yt*(Qt+1+ve-ue)),mt+Kt>=Yt&&(Wt-=mt+Kt-Yt+4),St=lt[Wt++],Ct=lt[Wt++],Vt=lt[Wt++],R[Pt]=(it[St]+it[Ct+256>>0]+it[Vt+512>>0]>>16)-128,P[Pt]=(it[St+768>>0]+it[Ct+1024>>0]+it[Vt+1280>>0]>>16)-128,W[Pt]=(it[St+1280>>0]+it[Ct+1536>>0]+it[Vt+1792>>0]>>16)-128;Q=V(R,p,Q,t,i),rt=V(P,m,rt,e,a),at=V(W,m,at,e,a),mt+=32}Qt+=8}if(L>=0){var Jt=[];Jt[1]=L+1,Jt[0]=(1<<L+1)-1,tt(Jt)}return At(65497),new Uint8Array(E)},c=c||50,function(){for(var O=String.fromCharCode,H=0;H<256;H++)X[H]=O(H)}(),t=U(Z,ct),e=U(K,ot),i=U(bt,z),a=U(st,Et),function(){for(var O=1,H=2,Q=1;Q<=15;Q++){for(var rt=O;rt<H;rt++)w[32767+rt]=Q,y[32767+rt]=[],y[32767+rt][1]=Q,y[32767+rt][0]=rt;for(var at=-(H-1);at<=-O;at++)w[32767+at]=Q,y[32767+at]=[],y[32767+at][1]=Q,y[32767+at][0]=H-1+at;O<<=1,H<<=1}}(),function(){for(var O=0;O<256;O++)it[O]=19595*O,it[O+256>>0]=38470*O,it[O+512>>0]=7471*O+32768,it[O+768>>0]=-11059*O,it[O+1024>>0]=-21709*O,it[O+1280>>0]=32768*O+8421375,it[O+1536>>0]=-27439*O,it[O+1792>>0]=-5329*O}(),ft(c)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Lo(c,t){if(this.pos=0,this.buffer=c,this.datav=new DataView(c.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function l4(c){function t(Z){if(!Z)throw Error("assert :P")}function e(Z,ct,bt){for(var z=0;4>z;z++)if(Z[ct+z]!=bt.charCodeAt(z))return!0;return!1}function i(Z,ct,bt,z,K){for(var ot=0;ot<K;ot++)Z[ct+ot]=bt[z+ot]}function a(Z,ct,bt,z){for(var K=0;K<z;K++)Z[ct+K]=bt}function r(Z){return new Int32Array(Z)}function o(Z,ct){for(var bt=[],z=0;z<Z;z++)bt.push(new ct);return bt}function u(Z,ct){var bt=[];return function z(K,ot,st){for(var Et=st[ot],U=0;U<Et&&(K.push(st.length>ot+1?[]:new ct),!(st.length<ot+1));U++)z(K[U],ot+1,st)}(bt,0,Z),bt}var h=function(){var Z=this;function ct(g,b){for(var x=1<<b-1>>>0;g&x;)x>>>=1;return x?(g&x-1)+x:g}function bt(g,b,x,C,k){t(!(C%x));do g[b+(C-=x)]=k;while(0<C)}function z(g,b,x,C,k){if(t(2328>=k),512>=k)var j=r(512);else if((j=r(k))==null)return 0;return function(q,G,$,et,pt,Tt){var Nt,wt,zt=G,Dt=1<<$,gt=r(16),yt=r(16);for(t(pt!=0),t(et!=null),t(q!=null),t(0<$),wt=0;wt<pt;++wt){if(15<et[wt])return 0;++gt[et[wt]]}if(gt[0]==pt)return 0;for(yt[1]=0,Nt=1;15>Nt;++Nt){if(gt[Nt]>1<<Nt)return 0;yt[Nt+1]=yt[Nt]+gt[Nt]}for(wt=0;wt<pt;++wt)Nt=et[wt],0<et[wt]&&(Tt[yt[Nt]++]=wt);if(yt[15]==1)return(et=new K).g=0,et.value=Tt[0],bt(q,zt,1,Dt,et),Dt;var It,qt=-1,Bt=Dt-1,se=0,$t=1,me=1,Zt=1<<$;for(wt=0,Nt=1,pt=2;Nt<=$;++Nt,pt<<=1){if($t+=me<<=1,0>(me-=gt[Nt]))return 0;for(;0<gt[Nt];--gt[Nt])(et=new K).g=Nt,et.value=Tt[wt++],bt(q,zt+se,pt,Zt,et),se=ct(se,Nt)}for(Nt=$+1,pt=2;15>=Nt;++Nt,pt<<=1){if($t+=me<<=1,0>(me-=gt[Nt]))return 0;for(;0<gt[Nt];--gt[Nt]){if(et=new K,(se&Bt)!=qt){for(zt+=Zt,It=1<<(qt=Nt)-$;15>qt&&!(0>=(It-=gt[qt]));)++qt,It<<=1;Dt+=Zt=1<<(It=qt-$),q[G+(qt=se&Bt)].g=It+$,q[G+qt].value=zt-G-qt}et.g=Nt-$,et.value=Tt[wt++],bt(q,zt+(se>>$),pt,Zt,et),se=ct(se,Nt)}}return $t!=2*yt[15]-1?0:Dt}(g,b,x,C,k,j)}function K(){this.value=this.g=0}function ot(){this.value=this.g=0}function st(){this.G=o(5,K),this.H=r(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(En,ot)}function Et(g,b,x,C){t(g!=null),t(b!=null),t(2147483648>C),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=b,g.pa=x,g.Jd=b,g.Yc=x+C,g.Zc=4<=C?x+C-4+1:x,mt(g)}function U(g,b){for(var x=0;0<b--;)x|=Ct(g,128)<<b;return x}function tt(g,b){var x=U(g,b);return St(g)?-x:x}function ht(g,b,x,C){var k,j=0;for(t(g!=null),t(b!=null),t(4294967288>C),g.Sb=C,g.Ra=0,g.u=0,g.h=0,4<C&&(C=4),k=0;k<C;++k)j+=b[x+k]<<8*k;g.Ra=j,g.bb=C,g.oa=b,g.pa=x}function At(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<hc-8>>>0,++g.bb,g.u-=8;Q(g)&&(g.h=1,g.u=0)}function V(g,b){if(t(0<=b),!g.h&&b<=uc){var x=H(g)&nl[b];return g.u+=b,At(g),x}return g.h=1,g.u=0}function ft(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(g){return g.Ra>>>(g.u&hc-1)>>>0}function Q(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>hc}function rt(g,b){g.u=b,g.h=Q(g)}function at(g){g.u>=Iu&&(t(g.u>=Iu),At(g))}function mt(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function St(g){return U(g,1)}function Ct(g,b){var x=g.Ca;0>g.b&&mt(g);var C=g.b,k=x*b>>>8,j=(g.I>>>C>k)+0;for(j?(x-=k,g.I-=k+1<<C>>>0):x=k+1,C=x,k=0;256<=C;)k+=8,C>>=8;return C=7^k+qs[C],g.b-=C,g.Ca=(x<<C)-1,j}function Vt(g,b,x){g[b+0]=x>>24&255,g[b+1]=x>>16&255,g[b+2]=x>>8&255,g[b+3]=x>>0&255}function Ht(g,b){return g[b+0]<<0|g[b+1]<<8}function Wt(g,b){return Ht(g,b)|g[b+2]<<16}function Kt(g,b){return Ht(g,b)|Ht(g,b+2)<<16}function ve(g,b){var x=1<<b;return t(g!=null),t(0<b),g.X=r(x),g.X==null?0:(g.Mb=32-b,g.Xa=b,1)}function Pt(g,b){t(g!=null),t(b!=null),t(g.Xa==b.Xa),i(b.X,0,g.X,0,1<<b.Xa)}function lt(){this.X=[],this.Xa=this.Mb=0}function we(g,b,x,C){t(x!=null),t(C!=null);var k=x[0],j=C[0];return k==0&&(k=(g*j+b/2)/b),j==0&&(j=(b*k+g/2)/g),0>=k||0>=j?0:(x[0]=k,C[0]=j,1)}function ue(g,b){return g+(1<<b)-1>>>b}function Yt(g,b){return((4278255360&g)+(4278255360&b)>>>0&4278255360)+((16711935&g)+(16711935&b)>>>0&16711935)>>>0}function Qt(g,b){Z[b]=function(x,C,k,j,q,G,$){var et;for(et=0;et<q;++et){var pt=Z[g](G[$+et-1],k,j+et);G[$+et]=Yt(x[C+et],pt)}}}function Jt(){this.ud=this.hd=this.jd=0}function te(g,b){return((4278124286&(g^b))>>>1)+(g&b)>>>0}function ge(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function ke(g,b){return ge(g+(g-b+.5>>1))}function qe(g,b,x){return Math.abs(b-x)-Math.abs(g-x)}function Fe(g,b,x,C,k,j,q){for(C=j[q-1],x=0;x<k;++x)j[q+x]=C=Yt(g[b+x],C)}function Re(g,b,x,C,k){var j;for(j=0;j<x;++j){var q=g[b+j],G=q>>8&255,$=16711935&($=($=16711935&q)+((G<<16)+G));C[k+j]=(4278255360&q)+$>>>0}}function Je(g,b){b.jd=g>>0&255,b.hd=g>>8&255,b.ud=g>>16&255}function he(g,b,x,C,k,j){var q;for(q=0;q<C;++q){var G=b[x+q],$=G>>>8,et=G,pt=255&(pt=(pt=G>>>16)+((g.jd<<24>>24)*($<<24>>24)>>>5));et=255&(et=(et=et+((g.hd<<24>>24)*($<<24>>24)>>>5))+((g.ud<<24>>24)*(pt<<24>>24)>>>5)),k[j+q]=(4278255360&G)+(pt<<16)+et}}function Xe(g,b,x,C,k){Z[b]=function(j,q,G,$,et,pt,Tt,Nt,wt){for($=Tt;$<Nt;++$)for(Tt=0;Tt<wt;++Tt)et[pt++]=k(G[C(j[q++])])},Z[g]=function(j,q,G,$,et,pt,Tt){var Nt=8>>j.b,wt=j.Ea,zt=j.K[0],Dt=j.w;if(8>Nt)for(j=(1<<j.b)-1,Dt=(1<<Nt)-1;q<G;++q){var gt,yt=0;for(gt=0;gt<wt;++gt)gt&j||(yt=C($[et++])),pt[Tt++]=k(zt[yt&Dt]),yt>>=Nt}else Z["VP8LMapColor"+x]($,et,zt,Dt,pt,Tt,q,G,wt)}}function ne(g,b,x,C,k){for(x=b+x;b<x;){var j=g[b++];C[k++]=j>>16&255,C[k++]=j>>8&255,C[k++]=j>>0&255}}function ns(g,b,x,C,k){for(x=b+x;b<x;){var j=g[b++];C[k++]=j>>16&255,C[k++]=j>>8&255,C[k++]=j>>0&255,C[k++]=j>>24&255}}function ti(g,b,x,C,k){for(x=b+x;b<x;){var j=(q=g[b++])>>16&240|q>>12&15,q=q>>0&240|q>>28&15;C[k++]=j,C[k++]=q}}function Is(g,b,x,C,k){for(x=b+x;b<x;){var j=(q=g[b++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;C[k++]=j,C[k++]=q}}function si(g,b,x,C,k){for(x=b+x;b<x;){var j=g[b++];C[k++]=j>>0&255,C[k++]=j>>8&255,C[k++]=j>>16&255}}function _i(g,b,x,C,k,j){if(j==0)for(x=b+x;b<x;)Vt(C,((j=g[b++])[0]>>24|j[1]>>8&65280|j[2]<<8&16711680|j[3]<<24)>>>0),k+=32;else i(C,k,g,b,x)}function Fs(g,b){Z[b][0]=Z[g+"0"],Z[b][1]=Z[g+"1"],Z[b][2]=Z[g+"2"],Z[b][3]=Z[g+"3"],Z[b][4]=Z[g+"4"],Z[b][5]=Z[g+"5"],Z[b][6]=Z[g+"6"],Z[b][7]=Z[g+"7"],Z[b][8]=Z[g+"8"],Z[b][9]=Z[g+"9"],Z[b][10]=Z[g+"10"],Z[b][11]=Z[g+"11"],Z[b][12]=Z[g+"12"],Z[b][13]=Z[g+"13"],Z[b][14]=Z[g+"0"],Z[b][15]=Z[g+"0"]}function pi(g){return g==Rf||g==dl||g==po||g==zu}function Vo(){this.eb=[],this.size=this.A=this.fb=0}function Vi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function sa(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vo,this.f.kb=new Vi,this.sd=null}function aa(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function $i(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Oe(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function ui(g,b){var x=g.T,C=b.ba.f.RGBA,k=C.eb,j=C.fb+g.ka*C.A,q=Un[b.ba.S],G=g.y,$=g.O,et=g.f,pt=g.N,Tt=g.ea,Nt=g.W,wt=b.cc,zt=b.dc,Dt=b.Mc,gt=b.Nc,yt=g.ka,It=g.ka+g.T,qt=g.U,Bt=qt+1>>1;for(yt==0?q(G,$,null,null,et,pt,Tt,Nt,et,pt,Tt,Nt,k,j,null,null,qt):(q(b.ec,b.fc,G,$,wt,zt,Dt,gt,et,pt,Tt,Nt,k,j-C.A,k,j,qt),++x);yt+2<It;yt+=2)wt=et,zt=pt,Dt=Tt,gt=Nt,pt+=g.Rc,Nt+=g.Rc,j+=2*C.A,q(G,($+=2*g.fa)-g.fa,G,$,wt,zt,Dt,gt,et,pt,Tt,Nt,k,j-C.A,k,j,qt);return $+=g.fa,g.j+It<g.o?(i(b.ec,b.fc,G,$,qt),i(b.cc,b.dc,et,pt,Bt),i(b.Mc,b.Nc,Tt,Nt,Bt),x--):1&It||q(G,$,null,null,et,pt,Tt,Nt,et,pt,Tt,Nt,k,j+C.A,null,null,qt),x}function Jr(g,b,x){var C=g.F,k=[g.J];if(C!=null){var j=g.U,q=b.ba.S,G=q==mc||q==po;b=b.ba.f.RGBA;var $=[0],et=g.ka;$[0]=g.T,g.Kb&&(et==0?--$[0]:(--et,k[0]-=g.width),g.j+g.ka+g.T==g.o&&($[0]=g.o-g.j-et));var pt=b.eb;et=b.fb+et*b.A,g=Ke(C,k[0],g.width,j,$,pt,et+(G?0:3),b.A),t(x==$),g&&pi(q)&&fa(pt,et,G,j,$,b.A)}return 0}function _n(g){var b=g.ma,x=b.ba.S,C=11>x,k=x==ju||x==Mf||x==mc||x==fo||x==12||pi(x);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!il(b.Oa,g,k?11:12))return 0;if(k&&pi(x)&&Gt(),g.da)alert("todo:use_scaling");else{if(C){if(b.Ib=Oe,g.Kb){if(x=g.U+1>>1,b.memory=r(g.U+2*x),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+g.U,b.Mc=b.cc,b.Nc=b.dc+x,b.Ib=ui,Gt()}}else alert("todo:EmitYUV");k&&(b.Jb=Jr,C&&xt())}if(C&&!V2){for(g=0;256>g;++g)xb[g]=89858*(g-128)+Ln>>Ir,kf[g]=-22014*(g-128)+Ln,H1[g]=-45773*(g-128),Cn[g]=113618*(g-128)+Ln>>Ir;for(g=ml;g<Ip;++g)b=76283*(g-16)+Ln>>Ir,Pf[g-ml]=ha(b,255),G1[g-ml]=ha(b+8>>4,15);V2=1}return 1}function Ua(g){var b=g.ma,x=g.U,C=g.T;return t(!(1&g.ka)),0>=x||0>=C?0:(x=b.Ib(g,b),b.Jb!=null&&b.Jb(g,b,x),b.Dc+=x,1)}function Er(g){g.ma.memory=null}function de(g,b,x,C){return V(g,8)!=47?0:(b[0]=V(g,14)+1,x[0]=V(g,14)+1,C[0]=V(g,1),V(g,3)!=0?0:!g.h)}function Mi(g,b){if(4>g)return g+1;var x=g-2>>1;return(2+(1&g)<<x)+V(b,x)+1}function Yi(g,b){return 120<b?b-120:1<=(x=((x=mo[b-1])>>4)*g+(8-(15&x)))?x:1;var x}function xn(g,b,x){var C=H(x),k=g[b+=255&C].g-8;return 0<k&&(rt(x,x.u+8),C=H(x),b+=g[b].value,b+=C&(1<<k)-1),rt(x,x.u+g[b].g),g[b].value}function on(g,b,x){return x.g+=g.g,x.value+=g.value<<b>>>0,t(8>=x.g),g.g}function mn(g,b,x){var C=g.xc;return t((b=C==0?0:g.vc[g.md*(x>>C)+(b>>C)])<g.Wb),g.Ya[b]}function ra(g,b,x,C){var k=g.ab,j=g.c*b,q=g.C;b=q+b;var G=x,$=C;for(C=g.Ta,x=g.Ua;0<k--;){var et=g.gc[k],pt=q,Tt=b,Nt=G,wt=$,zt=($=C,G=x,et.Ea);switch(t(pt<Tt),t(Tt<=et.nc),et.hc){case 2:Tp(Nt,wt,(Tt-pt)*zt,$,G);break;case 0:var Dt=pt,gt=Tt,yt=$,It=G,qt=(Zt=et).Ea;Dt==0&&(q1(Nt,wt,null,null,1,yt,It),Fe(Nt,wt+1,0,0,qt-1,yt,It+1),wt+=qt,It+=qt,++Dt);for(var Bt=1<<Zt.b,se=Bt-1,$t=ue(qt,Zt.b),me=Zt.K,Zt=Zt.w+(Dt>>Zt.b)*$t;Dt<gt;){var oi=me,gi=Zt,Ve=1;for(Cf(Nt,wt,yt,It-qt,1,yt,It);Ve<qt;){var He=(Ve&~se)+Bt;He>qt&&(He=qt),(0,co[oi[gi++]>>8&15])(Nt,wt+ +Ve,yt,It+Ve-qt,He-Ve,yt,It+Ve),Ve=He}wt+=qt,It+=qt,++Dt&se||(Zt+=$t)}Tt!=et.nc&&i($,G-zt,$,G+(Tt-pt-1)*zt,zt);break;case 1:for(zt=Nt,gt=wt,qt=(Nt=et.Ea)-(It=Nt&~(yt=(wt=1<<et.b)-1)),Dt=ue(Nt,et.b),Bt=et.K,et=et.w+(pt>>et.b)*Dt;pt<Tt;){for(se=Bt,$t=et,me=new Jt,Zt=gt+It,oi=gt+Nt;gt<Zt;)Je(se[$t++],me),al(me,zt,gt,wt,$,G),gt+=wt,G+=wt;gt<oi&&(Je(se[$t++],me),al(me,zt,gt,qt,$,G),gt+=qt,G+=qt),++pt&yt||(et+=Dt)}break;case 3:if(Nt==$&&wt==G&&0<et.b){for(gt=$,Nt=zt=G+(Tt-pt)*zt-(It=(Tt-pt)*ue(et.Ea,et.b)),wt=$,yt=G,Dt=[],It=(qt=It)-1;0<=It;--It)Dt[It]=wt[yt+It];for(It=qt-1;0<=It;--It)gt[Nt+It]=Dt[It];Ca(et,pt,Tt,$,zt,$,G)}else Ca(et,pt,Tt,Nt,wt,$,G)}G=C,$=x}$!=x&&i(C,x,G,$,j)}function ec(g,b){var x=g.V,C=g.Ba+g.c*g.C,k=b-g.C;if(t(b<=g.l.o),t(16>=k),0<k){var j=g.l,q=g.Ta,G=g.Ua,$=j.width;if(ra(g,k,x,C),k=G=[G],t((x=g.C)<(C=b)),t(j.v<j.va),C>j.o&&(C=j.o),x<j.j){var et=j.j-x;x=j.j,k[0]+=et*$}if(x>=C?x=0:(k[0]+=4*j.v,j.ka=x-j.j,j.U=j.va-j.v,j.T=C-x,x=1),x){if(G=G[0],11>(x=g.ca).S){var pt=x.f.RGBA,Tt=(C=x.S,k=j.U,j=j.T,et=pt.eb,pt.A),Nt=j;for(pt=pt.fb+g.Ma*pt.A;0<Nt--;){var wt=q,zt=G,Dt=k,gt=et,yt=pt;switch(C){case os:As(wt,zt,Dt,gt,yt);break;case ju:$n(wt,zt,Dt,gt,yt);break;case Rf:$n(wt,zt,Dt,gt,yt),fa(gt,yt,0,Dt,1,0);break;case Or:Wa(wt,zt,Dt,gt,yt);break;case Mf:_i(wt,zt,Dt,gt,yt,1);break;case dl:_i(wt,zt,Dt,gt,yt,1),fa(gt,yt,0,Dt,1,0);break;case mc:_i(wt,zt,Dt,gt,yt,0);break;case po:_i(wt,zt,Dt,gt,yt,0),fa(gt,yt,1,Dt,1,0);break;case fo:rl(wt,zt,Dt,gt,yt);break;case zu:rl(wt,zt,Dt,gt,yt),We(gt,yt,Dt,1,0);break;case Rp:Us(wt,zt,Dt,gt,yt);break;default:t(0)}G+=$,pt+=Tt}g.Ma+=j}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=x.height)}}g.C=b,t(g.C<=g.i)}function oa(g){var b;if(0<g.ua)return 0;for(b=0;b<g.Wb;++b){var x=g.Ya[b].G,C=g.Ya[b].H;if(0<x[1][C[1]+0].g||0<x[2][C[2]+0].g||0<x[3][C[3]+0].g)return 0}return 1}function la(g,b,x,C,k,j){if(g.Z!=0){var q=g.qd,G=g.rd;for(t(kr[g.Z]!=null);b<x;++b)kr[g.Z](q,G,C,k,C,k,j),q=C,G=k,k+=j;g.qd=q,g.rd=G}}function ss(g,b){var x=g.l.ma,C=x.Z==0||x.Z==1?g.l.j:g.C;if(C=g.C<C?C:g.C,t(b<=g.l.o),b>C){var k=g.l.width,j=x.ca,q=x.tb+k*C,G=g.V,$=g.Ba+g.c*C,et=g.gc;t(g.ab==1),t(et[0].hc==3),sl(et[0],C,b,G,$,j,q),la(x,C,b,j,q,k)}g.C=g.Ma=b}function as(g,b,x,C,k,j,q){var G=g.$/C,$=g.$%C,et=g.m,pt=g.s,Tt=x+g.$,Nt=Tt;k=x+C*k;var wt=x+C*j,zt=280+pt.ua,Dt=g.Pb?G:16777216,gt=0<pt.ua?pt.Wa:null,yt=pt.wc,It=Tt<wt?mn(pt,$,G):null;t(g.C<j),t(wt<=k);var qt=!1;t:for(;;){for(;qt||Tt<wt;){var Bt=0;if(G>=Dt){var se=Tt-x;t((Dt=g).Pb),Dt.wd=Dt.m,Dt.xd=se,0<Dt.s.ua&&Pt(Dt.s.Wa,Dt.s.vb),Dt=G+U2}if($&yt||(It=mn(pt,$,G)),t(It!=null),It.Qb&&(b[Tt]=It.qb,qt=!0),!qt)if(at(et),It.jc){Bt=et,se=b;var $t=Tt,me=It.pd[H(Bt)&En-1];t(It.jc),256>me.g?(rt(Bt,Bt.u+me.g),se[$t]=me.value,Bt=0):(rt(Bt,Bt.u+me.g-256),t(256<=me.value),Bt=me.value),Bt==0&&(qt=!0)}else Bt=xn(It.G[0],It.H[0],et);if(et.h)break;if(qt||256>Bt){if(!qt)if(It.nd)b[Tt]=(It.qb|Bt<<8)>>>0;else{if(at(et),qt=xn(It.G[1],It.H[1],et),at(et),se=xn(It.G[2],It.H[2],et),$t=xn(It.G[3],It.H[3],et),et.h)break;b[Tt]=($t<<24|qt<<16|Bt<<8|se)>>>0}if(qt=!1,++Tt,++$>=C&&($=0,++G,q!=null&&G<=j&&!(G%16)&&q(g,G),gt!=null))for(;Nt<Tt;)Bt=b[Nt++],gt.X[(506832829*Bt&4294967295)>>>gt.Mb]=Bt}else if(280>Bt){if(Bt=Mi(Bt-256,et),se=xn(It.G[4],It.H[4],et),at(et),se=Yi(C,se=Mi(se,et)),et.h)break;if(Tt-x<se||k-Tt<Bt)break t;for($t=0;$t<Bt;++$t)b[Tt+$t]=b[Tt+$t-se];for(Tt+=Bt,$+=Bt;$>=C;)$-=C,++G,q!=null&&G<=j&&!(G%16)&&q(g,G);if(t(Tt<=k),$&yt&&(It=mn(pt,$,G)),gt!=null)for(;Nt<Tt;)Bt=b[Nt++],gt.X[(506832829*Bt&4294967295)>>>gt.Mb]=Bt}else{if(!(Bt<zt))break t;for(qt=Bt-280,t(gt!=null);Nt<Tt;)Bt=b[Nt++],gt.X[(506832829*Bt&4294967295)>>>gt.Mb]=Bt;Bt=Tt,t(!(qt>>>(se=gt).Xa)),b[Bt]=se.X[qt],qt=!0}qt||t(et.h==Q(et))}if(g.Pb&&et.h&&Tt<k)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Pt(g.s.vb,g.s.Wa);else{if(et.h)break t;q!=null&&q(g,G>j?j:G),g.a=0,g.$=Tt-x}return 1}return g.a=3,0}function Bs(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var b=g.Wa;b!=null&&(b.X=null),g.vb=null,t(g!=null)}function Kn(){var g=new z1;return g==null?null:(g.a=0,g.xb=qu,Fs("Predictor","VP8LPredictors"),Fs("Predictor","VP8LPredictors_C"),Fs("PredictorAdd","VP8LPredictorsAdd"),Fs("PredictorAdd","VP8LPredictorsAdd_C"),Tp=Re,al=he,As=ne,$n=ns,rl=ti,Us=Is,Wa=si,Z.VP8LMapColor32b=zn,Z.VP8LMapColor8b=Tf,g)}function xi(g,b,x,C,k){var j=1,q=[g],G=[b],$=C.m,et=C.s,pt=null,Tt=0;t:for(;;){if(x)for(;j&&V($,1);){var Nt=q,wt=G,zt=C,Dt=1,gt=zt.m,yt=zt.gc[zt.ab],It=V(gt,2);if(zt.Oc&1<<It)j=0;else{switch(zt.Oc|=1<<It,yt.hc=It,yt.Ea=Nt[0],yt.nc=wt[0],yt.K=[null],++zt.ab,t(4>=zt.ab),It){case 0:case 1:yt.b=V(gt,3)+2,Dt=xi(ue(yt.Ea,yt.b),ue(yt.nc,yt.b),0,zt,yt.K),yt.K=yt.K[0];break;case 3:var qt,Bt=V(gt,8)+1,se=16<Bt?0:4<Bt?1:2<Bt?2:3;if(Nt[0]=ue(yt.Ea,se),yt.b=se,qt=Dt=xi(Bt,1,0,zt,yt.K)){var $t,me=Bt,Zt=yt,oi=1<<(8>>Zt.b),gi=r(oi);if(gi==null)qt=0;else{var Ve=Zt.K[0],He=Zt.w;for(gi[0]=Zt.K[0][0],$t=1;$t<1*me;++$t)gi[$t]=Yt(Ve[He+$t],gi[$t-1]);for(;$t<4*oi;++$t)gi[$t]=0;Zt.K[0]=null,Zt.K[0]=gi,qt=1}}Dt=qt;break;case 2:break;default:t(0)}j=Dt}}if(q=q[0],G=G[0],j&&V($,1)&&!(j=1<=(Tt=V($,4))&&11>=Tt)){C.a=3;break t}var wi;if(wi=j)e:{var mi,Pe,Ei,Se=C,Le=q,ai=G,li=Tt,Hn=x,Tn=Se.m,hn=Se.s,fn=[null],bn=1,Oa=0,vi=bc[li];i:for(;;){if(Hn&&V(Tn,1)){var yn=V(Tn,3)+2,Qa=ue(Le,yn),vl=ue(ai,yn),wc=Qa*vl;if(!xi(Qa,vl,0,Se,fn))break i;for(fn=fn[0],hn.xc=yn,mi=0;mi<wc;++mi){var bl=fn[mi]>>8&65535;fn[mi]=bl,bl>=bn&&(bn=bl+1)}}if(Tn.h)break i;for(Pe=0;5>Pe;++Pe){var qi=da[Pe];!Pe&&0<li&&(qi+=1<<li),Oa<qi&&(Oa=qi)}var If=o(bn*vi,K),Fp=bn,Ss=o(Fp,st);if(Ss==null)var Wi=null;else t(65536>=Fp),Wi=Ss;var Sc=r(Oa);if(Wi==null||Sc==null||If==null){Se.a=1;break i}var yl=If;for(mi=Ei=0;mi<bn;++mi){var Gs=Wi[mi],Al=Gs.G,Vs=Gs.H,Ff=0,Hu=1,Bp=0;for(Pe=0;5>Pe;++Pe){qi=da[Pe],Al[Pe]=yl,Vs[Pe]=Ei,!Pe&&0<li&&(qi+=1<<li);s:{var Bf,jp=qi,jf=Se,Gu=Sc,W2=yl,K2=Ei,zf=0,Ao=jf.m,Nb=V(Ao,1);if(a(Gu,0,0,jp),Nb){var $2=V(Ao,1)+1,Q2=V(Ao,1),V1=V(Ao,Q2==0?1:8);Gu[V1]=1,$2==2&&(Gu[V1=V(Ao,8)]=1);var Vu=1}else{var Y1=r(19),X1=V(Ao,4)+4;if(19<X1){jf.a=3;var qf=0;break s}for(Bf=0;Bf<X1;++Bf)Y1[go[Bf]]=V(Ao,3);var zp=void 0,Yu=void 0,Z2=jf,J2=Y1,wo=jp,Uf=Gu,qp=0,Za=Z2.m,Xu=8,W1=o(128,K);n:for(;z(W1,0,7,J2,19);){if(V(Za,1)){var t5=2+2*V(Za,3);if((zp=2+V(Za,t5))>wo)break n}else zp=wo;for(Yu=0;Yu<wo&&zp--;){at(Za);var K1=W1[0+(127&H(Za))];rt(Za,Za.u+K1.g);var _c=K1.value;if(16>_c)Uf[Yu++]=_c,_c!=0&&(Xu=_c);else{var e5=_c==16,$1=_c-16,Q1=Ra[$1],Z1=V(Za,Op[$1])+Q1;if(Yu+Z1>wo)break n;for(var i5=e5?Xu:0;0<Z1--;)Uf[Yu++]=i5}}qp=1;break n}qp||(Z2.a=3),Vu=qp}(Vu=Vu&&!Ao.h)&&(zf=z(W2,K2,8,Gu,jp)),Vu&&zf!=0?qf=zf:(jf.a=3,qf=0)}if(qf==0)break i;if(Hu&&vc[Pe]==1&&(Hu=yl[Ei].g==0),Ff+=yl[Ei].g,Ei+=qf,3>=Pe){var xc,Up=Sc[0];for(xc=1;xc<qi;++xc)Sc[xc]>Up&&(Up=Sc[xc]);Bp+=Up}}if(Gs.nd=Hu,Gs.Qb=0,Hu&&(Gs.qb=(Al[3][Vs[3]+0].value<<24|Al[1][Vs[1]+0].value<<16|Al[2][Vs[2]+0].value)>>>0,Ff==0&&256>Al[0][Vs[0]+0].value&&(Gs.Qb=1,Gs.qb+=Al[0][Vs[0]+0].value<<8)),Gs.jc=!Gs.Qb&&6>Bp,Gs.jc){var Hf,So=Gs;for(Hf=0;Hf<En;++Hf){var Fr=Hf,_o=So.pd[Fr],Gf=So.G[0][So.H[0]+Fr];256<=Gf.value?(_o.g=Gf.g+256,_o.value=Gf.value):(_o.g=0,_o.value=0,Fr>>=on(Gf,8,_o),Fr>>=on(So.G[1][So.H[1]+Fr],16,_o),Fr>>=on(So.G[2][So.H[2]+Fr],0,_o),on(So.G[3][So.H[3]+Fr],24,_o))}}}hn.vc=fn,hn.Wb=bn,hn.Ya=Wi,hn.yc=If,wi=1;break e}wi=0}if(!(j=wi)){C.a=3;break t}if(0<Tt){if(et.ua=1<<Tt,!ve(et.Wa,Tt)){C.a=1,j=0;break t}}else et.ua=0;var Vf=C,J1=q,n5=G,t0=Vf.s,e0=t0.xc;if(Vf.c=J1,Vf.i=n5,t0.md=ue(J1,e0),t0.wc=e0==0?-1:(1<<e0)-1,x){C.xb=G2;break t}if((pt=r(q*G))==null){C.a=1,j=0;break t}j=(j=as(C,pt,0,q,G,G,null))&&!$.h;break t}return j?(k!=null?k[0]=pt:(t(pt==null),t(x)),C.$=0,x||Bs(et)):Bs(et),j}function Yo(g,b){var x=g.c*g.i,C=x+b+16*b;return t(g.c<=b),g.V=r(C),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+x+b,1)}function ic(g,b){var x=g.C,C=b-x,k=g.V,j=g.Ba+g.c*x;for(t(b<=g.l.o);0<C;){var q=16<C?16:C,G=g.l.ma,$=g.l.width,et=$*q,pt=G.ca,Tt=G.tb+$*x,Nt=g.Ta,wt=g.Ua;ra(g,q,k,j),Ri(Nt,wt,pt,Tt,et),la(G,x,x+q,pt,Tt,$),C-=q,k+=q*g.c,x+=q}t(x==b),g.C=g.Ma=b}function Ea(){this.ub=this.yd=this.td=this.Rb=0}function Ha(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Au(){this.Fb=this.Bb=this.Cb=0,this.Zb=r(4),this.Lb=r(4)}function df(){this.Yb=function(){var g=[];return function b(x,C,k){for(var j=k[C],q=0;q<j&&(x.push(k.length>C+1?[]:0),!(k.length<C+1));q++)b(x[q],C+1,k)}(g,0,[3,11]),g}()}function bp(){this.jb=r(3),this.Wc=u([4,8],df),this.Xc=u([4,17],df)}function P1(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new r(4),this.od=new r(4)}function to(){this.ld=this.La=this.dd=this.tc=0}function nc(){this.Na=this.la=0}function Ga(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function sc(){this.ad=r(384),this.Za=0,this.Ob=r(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yp(){this.uc=this.M=this.Nb=0,this.wa=Array(new to),this.Y=0,this.ya=Array(new sc),this.aa=0,this.l=new Xo}function eo(){this.y=r(16),this.f=r(8),this.ea=r(8)}function pf(){this.cb=this.a=0,this.sc="",this.m=new ft,this.Od=new Ea,this.Kc=new Ha,this.ed=new P1,this.Qa=new Au,this.Ic=this.$c=this.Aa=0,this.D=new yp,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ft),this.ia=0,this.pb=o(4,Ga),this.Pa=new bp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new eo),this.Hd=0,this.rb=Array(new nc),this.sb=0,this.wa=Array(new to),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new sc),this.L=this.aa=0,this.gd=u([4,2],to),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function I1(){var g=new pf;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Nn||(Nn=Ap)),g}function Qi(g,b,x){return g.a==0&&(g.a=b,g.sc=x,g.cb=0),0}function ys(g,b,x){return 3<=x&&g[b+0]==157&&g[b+1]==1&&g[b+2]==42}function gf(g,b){if(g==null)return 0;if(g.a=0,g.sc="OK",b==null)return Qi(g,2,"null VP8Io passed to VP8GetHeaders()");var x=b.data,C=b.w,k=b.ha;if(4>k)return Qi(g,7,"Truncated header.");var j=x[C+0]|x[C+1]<<8|x[C+2]<<16,q=g.Od;if(q.Rb=!(1&j),q.td=j>>1&7,q.yd=j>>4&1,q.ub=j>>5,3<q.td)return Qi(g,3,"Incorrect keyframe parameters.");if(!q.yd)return Qi(g,4,"Frame not displayable.");C+=3,k-=3;var G=g.Kc;if(q.Rb){if(7>k)return Qi(g,7,"cannot parse picture header");if(!ys(x,C,k))return Qi(g,3,"Bad code word");G.c=16383&(x[C+4]<<8|x[C+3]),G.Td=x[C+4]>>6,G.i=16383&(x[C+6]<<8|x[C+5]),G.Ud=x[C+6]>>6,C+=7,k-=7,g.za=G.c+15>>4,g.Ub=G.i+15>>4,b.width=G.c,b.height=G.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((j=g.Pa).jb,0,255,j.jb.length),t((j=g.Qa)!=null),j.Cb=0,j.Bb=0,j.Fb=1,a(j.Zb,0,0,j.Zb.length),a(j.Lb,0,0,j.Lb)}if(q.ub>k)return Qi(g,7,"bad partition length");Et(j=g.m,x,C,q.ub),C+=q.ub,k-=q.ub,q.Rb&&(G.Ld=St(j),G.Kd=St(j)),G=g.Qa;var $,et=g.Pa;if(t(j!=null),t(G!=null),G.Cb=St(j),G.Cb){if(G.Bb=St(j),St(j)){for(G.Fb=St(j),$=0;4>$;++$)G.Zb[$]=St(j)?tt(j,7):0;for($=0;4>$;++$)G.Lb[$]=St(j)?tt(j,6):0}if(G.Bb)for($=0;3>$;++$)et.jb[$]=St(j)?U(j,8):255}else G.Bb=0;if(j.Ka)return Qi(g,3,"cannot parse segment header");if((G=g.ed).zd=St(j),G.Tb=U(j,6),G.wb=U(j,3),G.Pc=St(j),G.Pc&&St(j)){for(et=0;4>et;++et)St(j)&&(G.vd[et]=tt(j,6));for(et=0;4>et;++et)St(j)&&(G.od[et]=tt(j,6))}if(g.L=G.Tb==0?0:G.zd?1:2,j.Ka)return Qi(g,3,"cannot parse filter header");var pt=k;if(k=$=C,C=$+pt,G=pt,g.Xb=(1<<U(g.m,2))-1,pt<3*(et=g.Xb))x=7;else{for($+=3*et,G-=3*et,pt=0;pt<et;++pt){var Tt=x[k+0]|x[k+1]<<8|x[k+2]<<16;Tt>G&&(Tt=G),Et(g.Jc[+pt],x,$,Tt),$+=Tt,G-=Tt,k+=3}Et(g.Jc[+et],x,$,G),x=$<C?0:5}if(x!=0)return Qi(g,x,"cannot parse partitions");for(x=U($=g.m,7),k=St($)?tt($,4):0,C=St($)?tt($,4):0,G=St($)?tt($,4):0,et=St($)?tt($,4):0,$=St($)?tt($,4):0,pt=g.Qa,Tt=0;4>Tt;++Tt){if(pt.Cb){var Nt=pt.Zb[Tt];pt.Fb||(Nt+=x)}else{if(0<Tt){g.pb[Tt]=g.pb[0];continue}Nt=x}var wt=g.pb[Tt];wt.Sc[0]=Of[ha(Nt+k,127)],wt.Sc[1]=Df[ha(Nt+0,127)],wt.Eb[0]=2*Of[ha(Nt+C,127)],wt.Eb[1]=101581*Df[ha(Nt+G,127)]>>16,8>wt.Eb[1]&&(wt.Eb[1]=8),wt.Qc[0]=Of[ha(Nt+et,117)],wt.Qc[1]=Df[ha(Nt+$,127)],wt.lc=Nt+$}if(!q.Rb)return Qi(g,4,"Not a key frame.");for(St(j),q=g.Pa,x=0;4>x;++x){for(k=0;8>k;++k)for(C=0;3>C;++C)for(G=0;11>G;++G)et=Ct(j,yc[x][k][C][G])?U(j,8):Dr[x][k][C][G],q.Wc[x][k].Yb[C][G]=et;for(k=0;17>k;++k)q.Xc[x][k]=q.Wc[x][H2[k]]}return g.kc=St(j),g.kc&&(g.Bd=U(j,8)),g.cb=1}function Ap(g,b,x,C,k,j,q){var G=b[k].Yb[x];for(x=0;16>k;++k){if(!Ct(g,G[x+0]))return k;for(;!Ct(g,G[x+1]);)if(G=b[++k].Yb[0],x=0,k==16)return 16;var $=b[k+1].Yb;if(Ct(g,G[x+2])){var et=g,pt=0;if(Ct(et,(Nt=G)[(Tt=x)+3]))if(Ct(et,Nt[Tt+6])){for(G=0,Tt=2*(pt=Ct(et,Nt[Tt+8]))+(Nt=Ct(et,Nt[Tt+9+pt])),pt=0,Nt=tn[Tt];Nt[G];++G)pt+=pt+Ct(et,Nt[G]);pt+=3+(8<<Tt)}else Ct(et,Nt[Tt+7])?(pt=7+2*Ct(et,165),pt+=Ct(et,145)):pt=5+Ct(et,159);else pt=Ct(et,Nt[Tt+4])?3+Ct(et,Nt[Tt+5]):2;G=$[2]}else pt=1,G=$[1];$=q+hi[k],0>(et=g).b&&mt(et);var Tt,Nt=et.b,wt=(Tt=et.Ca>>1)-(et.I>>Nt)>>31;--et.b,et.Ca+=wt,et.Ca|=1,et.I-=(Tt+1&wt)<<Nt,j[$]=((pt^wt)-wt)*C[(0<k)+0]}return 16}function Wo(g){var b=g.rb[g.sb-1];b.la=0,b.Na=0,a(g.zc,0,0,g.zc.length),g.ja=0}function wp(g,b){if(g==null)return 0;if(b==null)return Qi(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!gf(g,b))return 0;if(t(g.cb),b.ac==null||b.ac(b)){b.ob&&(g.L=0);var x=yo[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=b.v-x>>4,g.zb=b.j-x>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=b.o+15+x>>4,g.Hb=b.va+15+x>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var C=g.ed;for(x=0;4>x;++x){var k;if(g.Qa.Cb){var j=g.Qa.Lb[x];g.Qa.Fb||(j+=C.Tb)}else j=C.Tb;for(k=0;1>=k;++k){var q=g.gd[x][k],G=j;if(C.Pc&&(G+=C.vd[0],k&&(G+=C.od[0])),0<(G=0>G?0:63<G?63:G)){var $=G;0<C.wb&&($=4<C.wb?$>>2:$>>1)>9-C.wb&&($=9-C.wb),1>$&&($=1),q.dd=$,q.tc=2*G+$,q.ld=40<=G?2:15<=G?1:0}else q.tc=0;q.La=k}}}x=0}else Qi(g,6,"Frame setup failed"),x=g.a;if(x=x==0){if(x){g.$c=0,0<g.Aa||(g.Ic=Y2);t:{x=g.Ic,C=4*($=g.za);var et=32*$,pt=$+1,Tt=0<g.L?$*(0<g.Aa?2:1):0,Nt=(g.Aa==2?2:1)*$;if((q=C+832+(k=3*(16*x+yo[g.L])/2*et)+(j=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=q)x=0;else{if(q>g.Vb){if(g.Vb=0,g.Ec=r(q),g.Fc=0,g.Ec==null){x=Qi(g,1,"no memory during frame initialization.");break t}g.Vb=q}q=g.Ec,G=g.Fc,g.Ac=q,g.Bc=G,G+=C,g.Gd=o(et,eo),g.Hd=0,g.rb=o(pt+1,nc),g.sb=1,g.wa=Tt?o(Tt,to):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=$),t(!0),g.oc=q,g.pc=G,G+=832,g.ya=o(Nt,sc),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=$),g.R=16*$,g.B=8*$,$=(et=yo[g.L])*g.R,et=et/2*g.B,g.sa=q,g.ta=G+$,g.qa=g.sa,g.ra=g.ta+16*x*g.R+et,g.Ha=g.qa,g.Ia=g.ra+8*x*g.B+et,g.$c=0,G+=k,g.mb=j?q:null,g.nb=j?G:null,t(G+j<=g.Fc+g.Vb),Wo(g),a(g.Ac,g.Bc,0,C),x=1}}if(x){if(b.ka=0,b.y=g.sa,b.O=g.ta,b.f=g.qa,b.N=g.ra,b.ea=g.Ha,b.Vd=g.Ia,b.fa=g.R,b.Rc=g.B,b.F=null,b.J=0,!ho){for(x=-255;255>=x;++x)un[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)Ta[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)hl[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)fl[255+x]=0>x?0:255<x?255:x;ho=1}Mr=Ko,Ka=vf,$a=io,vn=Sp,Hs=bf,Zi=mf,fc=rc,Rr=oc,Fu=j1,ol=_f,ll=B1,cl=Cu,dc=Tu,Bu=Cp,ul=Jo,uo=ua,pc=Tr,Ji=F1,ws[0]=zs,ws[1]=_p,ws[2]=wf,ws[3]=Ep,ws[4]=Na,ws[5]=Nr,ws[6]=xu,ws[7]=La,ws[8]=Eu,ws[9]=Sf,vo[0]=_u,vo[1]=Af,vo[2]=no,vo[3]=Su,vo[4]=Bn,vo[5]=$o,vo[6]=ao,pa[0]=ro,pa[1]=xp,pa[2]=Np,pa[3]=Qo,pa[4]=ca,pa[5]=rs,pa[6]=Zo,x=1}else x=0}x&&(x=function(wt,zt){for(wt.M=0;wt.M<wt.Va;++wt.M){var Dt,gt=wt.Jc[wt.M&wt.Xb],yt=wt.m,It=wt;for(Dt=0;Dt<It.za;++Dt){var qt=yt,Bt=It,se=Bt.Ac,$t=Bt.Bc+4*Dt,me=Bt.zc,Zt=Bt.ya[Bt.aa+Dt];if(Bt.Qa.Bb?Zt.$b=Ct(qt,Bt.Pa.jb[0])?2+Ct(qt,Bt.Pa.jb[2]):Ct(qt,Bt.Pa.jb[1]):Zt.$b=0,Bt.kc&&(Zt.Ad=Ct(qt,Bt.Bd)),Zt.Za=!Ct(qt,145)+0,Zt.Za){var oi=Zt.Ob,gi=0;for(Bt=0;4>Bt;++Bt){var Ve,He=me[0+Bt];for(Ve=0;4>Ve;++Ve){He=U1[se[$t+Ve]][He];for(var wi=pl[Ct(qt,He[0])];0<wi;)wi=pl[2*wi+Ct(qt,He[wi])];He=-wi,se[$t+Ve]=He}i(oi,gi,se,$t,4),gi+=4,me[0+Bt]=He}}else He=Ct(qt,156)?Ct(qt,128)?1:3:Ct(qt,163)?2:0,Zt.Ob[0]=He,a(se,$t,He,4),a(me,0,He,4);Zt.Dd=Ct(qt,142)?Ct(qt,114)?Ct(qt,183)?1:3:2:0}if(It.m.Ka)return Qi(wt,7,"Premature end-of-partition0 encountered.");for(;wt.ja<wt.za;++wt.ja){if(It=gt,qt=(yt=wt).rb[yt.sb-1],se=yt.rb[yt.sb+yt.ja],Dt=yt.ya[yt.aa+yt.ja],$t=yt.kc?Dt.Ad:0)qt.la=se.la=0,Dt.Za||(qt.Na=se.Na=0),Dt.Hc=0,Dt.Gc=0,Dt.ia=0;else{var mi,Pe;if(qt=se,se=It,$t=yt.Pa.Xc,me=yt.ya[yt.aa+yt.ja],Zt=yt.pb[me.$b],Bt=me.ad,oi=0,gi=yt.rb[yt.sb-1],He=Ve=0,a(Bt,oi,0,384),me.Za)var Ei=0,Se=$t[3];else{wi=r(16);var Le=qt.Na+gi.Na;if(Le=Nn(se,$t[1],Le,Zt.Eb,0,wi,0),qt.Na=gi.Na=(0<Le)+0,1<Le)Mr(wi,0,Bt,oi);else{var ai=wi[0]+3>>3;for(wi=0;256>wi;wi+=16)Bt[oi+wi]=ai}Ei=1,Se=$t[0]}var li=15&qt.la,Hn=15&gi.la;for(wi=0;4>wi;++wi){var Tn=1&Hn;for(ai=Pe=0;4>ai;++ai)li=li>>1|(Tn=(Le=Nn(se,Se,Le=Tn+(1&li),Zt.Sc,Ei,Bt,oi))>Ei)<<7,Pe=Pe<<2|(3<Le?3:1<Le?2:Bt[oi+0]!=0),oi+=16;li>>=4,Hn=Hn>>1|Tn<<7,Ve=(Ve<<8|Pe)>>>0}for(Se=li,Ei=Hn>>4,mi=0;4>mi;mi+=2){for(Pe=0,li=qt.la>>4+mi,Hn=gi.la>>4+mi,wi=0;2>wi;++wi){for(Tn=1&Hn,ai=0;2>ai;++ai)Le=Tn+(1&li),li=li>>1|(Tn=0<(Le=Nn(se,$t[2],Le,Zt.Qc,0,Bt,oi)))<<3,Pe=Pe<<2|(3<Le?3:1<Le?2:Bt[oi+0]!=0),oi+=16;li>>=2,Hn=Hn>>1|Tn<<5}He|=Pe<<4*mi,Se|=li<<4<<mi,Ei|=(240&Hn)<<mi}qt.la=Se,gi.la=Ei,me.Hc=Ve,me.Gc=He,me.ia=43690&He?0:Zt.ia,$t=!(Ve|He)}if(0<yt.L&&(yt.wa[yt.Y+yt.ja]=yt.gd[Dt.$b][Dt.Za],yt.wa[yt.Y+yt.ja].La|=!$t),It.Ka)return Qi(wt,7,"Premature end-of-file encountered.")}if(Wo(wt),yt=zt,It=1,Dt=(gt=wt).D,qt=0<gt.L&&gt.M>=gt.zb&&gt.M<=gt.Va,gt.Aa==0)t:{if(Dt.M=gt.M,Dt.uc=qt,lo(gt,Dt),It=1,Dt=(Pe=gt.D).Nb,qt=(He=yo[gt.L])*gt.R,se=He/2*gt.B,wi=16*Dt*gt.R,ai=8*Dt*gt.B,$t=gt.sa,me=gt.ta-qt+wi,Zt=gt.qa,Bt=gt.ra-se+ai,oi=gt.Ha,gi=gt.Ia-se+ai,Hn=(li=Pe.M)==0,Ve=li>=gt.Va-1,gt.Aa==2&&lo(gt,Pe),Pe.uc)for(Tn=(Le=gt).D.M,t(Le.D.uc),Pe=Le.yb;Pe<Le.Hb;++Pe){Ei=Pe,Se=Tn;var hn=(fn=(qi=Le).D).Nb;mi=qi.R;var fn=fn.wa[fn.Y+Ei],bn=qi.sa,Oa=qi.ta+16*hn*mi+16*Ei,vi=fn.dd,yn=fn.tc;if(yn!=0)if(t(3<=yn),qi.L==1)0<Ei&&uo(bn,Oa,mi,yn+4),fn.La&&Ji(bn,Oa,mi,yn),0<Se&&ul(bn,Oa,mi,yn+4),fn.La&&pc(bn,Oa,mi,yn);else{var Qa=qi.B,vl=qi.qa,wc=qi.ra+8*hn*Qa+8*Ei,bl=qi.Ha,qi=qi.Ia+8*hn*Qa+8*Ei;hn=fn.ld,0<Ei&&(Rr(bn,Oa,mi,yn+4,vi,hn),ol(vl,wc,bl,qi,Qa,yn+4,vi,hn)),fn.La&&(cl(bn,Oa,mi,yn,vi,hn),Bu(vl,wc,bl,qi,Qa,yn,vi,hn)),0<Se&&(fc(bn,Oa,mi,yn+4,vi,hn),Fu(vl,wc,bl,qi,Qa,yn+4,vi,hn)),fn.La&&(ll(bn,Oa,mi,yn,vi,hn),dc(vl,wc,bl,qi,Qa,yn,vi,hn))}}if(gt.ia&&alert("todo:DitherRow"),yt.put!=null){if(Pe=16*li,li=16*(li+1),Hn?(yt.y=gt.sa,yt.O=gt.ta+wi,yt.f=gt.qa,yt.N=gt.ra+ai,yt.ea=gt.Ha,yt.W=gt.Ia+ai):(Pe-=He,yt.y=$t,yt.O=me,yt.f=Zt,yt.N=Bt,yt.ea=oi,yt.W=gi),Ve||(li-=He),li>yt.o&&(li=yt.o),yt.F=null,yt.J=null,gt.Fa!=null&&0<gt.Fa.length&&Pe<li&&(yt.J=Nf(gt,yt,Pe,li-Pe),yt.F=gt.mb,yt.F==null&&yt.F.length==0)){It=Qi(gt,3,"Could not decode alpha data.");break t}Pe<yt.j&&(He=yt.j-Pe,Pe=yt.j,t(!(1&He)),yt.O+=gt.R*He,yt.N+=gt.B*(He>>1),yt.W+=gt.B*(He>>1),yt.F!=null&&(yt.J+=yt.width*He)),Pe<li&&(yt.O+=yt.v,yt.N+=yt.v>>1,yt.W+=yt.v>>1,yt.F!=null&&(yt.J+=yt.v),yt.ka=Pe-yt.j,yt.U=yt.va-yt.v,yt.T=li-Pe,It=yt.put(yt))}Dt+1!=gt.Ic||Ve||(i(gt.sa,gt.ta-qt,$t,me+16*gt.R,qt),i(gt.qa,gt.ra-se,Zt,Bt+8*gt.B,se),i(gt.Ha,gt.Ia-se,oi,gi+8*gt.B,se))}if(!It)return Qi(wt,6,"Output aborted.")}return 1}(g,b)),b.bc!=null&&b.bc(b),x&=1}return x?(g.cb=0,x):0}function js(g,b,x,C,k){k=g[b+x+32*C]+(k>>3),g[b+x+32*C]=-256&k?0>k?0:255:k}function wu(g,b,x,C,k,j){js(g,b,0,x,C+k),js(g,b,1,x,C+j),js(g,b,2,x,C-j),js(g,b,3,x,C-k)}function Fi(g){return(20091*g>>16)+g}function ac(g,b,x,C){var k,j=0,q=r(16);for(k=0;4>k;++k){var G=g[b+0]+g[b+8],$=g[b+0]-g[b+8],et=(35468*g[b+4]>>16)-Fi(g[b+12]),pt=Fi(g[b+4])+(35468*g[b+12]>>16);q[j+0]=G+pt,q[j+1]=$+et,q[j+2]=$-et,q[j+3]=G-pt,j+=4,b++}for(k=j=0;4>k;++k)G=(g=q[j+0]+4)+q[j+8],$=g-q[j+8],et=(35468*q[j+4]>>16)-Fi(q[j+12]),js(x,C,0,0,G+(pt=Fi(q[j+4])+(35468*q[j+12]>>16))),js(x,C,1,0,$+et),js(x,C,2,0,$-et),js(x,C,3,0,G-pt),j++,C+=32}function mf(g,b,x,C){var k=g[b+0]+4,j=35468*g[b+4]>>16,q=Fi(g[b+4]),G=35468*g[b+1]>>16;wu(x,C,0,k+q,g=Fi(g[b+1]),G),wu(x,C,1,k+j,g,G),wu(x,C,2,k-j,g,G),wu(x,C,3,k-q,g,G)}function vf(g,b,x,C,k){ac(g,b,x,C),k&&ac(g,b+16,x,C+4)}function io(g,b,x,C){Ka(g,b+0,x,C,1),Ka(g,b+32,x,C+128,1)}function Sp(g,b,x,C){var k;for(g=g[b+0]+4,k=0;4>k;++k)for(b=0;4>b;++b)js(x,C,b,k,g)}function bf(g,b,x,C){g[b+0]&&vn(g,b+0,x,C),g[b+16]&&vn(g,b+16,x,C+4),g[b+32]&&vn(g,b+32,x,C+128),g[b+48]&&vn(g,b+48,x,C+128+4)}function Ko(g,b,x,C){var k,j=r(16);for(k=0;4>k;++k){var q=g[b+0+k]+g[b+12+k],G=g[b+4+k]+g[b+8+k],$=g[b+4+k]-g[b+8+k],et=g[b+0+k]-g[b+12+k];j[0+k]=q+G,j[8+k]=q-G,j[4+k]=et+$,j[12+k]=et-$}for(k=0;4>k;++k)q=(g=j[0+4*k]+3)+j[3+4*k],G=j[1+4*k]+j[2+4*k],$=j[1+4*k]-j[2+4*k],et=g-j[3+4*k],x[C+0]=q+G>>3,x[C+16]=et+$>>3,x[C+32]=q-G>>3,x[C+48]=et-$>>3,C+=64}function yf(g,b,x){var C,k=b-32,j=qn,q=255-g[k-1];for(C=0;C<x;++C){var G,$=j,et=q+g[b-1];for(G=0;G<x;++G)g[b+G]=$[et+g[k+G]];b+=32}}function _p(g,b){yf(g,b,4)}function xp(g,b){yf(g,b,8)}function Af(g,b){yf(g,b,16)}function no(g,b){var x;for(x=0;16>x;++x)i(g,b+32*x,g,b-32,16)}function Su(g,b){var x;for(x=16;0<x;--x)a(g,b,g[b-1],16),b+=32}function so(g,b,x){var C;for(C=0;16>C;++C)a(b,x+32*C,g,16)}function _u(g,b){var x,C=16;for(x=0;16>x;++x)C+=g[b-1+32*x]+g[b+x-32];so(C>>5,g,b)}function Bn(g,b){var x,C=8;for(x=0;16>x;++x)C+=g[b-1+32*x];so(C>>4,g,b)}function $o(g,b){var x,C=8;for(x=0;16>x;++x)C+=g[b+x-32];so(C>>4,g,b)}function ao(g,b){so(128,g,b)}function Te(g,b,x){return g+2*b+x+2>>2}function wf(g,b){var x,C=b-32;for(C=new Uint8Array([Te(g[C-1],g[C+0],g[C+1]),Te(g[C+0],g[C+1],g[C+2]),Te(g[C+1],g[C+2],g[C+3]),Te(g[C+2],g[C+3],g[C+4])]),x=0;4>x;++x)i(g,b+32*x,C,0,C.length)}function Ep(g,b){var x=g[b-1],C=g[b-1+32],k=g[b-1+64],j=g[b-1+96];Vt(g,b+0,16843009*Te(g[b-1-32],x,C)),Vt(g,b+32,16843009*Te(x,C,k)),Vt(g,b+64,16843009*Te(C,k,j)),Vt(g,b+96,16843009*Te(k,j,j))}function zs(g,b){var x,C=4;for(x=0;4>x;++x)C+=g[b+x-32]+g[b-1+32*x];for(C>>=3,x=0;4>x;++x)a(g,b+32*x,C,4)}function Na(g,b){var x=g[b-1+0],C=g[b-1+32],k=g[b-1+64],j=g[b-1-32],q=g[b+0-32],G=g[b+1-32],$=g[b+2-32],et=g[b+3-32];g[b+0+96]=Te(C,k,g[b-1+96]),g[b+1+96]=g[b+0+64]=Te(x,C,k),g[b+2+96]=g[b+1+64]=g[b+0+32]=Te(j,x,C),g[b+3+96]=g[b+2+64]=g[b+1+32]=g[b+0+0]=Te(q,j,x),g[b+3+64]=g[b+2+32]=g[b+1+0]=Te(G,q,j),g[b+3+32]=g[b+2+0]=Te($,G,q),g[b+3+0]=Te(et,$,G)}function xu(g,b){var x=g[b+1-32],C=g[b+2-32],k=g[b+3-32],j=g[b+4-32],q=g[b+5-32],G=g[b+6-32],$=g[b+7-32];g[b+0+0]=Te(g[b+0-32],x,C),g[b+1+0]=g[b+0+32]=Te(x,C,k),g[b+2+0]=g[b+1+32]=g[b+0+64]=Te(C,k,j),g[b+3+0]=g[b+2+32]=g[b+1+64]=g[b+0+96]=Te(k,j,q),g[b+3+32]=g[b+2+64]=g[b+1+96]=Te(j,q,G),g[b+3+64]=g[b+2+96]=Te(q,G,$),g[b+3+96]=Te(G,$,$)}function Nr(g,b){var x=g[b-1+0],C=g[b-1+32],k=g[b-1+64],j=g[b-1-32],q=g[b+0-32],G=g[b+1-32],$=g[b+2-32],et=g[b+3-32];g[b+0+0]=g[b+1+64]=j+q+1>>1,g[b+1+0]=g[b+2+64]=q+G+1>>1,g[b+2+0]=g[b+3+64]=G+$+1>>1,g[b+3+0]=$+et+1>>1,g[b+0+96]=Te(k,C,x),g[b+0+64]=Te(C,x,j),g[b+0+32]=g[b+1+96]=Te(x,j,q),g[b+1+32]=g[b+2+96]=Te(j,q,G),g[b+2+32]=g[b+3+96]=Te(q,G,$),g[b+3+32]=Te(G,$,et)}function La(g,b){var x=g[b+0-32],C=g[b+1-32],k=g[b+2-32],j=g[b+3-32],q=g[b+4-32],G=g[b+5-32],$=g[b+6-32],et=g[b+7-32];g[b+0+0]=x+C+1>>1,g[b+1+0]=g[b+0+64]=C+k+1>>1,g[b+2+0]=g[b+1+64]=k+j+1>>1,g[b+3+0]=g[b+2+64]=j+q+1>>1,g[b+0+32]=Te(x,C,k),g[b+1+32]=g[b+0+96]=Te(C,k,j),g[b+2+32]=g[b+1+96]=Te(k,j,q),g[b+3+32]=g[b+2+96]=Te(j,q,G),g[b+3+64]=Te(q,G,$),g[b+3+96]=Te(G,$,et)}function Sf(g,b){var x=g[b-1+0],C=g[b-1+32],k=g[b-1+64],j=g[b-1+96];g[b+0+0]=x+C+1>>1,g[b+2+0]=g[b+0+32]=C+k+1>>1,g[b+2+32]=g[b+0+64]=k+j+1>>1,g[b+1+0]=Te(x,C,k),g[b+3+0]=g[b+1+32]=Te(C,k,j),g[b+3+32]=g[b+1+64]=Te(k,j,j),g[b+3+64]=g[b+2+64]=g[b+0+96]=g[b+1+96]=g[b+2+96]=g[b+3+96]=j}function Eu(g,b){var x=g[b-1+0],C=g[b-1+32],k=g[b-1+64],j=g[b-1+96],q=g[b-1-32],G=g[b+0-32],$=g[b+1-32],et=g[b+2-32];g[b+0+0]=g[b+2+32]=x+q+1>>1,g[b+0+32]=g[b+2+64]=C+x+1>>1,g[b+0+64]=g[b+2+96]=k+C+1>>1,g[b+0+96]=j+k+1>>1,g[b+3+0]=Te(G,$,et),g[b+2+0]=Te(q,G,$),g[b+1+0]=g[b+3+32]=Te(x,q,G),g[b+1+32]=g[b+3+64]=Te(C,x,q),g[b+1+64]=g[b+3+96]=Te(k,C,x),g[b+1+96]=Te(j,k,C)}function Np(g,b){var x;for(x=0;8>x;++x)i(g,b+32*x,g,b-32,8)}function Qo(g,b){var x;for(x=0;8>x;++x)a(g,b,g[b-1],8),b+=32}function Lr(g,b,x){var C;for(C=0;8>C;++C)a(b,x+32*C,g,8)}function ro(g,b){var x,C=8;for(x=0;8>x;++x)C+=g[b+x-32]+g[b-1+32*x];Lr(C>>4,g,b)}function rs(g,b){var x,C=4;for(x=0;8>x;++x)C+=g[b+x-32];Lr(C>>3,g,b)}function ca(g,b){var x,C=4;for(x=0;8>x;++x)C+=g[b-1+32*x];Lr(C>>3,g,b)}function Zo(g,b){Lr(128,g,b)}function Cr(g,b,x){var C=g[b-x],k=g[b+0],j=3*(k-C)+Mp[1020+g[b-2*x]-g[b+x]],q=gc[112+(j+4>>3)];g[b-x]=qn[255+C+gc[112+(j+3>>3)]],g[b+0]=qn[255+k-q]}function Lp(g,b,x,C){var k=g[b+0],j=g[b+x];return Ma[255+g[b-2*x]-g[b-x]]>C||Ma[255+j-k]>C}function Nu(g,b,x,C){return 4*Ma[255+g[b-x]-g[b+0]]+Ma[255+g[b-2*x]-g[b+x]]<=C}function Lu(g,b,x,C,k){var j=g[b-3*x],q=g[b-2*x],G=g[b-x],$=g[b+0],et=g[b+x],pt=g[b+2*x],Tt=g[b+3*x];return 4*Ma[255+G-$]+Ma[255+q-et]>C?0:Ma[255+g[b-4*x]-j]<=k&&Ma[255+j-q]<=k&&Ma[255+q-G]<=k&&Ma[255+Tt-pt]<=k&&Ma[255+pt-et]<=k&&Ma[255+et-$]<=k}function Jo(g,b,x,C){var k=2*C+1;for(C=0;16>C;++C)Nu(g,b+C,x,k)&&Cr(g,b+C,x)}function ua(g,b,x,C){var k=2*C+1;for(C=0;16>C;++C)Nu(g,b+C*x,1,k)&&Cr(g,b+C*x,1)}function Tr(g,b,x,C){var k;for(k=3;0<k;--k)Jo(g,b+=4*x,x,C)}function F1(g,b,x,C){var k;for(k=3;0<k;--k)ua(g,b+=4,x,C)}function tl(g,b,x,C,k,j,q,G){for(j=2*j+1;0<k--;){if(Lu(g,b,x,j,q))if(Lp(g,b,x,G))Cr(g,b,x);else{var $=g,et=b,pt=x,Tt=$[et-2*pt],Nt=$[et-pt],wt=$[et+0],zt=$[et+pt],Dt=$[et+2*pt],gt=27*(It=Mp[1020+3*(wt-Nt)+Mp[1020+Tt-zt]])+63>>7,yt=18*It+63>>7,It=9*It+63>>7;$[et-3*pt]=qn[255+$[et-3*pt]+It],$[et-2*pt]=qn[255+Tt+yt],$[et-pt]=qn[255+Nt+gt],$[et+0]=qn[255+wt-gt],$[et+pt]=qn[255+zt-yt],$[et+2*pt]=qn[255+Dt-It]}b+=C}}function Va(g,b,x,C,k,j,q,G){for(j=2*j+1;0<k--;){if(Lu(g,b,x,j,q))if(Lp(g,b,x,G))Cr(g,b,x);else{var $=g,et=b,pt=x,Tt=$[et-pt],Nt=$[et+0],wt=$[et+pt],zt=gc[112+((Dt=3*(Nt-Tt))+4>>3)],Dt=gc[112+(Dt+3>>3)],gt=zt+1>>1;$[et-2*pt]=qn[255+$[et-2*pt]+gt],$[et-pt]=qn[255+Tt+Dt],$[et+0]=qn[255+Nt-zt],$[et+pt]=qn[255+wt-gt]}b+=C}}function rc(g,b,x,C,k,j){tl(g,b,x,1,16,C,k,j)}function oc(g,b,x,C,k,j){tl(g,b,1,x,16,C,k,j)}function B1(g,b,x,C,k,j){var q;for(q=3;0<q;--q)Va(g,b+=4*x,x,1,16,C,k,j)}function Cu(g,b,x,C,k,j){var q;for(q=3;0<q;--q)Va(g,b+=4,1,x,16,C,k,j)}function j1(g,b,x,C,k,j,q,G){tl(g,b,k,1,8,j,q,G),tl(x,C,k,1,8,j,q,G)}function _f(g,b,x,C,k,j,q,G){tl(g,b,1,k,8,j,q,G),tl(x,C,1,k,8,j,q,G)}function Tu(g,b,x,C,k,j,q,G){Va(g,b+4*k,k,1,8,j,q,G),Va(x,C+4*k,k,1,8,j,q,G)}function Cp(g,b,x,C,k,j,q,G){Va(g,b+4,1,k,8,j,q,G),Va(x,C+4,1,k,8,j,q,G)}function Mu(){this.ba=new sa,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new $i,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xf(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ef(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ru(){this.ua=0,this.Wa=new lt,this.vb=new lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new st,this.yc=new K}function z1(){this.xb=this.a=0,this.l=new Xo,this.ca=new sa,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ru,this.ab=0,this.gc=o(4,Ef),this.Oc=0}function Ou(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function lc(g,b,x,C,k,j,q){for(g=g==null?0:g[b+0],b=0;b<q;++b)k[j+b]=g+x[C+b]&255,g=k[j+b]}function Du(g,b,x,C,k,j,q){var G;if(g==null)lc(null,null,x,C,k,j,q);else for(G=0;G<q;++G)k[j+G]=g[b+G]+x[C+G]&255}function el(g,b,x,C,k,j,q){if(g==null)lc(null,null,x,C,k,j,q);else{var G,$=g[b+0],et=$,pt=$;for(G=0;G<q;++G)et=pt+($=g[b+G])-et,pt=x[C+G]+(-256&et?0>et?0:255:et)&255,et=$,k[j+G]=pt}}function Nf(g,b,x,C){var k=b.width,j=b.o;if(t(g!=null&&b!=null),0>x||0>=C||x+C>j)return null;if(!g.Cc){if(g.ga==null){var q;if(g.ga=new Ou,(q=g.ga==null)||(q=b.width*b.o,t(g.Gb.length==0),g.Gb=r(q),g.Uc=0,g.Gb==null?q=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,q=1),q=!q),!q){q=g.ga;var G=g.Fa,$=g.P,et=g.qc,pt=g.mb,Tt=g.nb,Nt=$+1,wt=et-1,zt=q.l;if(t(G!=null&&pt!=null&&b!=null),kr[0]=null,kr[1]=lc,kr[2]=Du,kr[3]=el,q.ca=pt,q.tb=Tt,q.c=b.width,q.i=b.height,t(0<q.c&&0<q.i),1>=et)b=0;else if(q.$a=G[$+0]>>0&3,q.Z=G[$+0]>>2&3,q.Lc=G[$+0]>>4&3,$=G[$+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||$)b=0;else if(zt.put=Ua,zt.ac=_n,zt.bc=Er,zt.ma=q,zt.width=b.width,zt.height=b.height,zt.Da=b.Da,zt.v=b.v,zt.va=b.va,zt.j=b.j,zt.o=b.o,q.$a)t:{t(q.$a==1),b=Kn();e:for(;;){if(b==null){b=0;break t}if(t(q!=null),q.mc=b,b.c=q.c,b.i=q.i,b.l=q.l,b.l.ma=q,b.l.width=q.c,b.l.height=q.i,b.a=0,ht(b.m,G,Nt,wt),!xi(q.c,q.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&oa(b.s)?(q.ic=1,G=b.c*b.i,b.Ta=null,b.Ua=0,b.V=r(G),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(q.ic=0,b=Yo(b,q.c)),!b))break e;b=1;break t}q.mc=null,b=0}else b=wt>=q.c*q.i;q=!b}if(q)return null;g.ga.Lc!=1?g.Ga=0:C=j-x}t(g.ga!=null),t(x+C<=j);t:{if(b=(G=g.ga).c,j=G.l.o,G.$a==0){if(Nt=g.rc,wt=g.Vc,zt=g.Fa,$=g.P+1+x*b,et=g.mb,pt=g.nb+x*b,t($<=g.P+g.qc),G.Z!=0)for(t(kr[G.Z]!=null),q=0;q<C;++q)kr[G.Z](Nt,wt,zt,$,et,pt,b),Nt=et,wt=pt,pt+=b,$+=b;else for(q=0;q<C;++q)i(et,pt,zt,$,b),Nt=et,wt=pt,pt+=b,$+=b;g.rc=Nt,g.Vc=wt}else{if(t(G.mc!=null),b=x+C,t((q=G.mc)!=null),t(b<=q.i),q.C>=b)b=1;else if(G.ic||xt(),G.ic){G=q.V,Nt=q.Ba,wt=q.c;var Dt=q.i,gt=(zt=1,$=q.$/wt,et=q.$%wt,pt=q.m,Tt=q.s,q.$),yt=wt*Dt,It=wt*b,qt=Tt.wc,Bt=gt<It?mn(Tt,et,$):null;t(gt<=yt),t(b<=Dt),t(oa(Tt));e:for(;;){for(;!pt.h&&gt<It;){if(et&qt||(Bt=mn(Tt,et,$)),t(Bt!=null),at(pt),256>(Dt=xn(Bt.G[0],Bt.H[0],pt)))G[Nt+gt]=Dt,++gt,++et>=wt&&(et=0,++$<=b&&!($%16)&&ss(q,$));else{if(!(280>Dt)){zt=0;break e}Dt=Mi(Dt-256,pt);var se,$t=xn(Bt.G[4],Bt.H[4],pt);if(at(pt),!(gt>=($t=Yi(wt,$t=Mi($t,pt)))&&yt-gt>=Dt)){zt=0;break e}for(se=0;se<Dt;++se)G[Nt+gt+se]=G[Nt+gt+se-$t];for(gt+=Dt,et+=Dt;et>=wt;)et-=wt,++$<=b&&!($%16)&&ss(q,$);gt<It&&et&qt&&(Bt=mn(Tt,et,$))}t(pt.h==Q(pt))}ss(q,$>b?b:$);break e}!zt||pt.h&&gt<yt?(zt=0,q.a=pt.h?5:3):q.$=gt,b=zt}else b=as(q,q.V,q.Ba,q.c,q.i,b,ic);if(!b){C=0;break t}}x+C>=j&&(g.Cc=1),C=1}if(!C)return null;if(g.Cc&&((C=g.ga)!=null&&(C.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+x*k}function _(g,b,x,C,k,j){for(;0<k--;){var q,G=g,$=b+(x?1:0),et=g,pt=b+(x?0:3);for(q=0;q<C;++q){var Tt=et[pt+4*q];Tt!=255&&(Tt*=32897,G[$+4*q+0]=G[$+4*q+0]*Tt>>23,G[$+4*q+1]=G[$+4*q+1]*Tt>>23,G[$+4*q+2]=G[$+4*q+2]*Tt>>23)}b+=j}}function I(g,b,x,C,k){for(;0<C--;){var j;for(j=0;j<x;++j){var q=g[b+2*j+0],G=15&(et=g[b+2*j+1]),$=4369*G,et=(240&et|et>>4)*$>>16;g[b+2*j+0]=(240&q|q>>4)*$>>16&240|(15&q|q<<4)*$>>16>>4&15,g[b+2*j+1]=240&et|G}b+=k}}function nt(g,b,x,C,k,j,q,G){var $,et,pt=255;for(et=0;et<k;++et){for($=0;$<C;++$){var Tt=g[b+$];j[q+4*$]=Tt,pt&=Tt}b+=x,q+=G}return pt!=255}function dt(g,b,x,C,k){var j;for(j=0;j<k;++j)x[C+j]=g[b+j]>>8}function xt(){fa=_,We=I,Ke=nt,Ri=dt}function kt(g,b,x){Z[g]=function(C,k,j,q,G,$,et,pt,Tt,Nt,wt,zt,Dt,gt,yt,It,qt){var Bt,se=qt-1>>1,$t=G[$+0]|et[pt+0]<<16,me=Tt[Nt+0]|wt[zt+0]<<16;t(C!=null);var Zt=3*$t+me+131074>>2;for(b(C[k+0],255&Zt,Zt>>16,Dt,gt),j!=null&&(Zt=3*me+$t+131074>>2,b(j[q+0],255&Zt,Zt>>16,yt,It)),Bt=1;Bt<=se;++Bt){var oi=G[$+Bt]|et[pt+Bt]<<16,gi=Tt[Nt+Bt]|wt[zt+Bt]<<16,Ve=$t+oi+me+gi+524296,He=Ve+2*(oi+me)>>3;Zt=He+$t>>1,$t=(Ve=Ve+2*($t+gi)>>3)+oi>>1,b(C[k+2*Bt-1],255&Zt,Zt>>16,Dt,gt+(2*Bt-1)*x),b(C[k+2*Bt-0],255&$t,$t>>16,Dt,gt+(2*Bt-0)*x),j!=null&&(Zt=Ve+me>>1,$t=He+gi>>1,b(j[q+2*Bt-1],255&Zt,Zt>>16,yt,It+(2*Bt-1)*x),b(j[q+2*Bt+0],255&$t,$t>>16,yt,It+(2*Bt+0)*x)),$t=oi,me=gi}1&qt||(Zt=3*$t+me+131074>>2,b(C[k+qt-1],255&Zt,Zt>>16,Dt,gt+(qt-1)*x),j!=null&&(Zt=3*me+$t+131074>>2,b(j[q+qt-1],255&Zt,Zt>>16,yt,It+(qt-1)*x)))}}function Gt(){Un[os]=bo,Un[ju]=Pr,Un[Or]=gl,Un[Mf]=Dp,Un[mc]=kp,Un[fo]=Uu,Un[Rp]=Pp,Un[Rf]=Pr,Un[dl]=Dp,Un[po]=kp,Un[zu]=Uu}function ie(g){return g&-16384?0>g?0:255:g>>_b}function fe(g,b){return ie((19077*g>>8)+(26149*b>>8)-14234)}function Ie(g,b,x){return ie((19077*g>>8)-(6419*b>>8)-(13320*x>>8)+8708)}function De(g,b){return ie((19077*g>>8)+(33050*b>>8)-17685)}function ei(g,b,x,C,k){C[k+0]=fe(g,x),C[k+1]=Ie(g,b,x),C[k+2]=De(g,b)}function zi(g,b,x,C,k){C[k+0]=De(g,b),C[k+1]=Ie(g,b,x),C[k+2]=fe(g,x)}function Xi(g,b,x,C,k){var j=Ie(g,b,x);b=j<<3&224|De(g,b)>>3,C[k+0]=248&fe(g,x)|j>>5,C[k+1]=b}function ln(g,b,x,C,k){var j=240&De(g,b)|15;C[k+0]=240&fe(g,x)|Ie(g,b,x)>>4,C[k+1]=j}function cn(g,b,x,C,k){C[k+0]=255,ei(g,b,x,C,k+1)}function jn(g,b,x,C,k){zi(g,b,x,C,k),C[k+3]=255}function Ya(g,b,x,C,k){ei(g,b,x,C,k),C[k+3]=255}function ha(g,b){return 0>g?0:g>b?b:g}function Xa(g,b,x){Z[g]=function(C,k,j,q,G,$,et,pt,Tt){for(var Nt=pt+(-2&Tt)*x;pt!=Nt;)b(C[k+0],j[q+0],G[$+0],et,pt),b(C[k+1],j[q+0],G[$+0],et,pt+x),k+=2,++q,++$,pt+=2*x;1&Tt&&b(C[k+0],j[q+0],G[$+0],et,pt)}}function Lf(g,b,x){return x==0?g==0?b==0?6:5:b==0?4:0:x}function oo(g,b,x,C,k){switch(g>>>30){case 3:Ka(b,x,C,k,0);break;case 2:Zi(b,x,C,k);break;case 1:vn(b,x,C,k)}}function lo(g,b){var x,C,k=b.M,j=b.Nb,q=g.oc,G=g.pc+40,$=g.oc,et=g.pc+584,pt=g.oc,Tt=g.pc+600;for(x=0;16>x;++x)q[G+32*x-1]=129;for(x=0;8>x;++x)$[et+32*x-1]=129,pt[Tt+32*x-1]=129;for(0<k?q[G-1-32]=$[et-1-32]=pt[Tt-1-32]=129:(a(q,G-32-1,127,21),a($,et-32-1,127,9),a(pt,Tt-32-1,127,9)),C=0;C<g.za;++C){var Nt=b.ya[b.aa+C];if(0<C){for(x=-1;16>x;++x)i(q,G+32*x-4,q,G+32*x+12,4);for(x=-1;8>x;++x)i($,et+32*x-4,$,et+32*x+4,4),i(pt,Tt+32*x-4,pt,Tt+32*x+4,4)}var wt=g.Gd,zt=g.Hd+C,Dt=Nt.ad,gt=Nt.Hc;if(0<k&&(i(q,G-32,wt[zt].y,0,16),i($,et-32,wt[zt].f,0,8),i(pt,Tt-32,wt[zt].ea,0,8)),Nt.Za){var yt=q,It=G-32+16;for(0<k&&(C>=g.za-1?a(yt,It,wt[zt].y[15],4):i(yt,It,wt[zt+1].y,0,4)),x=0;4>x;x++)yt[It+128+x]=yt[It+256+x]=yt[It+384+x]=yt[It+0+x];for(x=0;16>x;++x,gt<<=2)yt=q,It=G+Ac[x],ws[Nt.Ob[x]](yt,It),oo(gt,Dt,16*+x,yt,It)}else if(yt=Lf(C,k,Nt.Ob[0]),vo[yt](q,G),gt!=0)for(x=0;16>x;++x,gt<<=2)oo(gt,Dt,16*+x,q,G+Ac[x]);for(x=Nt.Gc,yt=Lf(C,k,Nt.Dd),pa[yt]($,et),pa[yt](pt,Tt),gt=Dt,yt=$,It=et,255&(Nt=x>>0)&&(170&Nt?$a(gt,256,yt,It):Hs(gt,256,yt,It)),Nt=pt,gt=Tt,255&(x>>=8)&&(170&x?$a(Dt,320,Nt,gt):Hs(Dt,320,Nt,gt)),k<g.Ub-1&&(i(wt[zt].y,0,q,G+480,16),i(wt[zt].f,0,$,et+224,8),i(wt[zt].ea,0,pt,Tt+224,8)),x=8*j*g.B,wt=g.sa,zt=g.ta+16*C+16*j*g.R,Dt=g.qa,Nt=g.ra+8*C+x,gt=g.Ha,yt=g.Ia+8*C+x,x=0;16>x;++x)i(wt,zt+x*g.R,q,G+32*x,16);for(x=0;8>x;++x)i(Dt,Nt+x*g.B,$,et+32*x,8),i(gt,yt+x*g.B,pt,Tt+32*x,8)}}function ku(g,b,x,C,k,j,q,G,$){var et=[0],pt=[0],Tt=0,Nt=$!=null?$.kd:0,wt=$??new xf;if(g==null||12>x)return 7;wt.data=g,wt.w=b,wt.ha=x,b=[b],x=[x],wt.gb=[wt.gb];t:{var zt=b,Dt=x,gt=wt.gb;if(t(g!=null),t(Dt!=null),t(gt!=null),gt[0]=0,12<=Dt[0]&&!e(g,zt[0],"RIFF")){if(e(g,zt[0]+8,"WEBP")){gt=3;break t}var yt=Kt(g,zt[0]+4);if(12>yt||4294967286<yt){gt=3;break t}if(Nt&&yt>Dt[0]-8){gt=7;break t}gt[0]=yt,zt[0]+=12,Dt[0]-=12}gt=0}if(gt!=0)return gt;for(yt=0<wt.gb[0],x=x[0];;){t:{var It=g;Dt=b,gt=x;var qt=et,Bt=pt,se=zt=[0];if((Zt=Tt=[Tt])[0]=0,8>gt[0])gt=7;else{if(!e(It,Dt[0],"VP8X")){if(Kt(It,Dt[0]+4)!=10){gt=3;break t}if(18>gt[0]){gt=7;break t}var $t=Kt(It,Dt[0]+8),me=1+Wt(It,Dt[0]+12);if(2147483648<=me*(It=1+Wt(It,Dt[0]+15))){gt=3;break t}se!=null&&(se[0]=$t),qt!=null&&(qt[0]=me),Bt!=null&&(Bt[0]=It),Dt[0]+=18,gt[0]-=18,Zt[0]=1}gt=0}}if(Tt=Tt[0],zt=zt[0],gt!=0)return gt;if(Dt=!!(2&zt),!yt&&Tt)return 3;if(j!=null&&(j[0]=!!(16&zt)),q!=null&&(q[0]=Dt),G!=null&&(G[0]=0),q=et[0],zt=pt[0],Tt&&Dt&&$==null){gt=0;break}if(4>x){gt=7;break}if(yt&&Tt||!yt&&!Tt&&!e(g,b[0],"ALPH")){x=[x],wt.na=[wt.na],wt.P=[wt.P],wt.Sa=[wt.Sa];t:{$t=g,gt=b,yt=x;var Zt=wt.gb;qt=wt.na,Bt=wt.P,se=wt.Sa,me=22,t($t!=null),t(yt!=null),It=gt[0];var oi=yt[0];for(t(qt!=null),t(se!=null),qt[0]=null,Bt[0]=null,se[0]=0;;){if(gt[0]=It,yt[0]=oi,8>oi){gt=7;break t}var gi=Kt($t,It+4);if(4294967286<gi){gt=3;break t}var Ve=8+gi+1&-2;if(me+=Ve,0<Zt&&me>Zt){gt=3;break t}if(!e($t,It,"VP8 ")||!e($t,It,"VP8L")){gt=0;break t}if(oi[0]<Ve){gt=7;break t}e($t,It,"ALPH")||(qt[0]=$t,Bt[0]=It+8,se[0]=gi),It+=Ve,oi-=Ve}}if(x=x[0],wt.na=wt.na[0],wt.P=wt.P[0],wt.Sa=wt.Sa[0],gt!=0)break}x=[x],wt.Ja=[wt.Ja],wt.xa=[wt.xa];t:if(Zt=g,gt=b,yt=x,qt=wt.gb[0],Bt=wt.Ja,se=wt.xa,$t=gt[0],It=!e(Zt,$t,"VP8 "),me=!e(Zt,$t,"VP8L"),t(Zt!=null),t(yt!=null),t(Bt!=null),t(se!=null),8>yt[0])gt=7;else{if(It||me){if(Zt=Kt(Zt,$t+4),12<=qt&&Zt>qt-12){gt=3;break t}if(Nt&&Zt>yt[0]-8){gt=7;break t}Bt[0]=Zt,gt[0]+=8,yt[0]-=8,se[0]=me}else se[0]=5<=yt[0]&&Zt[$t+0]==47&&!(Zt[$t+4]>>5),Bt[0]=yt[0];gt=0}if(x=x[0],wt.Ja=wt.Ja[0],wt.xa=wt.xa[0],b=b[0],gt!=0)break;if(4294967286<wt.Ja)return 3;if(G==null||Dt||(G[0]=wt.xa?2:1),q=[q],zt=[zt],wt.xa){if(5>x){gt=7;break}G=q,Nt=zt,Dt=j,g==null||5>x?g=0:5<=x&&g[b+0]==47&&!(g[b+4]>>5)?(yt=[0],Zt=[0],qt=[0],ht(Bt=new O,g,b,x),de(Bt,yt,Zt,qt)?(G!=null&&(G[0]=yt[0]),Nt!=null&&(Nt[0]=Zt[0]),Dt!=null&&(Dt[0]=qt[0]),g=1):g=0):g=0}else{if(10>x){gt=7;break}G=zt,g==null||10>x||!ys(g,b+3,x-3)?g=0:(Nt=g[b+0]|g[b+1]<<8|g[b+2]<<16,Dt=16383&(g[b+7]<<8|g[b+6]),g=16383&(g[b+9]<<8|g[b+8]),1&Nt||3<(Nt>>1&7)||!(Nt>>4&1)||Nt>>5>=wt.Ja||!Dt||!g?g=0:(q&&(q[0]=Dt),G&&(G[0]=g),g=1))}if(!g||(q=q[0],zt=zt[0],Tt&&(et[0]!=q||pt[0]!=zt)))return 3;$!=null&&($[0]=wt,$.offset=b-$.w,t(4294967286>b-$.w),t($.offset==$.ha-x));break}return gt==0||gt==7&&Tt&&$==null?(j!=null&&(j[0]|=wt.na!=null&&0<wt.na.length),C!=null&&(C[0]=q),k!=null&&(k[0]=zt),0):gt}function il(g,b,x){var C=b.width,k=b.height,j=0,q=0,G=C,$=k;if(b.Da=g!=null&&0<g.Da,b.Da&&(G=g.cd,$=g.bd,j=g.v,q=g.j,11>x||(j&=-2,q&=-2),0>j||0>q||0>=G||0>=$||j+G>C||q+$>k))return 0;if(b.v=j,b.j=q,b.va=j+G,b.o=q+$,b.U=G,b.T=$,b.da=g!=null&&0<g.da,b.da){if(!we(G,$,x=[g.ib],j=[g.hb]))return 0;b.ib=x[0],b.hb=j[0]}return b.ob=g!=null&&g.ob,b.Kb=g==null||!g.Sd,b.da&&(b.ob=b.ib<3*C/4&&b.hb<3*k/4,b.Kb=0),1}function Pu(g){if(g==null)return 2;if(11>g.S){var b=g.f.RGBA;b.fb+=(g.height-1)*b.A,b.A=-b.A}else b=g.f.kb,g=g.height,b.O+=(g-1)*b.fa,b.fa=-b.fa,b.N+=(g-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(g-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(g-1)*b.lb,b.lb=-b.lb);return 0}function cc(g,b,x,C){if(C==null||0>=g||0>=b)return 2;if(x!=null){if(x.Da){var k=x.cd,j=x.bd,q=-2&x.v,G=-2&x.j;if(0>q||0>G||0>=k||0>=j||q+k>g||G+j>b)return 2;g=k,b=j}if(x.da){if(!we(g,b,k=[x.ib],j=[x.hb]))return 2;g=k[0],b=j[0]}}C.width=g,C.height=b;t:{var $=C.width,et=C.height;if(g=C.S,0>=$||0>=et||!(g>=os&&13>g))g=2;else{if(0>=C.Rd&&C.sd==null){q=j=k=b=0;var pt=(G=$*X2[g])*et;if(11>g||(j=(et+1)/2*(b=($+1)/2),g==12&&(q=(k=$)*et)),(et=r(pt+2*j+q))==null){g=1;break t}C.sd=et,11>g?(($=C.f.RGBA).eb=et,$.fb=0,$.A=G,$.size=pt):(($=C.f.kb).y=et,$.O=0,$.fa=G,$.Fd=pt,$.f=et,$.N=0+pt,$.Ab=b,$.Cd=j,$.ea=et,$.W=0+pt+j,$.Db=b,$.Ed=j,g==12&&($.F=et,$.J=0+pt+2*j),$.Tc=q,$.lb=k)}if(b=1,k=C.S,j=C.width,q=C.height,k>=os&&13>k)if(11>k)g=C.f.RGBA,b&=(G=Math.abs(g.A))*(q-1)+j<=g.size,b&=G>=j*X2[k],b&=g.eb!=null;else{g=C.f.kb,G=(j+1)/2,pt=(q+1)/2,$=Math.abs(g.fa),et=Math.abs(g.Ab);var Tt=Math.abs(g.Db),Nt=Math.abs(g.lb),wt=Nt*(q-1)+j;b&=$*(q-1)+j<=g.Fd,b&=et*(pt-1)+G<=g.Cd,b=(b&=Tt*(pt-1)+G<=g.Ed)&$>=j&et>=G&Tt>=G,b&=g.y!=null,b&=g.f!=null,b&=g.ea!=null,k==12&&(b&=Nt>=j,b&=wt<=g.Tc,b&=g.F!=null)}else b=0;g=b?0:2}}return g!=0||x!=null&&x.fd&&(g=Pu(C)),g}var En=64,nl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],uc=24,hc=32,Iu=8,qs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qt("Predictor0","PredictorAdd0"),Z.Predictor0=function(){return 4278190080},Z.Predictor1=function(g){return g},Z.Predictor2=function(g,b,x){return b[x+0]},Z.Predictor3=function(g,b,x){return b[x+1]},Z.Predictor4=function(g,b,x){return b[x-1]},Z.Predictor5=function(g,b,x){return te(te(g,b[x+1]),b[x+0])},Z.Predictor6=function(g,b,x){return te(g,b[x-1])},Z.Predictor7=function(g,b,x){return te(g,b[x+0])},Z.Predictor8=function(g,b,x){return te(b[x-1],b[x+0])},Z.Predictor9=function(g,b,x){return te(b[x+0],b[x+1])},Z.Predictor10=function(g,b,x){return te(te(g,b[x-1]),te(b[x+0],b[x+1]))},Z.Predictor11=function(g,b,x){var C=b[x+0];return 0>=qe(C>>24&255,g>>24&255,(b=b[x-1])>>24&255)+qe(C>>16&255,g>>16&255,b>>16&255)+qe(C>>8&255,g>>8&255,b>>8&255)+qe(255&C,255&g,255&b)?C:g},Z.Predictor12=function(g,b,x){var C=b[x+0];return(ge((g>>24&255)+(C>>24&255)-((b=b[x-1])>>24&255))<<24|ge((g>>16&255)+(C>>16&255)-(b>>16&255))<<16|ge((g>>8&255)+(C>>8&255)-(b>>8&255))<<8|ge((255&g)+(255&C)-(255&b)))>>>0},Z.Predictor13=function(g,b,x){var C=b[x-1];return(ke((g=te(g,b[x+0]))>>24&255,C>>24&255)<<24|ke(g>>16&255,C>>16&255)<<16|ke(g>>8&255,C>>8&255)<<8|ke(g>>0&255,C>>0&255))>>>0};var q1=Z.PredictorAdd0;Z.PredictorAdd1=Fe,Qt("Predictor2","PredictorAdd2"),Qt("Predictor3","PredictorAdd3"),Qt("Predictor4","PredictorAdd4"),Qt("Predictor5","PredictorAdd5"),Qt("Predictor6","PredictorAdd6"),Qt("Predictor7","PredictorAdd7"),Qt("Predictor8","PredictorAdd8"),Qt("Predictor9","PredictorAdd9"),Qt("Predictor10","PredictorAdd10"),Qt("Predictor11","PredictorAdd11"),Qt("Predictor12","PredictorAdd12"),Qt("Predictor13","PredictorAdd13");var Cf=Z.PredictorAdd2;Xe("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Xe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Tp,Ca=Z.ColorIndexInverseTransform,zn=Z.MapARGB,sl=Z.VP8LColorIndexInverseTransformAlpha,Tf=Z.MapAlpha,co=Z.VP8LPredictorsAdd=[];co.length=16,(Z.VP8LPredictors=[]).length=16,(Z.VP8LPredictorsAdd_C=[]).length=16,(Z.VP8LPredictors_C=[]).length=16;var al,As,$n,rl,Us,Wa,Mr,Ka,Zi,$a,vn,Hs,fc,Rr,Fu,ol,ll,cl,dc,Bu,ul,uo,pc,Ji,fa,We,Ke,Ri,un=r(511),Ta=r(2041),hl=r(225),fl=r(767),ho=0,Mp=Ta,gc=hl,qn=fl,Ma=un,os=0,ju=1,Or=2,Mf=3,mc=4,fo=5,Rp=6,Rf=7,dl=8,po=9,zu=10,Op=[2,3,7],Ra=[3,3,11],da=[280,256,256,256,40],vc=[0,1,1,1,0],go=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],mo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],U2=8,Of=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Df=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Nn=null,tn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],pl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Dr=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],U1=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],yc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],H2=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],vo=[],ws=[],pa=[],G2=1,qu=2,kr=[],Un=[];kt("UpsampleRgbLinePair",ei,3),kt("UpsampleBgrLinePair",zi,3),kt("UpsampleRgbaLinePair",Ya,4),kt("UpsampleBgraLinePair",jn,4),kt("UpsampleArgbLinePair",cn,4),kt("UpsampleRgba4444LinePair",ln,2),kt("UpsampleRgb565LinePair",Xi,2);var bo=Z.UpsampleRgbLinePair,gl=Z.UpsampleBgrLinePair,Pr=Z.UpsampleRgbaLinePair,Dp=Z.UpsampleBgraLinePair,kp=Z.UpsampleArgbLinePair,Uu=Z.UpsampleRgba4444LinePair,Pp=Z.UpsampleRgb565LinePair,Ir=16,Ln=1<<Ir-1,ml=-227,Ip=482,_b=6,V2=0,xb=r(256),Cn=r(256),H1=r(256),kf=r(256),Pf=r(Ip-ml),G1=r(Ip-ml);Xa("YuvToRgbRow",ei,3),Xa("YuvToBgrRow",zi,3),Xa("YuvToRgbaRow",Ya,4),Xa("YuvToBgraRow",jn,4),Xa("YuvToArgbRow",cn,4),Xa("YuvToRgba4444Row",ln,2),Xa("YuvToRgb565Row",Xi,2);var Ac=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],yo=[0,2,8],Eb=[8,7,6,4,4,2,2,2,1,1,1,1],Y2=1;this.WebPDecodeRGBA=function(g,b,x,C,k){var j=ju,q=new Mu,G=new sa;q.ba=G,G.S=j,G.width=[G.width],G.height=[G.height];var $=G.width,et=G.height,pt=new aa;if(pt==null||g==null)var Tt=2;else t(pt!=null),Tt=ku(g,b,x,pt.width,pt.height,pt.Pd,pt.Qd,pt.format,null);if(Tt!=0?$=0:($!=null&&($[0]=pt.width[0]),et!=null&&(et[0]=pt.height[0]),$=1),$){G.width=G.width[0],G.height=G.height[0],C!=null&&(C[0]=G.width),k!=null&&(k[0]=G.height);t:{if(C=new Xo,(k=new xf).data=g,k.w=b,k.ha=x,k.kd=1,b=[0],t(k!=null),((g=ku(k.data,k.w,k.ha,null,null,null,b,null,k))==0||g==7)&&b[0]&&(g=4),(b=g)==0){if(t(q!=null),C.data=k.data,C.w=k.w+k.offset,C.ha=k.ha-k.offset,C.put=Ua,C.ac=_n,C.bc=Er,C.ma=q,k.xa){if((g=Kn())==null){q=1;break t}if(function(Nt,wt){var zt=[0],Dt=[0],gt=[0];e:for(;;){if(Nt==null)return 0;if(wt==null)return Nt.a=2,0;if(Nt.l=wt,Nt.a=0,ht(Nt.m,wt.data,wt.w,wt.ha),!de(Nt.m,zt,Dt,gt)){Nt.a=3;break e}if(Nt.xb=qu,wt.width=zt[0],wt.height=Dt[0],!xi(zt[0],Dt[0],1,Nt,null))break e;return 1}return t(Nt.a!=0),0}(g,C)){if(C=(b=cc(C.width,C.height,q.Oa,q.ba))==0){e:{C=g;i:for(;;){if(C==null){C=0;break e}if(t(C.s.yc!=null),t(C.s.Ya!=null),t(0<C.s.Wb),t((x=C.l)!=null),t((k=x.ma)!=null),C.xb!=0){if(C.ca=k.ba,C.tb=k.tb,t(C.ca!=null),!il(k.Oa,x,Mf)){C.a=2;break i}if(!Yo(C,x.width)||x.da)break i;if((x.da||pi(C.ca.S))&&xt(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&xt()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!ve(C.s.vb,C.s.Wa.Xa)){C.a=1;break i}C.xb=0}if(!as(C,C.V,C.Ba,C.c,C.i,x.o,ec))break i;k.Dc=C.Ma,C=1;break e}t(C.a!=0),C=0}C=!C}C&&(b=g.a)}else b=g.a}else{if((g=new I1)==null){q=1;break t}if(g.Fa=k.na,g.P=k.P,g.qc=k.Sa,gf(g,C)){if((b=cc(C.width,C.height,q.Oa,q.ba))==0){if(g.Aa=0,x=q.Oa,t((k=g)!=null),x!=null){if(0<($=0>($=x.Md)?0:100<$?255:255*$/100)){for(et=pt=0;4>et;++et)12>(Tt=k.pb[et]).lc&&(Tt.ia=$*Eb[0>Tt.lc?0:Tt.lc]>>3),pt|=Tt.ia;pt&&(alert("todo:VP8InitRandom"),k.ia=1)}k.Ga=x.Id,100<k.Ga?k.Ga=100:0>k.Ga&&(k.Ga=0)}wp(g,C)||(b=g.a)}}else b=g.a}b==0&&q.Oa!=null&&q.Oa.fd&&(b=Pu(q.ba))}q=b}j=q!=0?null:11>j?G.f.RGBA.eb:G.f.kb.y}else j=null;return j};var X2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(Z,ct){for(var bt="",z=0;z<4;z++)bt+=String.fromCharCode(Z[ct++]);return bt}function m(Z,ct){return(Z[ct+0]<<0|Z[ct+1]<<8|Z[ct+2]<<16)>>>0}function y(Z,ct){return(Z[ct+0]<<0|Z[ct+1]<<8|Z[ct+2]<<16|Z[ct+3]<<24)>>>0}new h;var w=[0],A=[0],N=[],E=new h,M=c,L=function(Z,ct){var bt={},z=0,K=!1,ot=0,st=0;if(bt.frames=[],!function(H,Q,rt,at){for(var mt=0;mt<at;mt++)if(H[Q+mt]!=rt.charCodeAt(mt))return!0;return!1}(Z,ct,"RIFF",4)){for(y(Z,ct+=4),ct+=8;ct<Z.length;){var Et=p(Z,ct),U=y(Z,ct+=4);ct+=4;var tt=U+(1&U);switch(Et){case"VP8 ":case"VP8L":bt.frames[z]===void 0&&(bt.frames[z]={}),(V=bt.frames[z]).src_off=K?st:ct-8,V.src_size=ot+U+8,z++,K&&(K=!1,ot=0,st=0);break;case"VP8X":(V=bt.header={}).feature_flags=Z[ct];var ht=ct+4;V.canvas_width=1+m(Z,ht),ht+=3,V.canvas_height=1+m(Z,ht),ht+=3;break;case"ALPH":K=!0,ot=tt+8,st=ct-8;break;case"ANIM":(V=bt.header).bgcolor=y(Z,ct),ht=ct+4,V.loop_count=(ft=Z)[(O=ht)+0]<<0|ft[O+1]<<8,ht+=2;break;case"ANMF":var At,V;(V=bt.frames[z]={}).offset_x=2*m(Z,ct),ct+=3,V.offset_y=2*m(Z,ct),ct+=3,V.width=1+m(Z,ct),ct+=3,V.height=1+m(Z,ct),ct+=3,V.duration=m(Z,ct),ct+=3,At=Z[ct++],V.dispose=1&At,V.blend=At>>1&1}Et!="ANMF"&&(ct+=tt)}var ft,O;return bt}}(M,0);L.response=M,L.rgbaoutput=!0,L.dataurl=!1;var R=L.header?L.header:null,P=L.frames?L.frames:null;if(R){R.loop_counter=R.loop_count,w=[R.canvas_height],A=[R.canvas_width];for(var W=0;W<P.length&&P[W].blend!=0;W++);}var X=P[0],it=E.WebPDecodeRGBA(M,X.src_off,X.src_size,A,w);X.rgba=it,X.imgwidth=A[0],X.imgheight=w[0];for(var J=0;J<A[0]*w[0]*4;J++)N[J]=it[J];return this.width=A,this.height=w,this.data=N,this}(function(c){var t=function(){return typeof ww=="function"},e=function(w,A,N,E){var M=4,L=o;switch(E){case c.image_compression.FAST:M=1,L=r;break;case c.image_compression.MEDIUM:M=6,L=u;break;case c.image_compression.SLOW:M=9,L=h}w=i(w,A,N,L);var R=ww(w,{level:M});return c.__addimage__.arrayBufferToBinaryString(R)},i=function(w,A,N,E){for(var M,L,R,P=w.length/A,W=new Uint8Array(w.length+P),X=m(),it=0;it<P;it+=1){if(R=it*A,M=w.subarray(R,R+A),E)W.set(E(M,N,L),R+it);else{for(var J,Z=X.length,ct=[];J<Z;J+=1)ct[J]=X[J](M,N,L);var bt=y(ct.concat());W.set(ct[bt],R+it)}L=M}return W},a=function(w){var A=Array.apply([],w);return A.unshift(0),A},r=function(w,A){var N,E=[],M=w.length;E[0]=1;for(var L=0;L<M;L+=1)N=w[L-A]||0,E[L+1]=w[L]-N+256&255;return E},o=function(w,A,N){var E,M=[],L=w.length;M[0]=2;for(var R=0;R<L;R+=1)E=N&&N[R]||0,M[R+1]=w[R]-E+256&255;return M},u=function(w,A,N){var E,M,L=[],R=w.length;L[0]=3;for(var P=0;P<R;P+=1)E=w[P-A]||0,M=N&&N[P]||0,L[P+1]=w[P]+256-(E+M>>>1)&255;return L},h=function(w,A,N){var E,M,L,R,P=[],W=w.length;P[0]=4;for(var X=0;X<W;X+=1)E=w[X-A]||0,M=N&&N[X]||0,L=N&&N[X-A]||0,R=p(E,M,L),P[X+1]=w[X]-R+256&255;return P},p=function(w,A,N){if(w===A&&A===N)return w;var E=Math.abs(A-N),M=Math.abs(w-N),L=Math.abs(w+A-N-N);return E<=M&&E<=L?w:M<=L?A:N},m=function(){return[a,r,o,u,h]},y=function(w){var A=w.map(function(N){return N.reduce(function(E,M){return E+Math.abs(M)},0)});return A.indexOf(Math.min.apply(null,A))};c.processPNG=function(w,A,N,E){var M,L,R,P,W,X,it,J,Z,ct,bt,z,K,ot,st,Et=this.decode.FLATE_DECODE,U="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(R=new IT(w)).imgData,L=R.bits,M=R.colorSpace,W=R.colors,[4,6].indexOf(R.colorType)!==-1){if(R.bits===8){Z=(J=R.pixelBitlength==32?new Uint32Array(R.decodePixels().buffer):R.pixelBitlength==16?new Uint16Array(R.decodePixels().buffer):new Uint8Array(R.decodePixels().buffer)).length,bt=new Uint8Array(Z*R.colors),ct=new Uint8Array(Z);var tt,ht=R.pixelBitlength-R.bits;for(ot=0,st=0;ot<Z;ot++){for(K=J[ot],tt=0;tt<ht;)bt[st++]=K>>>tt&255,tt+=R.bits;ct[ot]=K>>>tt&255}}if(R.bits===16){Z=(J=new Uint32Array(R.decodePixels().buffer)).length,bt=new Uint8Array(Z*(32/R.pixelBitlength)*R.colors),ct=new Uint8Array(Z*(32/R.pixelBitlength)),z=R.colors>1,ot=0,st=0;for(var At=0;ot<Z;)K=J[ot++],bt[st++]=K>>>0&255,z&&(bt[st++]=K>>>16&255,K=J[ot++],bt[st++]=K>>>0&255),ct[At++]=K>>>16&255;L=8}E!==c.image_compression.NONE&&t()?(w=e(bt,R.width*R.colors,R.colors,E),it=e(ct,R.width,1,E)):(w=bt,it=ct,Et=void 0)}if(R.colorType===3&&(M=this.color_spaces.INDEXED,X=R.palette,R.transparency.indexed)){var V=R.transparency.indexed,ft=0;for(ot=0,Z=V.length;ot<Z;++ot)ft+=V[ot];if((ft/=255)===Z-1&&V.indexOf(0)!==-1)P=[V.indexOf(0)];else if(ft!==Z){for(J=R.decodePixels(),ct=new Uint8Array(J.length),ot=0,Z=J.length;ot<Z;ot++)ct[ot]=V[J[ot]];it=e(ct,R.width,1)}}var O=function(H){var Q;switch(H){case c.image_compression.FAST:Q=11;break;case c.image_compression.MEDIUM:Q=13;break;case c.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(E);return Et===this.decode.FLATE_DECODE&&(U="/Predictor "+O+" "),U+="/Colors "+W+" /BitsPerComponent "+L+" /Columns "+R.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(it&&this.__addimage__.isArrayBuffer(it)||this.__addimage__.isArrayBufferView(it))&&(it=this.__addimage__.arrayBufferToBinaryString(it)),{alias:N,data:w,index:A,filter:Et,decodeParameters:U,transparency:P,palette:X,sMask:it,predictor:O,width:R.width,height:R.height,bitsPerComponent:L,colorSpace:M}}}})(Ne.API),function(c){c.processGIF89A=function(t,e,i,a){var r=new FT(t),o=r.width,u=r.height,h=[];r.decodeAndBlitFrameRGBA(0,h);var p={data:h,width:o,height:u},m=new Qy(100).encode(p,100);return c.processJPEG.call(this,m,e,i,a)},c.processGIF87A=c.processGIF89A}(Ne.API),Lo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var c=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(c);for(var t=0;t<c;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:i,blue:e,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Lo.prototype.parseBGR=function(){this.pos=this.offset;try{var c="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[c]()}catch(e){ji.log("bit decode error:"+e)}},Lo.prototype.bit1=function(){var c,t=Math.ceil(this.width/8),e=t%4;for(c=this.height-1;c>=0;c--){for(var i=this.bottom_up?c:this.height-1-c,a=0;a<t;a++)for(var r=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var h=this.palette[r>>7-u&1];this.data[o+4*u]=h.blue,this.data[o+4*u+1]=h.green,this.data[o+4*u+2]=h.red,this.data[o+4*u+3]=255}e!==0&&(this.pos+=4-e)}},Lo.prototype.bit4=function(){for(var c=Math.ceil(this.width/2),t=c%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,a=0;a<c;a++){var r=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*a*4,u=r>>4,h=15&r,p=this.palette[u];if(this.data[o]=p.blue,this.data[o+1]=p.green,this.data[o+2]=p.red,this.data[o+3]=255,2*a+1>=this.width)break;p=this.palette[h],this.data[o+4]=p.blue,this.data[o+4+1]=p.green,this.data[o+4+2]=p.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Lo.prototype.bit8=function(){for(var c=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),r=e*this.width*4+4*i;if(a<this.palette.length){var o=this.palette[a];this.data[r]=o.red,this.data[r+1]=o.green,this.data[r+2]=o.blue,this.data[r+3]=255}else this.data[r]=255,this.data[r+1]=255,this.data[r+2]=255,this.data[r+3]=255}c!==0&&(this.pos+=4-c)}},Lo.prototype.bit15=function(){for(var c=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(r&t)/t*255|0,u=(r>>5&t)/t*255|0,h=(r>>10&t)/t*255|0,p=r>>15?255:0,m=i*this.width*4+4*a;this.data[m]=h,this.data[m+1]=u,this.data[m+2]=o,this.data[m+3]=p}this.pos+=c}},Lo.prototype.bit16=function(){for(var c=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,h=(o>>5&e)/e*255|0,p=(o>>11)/t*255|0,m=a*this.width*4+4*r;this.data[m]=p,this.data[m+1]=h,this.data[m+2]=u,this.data[m+3]=255}this.pos+=c}},Lo.prototype.bit24=function(){for(var c=this.height-1;c>=0;c--){for(var t=this.bottom_up?c:this.height-1-c,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=r,this.data[o+1]=a,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},Lo.prototype.bit32=function(){for(var c=this.height-1;c>=0;c--)for(var t=this.bottom_up?c:this.height-1-c,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=r,this.data[u+1]=a,this.data[u+2]=i,this.data[u+3]=o}},Lo.prototype.getData=function(){return this.data},function(c){c.processBMP=function(t,e,i,a){var r=new Lo(t,!1),o=r.width,u=r.height,h={data:r.getData(),width:o,height:u},p=new Qy(100).encode(h,100);return c.processJPEG.call(this,p,e,i,a)}}(Ne.API),l4.prototype.getData=function(){return this.data},function(c){c.processWEBP=function(t,e,i,a){var r=new l4(t),o=r.width,u=r.height,h={data:r.getData(),width:o,height:u},p=new Qy(100).encode(h,100);return c.processJPEG.call(this,p,e,i,a)}}(Ne.API),Ne.API.processRGBA=function(c,t,e){for(var i=c.data,a=i.length,r=new Uint8Array(a/4*3),o=new Uint8Array(a/4),u=0,h=0,p=0;p<a;p+=4){var m=i[p],y=i[p+1],w=i[p+2],A=i[p+3];r[u++]=m,r[u++]=y,r[u++]=w,o[h++]=A}var N=this.__addimage__.arrayBufferToBinaryString(r);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:N,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:c.width,height:c.height}},Ne.API.setLanguage=function(c){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[c]!==void 0&&(this.internal.languageSettings.languageCode=c,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},rg=Ne.API,$5=rg.getCharWidthsArray=function(c,t){var e,i,a=(t=t||{}).font||this.internal.getFont(),r=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:a.metadata.Unicode.widths,h=u.fof?u.fof:1,p=t.kerning?t.kerning:a.metadata.Unicode.kerning,m=p.fof?p.fof:1,y=t.doKerning!==!1,w=0,A=c.length,N=0,E=u[0]||h,M=[];for(e=0;e<A;e++)i=c.charCodeAt(e),typeof a.metadata.widthOfString=="function"?M.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+o*(1e3/r)||0)/1e3):(w=y&&Ti(p[i])==="object"&&!isNaN(parseInt(p[i][N],10))?p[i][N]/m:0,M.push((u[i]||E)/h+w)),N=i;return M},s4=rg.getStringUnitWidth=function(c,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return rg.processArabic&&(c=rg.processArabic(c)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(c,e,a)/e:$5.apply(this,arguments).reduce(function(r,o){return r+o},0)},a4=function(c,t,e,i){for(var a=[],r=0,o=c.length,u=0;r!==o&&u+t[r]<e;)u+=t[r],r++;a.push(c.slice(0,r));var h=r;for(u=0;r!==o;)u+t[r]>i&&(a.push(c.slice(h,r)),u=0,h=r),u+=t[r],r++;return h!==r&&a.push(c.slice(h,r)),a},r4=function(c,t,e){e||(e={});var i,a,r,o,u,h,p,m=[],y=[m],w=e.textIndent||0,A=0,N=0,E=c.split(" "),M=$5.apply(this,[" ",e])[0];if(h=e.lineIndent===-1?E[0].length+2:e.lineIndent||0){var L=Array(h).join(" "),R=[];E.map(function(W){(W=W.split(/\s*\n/)).length>1?R=R.concat(W.map(function(X,it){return(it&&X.length?`
`:"")+X})):R.push(W[0])}),E=R,h=s4.apply(this,[L,e])}for(r=0,o=E.length;r<o;r++){var P=0;if(i=E[r],h&&i[0]==`
`&&(i=i.substr(1),P=1),w+A+(N=(a=$5.apply(this,[i,e])).reduce(function(W,X){return W+X},0))>t||P){if(N>t){for(u=a4.apply(this,[i,a,t-(w+A),t]),m.push(u.shift()),m=[u.pop()];u.length;)y.push([u.shift()]);N=a.slice(i.length-(m[0]?m[0].length:0)).reduce(function(W,X){return W+X},0)}else m=[i];y.push(m),w=N+h,A=M}else m.push(i),w+=A+N,A=M}return p=h?function(W,X){return(X?L:"")+W.join(" ")}:function(W){return W.join(" ")},y.map(p)},rg.splitTextToSize=function(c,t,e){var i,a=(e=e||{}).fontSize||this.internal.getFontSize(),r=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var y=this.internal.getFont(m.fontName,m.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(c)?c:String(c).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;r.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/a:0,r.lineIndent=e.lineIndent;var u,h,p=[];for(u=0,h=i.length;u<h;u++)p=p.concat(r4.apply(this,[i[u],o,r]));return p},function(c){c.__fontmetrics__=c.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},a=0;a<t.length;a++)e[t[a]]="0123456789abcdef"[a],i["0123456789abcdef"[a]]=t[a];var r=function(y){return"0x"+parseInt(y,10).toString(16)},o=c.__fontmetrics__.compress=function(y){var w,A,N,E,M=["{"];for(var L in y){if(w=y[L],isNaN(parseInt(L,10))?A="'"+L+"'":(L=parseInt(L,10),A=(A=r(L).slice(2)).slice(0,-1)+i[A.slice(-1)]),typeof w=="number")w<0?(N=r(w).slice(3),E="-"):(N=r(w).slice(2),E=""),N=E+N.slice(0,-1)+i[N.slice(-1)];else{if(Ti(w)!=="object")throw new Error("Don't know what to do with value type "+Ti(w)+".");N=o(w)}M.push(A+N)}return M.push("}"),M.join("")},u=c.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,A,N,E,M={},L=1,R=M,P=[],W="",X="",it=y.length-1,J=1;J<it;J+=1)(E=y[J])=="'"?w?(N=w.join(""),w=void 0):w=[]:w?w.push(E):E=="{"?(P.push([R,N]),R={},N=void 0):E=="}"?((A=P.pop())[0][A[1]]=R,N=void 0,R=A[0]):E=="-"?L=-1:N===void 0?e.hasOwnProperty(E)?(W+=e[E],N=parseInt(W,16)*L,L=1,W=""):W+=E:e.hasOwnProperty(E)?(X+=e[E],R[N]=parseInt(X,16)*L,L=1,N=void 0,X=""):X+=E;return M},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};c.events.push(["addFont",function(y){var w=y.font,A=m.Unicode[w.postScriptName];A&&(w.metadata.Unicode={},w.metadata.Unicode.widths=A.widths,w.metadata.Unicode.kerning=A.kerning);var N=p.Unicode[w.postScriptName];N&&(w.metadata.Unicode.encoding=N,w.encoding=N.codePages[0])}])}(Ne.API),function(c){var t=function(e){for(var i=e.length,a=new Uint8Array(i),r=0;r<i;r++)a[r]=e.charCodeAt(r);return a};c.API.events.push(["addFont",function(e){var i=void 0,a=e.font,r=e.instance;if(!a.isStandardFont){if(r===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(i=r.existsFileInVFS(a.postScriptName)===!1?r.loadFile(a.postScriptName):r.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(J0(u)),o.metadata=c.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,i)}}])}(Ne),function(c){function t(){return(Ce.canvg?Promise.resolve(Ce.canvg):mw(()=>import("./index.es-BEkLpELj.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Ne.API.addSvgAsImage=function(e,i,a,r,o,u,h,p){if(isNaN(i)||isNaN(a))throw ji.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(o))throw ji.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var m=document.createElement("canvas");m.width=r,m.height=o;var y=m.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,m.width,m.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return t().then(function(N){return N.fromString(y,e,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(w)}).then(function(){A.addImage(m.toDataURL("image/jpeg",1),i,a,r,o,h,p)})}}(),Ne.API.putTotalPages=function(c){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(c,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(c,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(t,e);return this},Ne.API.viewerPreferences=function(c,t){var e;c=c||{},t=t||!1;var i,a,r,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),h=[],p=0,m=0,y=0;function w(N,E){var M,L=!1;for(M=0;M<N.length;M+=1)N[M]===E&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,c==="reset"||t===!0){var A=u.length;for(y=0;y<A;y+=1)e[u[y]].value=e[u[y]].defaultValue,e[u[y]].explicitSet=!1}if(Ti(c)==="object"){for(a in c)if(r=c[a],w(u,a)&&r!==void 0){if(e[a].type==="boolean"&&typeof r=="boolean")e[a].value=r;else if(e[a].type==="name"&&w(e[a].valueSet,r))e[a].value=r;else if(e[a].type==="integer"&&Number.isInteger(r))e[a].value=r;else if(e[a].type==="array"){for(p=0;p<r.length;p+=1)if(i=!0,r[p].length===1&&typeof r[p][0]=="number")h.push(String(r[p]-1));else if(r[p].length>1){for(m=0;m<r[p].length;m+=1)typeof r[p][m]!="number"&&(i=!1);i===!0&&h.push([r[p][0]-1,r[p][1]-1].join(" "))}e[a].value="["+h.join(" ")+"]"}else e[a].value=e[a].defaultValue;e[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,E=[];for(N in e)e[N].explicitSet===!0&&(e[N].type==="name"?E.push("/"+N+" /"+e[N].value):E.push("/"+N+" "+e[N].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(c){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),p=r.length+o.length+u.length+a.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(a+r+o+u+h),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};c.addMetadata=function(i,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Ne.API),function(c){var t=c.API,e=t.pdfEscape16=function(r,o){for(var u,h=o.metadata.Unicode.widths,p=["","0","00","000","0000"],m=[""],y=0,w=r.length;y<w;++y){if(u=o.metadata.characterToGlyph(r.charCodeAt(y)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=r.charCodeAt(y),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return m.join("");u=u.toString(16),m.push(p[4-u.length],u)}return m.join("")},i=function(r){var o,u,h,p,m,y,w;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],y=0,w=(u=Object.keys(r).sort(function(A,N){return A-N})).length;y<w;y++)o=u[y],h.length>=100&&(m+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),r[o]!==void 0&&r[o]!==null&&typeof r[o].toString=="function"&&(p=("0000"+r[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),h.push("<"+o+"><"+p+">"));return h.length&&(m+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),m+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(r){(function(o){var u=o.font,h=o.out,p=o.newObject,m=o.putStream;if(u.metadata instanceof c.API.TTFFont&&u.encoding==="Identity-H"){for(var y=u.metadata.Unicode.widths,w=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),A="",N=0;N<w.length;N++)A+=String.fromCharCode(w[N]);var E=p();m({data:A,addLength1:!0,objectId:E}),h("endobj");var M=p();m({data:i(u.metadata.toUnicode),addLength1:!0,objectId:M}),h("endobj");var L=p();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+mg(u.fontName)),h("/FontFile2 "+E+" 0 R"),h("/FontBBox "+c.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var R=p();h("<<"),h("/Type /Font"),h("/BaseFont /"+mg(u.fontName)),h("/FontDescriptor "+L+" 0 R"),h("/W "+c.API.PDFObject.convert(y)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=p(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+M+" 0 R"),h("/BaseFont /"+mg(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+R+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(r)}]),t.events.push(["putFont",function(r){(function(o){var u=o.font,h=o.out,p=o.newObject,m=o.putStream;if(u.metadata instanceof c.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var y=u.metadata.rawData,w="",A=0;A<y.length;A++)w+=String.fromCharCode(y[A]);var N=p();m({data:w,addLength1:!0,objectId:N}),h("endobj");var E=p();m({data:i(u.metadata.toUnicode),addLength1:!0,objectId:E}),h("endobj");var M=p();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+N+" 0 R"),h("/Flags 96"),h("/FontBBox "+c.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+mg(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=p();for(var L=0;L<u.metadata.hmtx.widths.length;L++)u.metadata.hmtx.widths[L]=parseInt(u.metadata.hmtx.widths[L]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+mg(u.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+c.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(r)}]);var a=function(r){var o,u=r.text||"",h=r.x,p=r.y,m=r.options||{},y=r.mutex||{},w=y.pdfEscape,A=y.activeFontKey,N=y.fonts,E=A,M="",L=0,R="",P=N[E].encoding;if(N[E].encoding!=="Identity-H")return{text:u,x:h,y:p,options:m,mutex:y};for(R=u,E=A,Array.isArray(u)&&(R=u[0]),L=0;L<R.length;L+=1)N[E].metadata.hasOwnProperty("cmap")&&(o=N[E].metadata.cmap.unicode.codeMap[R[L].charCodeAt(0)]),o||R[L].charCodeAt(0)<256&&N[E].metadata.hasOwnProperty("Unicode")?M+=R[L]:M+="";var W="";return parseInt(E.slice(1))<14||P==="WinAnsiEncoding"?W=w(M,E).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(W=e(M,N[E])),y.isHex=!0,{text:W,x:h,y:p,options:m,mutex:y}};t.events.push(["postProcessText",function(r){var o=r.text||"",u=[],h={text:o,x:r.x,y:r.y,options:r.options,mutex:r.mutex};if(Array.isArray(o)){var p=0;for(p=0;p<o.length;p+=1)Array.isArray(o[p])&&o[p].length===3?u.push([a(Object.assign({},h,{text:o[p][0]})).text,o[p][1],o[p][2]]):u.push(a(Object.assign({},h,{text:o[p]})).text);r.text=u}else r.text=a(Object.assign({},h,{text:o})).text}])}(Ne),function(c){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};c.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},c.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},c.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Ne.API),function(c){c.__bidiEngine__=c.prototype.__bidiEngine__=function(i){var a,r,o,u,h,p,m,y=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,P=0;this.__bidiEngine__={};var W=function(z){var K=z.charCodeAt(),ot=K>>8,st=E[ot];return st!==void 0?y[256*st+(255&K)]:ot===252||ot===253?"AL":L.test(ot)?"L":ot===8?"R":"N"},X=function(z){for(var K,ot=0;ot<z.length;ot++){if((K=W(z.charAt(ot)))==="L")return!1;if(K==="R")return!0}return!1},it=function(z,K,ot,st){var Et,U,tt,ht,At=K[st];switch(At){case"L":case"R":R=!1;break;case"N":case"AN":break;case"EN":R&&(At="AN");break;case"AL":R=!0,At="R";break;case"WS":At="N";break;case"CS":st<1||st+1>=K.length||(Et=ot[st-1])!=="EN"&&Et!=="AN"||(U=K[st+1])!=="EN"&&U!=="AN"?At="N":R&&(U="AN"),At=U===Et?U:"N";break;case"ES":At=(Et=st>0?ot[st-1]:"B")==="EN"&&st+1<K.length&&K[st+1]==="EN"?"EN":"N";break;case"ET":if(st>0&&ot[st-1]==="EN"){At="EN";break}if(R){At="N";break}for(tt=st+1,ht=K.length;tt<ht&&K[tt]==="ET";)tt++;At=tt<ht&&K[tt]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(ht=K.length,tt=st+1;tt<ht&&K[tt]==="NSM";)tt++;if(tt<ht){var V=z[st],ft=V>=1425&&V<=2303||V===64286;if(Et=K[tt],ft&&(Et==="R"||Et==="AL")){At="R";break}}}At=st<1||(Et=K[st-1])==="B"?"N":ot[st-1];break;case"B":R=!1,a=!0,At=P;break;case"S":r=!0,At="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"BN":At="N"}return At},J=function(z,K,ot){var st=z.split("");return ot&&Z(st,ot,{hiLevel:P}),st.reverse(),K&&K.reverse(),st.join("")},Z=function(z,K,ot){var st,Et,U,tt,ht,At=-1,V=z.length,ft=0,O=[],H=P?A:w,Q=[];for(R=!1,a=!1,r=!1,Et=0;Et<V;Et++)Q[Et]=W(z[Et]);for(U=0;U<V;U++){if(ht=ft,O[U]=it(z,Q,O,U),st=240&(ft=H[ht][N[O[U]]]),ft&=15,K[U]=tt=H[ft][5],st>0)if(st===16){for(Et=At;Et<U;Et++)K[Et]=1;At=-1}else At=-1;if(H[ft][6])At===-1&&(At=U);else if(At>-1){for(Et=At;Et<U;Et++)K[Et]=tt;At=-1}Q[U]==="B"&&(K[U]=0),ot.hiLevel|=tt}r&&function(rt,at,mt){for(var St=0;St<mt;St++)if(rt[St]==="S"){at[St]=P;for(var Ct=St-1;Ct>=0&&rt[Ct]==="WS";Ct--)at[Ct]=P}}(Q,K,V)},ct=function(z,K,ot,st,Et){if(!(Et.hiLevel<z)){if(z===1&&P===1&&!a)return K.reverse(),void(ot&&ot.reverse());for(var U,tt,ht,At,V=K.length,ft=0;ft<V;){if(st[ft]>=z){for(ht=ft+1;ht<V&&st[ht]>=z;)ht++;for(At=ft,tt=ht-1;At<tt;At++,tt--)U=K[At],K[At]=K[tt],K[tt]=U,ot&&(U=ot[At],ot[At]=ot[tt],ot[tt]=U);ft=ht}ft++}}},bt=function(z,K,ot){var st=z.split(""),Et={hiLevel:P};return ot||(ot=[]),Z(st,ot,Et),function(U,tt,ht){if(ht.hiLevel!==0&&m)for(var At,V=0;V<U.length;V++)tt[V]===1&&(At=M.indexOf(U[V]))>=0&&(U[V]=M[At+1])}(st,ot,Et),ct(2,st,K,ot,Et),ct(1,st,K,ot,Et),st.join("")};return this.__bidiEngine__.doBidiReorder=function(z,K,ot){if(function(Et,U){if(U)for(var tt=0;tt<Et.length;tt++)U[tt]=tt;u===void 0&&(u=X(Et)),p===void 0&&(p=X(Et))}(z,K),o||!h||p)if(o&&h&&u^p)P=u?1:0,z=J(z,K,ot);else if(!o&&h&&p)P=u?1:0,z=bt(z,K,ot),z=J(z,K);else if(!o||u||h||p){if(o&&!h&&u^p)z=J(z,K),u?(P=0,z=bt(z,K,ot)):(P=1,z=bt(z,K,ot),z=J(z,K));else if(o&&u&&!h&&p)P=1,z=bt(z,K,ot),z=J(z,K);else if(!o&&!h&&u^p){var st=m;u?(P=1,z=bt(z,K,ot),P=0,m=!1,z=bt(z,K,ot),m=st):(P=0,z=bt(z,K,ot),z=J(z,K),P=1,m=!1,z=bt(z,K,ot),m=st,z=J(z,K))}}else P=0,z=bt(z,K,ot);else P=u?1:0,z=bt(z,K,ot);return z},this.__bidiEngine__.setOptions=function(z){z&&(o=z.isInputVisual,h=z.isOutputVisual,u=z.isInputRtl,p=z.isOutputRtl,m=z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new c.__bidiEngine__({isInputVisual:!0});c.API.events.push(["postProcessText",function(i){var a=i.text;i.x,i.y;var r=i.options||{};i.mutex,r.lang;var o=[];if(r.isInputVisual=typeof r.isInputVisual!="boolean"||r.isInputVisual,e.setOptions(r),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(o=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?o.push([e.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):o.push([e.doBidiReorder(a[u])]);i.text=o}else i.text=e.doBidiReorder(a);e.setOptions({isInputVisual:!0})}])}(Ne),Ne.API.TTFFont=function(){function c(t){var e;if(this.rawData=t,e=this.contents=new cf(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new ZT(this),this.registerTTF()}return c.open=function(t){return new c(t)},c.prototype.parse=function(){return this.directory=new BT(this.contents),this.head=new zT(this),this.name=new VT(this),this.cmap=new $E(this),this.toUnicode={},this.hhea=new qT(this),this.maxp=new YT(this),this.hmtx=new XT(this),this.post=new HT(this),this.os2=new UT(this),this.loca=new QT(this),this.glyf=new WT(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},c.prototype.registerTTF=function(){var t,e,i,a,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,h,p;for(p=[],o=0,u=(h=this.bbox).length;o<u;o++)t=h[o],p.push(Math.round(t*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(i=255&(a=this.post.italic_angle),(32768&(e=a>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(r=this.familyClass)===1||r===2||r===3||r===4||r===5||r===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},c.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},c.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},c.prototype.widthOfString=function(t,e,i){var a,r,o,u;for(o=0,r=0,u=(t=""+t).length;0<=u?r<u:r>u;r=0<=u?++r:--r)a=t.charCodeAt(r),o+=this.widthOfGlyph(this.characterToGlyph(a))+i*(1e3/e)||0;return o*(e/1e3)},c.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},c}();var Go,cf=function(){function c(t){this.data=t??[],this.pos=0,this.length=this.data.length}return c.prototype.readByte=function(){return this.data[this.pos++]},c.prototype.writeByte=function(t){return this.data[this.pos++]=t},c.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},c.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},c.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},c.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},c.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},c.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},c.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},c.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},c.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},c.prototype.writeString=function(t){var e,i,a;for(a=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)a.push(this.writeByte(t.charCodeAt(e)));return a},c.prototype.readShort=function(){return this.readInt16()},c.prototype.writeShort=function(t){return this.writeInt16(t)},c.prototype.readLongLong=function(){var t,e,i,a,r,o,u,h;return t=this.readByte(),e=this.readByte(),i=this.readByte(),a=this.readByte(),r=this.readByte(),o=this.readByte(),u=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^a)+16777216*(255^r)+65536*(255^o)+256*(255^u)+(255^h)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*a+16777216*r+65536*o+256*u+h},c.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},c.prototype.readInt=function(){return this.readInt32()},c.prototype.writeInt=function(t){return this.writeInt32(t)},c.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},c.prototype.write=function(t){var e,i,a,r;for(r=[],i=0,a=t.length;i<a;i++)e=t[i],r.push(this.writeByte(e));return r},c}(),BT=function(){var c;function t(e){var i,a,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},a=0,r=this.tableCount;0<=r?a<r:a>r;a=0<=r?++a:--a)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,a,r,o,u,h,p,m,y,w,A,N,E;for(E in A=Object.keys(e).length,h=Math.log(2),y=16*Math.floor(Math.log(A)/h),o=Math.floor(y/h),m=16*A-y,(a=new cf).writeInt(this.scalarType),a.writeShort(A),a.writeShort(y),a.writeShort(o),a.writeShort(m),r=16*A,p=a.pos+r,u=null,N=[],e)for(w=e[E],a.writeString(E),a.writeInt(c(w)),a.writeInt(p),a.writeInt(w.length),N=N.concat(w),E==="head"&&(u=p),p+=w.length;p%4;)N.push(0),p++;return a.write(N),i=2981146554-c(a.data),a.pos=u+8,a.writeUInt32(i),a.data},c=function(e){var i,a,r,o;for(e=QE.call(e);e.length%4;)e.push(0);for(r=new cf(e),a=0,i=0,o=e.length;i<o;i=i+=4)a+=r.readUInt32();return 4294967295&a},t}(),jT={}.hasOwnProperty,tc=function(c,t){for(var e in t)jT.call(t,e)&&(c[e]=t[e]);function i(){this.constructor=c}return i.prototype=t.prototype,c.prototype=new i,c.__super__=t.prototype,c};Go=function(){function c(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return c.prototype.parse=function(){},c.prototype.encode=function(){},c.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},c}();var zT=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,Go),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new cf).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),c4=function(){function c(t,e){var i,a,r,o,u,h,p,m,y,w,A,N,E,M,L,R,P;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),y=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(A=t.readUInt16(),w=A/2,t.pos+=6,r=function(){var W,X;for(X=[],h=W=0;0<=w?W<w:W>w;h=0<=w?++W:--W)X.push(t.readUInt16());return X}(),t.pos+=2,E=function(){var W,X;for(X=[],h=W=0;0<=w?W<w:W>w;h=0<=w?++W:--W)X.push(t.readUInt16());return X}(),p=function(){var W,X;for(X=[],h=W=0;0<=w?W<w:W>w;h=0<=w?++W:--W)X.push(t.readUInt16());return X}(),m=function(){var W,X;for(X=[],h=W=0;0<=w?W<w:W>w;h=0<=w?++W:--W)X.push(t.readUInt16());return X}(),a=(this.length-t.pos+this.offset)/2,u=function(){var W,X;for(X=[],h=W=0;0<=a?W<a:W>a;h=0<=a?++W:--W)X.push(t.readUInt16());return X}(),h=L=0,P=r.length;L<P;h=++L)for(M=r[h],i=R=N=E[h];N<=M?R<=M:R>=M;i=N<=M?++R:--R)m[h]===0?o=i+p[h]:(o=u[m[h]/2+(i-N)-(w-h)]||0)!==0&&(o+=p[h]),this.codeMap[i]=65535&o}t.pos=y}return c.encode=function(t,e){var i,a,r,o,u,h,p,m,y,w,A,N,E,M,L,R,P,W,X,it,J,Z,ct,bt,z,K,ot,st,Et,U,tt,ht,At,V,ft,O,H,Q,rt,at,mt,St,Ct,Vt,Ht,Wt;switch(st=new cf,o=Object.keys(t).sort(function(Kt,ve){return Kt-ve}),e){case"macroman":for(E=0,M=function(){var Kt=[];for(N=0;N<256;++N)Kt.push(0);return Kt}(),R={0:0},r={},Et=0,At=o.length;Et<At;Et++)R[Ct=t[a=o[Et]]]==null&&(R[Ct]=++E),r[a]={old:t[a],new:R[t[a]]},M[a]=R[t[a]];return st.writeUInt16(1),st.writeUInt16(0),st.writeUInt32(12),st.writeUInt16(0),st.writeUInt16(262),st.writeUInt16(0),st.write(M),{charMap:r,subtable:st.data,maxGlyphID:E+1};case"unicode":for(K=[],y=[],P=0,R={},i={},L=p=null,U=0,V=o.length;U<V;U++)R[X=t[a=o[U]]]==null&&(R[X]=++P),i[a]={old:X,new:R[X]},u=R[X]-a,L!=null&&u===p||(L&&y.push(L),K.push(a),p=u),L=a;for(L&&y.push(L),y.push(65535),K.push(65535),bt=2*(ct=K.length),Z=2*Math.pow(Math.log(ct)/Math.LN2,2),w=Math.log(Z/2)/Math.LN2,J=2*ct-Z,h=[],it=[],A=[],N=tt=0,ft=K.length;tt<ft;N=++tt){if(z=K[N],m=y[N],z===65535){h.push(0),it.push(0);break}if(z-(ot=i[z].new)>=32768)for(h.push(0),it.push(2*(A.length+ct-N)),a=ht=z;z<=m?ht<=m:ht>=m;a=z<=m?++ht:--ht)A.push(i[a].new);else h.push(ot-z),it.push(0)}for(st.writeUInt16(3),st.writeUInt16(1),st.writeUInt32(12),st.writeUInt16(4),st.writeUInt16(16+8*ct+2*A.length),st.writeUInt16(0),st.writeUInt16(bt),st.writeUInt16(Z),st.writeUInt16(w),st.writeUInt16(J),mt=0,O=y.length;mt<O;mt++)a=y[mt],st.writeUInt16(a);for(st.writeUInt16(0),St=0,H=K.length;St<H;St++)a=K[St],st.writeUInt16(a);for(Vt=0,Q=h.length;Vt<Q;Vt++)u=h[Vt],st.writeUInt16(u);for(Ht=0,rt=it.length;Ht<rt;Ht++)W=it[Ht],st.writeUInt16(W);for(Wt=0,at=A.length;Wt<at;Wt++)E=A[Wt],st.writeUInt16(E);return{charMap:i,subtable:st.data,maxGlyphID:P+1}}},c}(),$E=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,Go),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,a,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i=new c4(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var a,r;return i==null&&(i="macroman"),a=c4.encode(e,i),(r=new cf).writeUInt16(0),r.writeUInt16(1),a.table=r.data.concat(a.subtable),a},t}(),qT=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,Go),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),UT=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,Go),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,a;for(a=[],i=0;i<10;++i)a.push(e.readByte());return a}(),this.charRange=function(){var i,a;for(a=[],i=0;i<4;++i)a.push(e.readInt());return a}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,a;for(a=[],i=0;i<2;i=++i)a.push(e.readInt());return a}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),HT=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,Go),t.prototype.tag="post",t.prototype.parse=function(e){var i,a,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(a=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)i=e.readByte(),r.push(this.names.push(e.readString(i)));return r;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 196608:break;case 262144:return this.map=(function(){var u,h,p;for(p=[],o=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;o=0<=h?++u:--u)p.push(e.readUInt32());return p}).call(this)}},t}(),GT=function(c,t){this.raw=c,this.length=c.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},VT=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,Go),t.prototype.tag="name",t.prototype.parse=function(e){var i,a,r,o,u,h,p,m,y,w,A;for(e.pos=this.offset,e.readShort(),i=e.readShort(),h=e.readShort(),a=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(p={},o=y=0,w=a.length;y<w;o=++y)r=a[o],e.pos=r.offset,m=e.readString(r.length),u=new GT(m,r),p[A=r.nameID]==null&&(p[A]=[]),p[r.nameID].push(u);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},t}(),YT=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,Go),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),XT=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,Go),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,a,r,o,u,h,p;for(e.pos=this.offset,this.metrics=[],i=0,h=this.file.hhea.numberOfMetrics;0<=h?i<h:i>h;i=0<=h?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var m,y;for(y=[],i=m=0;0<=r?m<r:m>r;i=0<=r?++m:--m)y.push(e.readInt16());return y}(),this.widths=(function(){var m,y,w,A;for(A=[],m=0,y=(w=this.metrics).length;m<y;m++)o=w[m],A.push(o.advance);return A}).call(this),a=this.widths[this.widths.length-1],p=[],i=u=0;0<=r?u<r:u>r;i=0<=r?++u:--u)p.push(this.widths.push(a));return p},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),QE=[].slice,WT=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,Go),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,a,r,o,u,h,p,m,y,w;return e in this.cache?this.cache[e]:(o=this.file.loca,i=this.file.contents,a=o.indexOf(e),(r=o.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+a,u=(h=new cf(i.read(r))).readShort(),m=h.readShort(),w=h.readShort(),p=h.readShort(),y=h.readShort(),this.cache[e]=u===-1?new $T(h,m,w,p,y):new KT(h,u,m,w,p,y),this.cache[e]))},t.prototype.encode=function(e,i,a){var r,o,u,h,p;for(u=[],o=[],h=0,p=i.length;h<p;h++)r=e[i[h]],o.push(u.length),r&&(u=u.concat(r.encode(a)));return o.push(u.length),{table:u,offsets:o}},t}(),KT=function(){function c(t,e,i,a,r,o){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=a,this.xMax=r,this.yMax=o,this.compound=!1}return c.prototype.encode=function(){return this.raw.data},c}(),$T=function(){function c(t,e,i,a,r){var o,u;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=a,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return c.prototype.encode=function(){var t,e,i;for(e=new cf(QE.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},c}(),QT=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,Go),t.prototype.tag="loca",t.prototype.parse=function(e){var i,a;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var r,o;for(o=[],a=0,r=this.length;a<r;a+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var r,o;for(o=[],a=0,r=this.length;a<r;a+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var a=new Uint32Array(this.offsets.length),r=0,o=0,u=0;u<a.length;++u)if(a[u]=r,o<i.length&&i[o]==u){++o,a[u]=r;var h=this.offsets[u],p=this.offsets[u+1]-h;p>0&&(r+=p)}for(var m=new Array(4*a.length),y=0;y<a.length;++y)m[4*y+3]=255&a[y],m[4*y+2]=(65280&a[y])>>8,m[4*y+1]=(16711680&a[y])>>16,m[4*y]=(4278190080&a[y])>>24;return m},t}(),ZT=function(){function c(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return c.prototype.generateCmap=function(){var t,e,i,a,r;for(e in a=this.font.cmap.tables[0].codeMap,t={},r=this.subset)i=r[e],t[e]=a[i];return t},c.prototype.glyphsFor=function(t){var e,i,a,r,o,u,h;for(a={},o=0,u=t.length;o<u;o++)a[r=t[o]]=this.font.glyf.glyphFor(r);for(r in e=[],a)(i=a[r])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(r in h=this.glyphsFor(e))i=h[r],a[r]=i;return a},c.prototype.encode=function(t,e){var i,a,r,o,u,h,p,m,y,w,A,N,E,M,L;for(a in i=$E.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),A={0:0},L=i.charMap)A[(h=L[a]).old]=h.new;for(N in w=i.maxGlyphID,o)N in A||(A[N]=w++);return m=function(R){var P,W;for(P in W={},R)W[R[P]]=P;return W}(A),y=Object.keys(m).sort(function(R,P){return R-P}),E=function(){var R,P,W;for(W=[],R=0,P=y.length;R<P;R++)u=y[R],W.push(m[u]);return W}(),r=this.font.glyf.encode(o,E,A),p=this.font.loca.encode(r.offsets,E),M={cmap:this.font.cmap.raw(),glyf:r.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},c}();Ne.API.PDFObject=function(){var c;function t(){}return c=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,a,r,o;if(Array.isArray(e))return"["+function(){var u,h,p;for(p=[],u=0,h=e.length;u<h;u++)i=e[u],p.push(t.convert(i));return p}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+c(e.getUTCFullYear(),4)+c(e.getUTCMonth(),2)+c(e.getUTCDate(),2)+c(e.getUTCHours(),2)+c(e.getUTCMinutes(),2)+c(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(a in r=["<<"],e)o=e[a],r.push("/"+a+" "+t.convert(o));return r.push(">>"),r.join(`
`)}return""+e},t}();const ZE="AIzaSyD9GRxGaIMOt9EeOiFIFONlrM5iEBILyFM";Kl.workerSrc=JC;const JT=new JN(ZE),u4=JT.getGenerativeModel({model:"gemini-2.0-flash"}),t8=()=>{const c=Dn.useRef(null),[t,e]=Dn.useState(null),[i,a]=Dn.useState(""),[r,o]=Dn.useState(""),[u,h]=Dn.useState(""),[p,m]=Dn.useState(!1),[y,w]=Dn.useState(!1),[A,N]=Dn.useState(!1),[E,M]=Dn.useState(null),[L,R]=Dn.useState(null),[P,W]=Dn.useState(null),[X,it]=Dn.useState(!1),J=U=>{if(!U)return"";let tt=U;return tt=tt.replace(/^#+\s+/gm,""),tt=tt.replace(/\*\*(.*?)\*\*/g,"$1"),tt=tt.replace(/\*(.*?)\*/g,"$1"),tt=tt.replace(/^- /gm,""),tt},Z=()=>{e(null),a(""),o(""),h(""),M(null),R(null),W(null),m(!1),w(!1),N(!1),it(!1),c.current&&(c.current.value=null)};Dn.useEffect(()=>{it(!!(r&&!y))},[r,y]);const ct=()=>{Z(),c.current&&c.current.click()},bt=U=>{const tt=U.target.files[0];tt&&(tt.type==="application/pdf"?(Z(),e(tt),a(tt.name)):(Z(),M("Please select a valid PDF file."),alert("Please select a valid PDF file.")))},z=async()=>{if(!t){alert("Please select a PDF file first.");return}m(!0),o(""),h(""),M(null),R(null),W(null),it(!1);const U=new FileReader;U.onload=async tt=>{const ht=new Uint8Array(tt.target.result);let At="";try{const V=await Lx({data:ht}).promise;for(let ft=1;ft<=V.numPages;ft++){const H=await(await V.getPage(ft)).getTextContent();At+=H.items.map(Q=>Q.str).join(" ")+`

`}At=At.trim(),m(!1),At?await K(At):M("No text could be extracted from the PDF.")}catch(V){M(`Error extracting PDF text: ${V.message}`),m(!1)}},U.onerror=()=>{M("Error reading file."),m(!1)},U.readAsArrayBuffer(t)},K=async U=>{var ht,At,V,ft,O,H;const tt=`${U}

---

Make proper detailed notes of the topic provided above.
The notes should be well-structured and easy to read.
Please start with a main title for the notes on its own line, formatted like: ## Main Topic Title
Then, cover key concepts, definitions, examples if applicable, and main takeaways.
Organize the content using Markdown-style headings (e.g., ## Section Heading, ### Subtopic), bullet points (e.g., - Point), and bold text for emphasis (e.g., **Important Concept**).`;w(!0),R(null),o(""),h(""),it(!1);try{const at=(await(await u4.generateContent(tt)).response).text();o(at),h(J(at))}catch(Q){console.error("Gemini API Error:",Q);let rt="Failed to get response from Gemini. Check console.";(ht=Q.message)!=null&&ht.includes("API key not valid")?rt="Gemini API Key is not valid. Please check your key and ensure it's for the correct Gemini API.":(At=Q.message)!=null&&At.includes("quota")?rt="Gemini API quota exceeded.":(V=Q.message)!=null&&V.includes("fetch failed")||(ft=Q.message)!=null&&ft.includes("NetworkError")?rt="Network error. Could not reach Gemini API. Check internet connection or CORS setup if running locally without a proxy.":(O=Q.message)!=null&&O.includes("model")&&((H=Q.message)!=null&&H.includes("not found"))&&(rt=`Gemini model '${u4.model}' not found or not accessible with your API key. (${Q.message})`),R(rt)}finally{w(!1)}},ot=U=>{if(typeof U!="string")return"";let tt=U;return tt=tt.replace(/^#+\s*/,""),tt=tt.replace(/^(-|\*)\s*/,""),tt=tt.replace(/\*\*(.*?)\*\*/g,"$1"),tt=tt.replace(/\*(.*?)\*/g,"$1"),tt.trim()},st=async()=>{if(!r){W("No notes available to download.");return}N(!0),W(null);try{const U=new Ne({orientation:"p",unit:"mm",format:"a4"}),tt=U.internal.pageSize.height,ht=U.internal.pageSize.width,At=15,V=ht-At*2;let ft=At;U.setFont("helvetica");let O="Generated Notes",H=!1;const Q=r.split(`
`);for(let at=0;at<Q.length;at++){const mt=Q[at];if(mt.startsWith("## ")){O=ot(mt),U.setFontSize(18),U.setFont(void 0,"bold"),U.splitTextToSize(O,V).forEach(Ct=>{ft+18/U.internal.scaleFactor*1.5>tt-At&&(U.addPage(),ft=At),U.text(Ct,ht/2,ft,{align:"center"}),ft+=18/U.internal.scaleFactor*1.5}),ft+=7,Q.splice(at,1),H=!0;break}}H||(i&&(O=i.replace(/\.pdf$/i,"")+" - Notes"),U.setFontSize(18),U.setFont(void 0,"bold"),U.splitTextToSize(O,V).forEach(mt=>{ft+18/U.internal.scaleFactor*1.5>tt-At&&(U.addPage(),ft=At),U.text(mt,ht/2,ft,{align:"center"}),ft+=18/U.internal.scaleFactor*1.5}),ft+=7);for(const at of Q){let mt="",St="normal",Ct=11,Vt=0,Ht=1.4,Wt=!1;if(at.startsWith("## ")?(mt=ot(at),St="bold",Ct=14,Ht=1.6,Wt=!0):at.startsWith("### ")?(mt=ot(at),St="bold",Ct=12,Ht=1.5,Wt=!0):at.startsWith("#### ")?(mt=ot(at),St="italic",Ct=11,Ht=1.5,Wt=!0):at.trim().startsWith("- ")||at.trim().startsWith("* ")?(mt=ot(at),Vt=5):mt=ot(at),mt.trim()===""&&!Wt){ft+5<tt-At&&(ft+=5),ft>=tt-At&&at!==Q[Q.length-1]&&(U.addPage(),ft=At);continue}U.setFontSize(Ct),U.setFont(void 0,St);const Kt=Ct/U.internal.scaleFactor*Ht,ve=U.splitTextToSize(mt,V-Vt);for(const Pt of ve)ft+Kt>tt-At&&(U.addPage(),ft=At),U.text(Pt,At+Vt,ft),ft+=Kt;Wt&&(ft+=Kt*.2,ft>=tt-At&&at!==Q[Q.length-1]&&(U.addPage(),ft=At))}const rt=i?`${i.replace(/\.pdf$/i,"")}-notes.pdf`:"generated-notes.pdf";U.save(rt)}catch(U){console.error("Error generating PDF:",U),W(`Failed to generate PDF: ${U.message}`)}finally{N(!1)}},Et=p||y||A;return ye.jsxs("div",{className:"bg-[#313187] m-10 rounded-2xl shadow-lg p-8 flex flex-col items-center w-full max-w-3xl min-h-[80vh]",children:[ye.jsx("h1",{className:"text-4xl font-bold mb-2 text-white",children:"Get Your Notes"}),ye.jsx("p",{className:"text-lg text-gray-300 mb-6 text-center max-w-xl",children:"Upload your syllabus PDF to generate smart notes using AI."}),ye.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[ye.jsx("button",{className:"bg-red-600 hover:bg-red-700 cursor-pointer text-white font-semibold px-6 py-3 rounded-lg text-lg disabled:opacity-50",onClick:ct,disabled:Et,children:i?"Change Syllabus PDF":"Select Syllabus PDF"}),ye.jsx("input",{type:"file",accept:"application/pdf",ref:c,style:{display:"none"},onChange:bt,disabled:Et}),t&&!r&&!p&&!y&&ye.jsx("button",{className:"bg-green-600 hover:bg-green-700 cursor-pointer text-white font-semibold px-6 py-3 rounded-lg text-lg disabled:opacity-50",onClick:z,disabled:Et||!t,children:"Process & Generate Notes"})]}),ye.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[ye.jsx("p",{className:"text-sm text-gray-400",children:"Cloud storage (not implemented):"}),ye.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 cursor-pointer p-3 rounded-full text-white",title:"Upload from Google Drive (Not Implemented)",disabled:!0,children:ye.jsx(lL,{})}),ye.jsx("button",{className:"bg-blue-400 hover:bg-blue-500 cursor-pointer p-3 rounded-full text-white",title:"Upload from Dropbox (Not Implemented)",disabled:!0,children:ye.jsx(oL,{})})]}),i&&ye.jsxs("p",{className:"text-sm text-gray-300 mt-3",children:["Selected File: ",ye.jsx("span",{className:"font-semibold",children:i})]}),p&&ye.jsx("p",{className:"text-yellow-300 mt-3 animate-pulse",children:"Extracting text from PDF, please wait..."}),E&&ye.jsxs("p",{className:"text-red-400 mt-3",children:["PDF Error: ",E]}),y&&ye.jsx("p",{className:"text-yellow-300 mt-3 animate-pulse",children:"Generating notes with AI, this may take a moment..."}),L&&ye.jsxs("p",{className:"text-red-400 mt-3 text-center max-w-md",children:["Gemini Error: ",L]}),ZE==="YOUR_GEMINI_API_KEY_PLACEHOLDER",u&&ye.jsxs("div",{className:"mt-6 w-full bg-gray-800 p-6 rounded-lg max-h-[45vh] overflow-y-auto shadow-inner",children:[ye.jsx("h3",{className:"text-2xl font-semibold mb-3 text-white bg-gray-800 py-2 z-10",children:"Generated Notes Preview:"}),ye.jsx("pre",{className:"text-gray-200 whitespace-pre-wrap text-sm leading-relaxed font-sans",children:u})]}),X&&ye.jsxs("div",{className:"mt-6",children:[ye.jsx("button",{className:"bg-green-600 hover:bg-purple-700 text-white font-semibold px-8 py-4 rounded-lg text-xl shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105 cursor-pointer disabled:opacity-50 disabled:bg-purple-400",onClick:st,disabled:A||!r,children:A?"Generating PDF...":"Download Notes as PDF"}),P&&ye.jsx("p",{className:"text-red-400 mt-2 text-center",children:P})]}),!Et&&!i&&ye.jsx("p",{className:"text-sm text-gray-400 mt-8",children:"or drop PDF here (drag & drop not implemented)"}),ye.jsx("p",{className:"text-xs text-gray-500 mt-auto pt-4",children:"Notes are generated by AI. Please review for accuracy. PDF styling applied for common Markdown."})]})},e8=()=>ye.jsxs(ye.Fragment,{children:[ye.jsx(_N,{}),ye.jsx("div",{className:"flex justify-center items-center min-h-[80vh]",children:ye.jsx(t8,{})})]});dN.createRoot(document.getElementById("root")).render(ye.jsx(Dn.StrictMode,{children:ye.jsx(e8,{})}));export{n8 as c,nN as g};
